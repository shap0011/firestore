(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Mg(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var vh={exports:{}},pa={},Eh={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var am;function jv(){if(am)return Ue;am=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function I(O){return O===null||typeof O!="object"?null:(O=S&&O[S]||O["@@iterator"],typeof O=="function"?O:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,H={};function z(O,Y,Ee){this.props=O,this.context=Y,this.refs=H,this.updater=Ee||C}z.prototype.isReactComponent={},z.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},z.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function q(){}q.prototype=z.prototype;function ee(O,Y,Ee){this.props=O,this.context=Y,this.refs=H,this.updater=Ee||C}var ie=ee.prototype=new q;ie.constructor=ee,M(ie,z.prototype),ie.isPureReactComponent=!0;var pe=Array.isArray,U=Object.prototype.hasOwnProperty,ce={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(O,Y,Ee){var Me,Ne={},ze=null,Je=null;if(Y!=null)for(Me in Y.ref!==void 0&&(Je=Y.ref),Y.key!==void 0&&(ze=""+Y.key),Y)U.call(Y,Me)&&!k.hasOwnProperty(Me)&&(Ne[Me]=Y[Me]);var Ze=arguments.length-2;if(Ze===1)Ne.children=Ee;else if(1<Ze){for(var Fe=Array(Ze),ft=0;ft<Ze;ft++)Fe[ft]=arguments[ft+2];Ne.children=Fe}if(O&&O.defaultProps)for(Me in Ze=O.defaultProps,Ze)Ne[Me]===void 0&&(Ne[Me]=Ze[Me]);return{$$typeof:r,type:O,key:ze,ref:Je,props:Ne,_owner:ce.current}}function R(O,Y){return{$$typeof:r,type:O.type,key:Y,ref:O.ref,props:O.props,_owner:O._owner}}function x(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function N(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(Ee){return Y[Ee]})}var b=/\/+/g;function P(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?N(""+O.key):Y.toString(36)}function ct(O,Y,Ee,Me,Ne){var ze=typeof O;(ze==="undefined"||ze==="boolean")&&(O=null);var Je=!1;if(O===null)Je=!0;else switch(ze){case"string":case"number":Je=!0;break;case"object":switch(O.$$typeof){case r:case e:Je=!0}}if(Je)return Je=O,Ne=Ne(Je),O=Me===""?"."+P(Je,0):Me,pe(Ne)?(Ee="",O!=null&&(Ee=O.replace(b,"$&/")+"/"),ct(Ne,Y,Ee,"",function(ft){return ft})):Ne!=null&&(x(Ne)&&(Ne=R(Ne,Ee+(!Ne.key||Je&&Je.key===Ne.key?"":(""+Ne.key).replace(b,"$&/")+"/")+O)),Y.push(Ne)),1;if(Je=0,Me=Me===""?".":Me+":",pe(O))for(var Ze=0;Ze<O.length;Ze++){ze=O[Ze];var Fe=Me+P(ze,Ze);Je+=ct(ze,Y,Ee,Fe,Ne)}else if(Fe=I(O),typeof Fe=="function")for(O=Fe.call(O),Ze=0;!(ze=O.next()).done;)ze=ze.value,Fe=Me+P(ze,Ze++),Je+=ct(ze,Y,Ee,Fe,Ne);else if(ze==="object")throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Je}function We(O,Y,Ee){if(O==null)return O;var Me=[],Ne=0;return ct(O,Me,"","",function(ze){return Y.call(Ee,ze,Ne++)}),Me}function At(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(Ee){(O._status===0||O._status===-1)&&(O._status=1,O._result=Ee)},function(Ee){(O._status===0||O._status===-1)&&(O._status=2,O._result=Ee)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Qe={current:null},oe={transition:null},Te={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:oe,ReactCurrentOwner:ce};function ue(){throw Error("act(...) is not supported in production builds of React.")}return Ue.Children={map:We,forEach:function(O,Y,Ee){We(O,function(){Y.apply(this,arguments)},Ee)},count:function(O){var Y=0;return We(O,function(){Y++}),Y},toArray:function(O){return We(O,function(Y){return Y})||[]},only:function(O){if(!x(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ue.Component=z,Ue.Fragment=n,Ue.Profiler=o,Ue.PureComponent=ee,Ue.StrictMode=s,Ue.Suspense=g,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Te,Ue.act=ue,Ue.cloneElement=function(O,Y,Ee){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Me=M({},O.props),Ne=O.key,ze=O.ref,Je=O._owner;if(Y!=null){if(Y.ref!==void 0&&(ze=Y.ref,Je=ce.current),Y.key!==void 0&&(Ne=""+Y.key),O.type&&O.type.defaultProps)var Ze=O.type.defaultProps;for(Fe in Y)U.call(Y,Fe)&&!k.hasOwnProperty(Fe)&&(Me[Fe]=Y[Fe]===void 0&&Ze!==void 0?Ze[Fe]:Y[Fe])}var Fe=arguments.length-2;if(Fe===1)Me.children=Ee;else if(1<Fe){Ze=Array(Fe);for(var ft=0;ft<Fe;ft++)Ze[ft]=arguments[ft+2];Me.children=Ze}return{$$typeof:r,type:O.type,key:Ne,ref:ze,props:Me,_owner:Je}},Ue.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:u,_context:O},O.Consumer=O},Ue.createElement=T,Ue.createFactory=function(O){var Y=T.bind(null,O);return Y.type=O,Y},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(O){return{$$typeof:d,render:O}},Ue.isValidElement=x,Ue.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:At}},Ue.memo=function(O,Y){return{$$typeof:_,type:O,compare:Y===void 0?null:Y}},Ue.startTransition=function(O){var Y=oe.transition;oe.transition={};try{O()}finally{oe.transition=Y}},Ue.unstable_act=ue,Ue.useCallback=function(O,Y){return Qe.current.useCallback(O,Y)},Ue.useContext=function(O){return Qe.current.useContext(O)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(O){return Qe.current.useDeferredValue(O)},Ue.useEffect=function(O,Y){return Qe.current.useEffect(O,Y)},Ue.useId=function(){return Qe.current.useId()},Ue.useImperativeHandle=function(O,Y,Ee){return Qe.current.useImperativeHandle(O,Y,Ee)},Ue.useInsertionEffect=function(O,Y){return Qe.current.useInsertionEffect(O,Y)},Ue.useLayoutEffect=function(O,Y){return Qe.current.useLayoutEffect(O,Y)},Ue.useMemo=function(O,Y){return Qe.current.useMemo(O,Y)},Ue.useReducer=function(O,Y,Ee){return Qe.current.useReducer(O,Y,Ee)},Ue.useRef=function(O){return Qe.current.useRef(O)},Ue.useState=function(O){return Qe.current.useState(O)},Ue.useSyncExternalStore=function(O,Y,Ee){return Qe.current.useSyncExternalStore(O,Y,Ee)},Ue.useTransition=function(){return Qe.current.useTransition()},Ue.version="18.3.1",Ue}var lm;function af(){return lm||(lm=1,Eh.exports=jv()),Eh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um;function Bv(){if(um)return pa;um=1;var r=af(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(d,g,_){var E,S={},I=null,C=null;_!==void 0&&(I=""+_),g.key!==void 0&&(I=""+g.key),g.ref!==void 0&&(C=g.ref);for(E in g)s.call(g,E)&&!u.hasOwnProperty(E)&&(S[E]=g[E]);if(d&&d.defaultProps)for(E in g=d.defaultProps,g)S[E]===void 0&&(S[E]=g[E]);return{$$typeof:e,type:d,key:I,ref:C,props:S,_owner:o.current}}return pa.Fragment=n,pa.jsx=h,pa.jsxs=h,pa}var cm;function $v(){return cm||(cm=1,vh.exports=Bv()),vh.exports}var ke=$v(),Q=af();const Hv=Mg(Q);var Zl={},wh={exports:{}},Cn={},Th={exports:{}},Sh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm;function qv(){return hm||(hm=1,function(r){function e(oe,Te){var ue=oe.length;oe.push(Te);e:for(;0<ue;){var O=ue-1>>>1,Y=oe[O];if(0<o(Y,Te))oe[O]=Te,oe[ue]=Y,ue=O;else break e}}function n(oe){return oe.length===0?null:oe[0]}function s(oe){if(oe.length===0)return null;var Te=oe[0],ue=oe.pop();if(ue!==Te){oe[0]=ue;e:for(var O=0,Y=oe.length,Ee=Y>>>1;O<Ee;){var Me=2*(O+1)-1,Ne=oe[Me],ze=Me+1,Je=oe[ze];if(0>o(Ne,ue))ze<Y&&0>o(Je,Ne)?(oe[O]=Je,oe[ze]=ue,O=ze):(oe[O]=Ne,oe[Me]=ue,O=Me);else if(ze<Y&&0>o(Je,ue))oe[O]=Je,oe[ze]=ue,O=ze;else break e}}return Te}function o(oe,Te){var ue=oe.sortIndex-Te.sortIndex;return ue!==0?ue:oe.id-Te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();r.unstable_now=function(){return h.now()-d}}var g=[],_=[],E=1,S=null,I=3,C=!1,M=!1,H=!1,z=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ie(oe){for(var Te=n(_);Te!==null;){if(Te.callback===null)s(_);else if(Te.startTime<=oe)s(_),Te.sortIndex=Te.expirationTime,e(g,Te);else break;Te=n(_)}}function pe(oe){if(H=!1,ie(oe),!M)if(n(g)!==null)M=!0,At(U);else{var Te=n(_);Te!==null&&Qe(pe,Te.startTime-oe)}}function U(oe,Te){M=!1,H&&(H=!1,q(T),T=-1),C=!0;var ue=I;try{for(ie(Te),S=n(g);S!==null&&(!(S.expirationTime>Te)||oe&&!N());){var O=S.callback;if(typeof O=="function"){S.callback=null,I=S.priorityLevel;var Y=O(S.expirationTime<=Te);Te=r.unstable_now(),typeof Y=="function"?S.callback=Y:S===n(g)&&s(g),ie(Te)}else s(g);S=n(g)}if(S!==null)var Ee=!0;else{var Me=n(_);Me!==null&&Qe(pe,Me.startTime-Te),Ee=!1}return Ee}finally{S=null,I=ue,C=!1}}var ce=!1,k=null,T=-1,R=5,x=-1;function N(){return!(r.unstable_now()-x<R)}function b(){if(k!==null){var oe=r.unstable_now();x=oe;var Te=!0;try{Te=k(!0,oe)}finally{Te?P():(ce=!1,k=null)}}else ce=!1}var P;if(typeof ee=="function")P=function(){ee(b)};else if(typeof MessageChannel<"u"){var ct=new MessageChannel,We=ct.port2;ct.port1.onmessage=b,P=function(){We.postMessage(null)}}else P=function(){z(b,0)};function At(oe){k=oe,ce||(ce=!0,P())}function Qe(oe,Te){T=z(function(){oe(r.unstable_now())},Te)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(oe){oe.callback=null},r.unstable_continueExecution=function(){M||C||(M=!0,At(U))},r.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<oe?Math.floor(1e3/oe):5},r.unstable_getCurrentPriorityLevel=function(){return I},r.unstable_getFirstCallbackNode=function(){return n(g)},r.unstable_next=function(oe){switch(I){case 1:case 2:case 3:var Te=3;break;default:Te=I}var ue=I;I=Te;try{return oe()}finally{I=ue}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(oe,Te){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var ue=I;I=oe;try{return Te()}finally{I=ue}},r.unstable_scheduleCallback=function(oe,Te,ue){var O=r.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?O+ue:O):ue=O,oe){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ue+Y,oe={id:E++,callback:Te,priorityLevel:oe,startTime:ue,expirationTime:Y,sortIndex:-1},ue>O?(oe.sortIndex=ue,e(_,oe),n(g)===null&&oe===n(_)&&(H?(q(T),T=-1):H=!0,Qe(pe,ue-O))):(oe.sortIndex=Y,e(g,oe),M||C||(M=!0,At(U))),oe},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(oe){var Te=I;return function(){var ue=I;I=Te;try{return oe.apply(this,arguments)}finally{I=ue}}}}(Sh)),Sh}var fm;function Wv(){return fm||(fm=1,Th.exports=qv()),Th.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dm;function Qv(){if(dm)return Cn;dm=1;var r=af(),e=Wv();function n(t){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+t,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function u(t,i){h(t,i),h(t+"Capture",i)}function h(t,i){for(o[t]=i,t=0;t<i.length;t++)s.add(i[t])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},S={};function I(t){return g.call(S,t)?!0:g.call(E,t)?!1:_.test(t)?S[t]=!0:(E[t]=!0,!1)}function C(t,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function M(t,i,a,c){if(i===null||typeof i>"u"||C(t,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function H(t,i,a,c,f,m,v){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=t,this.type=i,this.sanitizeURL=m,this.removeEmptyString=v}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){z[t]=new H(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var i=t[0];z[i]=new H(i,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){z[t]=new H(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){z[t]=new H(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){z[t]=new H(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){z[t]=new H(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){z[t]=new H(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){z[t]=new H(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){z[t]=new H(t,5,!1,t.toLowerCase(),null,!1,!1)});var q=/[\-:]([a-z])/g;function ee(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var i=t.replace(q,ee);z[i]=new H(i,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var i=t.replace(q,ee);z[i]=new H(i,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var i=t.replace(q,ee);z[i]=new H(i,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){z[t]=new H(t,1,!1,t.toLowerCase(),null,!1,!1)}),z.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){z[t]=new H(t,1,!1,t.toLowerCase(),null,!0,!0)});function ie(t,i,a,c){var f=z.hasOwnProperty(i)?z[i]:null;(f!==null?f.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(M(i,a,f,c)&&(a=null),c||f===null?I(i)&&(a===null?t.removeAttribute(i):t.setAttribute(i,""+a)):f.mustUseProperty?t[f.propertyName]=a===null?f.type===3?!1:"":a:(i=f.attributeName,c=f.attributeNamespace,a===null?t.removeAttribute(i):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,c?t.setAttributeNS(c,i,a):t.setAttribute(i,a))))}var pe=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),ce=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),N=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),ct=Symbol.for("react.suspense_list"),We=Symbol.for("react.memo"),At=Symbol.for("react.lazy"),Qe=Symbol.for("react.offscreen"),oe=Symbol.iterator;function Te(t){return t===null||typeof t!="object"?null:(t=oe&&t[oe]||t["@@iterator"],typeof t=="function"?t:null)}var ue=Object.assign,O;function Y(t){if(O===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);O=i&&i[1]||""}return`
`+O+t}var Ee=!1;function Me(t,i){if(!t||Ee)return"";Ee=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(W){var c=W}Reflect.construct(t,[],i)}else{try{i.call()}catch(W){c=W}t.call(i.prototype)}else{try{throw Error()}catch(W){c=W}t()}}catch(W){if(W&&c&&typeof W.stack=="string"){for(var f=W.stack.split(`
`),m=c.stack.split(`
`),v=f.length-1,A=m.length-1;1<=v&&0<=A&&f[v]!==m[A];)A--;for(;1<=v&&0<=A;v--,A--)if(f[v]!==m[A]){if(v!==1||A!==1)do if(v--,A--,0>A||f[v]!==m[A]){var D=`
`+f[v].replace(" at new "," at ");return t.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",t.displayName)),D}while(1<=v&&0<=A);break}}}finally{Ee=!1,Error.prepareStackTrace=a}return(t=t?t.displayName||t.name:"")?Y(t):""}function Ne(t){switch(t.tag){case 5:return Y(t.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return t=Me(t.type,!1),t;case 11:return t=Me(t.type.render,!1),t;case 1:return t=Me(t.type,!0),t;default:return""}}function ze(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case ce:return"Portal";case R:return"Profiler";case T:return"StrictMode";case P:return"Suspense";case ct:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case N:return(t.displayName||"Context")+".Consumer";case x:return(t._context.displayName||"Context")+".Provider";case b:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case We:return i=t.displayName||null,i!==null?i:ze(t.type)||"Memo";case At:i=t._payload,t=t._init;try{return ze(t(i))}catch{}}return null}function Je(t){var i=t.type;switch(t.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=i.render,t=t.displayName||t.name||"",i.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ze(i);case 8:return i===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ze(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fe(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ft(t){var i=Fe(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),c=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(v){c=""+v,m.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Un(t){t._valueTracker||(t._valueTracker=ft(t))}function ci(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return t&&(c=Fe(t)?t.checked?"true":"false":t.value),t=c,t!==a?(i.setValue(t),!0):!1}function tn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ur(t,i){var a=i.checked;return ue({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??t._wrapperState.initialChecked})}function hi(t,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=Ze(i.value!=null?i.value:a),t._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function fi(t,i){i=i.checked,i!=null&&ie(t,"checked",i,!1)}function Ji(t,i){fi(t,i);var a=Ze(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+a):t.value!==""+a&&(t.value=""+a);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}i.hasOwnProperty("value")?di(t,i.type,a):i.hasOwnProperty("defaultValue")&&di(t,i.type,Ze(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(t.defaultChecked=!!i.defaultChecked)}function Ns(t,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+t._wrapperState.initialValue,a||i===t.value||(t.value=i),t.defaultValue=i}a=t.name,a!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,a!==""&&(t.name=a)}function di(t,i,a){(i!=="number"||tn(t.ownerDocument)!==t)&&(a==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+a&&(t.defaultValue=""+a))}var Yn=Array.isArray;function Ht(t,i,a,c){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&c&&(t[a].defaultSelected=!0)}else{for(a=""+Ze(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,c&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Xn(t,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return ue({},i,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function zr(t,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(n(92));if(Yn(a)){if(1<a.length)throw Error(n(93));a=a[0]}i=a}i==null&&(i=""),a=i}t._wrapperState={initialValue:Ze(a)}}function vr(t,i){var a=Ze(i.value),c=Ze(i.defaultValue);a!=null&&(a=""+a,a!==t.value&&(t.value=a),i.defaultValue==null&&t.defaultValue!==a&&(t.defaultValue=a)),c!=null&&(t.defaultValue=""+c)}function yn(t){var i=t.textContent;i===t._wrapperState.initialValue&&i!==""&&i!==null&&(t.value=i)}function at(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function St(t,i){return t==null||t==="http://www.w3.org/1999/xhtml"?at(i):t==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var kn,Zi=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,f){MSApp.execUnsafeLocalFunction(function(){return t(i,a,c,f)})}:t}(function(t,i){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=i;else{for(kn=kn||document.createElement("div"),kn.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=kn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;i.firstChild;)t.appendChild(i.firstChild)}});function qt(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Er={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wr=["Webkit","ms","Moz","O"];Object.keys(Er).forEach(function(t){wr.forEach(function(i){i=i+t.charAt(0).toUpperCase()+t.substring(1),Er[i]=Er[t]})});function pi(t,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||Er.hasOwnProperty(t)&&Er[t]?(""+i).trim():i+"px"}function es(t,i){t=t.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,f=pi(a,i[a],c);a==="float"&&(a="cssFloat"),c?t.setProperty(a,f):t[a]=f}}var mi=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tr(t,i){if(i){if(mi[t]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function gi(t,i){if(t.indexOf("-")===-1)return typeof i.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jn=null;function yi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jr=null,_n=null,xn=null;function Zn(t){if(t=Zo(t)){if(typeof jr!="function")throw Error(n(280));var i=t.stateNode;i&&(i=pl(i),jr(t.stateNode,t.type,i))}}function fn(t){_n?xn?xn.push(t):xn=[t]:_n=t}function ts(){if(_n){var t=_n,i=xn;if(xn=_n=null,Zn(t),i)for(t=0;t<i.length;t++)Zn(i[t])}}function Br(t,i){return t(i)}function V(){}var F=!1;function K(t,i,a){if(F)return t(i,a);F=!0;try{return Br(t,i,a)}finally{F=!1,(_n!==null||xn!==null)&&(V(),ts())}}function X(t,i){var a=t.stateNode;if(a===null)return null;var c=pl(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(n(231,i,typeof a));return a}var he=!1;if(d)try{var ye={};Object.defineProperty(ye,"passive",{get:function(){he=!0}}),window.addEventListener("test",ye,ye),window.removeEventListener("test",ye,ye)}catch{he=!1}function Ae(t,i,a,c,f,m,v,A,D){var W=Array.prototype.slice.call(arguments,3);try{i.apply(a,W)}catch(ne){this.onError(ne)}}var fe=!1,ve=null,ae=!1,xe=null,be={onError:function(t){fe=!0,ve=t}};function rt(t,i,a,c,f,m,v,A,D){fe=!1,ve=null,Ae.apply(be,arguments)}function It(t,i,a,c,f,m,v,A,D){if(rt.apply(this,arguments),fe){if(fe){var W=ve;fe=!1,ve=null}else throw Error(n(198));ae||(ae=!0,xe=W)}}function Be(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,i.flags&4098&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function et(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function it(t){if(Be(t)!==t)throw Error(n(188))}function er(t){var i=t.alternate;if(!i){if(i=Be(t),i===null)throw Error(n(188));return i!==t?null:t}for(var a=t,c=i;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return it(f),t;if(m===c)return it(f),i;m=m.sibling}throw Error(n(188))}if(a.return!==c.return)a=f,c=m;else{for(var v=!1,A=f.child;A;){if(A===a){v=!0,a=f,c=m;break}if(A===c){v=!0,c=f,a=m;break}A=A.sibling}if(!v){for(A=m.child;A;){if(A===a){v=!0,a=m,c=f;break}if(A===c){v=!0,c=m,a=f;break}A=A.sibling}if(!v)throw Error(n(189))}}if(a.alternate!==c)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?t:i}function tr(t){return t=er(t),t!==null?nn(t):null}function nn(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var i=nn(t);if(i!==null)return i;t=t.sibling}return null}var Wt=e.unstable_scheduleCallback,$r=e.unstable_cancelCallback,Sr=e.unstable_shouldYield,nr=e.unstable_requestPaint,st=e.unstable_now,Hr=e.unstable_getCurrentPriorityLevel,Ke=e.unstable_ImmediatePriority,dt=e.unstable_UserBlockingPriority,Qt=e.unstable_NormalPriority,rr=e.unstable_LowPriority,pt=e.unstable_IdlePriority,vn=null,rn=null;function Ls(t){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(vn,t,void 0,(t.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:Wa,Fo=Math.log,qa=Math.LN2;function Wa(t){return t>>>=0,t===0?32:31-(Fo(t)/qa|0)|0}var Ms=64,Os=4194304;function _i(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ns(t,i){var a=t.pendingLanes;if(a===0)return 0;var c=0,f=t.suspendedLanes,m=t.pingedLanes,v=a&268435455;if(v!==0){var A=v&~f;A!==0?c=_i(A):(m&=v,m!==0&&(c=_i(m)))}else v=a&~f,v!==0?c=_i(v):m!==0&&(c=_i(m));if(c===0)return 0;if(i!==0&&i!==c&&!(i&f)&&(f=c&-c,m=i&-i,f>=m||f===16&&(m&4194240)!==0))return i;if(c&4&&(c|=a&16),i=t.entangledLanes,i!==0)for(t=t.entanglements,i&=c;0<i;)a=31-dn(i),f=1<<a,c|=t[a],i&=~f;return c}function Gu(t,i){switch(t){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qr(t,i){for(var a=t.suspendedLanes,c=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes;0<m;){var v=31-dn(m),A=1<<v,D=f[v];D===-1?(!(A&a)||A&c)&&(f[v]=Gu(A,i)):D<=i&&(t.expiredLanes|=A),m&=~A}}function Dn(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function rs(){var t=Ms;return Ms<<=1,!(Ms&4194240)&&(Ms=64),t}function vi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ei(t,i,a){t.pendingLanes|=i,i!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,i=31-dn(i),t[i]=a}function ut(t,i){var a=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<a;){var f=31-dn(a),m=1<<f;i[f]=0,c[f]=-1,t[f]=-1,a&=~m}}function wi(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var c=31-dn(a),f=1<<c;f&i|t[c]&i&&(t[c]|=i),a&=~f}}var $e=0;function Ti(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Qa,Fs,Ka,Ga,Ya,bo=!1,Ir=[],Kt=null,ir=null,sr=null,Si=new Map,zn=new Map,Rr=[],Yu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xa(t,i){switch(t){case"focusin":case"focusout":Kt=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":Si.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":zn.delete(i.pointerId)}}function En(t,i,a,c,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},i!==null&&(i=Zo(i),i!==null&&Fs(i)),t):(t.eventSystemFlags|=c,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function Xu(t,i,a,c,f){switch(i){case"focusin":return Kt=En(Kt,t,i,a,c,f),!0;case"dragenter":return ir=En(ir,t,i,a,c,f),!0;case"mouseover":return sr=En(sr,t,i,a,c,f),!0;case"pointerover":var m=f.pointerId;return Si.set(m,En(Si.get(m)||null,t,i,a,c,f)),!0;case"gotpointercapture":return m=f.pointerId,zn.set(m,En(zn.get(m)||null,t,i,a,c,f)),!0}return!1}function Ja(t){var i=ls(t.target);if(i!==null){var a=Be(i);if(a!==null){if(i=a.tag,i===13){if(i=et(a),i!==null){t.blockedOn=i,Ya(t.priority,function(){Ka(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wr(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=bs(t.domEventName,t.eventSystemFlags,i[0],t.nativeEvent);if(a===null){a=t.nativeEvent;var c=new a.constructor(a.type,a);Jn=c,a.target.dispatchEvent(c),Jn=null}else return i=Zo(a),i!==null&&Fs(i),t.blockedOn=a,!1;i.shift()}return!0}function is(t,i,a){Wr(t)&&a.delete(i)}function Za(){bo=!1,Kt!==null&&Wr(Kt)&&(Kt=null),ir!==null&&Wr(ir)&&(ir=null),sr!==null&&Wr(sr)&&(sr=null),Si.forEach(is),zn.forEach(is)}function or(t,i){t.blockedOn===i&&(t.blockedOn=null,bo||(bo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Za)))}function ar(t){function i(f){return or(f,t)}if(0<Ir.length){or(Ir[0],t);for(var a=1;a<Ir.length;a++){var c=Ir[a];c.blockedOn===t&&(c.blockedOn=null)}}for(Kt!==null&&or(Kt,t),ir!==null&&or(ir,t),sr!==null&&or(sr,t),Si.forEach(i),zn.forEach(i),a=0;a<Rr.length;a++)c=Rr[a],c.blockedOn===t&&(c.blockedOn=null);for(;0<Rr.length&&(a=Rr[0],a.blockedOn===null);)Ja(a),a.blockedOn===null&&Rr.shift()}var Qr=pe.ReactCurrentBatchConfig,Ii=!0;function _t(t,i,a,c){var f=$e,m=Qr.transition;Qr.transition=null;try{$e=1,Uo(t,i,a,c)}finally{$e=f,Qr.transition=m}}function Ju(t,i,a,c){var f=$e,m=Qr.transition;Qr.transition=null;try{$e=4,Uo(t,i,a,c)}finally{$e=f,Qr.transition=m}}function Uo(t,i,a,c){if(Ii){var f=bs(t,i,a,c);if(f===null)uc(t,i,c,ss,a),Xa(t,c);else if(Xu(f,t,i,a,c))c.stopPropagation();else if(Xa(t,c),i&4&&-1<Yu.indexOf(t)){for(;f!==null;){var m=Zo(f);if(m!==null&&Qa(m),m=bs(t,i,a,c),m===null&&uc(t,i,c,ss,a),m===f)break;f=m}f!==null&&c.stopPropagation()}else uc(t,i,c,null,a)}}var ss=null;function bs(t,i,a,c){if(ss=null,t=yi(c),t=ls(t),t!==null)if(i=Be(t),i===null)t=null;else if(a=i.tag,a===13){if(t=et(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null);return ss=t,null}function zo(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hr()){case Ke:return 1;case dt:return 4;case Qt:case rr:return 16;case pt:return 536870912;default:return 16}default:return 16}}var Vn=null,Us=null,wn=null;function jo(){if(wn)return wn;var t,i=Us,a=i.length,c,f="value"in Vn?Vn.value:Vn.textContent,m=f.length;for(t=0;t<a&&i[t]===f[t];t++);var v=a-t;for(c=1;c<=v&&i[a-c]===f[m-c];c++);return wn=f.slice(t,1<c?1-c:void 0)}function zs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ar(){return!0}function Bo(){return!1}function Gt(t){function i(a,c,f,m,v){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ar:Bo,this.isPropagationStopped=Bo,this}return ue(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ar)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ar)},persist:function(){},isPersistent:Ar}),i}var lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},js=Gt(lr),Cr=ue({},lr,{view:0,detail:0}),Zu=Gt(Cr),Bs,Kr,Ri,os=ue({},Cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ri&&(Ri&&t.type==="mousemove"?(Bs=t.screenX-Ri.screenX,Kr=t.screenY-Ri.screenY):Kr=Bs=0,Ri=t),Bs)},movementY:function(t){return"movementY"in t?t.movementY:Kr}}),$s=Gt(os),$o=ue({},os,{dataTransfer:0}),el=Gt($o),Hs=ue({},Cr,{relatedTarget:0}),qs=Gt(Hs),tl=ue({},lr,{animationName:0,elapsedTime:0,pseudoElement:0}),Gr=Gt(tl),nl=ue({},lr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),rl=Gt(nl),il=ue({},lr,{data:0}),Ho=Gt(il),Ws={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ol(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=sl[t])?!!i[t]:!1}function Pr(){return ol}var l=ue({},Cr,{key:function(t){if(t.key){var i=Ws[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=zs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pr,charCode:function(t){return t.type==="keypress"?zs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),p=Gt(l),y=ue({},os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w=Gt(y),j=ue({},Cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pr}),G=Gt(j),le=ue({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),lt=Gt(le),Nt=ue({},os,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ge=Gt(Nt),bt=[9,13,27,32],kt=d&&"CompositionEvent"in window,jn=null;d&&"documentMode"in document&&(jn=document.documentMode);var Nn=d&&"TextEvent"in window&&!jn,as=d&&(!kt||jn&&8<jn&&11>=jn),Qs=" ",td=!1;function nd(t,i){switch(t){case"keyup":return bt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ks=!1;function U_(t,i){switch(t){case"compositionend":return rd(i);case"keypress":return i.which!==32?null:(td=!0,Qs);case"textInput":return t=i.data,t===Qs&&td?null:t;default:return null}}function z_(t,i){if(Ks)return t==="compositionend"||!kt&&nd(t,i)?(t=jo(),wn=Us=Vn=null,Ks=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return as&&i.locale!=="ko"?null:i.data;default:return null}}var j_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function id(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!j_[t.type]:i==="textarea"}function sd(t,i,a,c){fn(c),i=hl(i,"onChange"),0<i.length&&(a=new js("onChange","change",null,a,c),t.push({event:a,listeners:i}))}var qo=null,Wo=null;function B_(t){Sd(t,0)}function al(t){var i=Zs(t);if(ci(i))return t}function $_(t,i){if(t==="change")return i}var od=!1;if(d){var ec;if(d){var tc="oninput"in document;if(!tc){var ad=document.createElement("div");ad.setAttribute("oninput","return;"),tc=typeof ad.oninput=="function"}ec=tc}else ec=!1;od=ec&&(!document.documentMode||9<document.documentMode)}function ld(){qo&&(qo.detachEvent("onpropertychange",ud),Wo=qo=null)}function ud(t){if(t.propertyName==="value"&&al(Wo)){var i=[];sd(i,Wo,t,yi(t)),K(B_,i)}}function H_(t,i,a){t==="focusin"?(ld(),qo=i,Wo=a,qo.attachEvent("onpropertychange",ud)):t==="focusout"&&ld()}function q_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return al(Wo)}function W_(t,i){if(t==="click")return al(i)}function Q_(t,i){if(t==="input"||t==="change")return al(i)}function K_(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var ur=typeof Object.is=="function"?Object.is:K_;function Qo(t,i){if(ur(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!g.call(i,f)||!ur(t[f],i[f]))return!1}return!0}function cd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hd(t,i){var a=cd(t);t=0;for(var c;a;){if(a.nodeType===3){if(c=t+a.textContent.length,t<=i&&c>=i)return{node:a,offset:i-t};t=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=cd(a)}}function fd(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?fd(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function dd(){for(var t=window,i=tn();i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=tn(t.document)}return i}function nc(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function G_(t){var i=dd(),a=t.focusedElem,c=t.selectionRange;if(i!==a&&a&&a.ownerDocument&&fd(a.ownerDocument.documentElement,a)){if(c!==null&&nc(a)){if(i=c.start,t=c.end,t===void 0&&(t=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(t,a.value.length);else if(t=(i=a.ownerDocument||document)&&i.defaultView||window,t.getSelection){t=t.getSelection();var f=a.textContent.length,m=Math.min(c.start,f);c=c.end===void 0?m:Math.min(c.end,f),!t.extend&&m>c&&(f=c,c=m,m=f),f=hd(a,m);var v=hd(a,c);f&&v&&(t.rangeCount!==1||t.anchorNode!==f.node||t.anchorOffset!==f.offset||t.focusNode!==v.node||t.focusOffset!==v.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),t.removeAllRanges(),m>c?(t.addRange(i),t.extend(v.node,v.offset)):(i.setEnd(v.node,v.offset),t.addRange(i)))}}for(i=[],t=a;t=t.parentNode;)t.nodeType===1&&i.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)t=i[a],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Y_=d&&"documentMode"in document&&11>=document.documentMode,Gs=null,rc=null,Ko=null,ic=!1;function pd(t,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ic||Gs==null||Gs!==tn(c)||(c=Gs,"selectionStart"in c&&nc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ko&&Qo(Ko,c)||(Ko=c,c=hl(rc,"onSelect"),0<c.length&&(i=new js("onSelect","select",null,i,a),t.push({event:i,listeners:c}),i.target=Gs)))}function ll(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ys={animationend:ll("Animation","AnimationEnd"),animationiteration:ll("Animation","AnimationIteration"),animationstart:ll("Animation","AnimationStart"),transitionend:ll("Transition","TransitionEnd")},sc={},md={};d&&(md=document.createElement("div").style,"AnimationEvent"in window||(delete Ys.animationend.animation,delete Ys.animationiteration.animation,delete Ys.animationstart.animation),"TransitionEvent"in window||delete Ys.transitionend.transition);function ul(t){if(sc[t])return sc[t];if(!Ys[t])return t;var i=Ys[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in md)return sc[t]=i[a];return t}var gd=ul("animationend"),yd=ul("animationiteration"),_d=ul("animationstart"),vd=ul("transitionend"),Ed=new Map,wd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ai(t,i){Ed.set(t,i),u(i,[t])}for(var oc=0;oc<wd.length;oc++){var ac=wd[oc],X_=ac.toLowerCase(),J_=ac[0].toUpperCase()+ac.slice(1);Ai(X_,"on"+J_)}Ai(gd,"onAnimationEnd"),Ai(yd,"onAnimationIteration"),Ai(_d,"onAnimationStart"),Ai("dblclick","onDoubleClick"),Ai("focusin","onFocus"),Ai("focusout","onBlur"),Ai(vd,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Go));function Td(t,i,a){var c=t.type||"unknown-event";t.currentTarget=a,It(c,i,void 0,t),t.currentTarget=null}function Sd(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var c=t[a],f=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var v=c.length-1;0<=v;v--){var A=c[v],D=A.instance,W=A.currentTarget;if(A=A.listener,D!==m&&f.isPropagationStopped())break e;Td(f,A,W),m=D}else for(v=0;v<c.length;v++){if(A=c[v],D=A.instance,W=A.currentTarget,A=A.listener,D!==m&&f.isPropagationStopped())break e;Td(f,A,W),m=D}}}if(ae)throw t=xe,ae=!1,xe=null,t}function mt(t,i){var a=i[mc];a===void 0&&(a=i[mc]=new Set);var c=t+"__bubble";a.has(c)||(Id(i,t,2,!1),a.add(c))}function lc(t,i,a){var c=0;i&&(c|=4),Id(a,t,c,i)}var cl="_reactListening"+Math.random().toString(36).slice(2);function Yo(t){if(!t[cl]){t[cl]=!0,s.forEach(function(a){a!=="selectionchange"&&(Z_.has(a)||lc(a,!1,t),lc(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[cl]||(i[cl]=!0,lc("selectionchange",!1,i))}}function Id(t,i,a,c){switch(zo(i)){case 1:var f=_t;break;case 4:f=Ju;break;default:f=Uo}a=f.bind(null,i,a,t),f=void 0,!he||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),c?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function uc(t,i,a,c,f){var m=c;if(!(i&1)&&!(i&2)&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var A=c.stateNode.containerInfo;if(A===f||A.nodeType===8&&A.parentNode===f)break;if(v===4)for(v=c.return;v!==null;){var D=v.tag;if((D===3||D===4)&&(D=v.stateNode.containerInfo,D===f||D.nodeType===8&&D.parentNode===f))return;v=v.return}for(;A!==null;){if(v=ls(A),v===null)return;if(D=v.tag,D===5||D===6){c=m=v;continue e}A=A.parentNode}}c=c.return}K(function(){var W=m,ne=yi(a),re=[];e:{var te=Ed.get(t);if(te!==void 0){var de=js,we=t;switch(t){case"keypress":if(zs(a)===0)break e;case"keydown":case"keyup":de=p;break;case"focusin":we="focus",de=qs;break;case"focusout":we="blur",de=qs;break;case"beforeblur":case"afterblur":de=qs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=$s;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=el;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=G;break;case gd:case yd:case _d:de=Gr;break;case vd:de=lt;break;case"scroll":de=Zu;break;case"wheel":de=Ge;break;case"copy":case"cut":case"paste":de=rl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=w}var Se=(i&4)!==0,Ct=!Se&&t==="scroll",B=Se?te!==null?te+"Capture":null:te;Se=[];for(var L=W,$;L!==null;){$=L;var se=$.stateNode;if($.tag===5&&se!==null&&($=se,B!==null&&(se=X(L,B),se!=null&&Se.push(Xo(L,se,$)))),Ct)break;L=L.return}0<Se.length&&(te=new de(te,we,null,a,ne),re.push({event:te,listeners:Se}))}}if(!(i&7)){e:{if(te=t==="mouseover"||t==="pointerover",de=t==="mouseout"||t==="pointerout",te&&a!==Jn&&(we=a.relatedTarget||a.fromElement)&&(ls(we)||we[Yr]))break e;if((de||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,de?(we=a.relatedTarget||a.toElement,de=W,we=we?ls(we):null,we!==null&&(Ct=Be(we),we!==Ct||we.tag!==5&&we.tag!==6)&&(we=null)):(de=null,we=W),de!==we)){if(Se=$s,se="onMouseLeave",B="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(Se=w,se="onPointerLeave",B="onPointerEnter",L="pointer"),Ct=de==null?te:Zs(de),$=we==null?te:Zs(we),te=new Se(se,L+"leave",de,a,ne),te.target=Ct,te.relatedTarget=$,se=null,ls(ne)===W&&(Se=new Se(B,L+"enter",we,a,ne),Se.target=$,Se.relatedTarget=Ct,se=Se),Ct=se,de&&we)t:{for(Se=de,B=we,L=0,$=Se;$;$=Xs($))L++;for($=0,se=B;se;se=Xs(se))$++;for(;0<L-$;)Se=Xs(Se),L--;for(;0<$-L;)B=Xs(B),$--;for(;L--;){if(Se===B||B!==null&&Se===B.alternate)break t;Se=Xs(Se),B=Xs(B)}Se=null}else Se=null;de!==null&&Rd(re,te,de,Se,!1),we!==null&&Ct!==null&&Rd(re,Ct,we,Se,!0)}}e:{if(te=W?Zs(W):window,de=te.nodeName&&te.nodeName.toLowerCase(),de==="select"||de==="input"&&te.type==="file")var Ie=$_;else if(id(te))if(od)Ie=Q_;else{Ie=q_;var Ce=H_}else(de=te.nodeName)&&de.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(Ie=W_);if(Ie&&(Ie=Ie(t,W))){sd(re,Ie,a,ne);break e}Ce&&Ce(t,te,W),t==="focusout"&&(Ce=te._wrapperState)&&Ce.controlled&&te.type==="number"&&di(te,"number",te.value)}switch(Ce=W?Zs(W):window,t){case"focusin":(id(Ce)||Ce.contentEditable==="true")&&(Gs=Ce,rc=W,Ko=null);break;case"focusout":Ko=rc=Gs=null;break;case"mousedown":ic=!0;break;case"contextmenu":case"mouseup":case"dragend":ic=!1,pd(re,a,ne);break;case"selectionchange":if(Y_)break;case"keydown":case"keyup":pd(re,a,ne)}var Pe;if(kt)e:{switch(t){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else Ks?nd(t,a)&&(De="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(De="onCompositionStart");De&&(as&&a.locale!=="ko"&&(Ks||De!=="onCompositionStart"?De==="onCompositionEnd"&&Ks&&(Pe=jo()):(Vn=ne,Us="value"in Vn?Vn.value:Vn.textContent,Ks=!0)),Ce=hl(W,De),0<Ce.length&&(De=new Ho(De,t,null,a,ne),re.push({event:De,listeners:Ce}),Pe?De.data=Pe:(Pe=rd(a),Pe!==null&&(De.data=Pe)))),(Pe=Nn?U_(t,a):z_(t,a))&&(W=hl(W,"onBeforeInput"),0<W.length&&(ne=new Ho("onBeforeInput","beforeinput",null,a,ne),re.push({event:ne,listeners:W}),ne.data=Pe))}Sd(re,i)})}function Xo(t,i,a){return{instance:t,listener:i,currentTarget:a}}function hl(t,i){for(var a=i+"Capture",c=[];t!==null;){var f=t,m=f.stateNode;f.tag===5&&m!==null&&(f=m,m=X(t,a),m!=null&&c.unshift(Xo(t,m,f)),m=X(t,i),m!=null&&c.push(Xo(t,m,f))),t=t.return}return c}function Xs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Rd(t,i,a,c,f){for(var m=i._reactName,v=[];a!==null&&a!==c;){var A=a,D=A.alternate,W=A.stateNode;if(D!==null&&D===c)break;A.tag===5&&W!==null&&(A=W,f?(D=X(a,m),D!=null&&v.unshift(Xo(a,D,A))):f||(D=X(a,m),D!=null&&v.push(Xo(a,D,A)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var ev=/\r\n?/g,tv=/\u0000|\uFFFD/g;function Ad(t){return(typeof t=="string"?t:""+t).replace(ev,`
`).replace(tv,"")}function fl(t,i,a){if(i=Ad(i),Ad(t)!==i&&a)throw Error(n(425))}function dl(){}var cc=null,hc=null;function fc(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var dc=typeof setTimeout=="function"?setTimeout:void 0,nv=typeof clearTimeout=="function"?clearTimeout:void 0,Cd=typeof Promise=="function"?Promise:void 0,rv=typeof queueMicrotask=="function"?queueMicrotask:typeof Cd<"u"?function(t){return Cd.resolve(null).then(t).catch(iv)}:dc;function iv(t){setTimeout(function(){throw t})}function pc(t,i){var a=i,c=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(c===0){t.removeChild(f),ar(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=f}while(a);ar(i)}function Ci(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return t}function Pd(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}var Js=Math.random().toString(36).slice(2),kr="__reactFiber$"+Js,Jo="__reactProps$"+Js,Yr="__reactContainer$"+Js,mc="__reactEvents$"+Js,sv="__reactListeners$"+Js,ov="__reactHandles$"+Js;function ls(t){var i=t[kr];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Yr]||a[kr]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Pd(t);t!==null;){if(a=t[kr])return a;t=Pd(t)}return i}t=a,a=t.parentNode}return null}function Zo(t){return t=t[kr]||t[Yr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function pl(t){return t[Jo]||null}var gc=[],eo=-1;function Pi(t){return{current:t}}function gt(t){0>eo||(t.current=gc[eo],gc[eo]=null,eo--)}function ht(t,i){eo++,gc[eo]=t.current,t.current=i}var ki={},sn=Pi(ki),Tn=Pi(!1),us=ki;function to(t,i){var a=t.type.contextTypes;if(!a)return ki;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var f={},m;for(m in a)f[m]=i[m];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=f),f}function Sn(t){return t=t.childContextTypes,t!=null}function ml(){gt(Tn),gt(sn)}function kd(t,i,a){if(sn.current!==ki)throw Error(n(168));ht(sn,i),ht(Tn,a)}function xd(t,i,a){var c=t.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var f in c)if(!(f in i))throw Error(n(108,Je(t)||"Unknown",f));return ue({},a,c)}function gl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ki,us=sn.current,ht(sn,t),ht(Tn,Tn.current),!0}function Dd(t,i,a){var c=t.stateNode;if(!c)throw Error(n(169));a?(t=xd(t,i,us),c.__reactInternalMemoizedMergedChildContext=t,gt(Tn),gt(sn),ht(sn,t)):gt(Tn),ht(Tn,a)}var Xr=null,yl=!1,yc=!1;function Vd(t){Xr===null?Xr=[t]:Xr.push(t)}function av(t){yl=!0,Vd(t)}function xi(){if(!yc&&Xr!==null){yc=!0;var t=0,i=$e;try{var a=Xr;for($e=1;t<a.length;t++){var c=a[t];do c=c(!0);while(c!==null)}Xr=null,yl=!1}catch(f){throw Xr!==null&&(Xr=Xr.slice(t+1)),Wt(Ke,xi),f}finally{$e=i,yc=!1}}return null}var no=[],ro=0,_l=null,vl=0,Bn=[],$n=0,cs=null,Jr=1,Zr="";function hs(t,i){no[ro++]=vl,no[ro++]=_l,_l=t,vl=i}function Nd(t,i,a){Bn[$n++]=Jr,Bn[$n++]=Zr,Bn[$n++]=cs,cs=t;var c=Jr;t=Zr;var f=32-dn(c)-1;c&=~(1<<f),a+=1;var m=32-dn(i)+f;if(30<m){var v=f-f%5;m=(c&(1<<v)-1).toString(32),c>>=v,f-=v,Jr=1<<32-dn(i)+f|a<<f|c,Zr=m+t}else Jr=1<<m|a<<f|c,Zr=t}function _c(t){t.return!==null&&(hs(t,1),Nd(t,1,0))}function vc(t){for(;t===_l;)_l=no[--ro],no[ro]=null,vl=no[--ro],no[ro]=null;for(;t===cs;)cs=Bn[--$n],Bn[$n]=null,Zr=Bn[--$n],Bn[$n]=null,Jr=Bn[--$n],Bn[$n]=null}var Ln=null,Mn=null,vt=!1,cr=null;function Ld(t,i){var a=Qn(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=t,i=t.deletions,i===null?(t.deletions=[a],t.flags|=16):i.push(a)}function Md(t,i){switch(t.tag){case 5:var a=t.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(t.stateNode=i,Ln=t,Mn=Ci(i.firstChild),!0):!1;case 6:return i=t.pendingProps===""||i.nodeType!==3?null:i,i!==null?(t.stateNode=i,Ln=t,Mn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=cs!==null?{id:Jr,overflow:Zr}:null,t.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=Qn(18,null,null,0),a.stateNode=i,a.return=t,t.child=a,Ln=t,Mn=null,!0):!1;default:return!1}}function Ec(t){return(t.mode&1)!==0&&(t.flags&128)===0}function wc(t){if(vt){var i=Mn;if(i){var a=i;if(!Md(t,i)){if(Ec(t))throw Error(n(418));i=Ci(a.nextSibling);var c=Ln;i&&Md(t,i)?Ld(c,a):(t.flags=t.flags&-4097|2,vt=!1,Ln=t)}}else{if(Ec(t))throw Error(n(418));t.flags=t.flags&-4097|2,vt=!1,Ln=t}}}function Od(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ln=t}function El(t){if(t!==Ln)return!1;if(!vt)return Od(t),vt=!0,!1;var i;if((i=t.tag!==3)&&!(i=t.tag!==5)&&(i=t.type,i=i!=="head"&&i!=="body"&&!fc(t.type,t.memoizedProps)),i&&(i=Mn)){if(Ec(t))throw Fd(),Error(n(418));for(;i;)Ld(t,i),i=Ci(i.nextSibling)}if(Od(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"){if(i===0){Mn=Ci(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}t=t.nextSibling}Mn=null}}else Mn=Ln?Ci(t.stateNode.nextSibling):null;return!0}function Fd(){for(var t=Mn;t;)t=Ci(t.nextSibling)}function io(){Mn=Ln=null,vt=!1}function Tc(t){cr===null?cr=[t]:cr.push(t)}var lv=pe.ReactCurrentBatchConfig;function ea(t,i,a){if(t=a.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var c=a.stateNode}if(!c)throw Error(n(147,t));var f=c,m=""+t;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===m?i.ref:(i=function(v){var A=f.refs;v===null?delete A[m]:A[m]=v},i._stringRef=m,i)}if(typeof t!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,t))}return t}function wl(t,i){throw t=Object.prototype.toString.call(i),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t))}function bd(t){var i=t._init;return i(t._payload)}function Ud(t){function i(B,L){if(t){var $=B.deletions;$===null?(B.deletions=[L],B.flags|=16):$.push(L)}}function a(B,L){if(!t)return null;for(;L!==null;)i(B,L),L=L.sibling;return null}function c(B,L){for(B=new Map;L!==null;)L.key!==null?B.set(L.key,L):B.set(L.index,L),L=L.sibling;return B}function f(B,L){return B=bi(B,L),B.index=0,B.sibling=null,B}function m(B,L,$){return B.index=$,t?($=B.alternate,$!==null?($=$.index,$<L?(B.flags|=2,L):$):(B.flags|=2,L)):(B.flags|=1048576,L)}function v(B){return t&&B.alternate===null&&(B.flags|=2),B}function A(B,L,$,se){return L===null||L.tag!==6?(L=dh($,B.mode,se),L.return=B,L):(L=f(L,$),L.return=B,L)}function D(B,L,$,se){var Ie=$.type;return Ie===k?ne(B,L,$.props.children,se,$.key):L!==null&&(L.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===At&&bd(Ie)===L.type)?(se=f(L,$.props),se.ref=ea(B,L,$),se.return=B,se):(se=ql($.type,$.key,$.props,null,B.mode,se),se.ref=ea(B,L,$),se.return=B,se)}function W(B,L,$,se){return L===null||L.tag!==4||L.stateNode.containerInfo!==$.containerInfo||L.stateNode.implementation!==$.implementation?(L=ph($,B.mode,se),L.return=B,L):(L=f(L,$.children||[]),L.return=B,L)}function ne(B,L,$,se,Ie){return L===null||L.tag!==7?(L=vs($,B.mode,se,Ie),L.return=B,L):(L=f(L,$),L.return=B,L)}function re(B,L,$){if(typeof L=="string"&&L!==""||typeof L=="number")return L=dh(""+L,B.mode,$),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case U:return $=ql(L.type,L.key,L.props,null,B.mode,$),$.ref=ea(B,null,L),$.return=B,$;case ce:return L=ph(L,B.mode,$),L.return=B,L;case At:var se=L._init;return re(B,se(L._payload),$)}if(Yn(L)||Te(L))return L=vs(L,B.mode,$,null),L.return=B,L;wl(B,L)}return null}function te(B,L,$,se){var Ie=L!==null?L.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return Ie!==null?null:A(B,L,""+$,se);if(typeof $=="object"&&$!==null){switch($.$$typeof){case U:return $.key===Ie?D(B,L,$,se):null;case ce:return $.key===Ie?W(B,L,$,se):null;case At:return Ie=$._init,te(B,L,Ie($._payload),se)}if(Yn($)||Te($))return Ie!==null?null:ne(B,L,$,se,null);wl(B,$)}return null}function de(B,L,$,se,Ie){if(typeof se=="string"&&se!==""||typeof se=="number")return B=B.get($)||null,A(L,B,""+se,Ie);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case U:return B=B.get(se.key===null?$:se.key)||null,D(L,B,se,Ie);case ce:return B=B.get(se.key===null?$:se.key)||null,W(L,B,se,Ie);case At:var Ce=se._init;return de(B,L,$,Ce(se._payload),Ie)}if(Yn(se)||Te(se))return B=B.get($)||null,ne(L,B,se,Ie,null);wl(L,se)}return null}function we(B,L,$,se){for(var Ie=null,Ce=null,Pe=L,De=L=0,jt=null;Pe!==null&&De<$.length;De++){Pe.index>De?(jt=Pe,Pe=null):jt=Pe.sibling;var nt=te(B,Pe,$[De],se);if(nt===null){Pe===null&&(Pe=jt);break}t&&Pe&&nt.alternate===null&&i(B,Pe),L=m(nt,L,De),Ce===null?Ie=nt:Ce.sibling=nt,Ce=nt,Pe=jt}if(De===$.length)return a(B,Pe),vt&&hs(B,De),Ie;if(Pe===null){for(;De<$.length;De++)Pe=re(B,$[De],se),Pe!==null&&(L=m(Pe,L,De),Ce===null?Ie=Pe:Ce.sibling=Pe,Ce=Pe);return vt&&hs(B,De),Ie}for(Pe=c(B,Pe);De<$.length;De++)jt=de(Pe,B,De,$[De],se),jt!==null&&(t&&jt.alternate!==null&&Pe.delete(jt.key===null?De:jt.key),L=m(jt,L,De),Ce===null?Ie=jt:Ce.sibling=jt,Ce=jt);return t&&Pe.forEach(function(Ui){return i(B,Ui)}),vt&&hs(B,De),Ie}function Se(B,L,$,se){var Ie=Te($);if(typeof Ie!="function")throw Error(n(150));if($=Ie.call($),$==null)throw Error(n(151));for(var Ce=Ie=null,Pe=L,De=L=0,jt=null,nt=$.next();Pe!==null&&!nt.done;De++,nt=$.next()){Pe.index>De?(jt=Pe,Pe=null):jt=Pe.sibling;var Ui=te(B,Pe,nt.value,se);if(Ui===null){Pe===null&&(Pe=jt);break}t&&Pe&&Ui.alternate===null&&i(B,Pe),L=m(Ui,L,De),Ce===null?Ie=Ui:Ce.sibling=Ui,Ce=Ui,Pe=jt}if(nt.done)return a(B,Pe),vt&&hs(B,De),Ie;if(Pe===null){for(;!nt.done;De++,nt=$.next())nt=re(B,nt.value,se),nt!==null&&(L=m(nt,L,De),Ce===null?Ie=nt:Ce.sibling=nt,Ce=nt);return vt&&hs(B,De),Ie}for(Pe=c(B,Pe);!nt.done;De++,nt=$.next())nt=de(Pe,B,De,nt.value,se),nt!==null&&(t&&nt.alternate!==null&&Pe.delete(nt.key===null?De:nt.key),L=m(nt,L,De),Ce===null?Ie=nt:Ce.sibling=nt,Ce=nt);return t&&Pe.forEach(function(zv){return i(B,zv)}),vt&&hs(B,De),Ie}function Ct(B,L,$,se){if(typeof $=="object"&&$!==null&&$.type===k&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case U:e:{for(var Ie=$.key,Ce=L;Ce!==null;){if(Ce.key===Ie){if(Ie=$.type,Ie===k){if(Ce.tag===7){a(B,Ce.sibling),L=f(Ce,$.props.children),L.return=B,B=L;break e}}else if(Ce.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===At&&bd(Ie)===Ce.type){a(B,Ce.sibling),L=f(Ce,$.props),L.ref=ea(B,Ce,$),L.return=B,B=L;break e}a(B,Ce);break}else i(B,Ce);Ce=Ce.sibling}$.type===k?(L=vs($.props.children,B.mode,se,$.key),L.return=B,B=L):(se=ql($.type,$.key,$.props,null,B.mode,se),se.ref=ea(B,L,$),se.return=B,B=se)}return v(B);case ce:e:{for(Ce=$.key;L!==null;){if(L.key===Ce)if(L.tag===4&&L.stateNode.containerInfo===$.containerInfo&&L.stateNode.implementation===$.implementation){a(B,L.sibling),L=f(L,$.children||[]),L.return=B,B=L;break e}else{a(B,L);break}else i(B,L);L=L.sibling}L=ph($,B.mode,se),L.return=B,B=L}return v(B);case At:return Ce=$._init,Ct(B,L,Ce($._payload),se)}if(Yn($))return we(B,L,$,se);if(Te($))return Se(B,L,$,se);wl(B,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,L!==null&&L.tag===6?(a(B,L.sibling),L=f(L,$),L.return=B,B=L):(a(B,L),L=dh($,B.mode,se),L.return=B,B=L),v(B)):a(B,L)}return Ct}var so=Ud(!0),zd=Ud(!1),Tl=Pi(null),Sl=null,oo=null,Sc=null;function Ic(){Sc=oo=Sl=null}function Rc(t){var i=Tl.current;gt(Tl),t._currentValue=i}function Ac(t,i,a){for(;t!==null;){var c=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),t===a)break;t=t.return}}function ao(t,i){Sl=t,Sc=oo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&i&&(In=!0),t.firstContext=null)}function Hn(t){var i=t._currentValue;if(Sc!==t)if(t={context:t,memoizedValue:i,next:null},oo===null){if(Sl===null)throw Error(n(308));oo=t,Sl.dependencies={lanes:0,firstContext:t}}else oo=oo.next=t;return i}var fs=null;function Cc(t){fs===null?fs=[t]:fs.push(t)}function jd(t,i,a,c){var f=i.interleaved;return f===null?(a.next=a,Cc(i)):(a.next=f.next,f.next=a),i.interleaved=a,ei(t,c)}function ei(t,i){t.lanes|=i;var a=t.alternate;for(a!==null&&(a.lanes|=i),a=t,t=t.return;t!==null;)t.childLanes|=i,a=t.alternate,a!==null&&(a.childLanes|=i),a=t,t=t.return;return a.tag===3?a.stateNode:null}var Di=!1;function Pc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ti(t,i){return{eventTime:t,lane:i,tag:0,payload:null,callback:null,next:null}}function Vi(t,i,a){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,tt&2){var f=c.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),c.pending=i,ei(t,a)}return f=c.interleaved,f===null?(i.next=i,Cc(c)):(i.next=f.next,f.next=i),c.interleaved=i,ei(t,a)}function Il(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=t.pendingLanes,a|=c,i.lanes=a,wi(t,a)}}function $d(t,i){var a=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var v={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?f=m=v:m=m.next=v,a=a.next}while(a!==null);m===null?f=m=i:m=m.next=i}else f=m=i;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,effects:c.effects},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}function Rl(t,i,a,c){var f=t.updateQueue;Di=!1;var m=f.firstBaseUpdate,v=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var D=A,W=D.next;D.next=null,v===null?m=W:v.next=W,v=D;var ne=t.alternate;ne!==null&&(ne=ne.updateQueue,A=ne.lastBaseUpdate,A!==v&&(A===null?ne.firstBaseUpdate=W:A.next=W,ne.lastBaseUpdate=D))}if(m!==null){var re=f.baseState;v=0,ne=W=D=null,A=m;do{var te=A.lane,de=A.eventTime;if((c&te)===te){ne!==null&&(ne=ne.next={eventTime:de,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var we=t,Se=A;switch(te=i,de=a,Se.tag){case 1:if(we=Se.payload,typeof we=="function"){re=we.call(de,re,te);break e}re=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Se.payload,te=typeof we=="function"?we.call(de,re,te):we,te==null)break e;re=ue({},re,te);break e;case 2:Di=!0}}A.callback!==null&&A.lane!==0&&(t.flags|=64,te=f.effects,te===null?f.effects=[A]:te.push(A))}else de={eventTime:de,lane:te,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ne===null?(W=ne=de,D=re):ne=ne.next=de,v|=te;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;te=A,A=te.next,te.next=null,f.lastBaseUpdate=te,f.shared.pending=null}}while(!0);if(ne===null&&(D=re),f.baseState=D,f.firstBaseUpdate=W,f.lastBaseUpdate=ne,i=f.shared.interleaved,i!==null){f=i;do v|=f.lane,f=f.next;while(f!==i)}else m===null&&(f.shared.lanes=0);ms|=v,t.lanes=v,t.memoizedState=re}}function Hd(t,i,a){if(t=i.effects,i.effects=null,t!==null)for(i=0;i<t.length;i++){var c=t[i],f=c.callback;if(f!==null){if(c.callback=null,c=a,typeof f!="function")throw Error(n(191,f));f.call(c)}}}var ta={},xr=Pi(ta),na=Pi(ta),ra=Pi(ta);function ds(t){if(t===ta)throw Error(n(174));return t}function kc(t,i){switch(ht(ra,i),ht(na,t),ht(xr,ta),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:St(null,"");break;default:t=t===8?i.parentNode:i,i=t.namespaceURI||null,t=t.tagName,i=St(i,t)}gt(xr),ht(xr,i)}function lo(){gt(xr),gt(na),gt(ra)}function qd(t){ds(ra.current);var i=ds(xr.current),a=St(i,t.type);i!==a&&(ht(na,t),ht(xr,a))}function xc(t){na.current===t&&(gt(xr),gt(na))}var Et=Pi(0);function Al(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Dc=[];function Vc(){for(var t=0;t<Dc.length;t++)Dc[t]._workInProgressVersionPrimary=null;Dc.length=0}var Cl=pe.ReactCurrentDispatcher,Nc=pe.ReactCurrentBatchConfig,ps=0,wt=null,Lt=null,Ut=null,Pl=!1,ia=!1,sa=0,uv=0;function on(){throw Error(n(321))}function Lc(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!ur(t[a],i[a]))return!1;return!0}function Mc(t,i,a,c,f,m){if(ps=m,wt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Cl.current=t===null||t.memoizedState===null?dv:pv,t=a(c,f),ia){m=0;do{if(ia=!1,sa=0,25<=m)throw Error(n(301));m+=1,Ut=Lt=null,i.updateQueue=null,Cl.current=mv,t=a(c,f)}while(ia)}if(Cl.current=Dl,i=Lt!==null&&Lt.next!==null,ps=0,Ut=Lt=wt=null,Pl=!1,i)throw Error(n(300));return t}function Oc(){var t=sa!==0;return sa=0,t}function Dr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?wt.memoizedState=Ut=t:Ut=Ut.next=t,Ut}function qn(){if(Lt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Lt.next;var i=Ut===null?wt.memoizedState:Ut.next;if(i!==null)Ut=i,Lt=t;else{if(t===null)throw Error(n(310));Lt=t,t={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Ut===null?wt.memoizedState=Ut=t:Ut=Ut.next=t}return Ut}function oa(t,i){return typeof i=="function"?i(t):i}function Fc(t){var i=qn(),a=i.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=t;var c=Lt,f=c.baseQueue,m=a.pending;if(m!==null){if(f!==null){var v=f.next;f.next=m.next,m.next=v}c.baseQueue=f=m,a.pending=null}if(f!==null){m=f.next,c=c.baseState;var A=v=null,D=null,W=m;do{var ne=W.lane;if((ps&ne)===ne)D!==null&&(D=D.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),c=W.hasEagerState?W.eagerState:t(c,W.action);else{var re={lane:ne,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};D===null?(A=D=re,v=c):D=D.next=re,wt.lanes|=ne,ms|=ne}W=W.next}while(W!==null&&W!==m);D===null?v=c:D.next=A,ur(c,i.memoizedState)||(In=!0),i.memoizedState=c,i.baseState=v,i.baseQueue=D,a.lastRenderedState=c}if(t=a.interleaved,t!==null){f=t;do m=f.lane,wt.lanes|=m,ms|=m,f=f.next;while(f!==t)}else f===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function bc(t){var i=qn(),a=i.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=t;var c=a.dispatch,f=a.pending,m=i.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do m=t(m,v.action),v=v.next;while(v!==f);ur(m,i.memoizedState)||(In=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,c]}function Wd(){}function Qd(t,i){var a=wt,c=qn(),f=i(),m=!ur(c.memoizedState,f);if(m&&(c.memoizedState=f,In=!0),c=c.queue,Uc(Yd.bind(null,a,c,t),[t]),c.getSnapshot!==i||m||Ut!==null&&Ut.memoizedState.tag&1){if(a.flags|=2048,aa(9,Gd.bind(null,a,c,f,i),void 0,null),zt===null)throw Error(n(349));ps&30||Kd(a,i,f)}return f}function Kd(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=wt.updateQueue,i===null?(i={lastEffect:null,stores:null},wt.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Gd(t,i,a,c){i.value=a,i.getSnapshot=c,Xd(i)&&Jd(t)}function Yd(t,i,a){return a(function(){Xd(i)&&Jd(t)})}function Xd(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!ur(t,a)}catch{return!0}}function Jd(t){var i=ei(t,1);i!==null&&pr(i,t,1,-1)}function Zd(t){var i=Dr();return typeof t=="function"&&(t=t()),i.memoizedState=i.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:t},i.queue=t,t=t.dispatch=fv.bind(null,wt,t),[i.memoizedState,t]}function aa(t,i,a,c){return t={tag:t,create:i,destroy:a,deps:c,next:null},i=wt.updateQueue,i===null?(i={lastEffect:null,stores:null},wt.updateQueue=i,i.lastEffect=t.next=t):(a=i.lastEffect,a===null?i.lastEffect=t.next=t:(c=a.next,a.next=t,t.next=c,i.lastEffect=t)),t}function ep(){return qn().memoizedState}function kl(t,i,a,c){var f=Dr();wt.flags|=t,f.memoizedState=aa(1|i,a,void 0,c===void 0?null:c)}function xl(t,i,a,c){var f=qn();c=c===void 0?null:c;var m=void 0;if(Lt!==null){var v=Lt.memoizedState;if(m=v.destroy,c!==null&&Lc(c,v.deps)){f.memoizedState=aa(i,a,m,c);return}}wt.flags|=t,f.memoizedState=aa(1|i,a,m,c)}function tp(t,i){return kl(8390656,8,t,i)}function Uc(t,i){return xl(2048,8,t,i)}function np(t,i){return xl(4,2,t,i)}function rp(t,i){return xl(4,4,t,i)}function ip(t,i){if(typeof i=="function")return t=t(),i(t),function(){i(null)};if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function sp(t,i,a){return a=a!=null?a.concat([t]):null,xl(4,4,ip.bind(null,i,t),a)}function zc(){}function op(t,i){var a=qn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Lc(i,c[1])?c[0]:(a.memoizedState=[t,i],t)}function ap(t,i){var a=qn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Lc(i,c[1])?c[0]:(t=t(),a.memoizedState=[t,i],t)}function lp(t,i,a){return ps&21?(ur(a,i)||(a=rs(),wt.lanes|=a,ms|=a,t.baseState=!0),i):(t.baseState&&(t.baseState=!1,In=!0),t.memoizedState=a)}function cv(t,i){var a=$e;$e=a!==0&&4>a?a:4,t(!0);var c=Nc.transition;Nc.transition={};try{t(!1),i()}finally{$e=a,Nc.transition=c}}function up(){return qn().memoizedState}function hv(t,i,a){var c=Oi(t);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},cp(t))hp(i,a);else if(a=jd(t,i,a,c),a!==null){var f=gn();pr(a,t,c,f),fp(a,i,c)}}function fv(t,i,a){var c=Oi(t),f={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(cp(t))hp(i,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var v=i.lastRenderedState,A=m(v,a);if(f.hasEagerState=!0,f.eagerState=A,ur(A,v)){var D=i.interleaved;D===null?(f.next=f,Cc(i)):(f.next=D.next,D.next=f),i.interleaved=f;return}}catch{}finally{}a=jd(t,i,f,c),a!==null&&(f=gn(),pr(a,t,c,f),fp(a,i,c))}}function cp(t){var i=t.alternate;return t===wt||i!==null&&i===wt}function hp(t,i){ia=Pl=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function fp(t,i,a){if(a&4194240){var c=i.lanes;c&=t.pendingLanes,a|=c,i.lanes=a,wi(t,a)}}var Dl={readContext:Hn,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},dv={readContext:Hn,useCallback:function(t,i){return Dr().memoizedState=[t,i===void 0?null:i],t},useContext:Hn,useEffect:tp,useImperativeHandle:function(t,i,a){return a=a!=null?a.concat([t]):null,kl(4194308,4,ip.bind(null,i,t),a)},useLayoutEffect:function(t,i){return kl(4194308,4,t,i)},useInsertionEffect:function(t,i){return kl(4,2,t,i)},useMemo:function(t,i){var a=Dr();return i=i===void 0?null:i,t=t(),a.memoizedState=[t,i],t},useReducer:function(t,i,a){var c=Dr();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},c.queue=t,t=t.dispatch=hv.bind(null,wt,t),[c.memoizedState,t]},useRef:function(t){var i=Dr();return t={current:t},i.memoizedState=t},useState:Zd,useDebugValue:zc,useDeferredValue:function(t){return Dr().memoizedState=t},useTransition:function(){var t=Zd(!1),i=t[0];return t=cv.bind(null,t[1]),Dr().memoizedState=t,[i,t]},useMutableSource:function(){},useSyncExternalStore:function(t,i,a){var c=wt,f=Dr();if(vt){if(a===void 0)throw Error(n(407));a=a()}else{if(a=i(),zt===null)throw Error(n(349));ps&30||Kd(c,i,a)}f.memoizedState=a;var m={value:a,getSnapshot:i};return f.queue=m,tp(Yd.bind(null,c,m,t),[t]),c.flags|=2048,aa(9,Gd.bind(null,c,m,a,i),void 0,null),a},useId:function(){var t=Dr(),i=zt.identifierPrefix;if(vt){var a=Zr,c=Jr;a=(c&~(1<<32-dn(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=sa++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=uv++,i=":"+i+"r"+a.toString(32)+":";return t.memoizedState=i},unstable_isNewReconciler:!1},pv={readContext:Hn,useCallback:op,useContext:Hn,useEffect:Uc,useImperativeHandle:sp,useInsertionEffect:np,useLayoutEffect:rp,useMemo:ap,useReducer:Fc,useRef:ep,useState:function(){return Fc(oa)},useDebugValue:zc,useDeferredValue:function(t){var i=qn();return lp(i,Lt.memoizedState,t)},useTransition:function(){var t=Fc(oa)[0],i=qn().memoizedState;return[t,i]},useMutableSource:Wd,useSyncExternalStore:Qd,useId:up,unstable_isNewReconciler:!1},mv={readContext:Hn,useCallback:op,useContext:Hn,useEffect:Uc,useImperativeHandle:sp,useInsertionEffect:np,useLayoutEffect:rp,useMemo:ap,useReducer:bc,useRef:ep,useState:function(){return bc(oa)},useDebugValue:zc,useDeferredValue:function(t){var i=qn();return Lt===null?i.memoizedState=t:lp(i,Lt.memoizedState,t)},useTransition:function(){var t=bc(oa)[0],i=qn().memoizedState;return[t,i]},useMutableSource:Wd,useSyncExternalStore:Qd,useId:up,unstable_isNewReconciler:!1};function hr(t,i){if(t&&t.defaultProps){i=ue({},i),t=t.defaultProps;for(var a in t)i[a]===void 0&&(i[a]=t[a]);return i}return i}function jc(t,i,a,c){i=t.memoizedState,a=a(c,i),a=a==null?i:ue({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Vl={isMounted:function(t){return(t=t._reactInternals)?Be(t)===t:!1},enqueueSetState:function(t,i,a){t=t._reactInternals;var c=gn(),f=Oi(t),m=ti(c,f);m.payload=i,a!=null&&(m.callback=a),i=Vi(t,m,f),i!==null&&(pr(i,t,f,c),Il(i,t,f))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var c=gn(),f=Oi(t),m=ti(c,f);m.tag=1,m.payload=i,a!=null&&(m.callback=a),i=Vi(t,m,f),i!==null&&(pr(i,t,f,c),Il(i,t,f))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=gn(),c=Oi(t),f=ti(a,c);f.tag=2,i!=null&&(f.callback=i),i=Vi(t,f,c),i!==null&&(pr(i,t,c,a),Il(i,t,c))}};function dp(t,i,a,c,f,m,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,m,v):i.prototype&&i.prototype.isPureReactComponent?!Qo(a,c)||!Qo(f,m):!0}function pp(t,i,a){var c=!1,f=ki,m=i.contextType;return typeof m=="object"&&m!==null?m=Hn(m):(f=Sn(i)?us:sn.current,c=i.contextTypes,m=(c=c!=null)?to(t,f):ki),i=new i(a,m),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Vl,t.stateNode=i,i._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=f,t.__reactInternalMemoizedMaskedChildContext=m),i}function mp(t,i,a,c){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==t&&Vl.enqueueReplaceState(i,i.state,null)}function Bc(t,i,a,c){var f=t.stateNode;f.props=a,f.state=t.memoizedState,f.refs={},Pc(t);var m=i.contextType;typeof m=="object"&&m!==null?f.context=Hn(m):(m=Sn(i)?us:sn.current,f.context=to(t,m)),f.state=t.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(jc(t,i,m,a),f.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(i=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),i!==f.state&&Vl.enqueueReplaceState(f,f.state,null),Rl(t,a,f,c),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308)}function uo(t,i){try{var a="",c=i;do a+=Ne(c),c=c.return;while(c);var f=a}catch(m){f=`
Error generating stack: `+m.message+`
`+m.stack}return{value:t,source:i,stack:f,digest:null}}function $c(t,i,a){return{value:t,source:null,stack:a??null,digest:i??null}}function Hc(t,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var gv=typeof WeakMap=="function"?WeakMap:Map;function gp(t,i,a){a=ti(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){Ul||(Ul=!0,sh=c),Hc(t,i)},a}function yp(t,i,a){a=ti(-1,a),a.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var f=i.value;a.payload=function(){return c(f)},a.callback=function(){Hc(t,i)}}var m=t.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){Hc(t,i),typeof c!="function"&&(Li===null?Li=new Set([this]):Li.add(this));var v=i.stack;this.componentDidCatch(i.value,{componentStack:v!==null?v:""})}),a}function _p(t,i,a){var c=t.pingCache;if(c===null){c=t.pingCache=new gv;var f=new Set;c.set(i,f)}else f=c.get(i),f===void 0&&(f=new Set,c.set(i,f));f.has(a)||(f.add(a),t=xv.bind(null,t,i,a),i.then(t,t))}function vp(t){do{var i;if((i=t.tag===13)&&(i=t.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return t;t=t.return}while(t!==null);return null}function Ep(t,i,a,c,f){return t.mode&1?(t.flags|=65536,t.lanes=f,t):(t===i?t.flags|=65536:(t.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=ti(-1,1),i.tag=2,Vi(a,i,1))),a.lanes|=1),t)}var yv=pe.ReactCurrentOwner,In=!1;function mn(t,i,a,c){i.child=t===null?zd(i,null,a,c):so(i,t.child,a,c)}function wp(t,i,a,c,f){a=a.render;var m=i.ref;return ao(i,f),c=Mc(t,i,a,c,m,f),a=Oc(),t!==null&&!In?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~f,ni(t,i,f)):(vt&&a&&_c(i),i.flags|=1,mn(t,i,c,f),i.child)}function Tp(t,i,a,c,f){if(t===null){var m=a.type;return typeof m=="function"&&!fh(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=m,Sp(t,i,m,c,f)):(t=ql(a.type,null,c,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!(t.lanes&f)){var v=m.memoizedProps;if(a=a.compare,a=a!==null?a:Qo,a(v,c)&&t.ref===i.ref)return ni(t,i,f)}return i.flags|=1,t=bi(m,c),t.ref=i.ref,t.return=i,i.child=t}function Sp(t,i,a,c,f){if(t!==null){var m=t.memoizedProps;if(Qo(m,c)&&t.ref===i.ref)if(In=!1,i.pendingProps=c=m,(t.lanes&f)!==0)t.flags&131072&&(In=!0);else return i.lanes=t.lanes,ni(t,i,f)}return qc(t,i,a,c,f)}function Ip(t,i,a){var c=i.pendingProps,f=c.children,m=t!==null?t.memoizedState:null;if(c.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(ho,On),On|=a;else{if(!(a&1073741824))return t=m!==null?m.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:t,cachePool:null,transitions:null},i.updateQueue=null,ht(ho,On),On|=t,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,ht(ho,On),On|=c}else m!==null?(c=m.baseLanes|a,i.memoizedState=null):c=a,ht(ho,On),On|=c;return mn(t,i,f,a),i.child}function Rp(t,i){var a=i.ref;(t===null&&a!==null||t!==null&&t.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function qc(t,i,a,c,f){var m=Sn(a)?us:sn.current;return m=to(i,m),ao(i,f),a=Mc(t,i,a,c,m,f),c=Oc(),t!==null&&!In?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~f,ni(t,i,f)):(vt&&c&&_c(i),i.flags|=1,mn(t,i,a,f),i.child)}function Ap(t,i,a,c,f){if(Sn(a)){var m=!0;gl(i)}else m=!1;if(ao(i,f),i.stateNode===null)Ll(t,i),pp(i,a,c),Bc(i,a,c,f),c=!0;else if(t===null){var v=i.stateNode,A=i.memoizedProps;v.props=A;var D=v.context,W=a.contextType;typeof W=="object"&&W!==null?W=Hn(W):(W=Sn(a)?us:sn.current,W=to(i,W));var ne=a.getDerivedStateFromProps,re=typeof ne=="function"||typeof v.getSnapshotBeforeUpdate=="function";re||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(A!==c||D!==W)&&mp(i,v,c,W),Di=!1;var te=i.memoizedState;v.state=te,Rl(i,c,v,f),D=i.memoizedState,A!==c||te!==D||Tn.current||Di?(typeof ne=="function"&&(jc(i,a,ne,c),D=i.memoizedState),(A=Di||dp(i,a,A,c,te,D,W))?(re||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=D),v.props=c,v.state=D,v.context=W,c=A):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{v=i.stateNode,Bd(t,i),A=i.memoizedProps,W=i.type===i.elementType?A:hr(i.type,A),v.props=W,re=i.pendingProps,te=v.context,D=a.contextType,typeof D=="object"&&D!==null?D=Hn(D):(D=Sn(a)?us:sn.current,D=to(i,D));var de=a.getDerivedStateFromProps;(ne=typeof de=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(A!==re||te!==D)&&mp(i,v,c,D),Di=!1,te=i.memoizedState,v.state=te,Rl(i,c,v,f);var we=i.memoizedState;A!==re||te!==we||Tn.current||Di?(typeof de=="function"&&(jc(i,a,de,c),we=i.memoizedState),(W=Di||dp(i,a,W,c,te,we,D)||!1)?(ne||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,we,D),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,we,D)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||A===t.memoizedProps&&te===t.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&te===t.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=we),v.props=c,v.state=we,v.context=D,c=W):(typeof v.componentDidUpdate!="function"||A===t.memoizedProps&&te===t.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&te===t.memoizedState||(i.flags|=1024),c=!1)}return Wc(t,i,a,c,m,f)}function Wc(t,i,a,c,f,m){Rp(t,i);var v=(i.flags&128)!==0;if(!c&&!v)return f&&Dd(i,a,!1),ni(t,i,m);c=i.stateNode,yv.current=i;var A=v&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,t!==null&&v?(i.child=so(i,t.child,null,m),i.child=so(i,null,A,m)):mn(t,i,A,m),i.memoizedState=c.state,f&&Dd(i,a,!0),i.child}function Cp(t){var i=t.stateNode;i.pendingContext?kd(t,i.pendingContext,i.pendingContext!==i.context):i.context&&kd(t,i.context,!1),kc(t,i.containerInfo)}function Pp(t,i,a,c,f){return io(),Tc(f),i.flags|=256,mn(t,i,a,c),i.child}var Qc={dehydrated:null,treeContext:null,retryLane:0};function Kc(t){return{baseLanes:t,cachePool:null,transitions:null}}function kp(t,i,a){var c=i.pendingProps,f=Et.current,m=!1,v=(i.flags&128)!==0,A;if((A=v)||(A=t!==null&&t.memoizedState===null?!1:(f&2)!==0),A?(m=!0,i.flags&=-129):(t===null||t.memoizedState!==null)&&(f|=1),ht(Et,f&1),t===null)return wc(i),t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(i.mode&1?t.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(v=c.children,t=c.fallback,m?(c=i.mode,m=i.child,v={mode:"hidden",children:v},!(c&1)&&m!==null?(m.childLanes=0,m.pendingProps=v):m=Wl(v,c,0,null),t=vs(t,c,a,null),m.return=i,t.return=i,m.sibling=t,i.child=m,i.child.memoizedState=Kc(a),i.memoizedState=Qc,t):Gc(i,v));if(f=t.memoizedState,f!==null&&(A=f.dehydrated,A!==null))return _v(t,i,v,c,A,f,a);if(m){m=c.fallback,v=i.mode,f=t.child,A=f.sibling;var D={mode:"hidden",children:c.children};return!(v&1)&&i.child!==f?(c=i.child,c.childLanes=0,c.pendingProps=D,i.deletions=null):(c=bi(f,D),c.subtreeFlags=f.subtreeFlags&14680064),A!==null?m=bi(A,m):(m=vs(m,v,a,null),m.flags|=2),m.return=i,c.return=i,c.sibling=m,i.child=c,c=m,m=i.child,v=t.child.memoizedState,v=v===null?Kc(a):{baseLanes:v.baseLanes|a,cachePool:null,transitions:v.transitions},m.memoizedState=v,m.childLanes=t.childLanes&~a,i.memoizedState=Qc,c}return m=t.child,t=m.sibling,c=bi(m,{mode:"visible",children:c.children}),!(i.mode&1)&&(c.lanes=a),c.return=i,c.sibling=null,t!==null&&(a=i.deletions,a===null?(i.deletions=[t],i.flags|=16):a.push(t)),i.child=c,i.memoizedState=null,c}function Gc(t,i){return i=Wl({mode:"visible",children:i},t.mode,0,null),i.return=t,t.child=i}function Nl(t,i,a,c){return c!==null&&Tc(c),so(i,t.child,null,a),t=Gc(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function _v(t,i,a,c,f,m,v){if(a)return i.flags&256?(i.flags&=-257,c=$c(Error(n(422))),Nl(t,i,v,c)):i.memoizedState!==null?(i.child=t.child,i.flags|=128,null):(m=c.fallback,f=i.mode,c=Wl({mode:"visible",children:c.children},f,0,null),m=vs(m,f,v,null),m.flags|=2,c.return=i,m.return=i,c.sibling=m,i.child=c,i.mode&1&&so(i,t.child,null,v),i.child.memoizedState=Kc(v),i.memoizedState=Qc,m);if(!(i.mode&1))return Nl(t,i,v,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var A=c.dgst;return c=A,m=Error(n(419)),c=$c(m,c,void 0),Nl(t,i,v,c)}if(A=(v&t.childLanes)!==0,In||A){if(c=zt,c!==null){switch(v&-v){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(c.suspendedLanes|v)?0:f,f!==0&&f!==m.retryLane&&(m.retryLane=f,ei(t,f),pr(c,t,f,-1))}return hh(),c=$c(Error(n(421))),Nl(t,i,v,c)}return f.data==="$?"?(i.flags|=128,i.child=t.child,i=Dv.bind(null,t),f._reactRetry=i,null):(t=m.treeContext,Mn=Ci(f.nextSibling),Ln=i,vt=!0,cr=null,t!==null&&(Bn[$n++]=Jr,Bn[$n++]=Zr,Bn[$n++]=cs,Jr=t.id,Zr=t.overflow,cs=i),i=Gc(i,c.children),i.flags|=4096,i)}function xp(t,i,a){t.lanes|=i;var c=t.alternate;c!==null&&(c.lanes|=i),Ac(t.return,i,a)}function Yc(t,i,a,c,f){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=f)}function Dp(t,i,a){var c=i.pendingProps,f=c.revealOrder,m=c.tail;if(mn(t,i,c.children,a),c=Et.current,c&2)c=c&1|2,i.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xp(t,a,i);else if(t.tag===19)xp(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(ht(Et,c),!(i.mode&1))i.memoizedState=null;else switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&Al(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Yc(i,!1,f,a,m);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&Al(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Yc(i,!0,a,null,m);break;case"together":Yc(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ll(t,i){!(i.mode&1)&&t!==null&&(t.alternate=null,i.alternate=null,i.flags|=2)}function ni(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),ms|=i.lanes,!(a&i.childLanes))return null;if(t!==null&&i.child!==t.child)throw Error(n(153));if(i.child!==null){for(t=i.child,a=bi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=bi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function vv(t,i,a){switch(i.tag){case 3:Cp(i),io();break;case 5:qd(i);break;case 1:Sn(i.type)&&gl(i);break;case 4:kc(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,f=i.memoizedProps.value;ht(Tl,c._currentValue),c._currentValue=f;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(ht(Et,Et.current&1),i.flags|=128,null):a&i.child.childLanes?kp(t,i,a):(ht(Et,Et.current&1),t=ni(t,i,a),t!==null?t.sibling:null);ht(Et,Et.current&1);break;case 19:if(c=(a&i.childLanes)!==0,t.flags&128){if(c)return Dp(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ht(Et,Et.current),c)break;return null;case 22:case 23:return i.lanes=0,Ip(t,i,a)}return ni(t,i,a)}var Vp,Xc,Np,Lp;Vp=function(t,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)t.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Xc=function(){},Np=function(t,i,a,c){var f=t.memoizedProps;if(f!==c){t=i.stateNode,ds(xr.current);var m=null;switch(a){case"input":f=Ur(t,f),c=Ur(t,c),m=[];break;case"select":f=ue({},f,{value:void 0}),c=ue({},c,{value:void 0}),m=[];break;case"textarea":f=Xn(t,f),c=Xn(t,c),m=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=dl)}Tr(a,c);var v;a=null;for(W in f)if(!c.hasOwnProperty(W)&&f.hasOwnProperty(W)&&f[W]!=null)if(W==="style"){var A=f[W];for(v in A)A.hasOwnProperty(v)&&(a||(a={}),a[v]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(o.hasOwnProperty(W)?m||(m=[]):(m=m||[]).push(W,null));for(W in c){var D=c[W];if(A=f!=null?f[W]:void 0,c.hasOwnProperty(W)&&D!==A&&(D!=null||A!=null))if(W==="style")if(A){for(v in A)!A.hasOwnProperty(v)||D&&D.hasOwnProperty(v)||(a||(a={}),a[v]="");for(v in D)D.hasOwnProperty(v)&&A[v]!==D[v]&&(a||(a={}),a[v]=D[v])}else a||(m||(m=[]),m.push(W,a)),a=D;else W==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,A=A?A.__html:void 0,D!=null&&A!==D&&(m=m||[]).push(W,D)):W==="children"?typeof D!="string"&&typeof D!="number"||(m=m||[]).push(W,""+D):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(o.hasOwnProperty(W)?(D!=null&&W==="onScroll"&&mt("scroll",t),m||A===D||(m=[])):(m=m||[]).push(W,D))}a&&(m=m||[]).push("style",a);var W=m;(i.updateQueue=W)&&(i.flags|=4)}},Lp=function(t,i,a,c){a!==c&&(i.flags|=4)};function la(t,i){if(!vt)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function an(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,c=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=c,t.childLanes=a,i}function Ev(t,i,a){var c=i.pendingProps;switch(vc(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(i),null;case 1:return Sn(i.type)&&ml(),an(i),null;case 3:return c=i.stateNode,lo(),gt(Tn),gt(sn),Vc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(El(i)?i.flags|=4:t===null||t.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,cr!==null&&(lh(cr),cr=null))),Xc(t,i),an(i),null;case 5:xc(i);var f=ds(ra.current);if(a=i.type,t!==null&&i.stateNode!=null)Np(t,i,a,c,f),t.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(n(166));return an(i),null}if(t=ds(xr.current),El(i)){c=i.stateNode,a=i.type;var m=i.memoizedProps;switch(c[kr]=i,c[Jo]=m,t=(i.mode&1)!==0,a){case"dialog":mt("cancel",c),mt("close",c);break;case"iframe":case"object":case"embed":mt("load",c);break;case"video":case"audio":for(f=0;f<Go.length;f++)mt(Go[f],c);break;case"source":mt("error",c);break;case"img":case"image":case"link":mt("error",c),mt("load",c);break;case"details":mt("toggle",c);break;case"input":hi(c,m),mt("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},mt("invalid",c);break;case"textarea":zr(c,m),mt("invalid",c)}Tr(a,m),f=null;for(var v in m)if(m.hasOwnProperty(v)){var A=m[v];v==="children"?typeof A=="string"?c.textContent!==A&&(m.suppressHydrationWarning!==!0&&fl(c.textContent,A,t),f=["children",A]):typeof A=="number"&&c.textContent!==""+A&&(m.suppressHydrationWarning!==!0&&fl(c.textContent,A,t),f=["children",""+A]):o.hasOwnProperty(v)&&A!=null&&v==="onScroll"&&mt("scroll",c)}switch(a){case"input":Un(c),Ns(c,m,!0);break;case"textarea":Un(c),yn(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=dl)}c=f,i.updateQueue=c,c!==null&&(i.flags|=4)}else{v=f.nodeType===9?f:f.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=at(a)),t==="http://www.w3.org/1999/xhtml"?a==="script"?(t=v.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=v.createElement(a,{is:c.is}):(t=v.createElement(a),a==="select"&&(v=t,c.multiple?v.multiple=!0:c.size&&(v.size=c.size))):t=v.createElementNS(t,a),t[kr]=i,t[Jo]=c,Vp(t,i,!1,!1),i.stateNode=t;e:{switch(v=gi(a,c),a){case"dialog":mt("cancel",t),mt("close",t),f=c;break;case"iframe":case"object":case"embed":mt("load",t),f=c;break;case"video":case"audio":for(f=0;f<Go.length;f++)mt(Go[f],t);f=c;break;case"source":mt("error",t),f=c;break;case"img":case"image":case"link":mt("error",t),mt("load",t),f=c;break;case"details":mt("toggle",t),f=c;break;case"input":hi(t,c),f=Ur(t,c),mt("invalid",t);break;case"option":f=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},f=ue({},c,{value:void 0}),mt("invalid",t);break;case"textarea":zr(t,c),f=Xn(t,c),mt("invalid",t);break;default:f=c}Tr(a,f),A=f;for(m in A)if(A.hasOwnProperty(m)){var D=A[m];m==="style"?es(t,D):m==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&Zi(t,D)):m==="children"?typeof D=="string"?(a!=="textarea"||D!=="")&&qt(t,D):typeof D=="number"&&qt(t,""+D):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?D!=null&&m==="onScroll"&&mt("scroll",t):D!=null&&ie(t,m,D,v))}switch(a){case"input":Un(t),Ns(t,c,!1);break;case"textarea":Un(t),yn(t);break;case"option":c.value!=null&&t.setAttribute("value",""+Ze(c.value));break;case"select":t.multiple=!!c.multiple,m=c.value,m!=null?Ht(t,!!c.multiple,m,!1):c.defaultValue!=null&&Ht(t,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(t.onclick=dl)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return an(i),null;case 6:if(t&&i.stateNode!=null)Lp(t,i,t.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(n(166));if(a=ds(ra.current),ds(xr.current),El(i)){if(c=i.stateNode,a=i.memoizedProps,c[kr]=i,(m=c.nodeValue!==a)&&(t=Ln,t!==null))switch(t.tag){case 3:fl(c.nodeValue,a,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&fl(c.nodeValue,a,(t.mode&1)!==0)}m&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[kr]=i,i.stateNode=c}return an(i),null;case 13:if(gt(Et),c=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(vt&&Mn!==null&&i.mode&1&&!(i.flags&128))Fd(),io(),i.flags|=98560,m=!1;else if(m=El(i),c!==null&&c.dehydrated!==null){if(t===null){if(!m)throw Error(n(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[kr]=i}else io(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;an(i),m=!1}else cr!==null&&(lh(cr),cr=null),m=!0;if(!m)return i.flags&65536?i:null}return i.flags&128?(i.lanes=a,i):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(i.child.flags|=8192,i.mode&1&&(t===null||Et.current&1?Mt===0&&(Mt=3):hh())),i.updateQueue!==null&&(i.flags|=4),an(i),null);case 4:return lo(),Xc(t,i),t===null&&Yo(i.stateNode.containerInfo),an(i),null;case 10:return Rc(i.type._context),an(i),null;case 17:return Sn(i.type)&&ml(),an(i),null;case 19:if(gt(Et),m=i.memoizedState,m===null)return an(i),null;if(c=(i.flags&128)!==0,v=m.rendering,v===null)if(c)la(m,!1);else{if(Mt!==0||t!==null&&t.flags&128)for(t=i.child;t!==null;){if(v=Al(t),v!==null){for(i.flags|=128,la(m,!1),c=v.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)m=a,t=c,m.flags&=14680066,v=m.alternate,v===null?(m.childLanes=0,m.lanes=t,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=v.childLanes,m.lanes=v.lanes,m.child=v.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=v.memoizedProps,m.memoizedState=v.memoizedState,m.updateQueue=v.updateQueue,m.type=v.type,t=v.dependencies,m.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),a=a.sibling;return ht(Et,Et.current&1|2),i.child}t=t.sibling}m.tail!==null&&st()>fo&&(i.flags|=128,c=!0,la(m,!1),i.lanes=4194304)}else{if(!c)if(t=Al(v),t!==null){if(i.flags|=128,c=!0,a=t.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),la(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!vt)return an(i),null}else 2*st()-m.renderingStartTime>fo&&a!==1073741824&&(i.flags|=128,c=!0,la(m,!1),i.lanes=4194304);m.isBackwards?(v.sibling=i.child,i.child=v):(a=m.last,a!==null?a.sibling=v:i.child=v,m.last=v)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=st(),i.sibling=null,a=Et.current,ht(Et,c?a&1|2:a&1),i):(an(i),null);case 22:case 23:return ch(),c=i.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(i.flags|=8192),c&&i.mode&1?On&1073741824&&(an(i),i.subtreeFlags&6&&(i.flags|=8192)):an(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function wv(t,i){switch(vc(i),i.tag){case 1:return Sn(i.type)&&ml(),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return lo(),gt(Tn),gt(sn),Vc(),t=i.flags,t&65536&&!(t&128)?(i.flags=t&-65537|128,i):null;case 5:return xc(i),null;case 13:if(gt(Et),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(n(340));io()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return gt(Et),null;case 4:return lo(),null;case 10:return Rc(i.type._context),null;case 22:case 23:return ch(),null;case 24:return null;default:return null}}var Ml=!1,ln=!1,Tv=typeof WeakSet=="function"?WeakSet:Set,_e=null;function co(t,i){var a=t.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){Rt(t,i,c)}else a.current=null}function Jc(t,i,a){try{a()}catch(c){Rt(t,i,c)}}var Mp=!1;function Sv(t,i){if(cc=Ii,t=dd(),nc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var v=0,A=-1,D=-1,W=0,ne=0,re=t,te=null;t:for(;;){for(var de;re!==a||f!==0&&re.nodeType!==3||(A=v+f),re!==m||c!==0&&re.nodeType!==3||(D=v+c),re.nodeType===3&&(v+=re.nodeValue.length),(de=re.firstChild)!==null;)te=re,re=de;for(;;){if(re===t)break t;if(te===a&&++W===f&&(A=v),te===m&&++ne===c&&(D=v),(de=re.nextSibling)!==null)break;re=te,te=re.parentNode}re=de}a=A===-1||D===-1?null:{start:A,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(hc={focusedElem:t,selectionRange:a},Ii=!1,_e=i;_e!==null;)if(i=_e,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,_e=t;else for(;_e!==null;){i=_e;try{var we=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var Se=we.memoizedProps,Ct=we.memoizedState,B=i.stateNode,L=B.getSnapshotBeforeUpdate(i.elementType===i.type?Se:hr(i.type,Se),Ct);B.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var $=i.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(se){Rt(i,i.return,se)}if(t=i.sibling,t!==null){t.return=i.return,_e=t;break}_e=i.return}return we=Mp,Mp=!1,we}function ua(t,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&t)===t){var m=f.destroy;f.destroy=void 0,m!==void 0&&Jc(i,a,m)}f=f.next}while(f!==c)}}function Ol(t,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&t)===t){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function Zc(t){var i=t.ref;if(i!==null){var a=t.stateNode;switch(t.tag){case 5:t=a;break;default:t=a}typeof i=="function"?i(t):i.current=t}}function Op(t){var i=t.alternate;i!==null&&(t.alternate=null,Op(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&(delete i[kr],delete i[Jo],delete i[mc],delete i[sv],delete i[ov])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Fp(t){return t.tag===5||t.tag===3||t.tag===4}function bp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Fp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function eh(t,i,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(t,i):a.insertBefore(t,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(t,a)):(i=a,i.appendChild(t)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=dl));else if(c!==4&&(t=t.child,t!==null))for(eh(t,i,a),t=t.sibling;t!==null;)eh(t,i,a),t=t.sibling}function th(t,i,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(th(t,i,a),t=t.sibling;t!==null;)th(t,i,a),t=t.sibling}var Yt=null,fr=!1;function Ni(t,i,a){for(a=a.child;a!==null;)Up(t,i,a),a=a.sibling}function Up(t,i,a){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(vn,a)}catch{}switch(a.tag){case 5:ln||co(a,i);case 6:var c=Yt,f=fr;Yt=null,Ni(t,i,a),Yt=c,fr=f,Yt!==null&&(fr?(t=Yt,a=a.stateNode,t.nodeType===8?t.parentNode.removeChild(a):t.removeChild(a)):Yt.removeChild(a.stateNode));break;case 18:Yt!==null&&(fr?(t=Yt,a=a.stateNode,t.nodeType===8?pc(t.parentNode,a):t.nodeType===1&&pc(t,a),ar(t)):pc(Yt,a.stateNode));break;case 4:c=Yt,f=fr,Yt=a.stateNode.containerInfo,fr=!0,Ni(t,i,a),Yt=c,fr=f;break;case 0:case 11:case 14:case 15:if(!ln&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var m=f,v=m.destroy;m=m.tag,v!==void 0&&(m&2||m&4)&&Jc(a,i,v),f=f.next}while(f!==c)}Ni(t,i,a);break;case 1:if(!ln&&(co(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(A){Rt(a,i,A)}Ni(t,i,a);break;case 21:Ni(t,i,a);break;case 22:a.mode&1?(ln=(c=ln)||a.memoizedState!==null,Ni(t,i,a),ln=c):Ni(t,i,a);break;default:Ni(t,i,a)}}function zp(t){var i=t.updateQueue;if(i!==null){t.updateQueue=null;var a=t.stateNode;a===null&&(a=t.stateNode=new Tv),i.forEach(function(c){var f=Vv.bind(null,t,c);a.has(c)||(a.add(c),c.then(f,f))})}}function dr(t,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];try{var m=t,v=i,A=v;e:for(;A!==null;){switch(A.tag){case 5:Yt=A.stateNode,fr=!1;break e;case 3:Yt=A.stateNode.containerInfo,fr=!0;break e;case 4:Yt=A.stateNode.containerInfo,fr=!0;break e}A=A.return}if(Yt===null)throw Error(n(160));Up(m,v,f),Yt=null,fr=!1;var D=f.alternate;D!==null&&(D.return=null),f.return=null}catch(W){Rt(f,i,W)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)jp(i,t),i=i.sibling}function jp(t,i){var a=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(dr(i,t),Vr(t),c&4){try{ua(3,t,t.return),Ol(3,t)}catch(Se){Rt(t,t.return,Se)}try{ua(5,t,t.return)}catch(Se){Rt(t,t.return,Se)}}break;case 1:dr(i,t),Vr(t),c&512&&a!==null&&co(a,a.return);break;case 5:if(dr(i,t),Vr(t),c&512&&a!==null&&co(a,a.return),t.flags&32){var f=t.stateNode;try{qt(f,"")}catch(Se){Rt(t,t.return,Se)}}if(c&4&&(f=t.stateNode,f!=null)){var m=t.memoizedProps,v=a!==null?a.memoizedProps:m,A=t.type,D=t.updateQueue;if(t.updateQueue=null,D!==null)try{A==="input"&&m.type==="radio"&&m.name!=null&&fi(f,m),gi(A,v);var W=gi(A,m);for(v=0;v<D.length;v+=2){var ne=D[v],re=D[v+1];ne==="style"?es(f,re):ne==="dangerouslySetInnerHTML"?Zi(f,re):ne==="children"?qt(f,re):ie(f,ne,re,W)}switch(A){case"input":Ji(f,m);break;case"textarea":vr(f,m);break;case"select":var te=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!m.multiple;var de=m.value;de!=null?Ht(f,!!m.multiple,de,!1):te!==!!m.multiple&&(m.defaultValue!=null?Ht(f,!!m.multiple,m.defaultValue,!0):Ht(f,!!m.multiple,m.multiple?[]:"",!1))}f[Jo]=m}catch(Se){Rt(t,t.return,Se)}}break;case 6:if(dr(i,t),Vr(t),c&4){if(t.stateNode===null)throw Error(n(162));f=t.stateNode,m=t.memoizedProps;try{f.nodeValue=m}catch(Se){Rt(t,t.return,Se)}}break;case 3:if(dr(i,t),Vr(t),c&4&&a!==null&&a.memoizedState.isDehydrated)try{ar(i.containerInfo)}catch(Se){Rt(t,t.return,Se)}break;case 4:dr(i,t),Vr(t);break;case 13:dr(i,t),Vr(t),f=t.child,f.flags&8192&&(m=f.memoizedState!==null,f.stateNode.isHidden=m,!m||f.alternate!==null&&f.alternate.memoizedState!==null||(ih=st())),c&4&&zp(t);break;case 22:if(ne=a!==null&&a.memoizedState!==null,t.mode&1?(ln=(W=ln)||ne,dr(i,t),ln=W):dr(i,t),Vr(t),c&8192){if(W=t.memoizedState!==null,(t.stateNode.isHidden=W)&&!ne&&t.mode&1)for(_e=t,ne=t.child;ne!==null;){for(re=_e=ne;_e!==null;){switch(te=_e,de=te.child,te.tag){case 0:case 11:case 14:case 15:ua(4,te,te.return);break;case 1:co(te,te.return);var we=te.stateNode;if(typeof we.componentWillUnmount=="function"){c=te,a=te.return;try{i=c,we.props=i.memoizedProps,we.state=i.memoizedState,we.componentWillUnmount()}catch(Se){Rt(c,a,Se)}}break;case 5:co(te,te.return);break;case 22:if(te.memoizedState!==null){Hp(re);continue}}de!==null?(de.return=te,_e=de):Hp(re)}ne=ne.sibling}e:for(ne=null,re=t;;){if(re.tag===5){if(ne===null){ne=re;try{f=re.stateNode,W?(m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(A=re.stateNode,D=re.memoizedProps.style,v=D!=null&&D.hasOwnProperty("display")?D.display:null,A.style.display=pi("display",v))}catch(Se){Rt(t,t.return,Se)}}}else if(re.tag===6){if(ne===null)try{re.stateNode.nodeValue=W?"":re.memoizedProps}catch(Se){Rt(t,t.return,Se)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===t)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===t)break e;for(;re.sibling===null;){if(re.return===null||re.return===t)break e;ne===re&&(ne=null),re=re.return}ne===re&&(ne=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:dr(i,t),Vr(t),c&4&&zp(t);break;case 21:break;default:dr(i,t),Vr(t)}}function Vr(t){var i=t.flags;if(i&2){try{e:{for(var a=t.return;a!==null;){if(Fp(a)){var c=a;break e}a=a.return}throw Error(n(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(qt(f,""),c.flags&=-33);var m=bp(t);th(t,m,f);break;case 3:case 4:var v=c.stateNode.containerInfo,A=bp(t);eh(t,A,v);break;default:throw Error(n(161))}}catch(D){Rt(t,t.return,D)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Iv(t,i,a){_e=t,Bp(t)}function Bp(t,i,a){for(var c=(t.mode&1)!==0;_e!==null;){var f=_e,m=f.child;if(f.tag===22&&c){var v=f.memoizedState!==null||Ml;if(!v){var A=f.alternate,D=A!==null&&A.memoizedState!==null||ln;A=Ml;var W=ln;if(Ml=v,(ln=D)&&!W)for(_e=f;_e!==null;)v=_e,D=v.child,v.tag===22&&v.memoizedState!==null?qp(f):D!==null?(D.return=v,_e=D):qp(f);for(;m!==null;)_e=m,Bp(m),m=m.sibling;_e=f,Ml=A,ln=W}$p(t)}else f.subtreeFlags&8772&&m!==null?(m.return=f,_e=m):$p(t)}}function $p(t){for(;_e!==null;){var i=_e;if(i.flags&8772){var a=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:ln||Ol(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!ln)if(a===null)c.componentDidMount();else{var f=i.elementType===i.type?a.memoizedProps:hr(i.type,a.memoizedProps);c.componentDidUpdate(f,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=i.updateQueue;m!==null&&Hd(i,m,c);break;case 3:var v=i.updateQueue;if(v!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}Hd(i,v,a)}break;case 5:var A=i.stateNode;if(a===null&&i.flags&4){a=A;var D=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&a.focus();break;case"img":D.src&&(a.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var W=i.alternate;if(W!==null){var ne=W.memoizedState;if(ne!==null){var re=ne.dehydrated;re!==null&&ar(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ln||i.flags&512&&Zc(i)}catch(te){Rt(i,i.return,te)}}if(i===t){_e=null;break}if(a=i.sibling,a!==null){a.return=i.return,_e=a;break}_e=i.return}}function Hp(t){for(;_e!==null;){var i=_e;if(i===t){_e=null;break}var a=i.sibling;if(a!==null){a.return=i.return,_e=a;break}_e=i.return}}function qp(t){for(;_e!==null;){var i=_e;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{Ol(4,i)}catch(D){Rt(i,a,D)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var f=i.return;try{c.componentDidMount()}catch(D){Rt(i,f,D)}}var m=i.return;try{Zc(i)}catch(D){Rt(i,m,D)}break;case 5:var v=i.return;try{Zc(i)}catch(D){Rt(i,v,D)}}}catch(D){Rt(i,i.return,D)}if(i===t){_e=null;break}var A=i.sibling;if(A!==null){A.return=i.return,_e=A;break}_e=i.return}}var Rv=Math.ceil,Fl=pe.ReactCurrentDispatcher,nh=pe.ReactCurrentOwner,Wn=pe.ReactCurrentBatchConfig,tt=0,zt=null,xt=null,Xt=0,On=0,ho=Pi(0),Mt=0,ca=null,ms=0,bl=0,rh=0,ha=null,Rn=null,ih=0,fo=1/0,ri=null,Ul=!1,sh=null,Li=null,zl=!1,Mi=null,jl=0,fa=0,oh=null,Bl=-1,$l=0;function gn(){return tt&6?st():Bl!==-1?Bl:Bl=st()}function Oi(t){return t.mode&1?tt&2&&Xt!==0?Xt&-Xt:lv.transition!==null?($l===0&&($l=rs()),$l):(t=$e,t!==0||(t=window.event,t=t===void 0?16:zo(t.type)),t):1}function pr(t,i,a,c){if(50<fa)throw fa=0,oh=null,Error(n(185));Ei(t,a,c),(!(tt&2)||t!==zt)&&(t===zt&&(!(tt&2)&&(bl|=a),Mt===4&&Fi(t,Xt)),An(t,c),a===1&&tt===0&&!(i.mode&1)&&(fo=st()+500,yl&&xi()))}function An(t,i){var a=t.callbackNode;qr(t,i);var c=ns(t,t===zt?Xt:0);if(c===0)a!==null&&$r(a),t.callbackNode=null,t.callbackPriority=0;else if(i=c&-c,t.callbackPriority!==i){if(a!=null&&$r(a),i===1)t.tag===0?av(Qp.bind(null,t)):Vd(Qp.bind(null,t)),rv(function(){!(tt&6)&&xi()}),a=null;else{switch(Ti(c)){case 1:a=Ke;break;case 4:a=dt;break;case 16:a=Qt;break;case 536870912:a=pt;break;default:a=Qt}a=tm(a,Wp.bind(null,t))}t.callbackPriority=i,t.callbackNode=a}}function Wp(t,i){if(Bl=-1,$l=0,tt&6)throw Error(n(327));var a=t.callbackNode;if(po()&&t.callbackNode!==a)return null;var c=ns(t,t===zt?Xt:0);if(c===0)return null;if(c&30||c&t.expiredLanes||i)i=Hl(t,c);else{i=c;var f=tt;tt|=2;var m=Gp();(zt!==t||Xt!==i)&&(ri=null,fo=st()+500,ys(t,i));do try{Pv();break}catch(A){Kp(t,A)}while(!0);Ic(),Fl.current=m,tt=f,xt!==null?i=0:(zt=null,Xt=0,i=Mt)}if(i!==0){if(i===2&&(f=Dn(t),f!==0&&(c=f,i=ah(t,f))),i===1)throw a=ca,ys(t,0),Fi(t,c),An(t,st()),a;if(i===6)Fi(t,c);else{if(f=t.current.alternate,!(c&30)&&!Av(f)&&(i=Hl(t,c),i===2&&(m=Dn(t),m!==0&&(c=m,i=ah(t,m))),i===1))throw a=ca,ys(t,0),Fi(t,c),An(t,st()),a;switch(t.finishedWork=f,t.finishedLanes=c,i){case 0:case 1:throw Error(n(345));case 2:_s(t,Rn,ri);break;case 3:if(Fi(t,c),(c&130023424)===c&&(i=ih+500-st(),10<i)){if(ns(t,0)!==0)break;if(f=t.suspendedLanes,(f&c)!==c){gn(),t.pingedLanes|=t.suspendedLanes&f;break}t.timeoutHandle=dc(_s.bind(null,t,Rn,ri),i);break}_s(t,Rn,ri);break;case 4:if(Fi(t,c),(c&4194240)===c)break;for(i=t.eventTimes,f=-1;0<c;){var v=31-dn(c);m=1<<v,v=i[v],v>f&&(f=v),c&=~m}if(c=f,c=st()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Rv(c/1960))-c,10<c){t.timeoutHandle=dc(_s.bind(null,t,Rn,ri),c);break}_s(t,Rn,ri);break;case 5:_s(t,Rn,ri);break;default:throw Error(n(329))}}}return An(t,st()),t.callbackNode===a?Wp.bind(null,t):null}function ah(t,i){var a=ha;return t.current.memoizedState.isDehydrated&&(ys(t,i).flags|=256),t=Hl(t,i),t!==2&&(i=Rn,Rn=a,i!==null&&lh(i)),t}function lh(t){Rn===null?Rn=t:Rn.push.apply(Rn,t)}function Av(t){for(var i=t;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var f=a[c],m=f.getSnapshot;f=f.value;try{if(!ur(m(),f))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Fi(t,i){for(i&=~rh,i&=~bl,t.suspendedLanes|=i,t.pingedLanes&=~i,t=t.expirationTimes;0<i;){var a=31-dn(i),c=1<<a;t[a]=-1,i&=~c}}function Qp(t){if(tt&6)throw Error(n(327));po();var i=ns(t,0);if(!(i&1))return An(t,st()),null;var a=Hl(t,i);if(t.tag!==0&&a===2){var c=Dn(t);c!==0&&(i=c,a=ah(t,c))}if(a===1)throw a=ca,ys(t,0),Fi(t,i),An(t,st()),a;if(a===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=i,_s(t,Rn,ri),An(t,st()),null}function uh(t,i){var a=tt;tt|=1;try{return t(i)}finally{tt=a,tt===0&&(fo=st()+500,yl&&xi())}}function gs(t){Mi!==null&&Mi.tag===0&&!(tt&6)&&po();var i=tt;tt|=1;var a=Wn.transition,c=$e;try{if(Wn.transition=null,$e=1,t)return t()}finally{$e=c,Wn.transition=a,tt=i,!(tt&6)&&xi()}}function ch(){On=ho.current,gt(ho)}function ys(t,i){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;if(a!==-1&&(t.timeoutHandle=-1,nv(a)),xt!==null)for(a=xt.return;a!==null;){var c=a;switch(vc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&ml();break;case 3:lo(),gt(Tn),gt(sn),Vc();break;case 5:xc(c);break;case 4:lo();break;case 13:gt(Et);break;case 19:gt(Et);break;case 10:Rc(c.type._context);break;case 22:case 23:ch()}a=a.return}if(zt=t,xt=t=bi(t.current,null),Xt=On=i,Mt=0,ca=null,rh=bl=ms=0,Rn=ha=null,fs!==null){for(i=0;i<fs.length;i++)if(a=fs[i],c=a.interleaved,c!==null){a.interleaved=null;var f=c.next,m=a.pending;if(m!==null){var v=m.next;m.next=f,c.next=v}a.pending=c}fs=null}return t}function Kp(t,i){do{var a=xt;try{if(Ic(),Cl.current=Dl,Pl){for(var c=wt.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Pl=!1}if(ps=0,Ut=Lt=wt=null,ia=!1,sa=0,nh.current=null,a===null||a.return===null){Mt=1,ca=i,xt=null;break}e:{var m=t,v=a.return,A=a,D=i;if(i=Xt,A.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=D,ne=A,re=ne.tag;if(!(ne.mode&1)&&(re===0||re===11||re===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var de=vp(v);if(de!==null){de.flags&=-257,Ep(de,v,A,m,i),de.mode&1&&_p(m,W,i),i=de,D=W;var we=i.updateQueue;if(we===null){var Se=new Set;Se.add(D),i.updateQueue=Se}else we.add(D);break e}else{if(!(i&1)){_p(m,W,i),hh();break e}D=Error(n(426))}}else if(vt&&A.mode&1){var Ct=vp(v);if(Ct!==null){!(Ct.flags&65536)&&(Ct.flags|=256),Ep(Ct,v,A,m,i),Tc(uo(D,A));break e}}m=D=uo(D,A),Mt!==4&&(Mt=2),ha===null?ha=[m]:ha.push(m),m=v;do{switch(m.tag){case 3:m.flags|=65536,i&=-i,m.lanes|=i;var B=gp(m,D,i);$d(m,B);break e;case 1:A=D;var L=m.type,$=m.stateNode;if(!(m.flags&128)&&(typeof L.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(Li===null||!Li.has($)))){m.flags|=65536,i&=-i,m.lanes|=i;var se=yp(m,A,i);$d(m,se);break e}}m=m.return}while(m!==null)}Xp(a)}catch(Ie){i=Ie,xt===a&&a!==null&&(xt=a=a.return);continue}break}while(!0)}function Gp(){var t=Fl.current;return Fl.current=Dl,t===null?Dl:t}function hh(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),zt===null||!(ms&268435455)&&!(bl&268435455)||Fi(zt,Xt)}function Hl(t,i){var a=tt;tt|=2;var c=Gp();(zt!==t||Xt!==i)&&(ri=null,ys(t,i));do try{Cv();break}catch(f){Kp(t,f)}while(!0);if(Ic(),tt=a,Fl.current=c,xt!==null)throw Error(n(261));return zt=null,Xt=0,Mt}function Cv(){for(;xt!==null;)Yp(xt)}function Pv(){for(;xt!==null&&!Sr();)Yp(xt)}function Yp(t){var i=em(t.alternate,t,On);t.memoizedProps=t.pendingProps,i===null?Xp(t):xt=i,nh.current=null}function Xp(t){var i=t;do{var a=i.alternate;if(t=i.return,i.flags&32768){if(a=wv(a,i),a!==null){a.flags&=32767,xt=a;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Mt=6,xt=null;return}}else if(a=Ev(a,i,On),a!==null){xt=a;return}if(i=i.sibling,i!==null){xt=i;return}xt=i=t}while(i!==null);Mt===0&&(Mt=5)}function _s(t,i,a){var c=$e,f=Wn.transition;try{Wn.transition=null,$e=1,kv(t,i,a,c)}finally{Wn.transition=f,$e=c}return null}function kv(t,i,a,c){do po();while(Mi!==null);if(tt&6)throw Error(n(327));a=t.finishedWork;var f=t.finishedLanes;if(a===null)return null;if(t.finishedWork=null,t.finishedLanes=0,a===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var m=a.lanes|a.childLanes;if(ut(t,m),t===zt&&(xt=zt=null,Xt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||zl||(zl=!0,tm(Qt,function(){return po(),null})),m=(a.flags&15990)!==0,a.subtreeFlags&15990||m){m=Wn.transition,Wn.transition=null;var v=$e;$e=1;var A=tt;tt|=4,nh.current=null,Sv(t,a),jp(a,t),G_(hc),Ii=!!cc,hc=cc=null,t.current=a,Iv(a),nr(),tt=A,$e=v,Wn.transition=m}else t.current=a;if(zl&&(zl=!1,Mi=t,jl=f),m=t.pendingLanes,m===0&&(Li=null),Ls(a.stateNode),An(t,st()),i!==null)for(c=t.onRecoverableError,a=0;a<i.length;a++)f=i[a],c(f.value,{componentStack:f.stack,digest:f.digest});if(Ul)throw Ul=!1,t=sh,sh=null,t;return jl&1&&t.tag!==0&&po(),m=t.pendingLanes,m&1?t===oh?fa++:(fa=0,oh=t):fa=0,xi(),null}function po(){if(Mi!==null){var t=Ti(jl),i=Wn.transition,a=$e;try{if(Wn.transition=null,$e=16>t?16:t,Mi===null)var c=!1;else{if(t=Mi,Mi=null,jl=0,tt&6)throw Error(n(331));var f=tt;for(tt|=4,_e=t.current;_e!==null;){var m=_e,v=m.child;if(_e.flags&16){var A=m.deletions;if(A!==null){for(var D=0;D<A.length;D++){var W=A[D];for(_e=W;_e!==null;){var ne=_e;switch(ne.tag){case 0:case 11:case 15:ua(8,ne,m)}var re=ne.child;if(re!==null)re.return=ne,_e=re;else for(;_e!==null;){ne=_e;var te=ne.sibling,de=ne.return;if(Op(ne),ne===W){_e=null;break}if(te!==null){te.return=de,_e=te;break}_e=de}}}var we=m.alternate;if(we!==null){var Se=we.child;if(Se!==null){we.child=null;do{var Ct=Se.sibling;Se.sibling=null,Se=Ct}while(Se!==null)}}_e=m}}if(m.subtreeFlags&2064&&v!==null)v.return=m,_e=v;else e:for(;_e!==null;){if(m=_e,m.flags&2048)switch(m.tag){case 0:case 11:case 15:ua(9,m,m.return)}var B=m.sibling;if(B!==null){B.return=m.return,_e=B;break e}_e=m.return}}var L=t.current;for(_e=L;_e!==null;){v=_e;var $=v.child;if(v.subtreeFlags&2064&&$!==null)$.return=v,_e=$;else e:for(v=L;_e!==null;){if(A=_e,A.flags&2048)try{switch(A.tag){case 0:case 11:case 15:Ol(9,A)}}catch(Ie){Rt(A,A.return,Ie)}if(A===v){_e=null;break e}var se=A.sibling;if(se!==null){se.return=A.return,_e=se;break e}_e=A.return}}if(tt=f,xi(),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(vn,t)}catch{}c=!0}return c}finally{$e=a,Wn.transition=i}}return!1}function Jp(t,i,a){i=uo(a,i),i=gp(t,i,1),t=Vi(t,i,1),i=gn(),t!==null&&(Ei(t,1,i),An(t,i))}function Rt(t,i,a){if(t.tag===3)Jp(t,t,a);else for(;i!==null;){if(i.tag===3){Jp(i,t,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Li===null||!Li.has(c))){t=uo(a,t),t=yp(i,t,1),i=Vi(i,t,1),t=gn(),i!==null&&(Ei(i,1,t),An(i,t));break}}i=i.return}}function xv(t,i,a){var c=t.pingCache;c!==null&&c.delete(i),i=gn(),t.pingedLanes|=t.suspendedLanes&a,zt===t&&(Xt&a)===a&&(Mt===4||Mt===3&&(Xt&130023424)===Xt&&500>st()-ih?ys(t,0):rh|=a),An(t,i)}function Zp(t,i){i===0&&(t.mode&1?(i=Os,Os<<=1,!(Os&130023424)&&(Os=4194304)):i=1);var a=gn();t=ei(t,i),t!==null&&(Ei(t,i,a),An(t,a))}function Dv(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Zp(t,a)}function Vv(t,i){var a=0;switch(t.tag){case 13:var c=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(i),Zp(t,a)}var em;em=function(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps||Tn.current)In=!0;else{if(!(t.lanes&a)&&!(i.flags&128))return In=!1,vv(t,i,a);In=!!(t.flags&131072)}else In=!1,vt&&i.flags&1048576&&Nd(i,vl,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;Ll(t,i),t=i.pendingProps;var f=to(i,sn.current);ao(i,a),f=Mc(null,i,c,t,f,a);var m=Oc();return i.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Sn(c)?(m=!0,gl(i)):m=!1,i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Pc(i),f.updater=Vl,i.stateNode=f,f._reactInternals=i,Bc(i,c,t,a),i=Wc(null,i,c,!0,m,a)):(i.tag=0,vt&&m&&_c(i),mn(null,i,f,a),i=i.child),i;case 16:c=i.elementType;e:{switch(Ll(t,i),t=i.pendingProps,f=c._init,c=f(c._payload),i.type=c,f=i.tag=Lv(c),t=hr(c,t),f){case 0:i=qc(null,i,c,t,a);break e;case 1:i=Ap(null,i,c,t,a);break e;case 11:i=wp(null,i,c,t,a);break e;case 14:i=Tp(null,i,c,hr(c.type,t),a);break e}throw Error(n(306,c,""))}return i;case 0:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:hr(c,f),qc(t,i,c,f,a);case 1:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:hr(c,f),Ap(t,i,c,f,a);case 3:e:{if(Cp(i),t===null)throw Error(n(387));c=i.pendingProps,m=i.memoizedState,f=m.element,Bd(t,i),Rl(i,c,null,a);var v=i.memoizedState;if(c=v.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){f=uo(Error(n(423)),i),i=Pp(t,i,c,a,f);break e}else if(c!==f){f=uo(Error(n(424)),i),i=Pp(t,i,c,a,f);break e}else for(Mn=Ci(i.stateNode.containerInfo.firstChild),Ln=i,vt=!0,cr=null,a=zd(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(io(),c===f){i=ni(t,i,a);break e}mn(t,i,c,a)}i=i.child}return i;case 5:return qd(i),t===null&&wc(i),c=i.type,f=i.pendingProps,m=t!==null?t.memoizedProps:null,v=f.children,fc(c,f)?v=null:m!==null&&fc(c,m)&&(i.flags|=32),Rp(t,i),mn(t,i,v,a),i.child;case 6:return t===null&&wc(i),null;case 13:return kp(t,i,a);case 4:return kc(i,i.stateNode.containerInfo),c=i.pendingProps,t===null?i.child=so(i,null,c,a):mn(t,i,c,a),i.child;case 11:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:hr(c,f),wp(t,i,c,f,a);case 7:return mn(t,i,i.pendingProps,a),i.child;case 8:return mn(t,i,i.pendingProps.children,a),i.child;case 12:return mn(t,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,f=i.pendingProps,m=i.memoizedProps,v=f.value,ht(Tl,c._currentValue),c._currentValue=v,m!==null)if(ur(m.value,v)){if(m.children===f.children&&!Tn.current){i=ni(t,i,a);break e}}else for(m=i.child,m!==null&&(m.return=i);m!==null;){var A=m.dependencies;if(A!==null){v=m.child;for(var D=A.firstContext;D!==null;){if(D.context===c){if(m.tag===1){D=ti(-1,a&-a),D.tag=2;var W=m.updateQueue;if(W!==null){W=W.shared;var ne=W.pending;ne===null?D.next=D:(D.next=ne.next,ne.next=D),W.pending=D}}m.lanes|=a,D=m.alternate,D!==null&&(D.lanes|=a),Ac(m.return,a,i),A.lanes|=a;break}D=D.next}}else if(m.tag===10)v=m.type===i.type?null:m.child;else if(m.tag===18){if(v=m.return,v===null)throw Error(n(341));v.lanes|=a,A=v.alternate,A!==null&&(A.lanes|=a),Ac(v,a,i),v=m.sibling}else v=m.child;if(v!==null)v.return=m;else for(v=m;v!==null;){if(v===i){v=null;break}if(m=v.sibling,m!==null){m.return=v.return,v=m;break}v=v.return}m=v}mn(t,i,f.children,a),i=i.child}return i;case 9:return f=i.type,c=i.pendingProps.children,ao(i,a),f=Hn(f),c=c(f),i.flags|=1,mn(t,i,c,a),i.child;case 14:return c=i.type,f=hr(c,i.pendingProps),f=hr(c.type,f),Tp(t,i,c,f,a);case 15:return Sp(t,i,i.type,i.pendingProps,a);case 17:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:hr(c,f),Ll(t,i),i.tag=1,Sn(c)?(t=!0,gl(i)):t=!1,ao(i,a),pp(i,c,f),Bc(i,c,f,a),Wc(null,i,c,!0,t,a);case 19:return Dp(t,i,a);case 22:return Ip(t,i,a)}throw Error(n(156,i.tag))};function tm(t,i){return Wt(t,i)}function Nv(t,i,a,c){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(t,i,a,c){return new Nv(t,i,a,c)}function fh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Lv(t){if(typeof t=="function")return fh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===b)return 11;if(t===We)return 14}return 2}function bi(t,i){var a=t.alternate;return a===null?(a=Qn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&14680064,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a}function ql(t,i,a,c,f,m){var v=2;if(c=t,typeof t=="function")fh(t)&&(v=1);else if(typeof t=="string")v=5;else e:switch(t){case k:return vs(a.children,f,m,i);case T:v=8,f|=8;break;case R:return t=Qn(12,a,i,f|2),t.elementType=R,t.lanes=m,t;case P:return t=Qn(13,a,i,f),t.elementType=P,t.lanes=m,t;case ct:return t=Qn(19,a,i,f),t.elementType=ct,t.lanes=m,t;case Qe:return Wl(a,f,m,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case x:v=10;break e;case N:v=9;break e;case b:v=11;break e;case We:v=14;break e;case At:v=16,c=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return i=Qn(v,a,i,f),i.elementType=t,i.type=c,i.lanes=m,i}function vs(t,i,a,c){return t=Qn(7,t,c,i),t.lanes=a,t}function Wl(t,i,a,c){return t=Qn(22,t,c,i),t.elementType=Qe,t.lanes=a,t.stateNode={isHidden:!1},t}function dh(t,i,a){return t=Qn(6,t,null,i),t.lanes=a,t}function ph(t,i,a){return i=Qn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function Mv(t,i,a,c,f){this.tag=i,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vi(0),this.expirationTimes=vi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function mh(t,i,a,c,f,m,v,A,D){return t=new Mv(t,i,a,A,D),i===1?(i=1,m===!0&&(i|=8)):i=0,m=Qn(3,null,null,i),t.current=m,m.stateNode=t,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pc(m),t}function Ov(t,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ce,key:c==null?null:""+c,children:t,containerInfo:i,implementation:a}}function nm(t){if(!t)return ki;t=t._reactInternals;e:{if(Be(t)!==t||t.tag!==1)throw Error(n(170));var i=t;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Sn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(t.tag===1){var a=t.type;if(Sn(a))return xd(t,a,i)}return i}function rm(t,i,a,c,f,m,v,A,D){return t=mh(a,c,!0,t,f,m,v,A,D),t.context=nm(null),a=t.current,c=gn(),f=Oi(a),m=ti(c,f),m.callback=i??null,Vi(a,m,f),t.current.lanes=f,Ei(t,f,c),An(t,c),t}function Ql(t,i,a,c){var f=i.current,m=gn(),v=Oi(f);return a=nm(a),i.context===null?i.context=a:i.pendingContext=a,i=ti(m,v),i.payload={element:t},c=c===void 0?null:c,c!==null&&(i.callback=c),t=Vi(f,i,v),t!==null&&(pr(t,f,v,m),Il(t,f,v)),v}function Kl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function im(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function gh(t,i){im(t,i),(t=t.alternate)&&im(t,i)}var sm=typeof reportError=="function"?reportError:function(t){console.error(t)};function yh(t){this._internalRoot=t}Gl.prototype.render=yh.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(n(409));Ql(t,i,null,null)},Gl.prototype.unmount=yh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;gs(function(){Ql(null,t,null,null)}),i[Yr]=null}};function Gl(t){this._internalRoot=t}Gl.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ga();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Rr.length&&i!==0&&i<Rr[a].priority;a++);Rr.splice(a,0,t),a===0&&Ja(t)}};function _h(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function om(){}function Fv(t,i,a,c,f){if(f){if(typeof c=="function"){var m=c;c=function(){var W=Kl(v);m.call(W)}}var v=rm(i,c,t,0,null,!1,!1,"",om);return t._reactRootContainer=v,t[Yr]=v.current,Yo(t.nodeType===8?t.parentNode:t),gs(),v}for(;f=t.lastChild;)t.removeChild(f);if(typeof c=="function"){var A=c;c=function(){var W=Kl(D);A.call(W)}}var D=mh(t,0,!1,null,null,!1,!1,"",om);return t._reactRootContainer=D,t[Yr]=D.current,Yo(t.nodeType===8?t.parentNode:t),gs(function(){Ql(i,D,a,c)}),D}function Xl(t,i,a,c,f){var m=a._reactRootContainer;if(m){var v=m;if(typeof f=="function"){var A=f;f=function(){var D=Kl(v);A.call(D)}}Ql(i,v,t,f)}else v=Fv(a,i,t,f,c);return Kl(v)}Qa=function(t){switch(t.tag){case 3:var i=t.stateNode;if(i.current.memoizedState.isDehydrated){var a=_i(i.pendingLanes);a!==0&&(wi(i,a|1),An(i,st()),!(tt&6)&&(fo=st()+500,xi()))}break;case 13:gs(function(){var c=ei(t,1);if(c!==null){var f=gn();pr(c,t,1,f)}}),gh(t,1)}},Fs=function(t){if(t.tag===13){var i=ei(t,134217728);if(i!==null){var a=gn();pr(i,t,134217728,a)}gh(t,134217728)}},Ka=function(t){if(t.tag===13){var i=Oi(t),a=ei(t,i);if(a!==null){var c=gn();pr(a,t,i,c)}gh(t,i)}},Ga=function(){return $e},Ya=function(t,i){var a=$e;try{return $e=t,i()}finally{$e=a}},jr=function(t,i,a){switch(i){case"input":if(Ji(t,a),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==t&&c.form===t.form){var f=pl(c);if(!f)throw Error(n(90));ci(c),Ji(c,f)}}}break;case"textarea":vr(t,a);break;case"select":i=a.value,i!=null&&Ht(t,!!a.multiple,i,!1)}},Br=uh,V=gs;var bv={usingClientEntryPoint:!1,Events:[Zo,Zs,pl,fn,ts,uh]},da={findFiberByHostInstance:ls,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Uv={bundleType:da.bundleType,version:da.version,rendererPackageName:da.rendererPackageName,rendererConfig:da.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pe.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=tr(t),t===null?null:t.stateNode},findFiberByHostInstance:da.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jl.isDisabled&&Jl.supportsFiber)try{vn=Jl.inject(Uv),rn=Jl}catch{}}return Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bv,Cn.createPortal=function(t,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_h(i))throw Error(n(200));return Ov(t,i,null,a)},Cn.createRoot=function(t,i){if(!_h(t))throw Error(n(299));var a=!1,c="",f=sm;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),i=mh(t,1,!1,null,null,a,!1,c,f),t[Yr]=i.current,Yo(t.nodeType===8?t.parentNode:t),new yh(i)},Cn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=tr(i),t=t===null?null:t.stateNode,t},Cn.flushSync=function(t){return gs(t)},Cn.hydrate=function(t,i,a){if(!Yl(i))throw Error(n(200));return Xl(null,t,i,!0,a)},Cn.hydrateRoot=function(t,i,a){if(!_h(t))throw Error(n(405));var c=a!=null&&a.hydratedSources||null,f=!1,m="",v=sm;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),i=rm(i,null,t,1,a??null,f,!1,m,v),t[Yr]=i.current,Yo(t),c)for(t=0;t<c.length;t++)a=c[t],f=a._getVersion,f=f(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,f]:i.mutableSourceEagerHydrationData.push(a,f);return new Gl(i)},Cn.render=function(t,i,a){if(!Yl(i))throw Error(n(200));return Xl(null,t,i,!1,a)},Cn.unmountComponentAtNode=function(t){if(!Yl(t))throw Error(n(40));return t._reactRootContainer?(gs(function(){Xl(null,null,t,!1,function(){t._reactRootContainer=null,t[Yr]=null})}),!0):!1},Cn.unstable_batchedUpdates=uh,Cn.unstable_renderSubtreeIntoContainer=function(t,i,a,c){if(!Yl(a))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Xl(t,i,a,!1,c)},Cn.version="18.3.1-next-f1338f8080-20240426",Cn}var pm;function Og(){if(pm)return wh.exports;pm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),wh.exports=Qv(),wh.exports}var mm;function Kv(){if(mm)return Zl;mm=1;var r=Og();return Zl.createRoot=r.createRoot,Zl.hydrateRoot=r.hydrateRoot,Zl}var Gv=Kv();const Yv=Mg(Gv);var gm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Xv=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],d=r[n++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},bg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,d=h?r[o+1]:0,g=o+2<r.length,_=g?r[o+2]:0,E=u>>2,S=(u&3)<<4|d>>4;let I=(d&15)<<2|_>>6,C=_&63;g||(C=64,h||(I=64)),s.push(n[E],n[S],n[I],n[C])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Fg(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Xv(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],d=o<r.length?n[r.charAt(o)]:0;++o;const _=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||d==null||_==null||S==null)throw new Jv;const I=u<<2|d>>4;if(s.push(I),_!==64){const C=d<<4&240|_>>2;if(s.push(C),S!==64){const M=_<<6&192|S;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Jv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Zv=function(r){const e=Fg(r);return bg.encodeByteArray(e,!0)},gu=function(r){return Zv(r).replace(/\./g,"")},eE=function(r){try{return bg.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE=()=>tE().__FIREBASE_DEFAULTS__,rE=()=>{if(typeof process>"u"||typeof gm>"u")return;const r=gm.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},iE=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&eE(r[1]);return e&&JSON.parse(e)},lf=()=>{try{return nE()||rE()||iE()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},sE=r=>{var e,n;return(n=(e=lf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},oE=r=>{const e=sE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Ug=()=>{var r;return(r=lf())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aE=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[gu(JSON.stringify(n)),gu(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cE(){var r;const e=(r=lf())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hE(){return!cE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fE(){try{return typeof indexedDB=="object"}catch{return!1}}function dE(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="FirebaseError";class Do extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=pE,Object.setPrototypeOf(this,Do.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zg.prototype.create)}}class zg{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?mE(u,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new Do(o,d,s)}}function mE(r,e){return r.replace(gE,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const gE=/\{\$([^}]+)}/g;function Oh(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(ym(u)&&ym(h)){if(!Oh(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function ym(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(r){return r&&r._delegate?r._delegate:r}class Pa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new aE;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vE(e))try{this.getOrInitializeService({instanceIdentifier:Es})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Es){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Es){return this.instances.has(e)}getOptions(e=Es){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&h.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:_E(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Es){return this.component?this.component.multipleInstances?e:Es:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _E(r){return r===Es?void 0:r}function vE(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Xe||(Xe={}));const wE={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},TE=Xe.INFO,SE={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},IE=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=SE[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jg{constructor(e){this.name=e,this._logLevel=TE,this._logHandler=IE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const RE=(r,e)=>e.some(n=>r instanceof n);let _m,vm;function AE(){return _m||(_m=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CE(){return vm||(vm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Bg=new WeakMap,Fh=new WeakMap,$g=new WeakMap,Ih=new WeakMap,uf=new WeakMap;function PE(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n($i(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&Bg.set(n,r)}).catch(()=>{}),uf.set(e,r),e}function kE(r){if(Fh.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Fh.set(r,e)}let bh={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Fh.get(r);if(e==="objectStoreNames")return r.objectStoreNames||$g.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $i(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function xE(r){bh=r(bh)}function DE(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Rh(this),e,...n);return $g.set(s,e.sort?e.sort():[e]),$i(s)}:CE().includes(r)?function(...e){return r.apply(Rh(this),e),$i(Bg.get(this))}:function(...e){return $i(r.apply(Rh(this),e))}}function VE(r){return typeof r=="function"?DE(r):(r instanceof IDBTransaction&&kE(r),RE(r,AE())?new Proxy(r,bh):r)}function $i(r){if(r instanceof IDBRequest)return PE(r);if(Ih.has(r))return Ih.get(r);const e=VE(r);return e!==r&&(Ih.set(r,e),uf.set(e,r)),e}const Rh=r=>uf.get(r);function NE(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),d=$i(h);return s&&h.addEventListener("upgradeneeded",g=>{s($i(h.result),g.oldVersion,g.newVersion,$i(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),d.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),d}const LE=["get","getKey","getAll","getAllKeys","count"],ME=["put","add","delete","clear"],Ah=new Map;function Em(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Ah.get(e))return Ah.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=ME.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||LE.includes(n)))return;const u=async function(h,...d){const g=this.transaction(h,o?"readwrite":"readonly");let _=g.store;return s&&(_=_.index(d.shift())),(await Promise.all([_[n](...d),o&&g.done]))[0]};return Ah.set(e,u),u}xE(r=>({...r,get:(e,n,s)=>Em(e,n)||r.get(e,n,s),has:(e,n)=>!!Em(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(FE(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function FE(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Uh="@firebase/app",wm="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new jg("@firebase/app"),bE="@firebase/app-compat",UE="@firebase/analytics-compat",zE="@firebase/analytics",jE="@firebase/app-check-compat",BE="@firebase/app-check",$E="@firebase/auth",HE="@firebase/auth-compat",qE="@firebase/database",WE="@firebase/data-connect",QE="@firebase/database-compat",KE="@firebase/functions",GE="@firebase/functions-compat",YE="@firebase/installations",XE="@firebase/installations-compat",JE="@firebase/messaging",ZE="@firebase/messaging-compat",ew="@firebase/performance",tw="@firebase/performance-compat",nw="@firebase/remote-config",rw="@firebase/remote-config-compat",iw="@firebase/storage",sw="@firebase/storage-compat",ow="@firebase/firestore",aw="@firebase/vertexai",lw="@firebase/firestore-compat",uw="firebase",cw="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh="[DEFAULT]",hw={[Uh]:"fire-core",[bE]:"fire-core-compat",[zE]:"fire-analytics",[UE]:"fire-analytics-compat",[BE]:"fire-app-check",[jE]:"fire-app-check-compat",[$E]:"fire-auth",[HE]:"fire-auth-compat",[qE]:"fire-rtdb",[WE]:"fire-data-connect",[QE]:"fire-rtdb-compat",[KE]:"fire-fn",[GE]:"fire-fn-compat",[YE]:"fire-iid",[XE]:"fire-iid-compat",[JE]:"fire-fcm",[ZE]:"fire-fcm-compat",[ew]:"fire-perf",[tw]:"fire-perf-compat",[nw]:"fire-rc",[rw]:"fire-rc-compat",[iw]:"fire-gcs",[sw]:"fire-gcs-compat",[ow]:"fire-fst",[lw]:"fire-fst-compat",[aw]:"fire-vertex","fire-js":"fire-js",[uw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=new Map,fw=new Map,jh=new Map;function Tm(r,e){try{r.container.addComponent(e)}catch(n){oi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function _u(r){const e=r.name;if(jh.has(e))return oi.debug(`There were multiple attempts to register component ${e}.`),!1;jh.set(e,r);for(const n of yu.values())Tm(n,r);for(const n of fw.values())Tm(n,r);return!0}function dw(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hi=new zg("app","Firebase",pw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Pa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=cw;function Hg(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:zh,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Hi.create("bad-app-name",{appName:String(o)});if(n||(n=Ug()),!n)throw Hi.create("no-options");const u=yu.get(o);if(u){if(Oh(n,u.options)&&Oh(s,u.config))return u;throw Hi.create("duplicate-app",{appName:o})}const h=new EE(o);for(const g of jh.values())h.addComponent(g);const d=new mw(n,s,h);return yu.set(o,d),d}function yw(r=zh){const e=yu.get(r);if(!e&&r===zh&&Ug())return Hg();if(!e)throw Hi.create("no-app",{appName:r});return e}function Eo(r,e,n){var s;let o=(s=hw[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${o}" with version "${e}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oi.warn(d.join(" "));return}_u(new Pa(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="firebase-heartbeat-database",vw=1,ka="firebase-heartbeat-store";let Ch=null;function qg(){return Ch||(Ch=NE(_w,vw,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ka)}catch(n){console.warn(n)}}}}).catch(r=>{throw Hi.create("idb-open",{originalErrorMessage:r.message})})),Ch}async function Ew(r){try{const n=(await qg()).transaction(ka),s=await n.objectStore(ka).get(Wg(r));return await n.done,s}catch(e){if(e instanceof Do)oi.warn(e.message);else{const n=Hi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});oi.warn(n.message)}}}async function Sm(r,e){try{const s=(await qg()).transaction(ka,"readwrite");await s.objectStore(ka).put(e,Wg(r)),await s.done}catch(n){if(n instanceof Do)oi.warn(n.message);else{const s=Hi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});oi.warn(s.message)}}}function Wg(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=1024,Tw=30*24*60*60*1e3;class Sw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Rw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Im();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const d=new Date(h.date).valueOf();return Date.now()-d<=Tw}),this._storage.overwrite(this._heartbeatsCache))}catch(s){oi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Im(),{heartbeatsToSend:s,unsentEntries:o}=Iw(this._heartbeatsCache.heartbeats),u=gu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return oi.warn(n),""}}}function Im(){return new Date().toISOString().substring(0,10)}function Iw(r,e=ww){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Rm(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Rm(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Rw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fE()?dE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Ew(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Sm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Sm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Rm(r){return gu(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(r){_u(new Pa("platform-logger",e=>new OE(e),"PRIVATE")),_u(new Pa("heartbeat",e=>new Sw(e),"PRIVATE")),Eo(Uh,wm,r),Eo(Uh,wm,"esm2017"),Eo("fire-js","")}Aw("");var Am=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Is,Qg;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,T){function R(){}R.prototype=T.prototype,k.D=T.prototype,k.prototype=new R,k.prototype.constructor=k,k.C=function(x,N,b){for(var P=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)P[ct-2]=arguments[ct];return T.prototype[N].apply(x,P)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,T,R){R||(R=0);var x=Array(16);if(typeof T=="string")for(var N=0;16>N;++N)x[N]=T.charCodeAt(R++)|T.charCodeAt(R++)<<8|T.charCodeAt(R++)<<16|T.charCodeAt(R++)<<24;else for(N=0;16>N;++N)x[N]=T[R++]|T[R++]<<8|T[R++]<<16|T[R++]<<24;T=k.g[0],R=k.g[1],N=k.g[2];var b=k.g[3],P=T+(b^R&(N^b))+x[0]+3614090360&4294967295;T=R+(P<<7&4294967295|P>>>25),P=b+(N^T&(R^N))+x[1]+3905402710&4294967295,b=T+(P<<12&4294967295|P>>>20),P=N+(R^b&(T^R))+x[2]+606105819&4294967295,N=b+(P<<17&4294967295|P>>>15),P=R+(T^N&(b^T))+x[3]+3250441966&4294967295,R=N+(P<<22&4294967295|P>>>10),P=T+(b^R&(N^b))+x[4]+4118548399&4294967295,T=R+(P<<7&4294967295|P>>>25),P=b+(N^T&(R^N))+x[5]+1200080426&4294967295,b=T+(P<<12&4294967295|P>>>20),P=N+(R^b&(T^R))+x[6]+2821735955&4294967295,N=b+(P<<17&4294967295|P>>>15),P=R+(T^N&(b^T))+x[7]+4249261313&4294967295,R=N+(P<<22&4294967295|P>>>10),P=T+(b^R&(N^b))+x[8]+1770035416&4294967295,T=R+(P<<7&4294967295|P>>>25),P=b+(N^T&(R^N))+x[9]+2336552879&4294967295,b=T+(P<<12&4294967295|P>>>20),P=N+(R^b&(T^R))+x[10]+4294925233&4294967295,N=b+(P<<17&4294967295|P>>>15),P=R+(T^N&(b^T))+x[11]+2304563134&4294967295,R=N+(P<<22&4294967295|P>>>10),P=T+(b^R&(N^b))+x[12]+1804603682&4294967295,T=R+(P<<7&4294967295|P>>>25),P=b+(N^T&(R^N))+x[13]+4254626195&4294967295,b=T+(P<<12&4294967295|P>>>20),P=N+(R^b&(T^R))+x[14]+2792965006&4294967295,N=b+(P<<17&4294967295|P>>>15),P=R+(T^N&(b^T))+x[15]+1236535329&4294967295,R=N+(P<<22&4294967295|P>>>10),P=T+(N^b&(R^N))+x[1]+4129170786&4294967295,T=R+(P<<5&4294967295|P>>>27),P=b+(R^N&(T^R))+x[6]+3225465664&4294967295,b=T+(P<<9&4294967295|P>>>23),P=N+(T^R&(b^T))+x[11]+643717713&4294967295,N=b+(P<<14&4294967295|P>>>18),P=R+(b^T&(N^b))+x[0]+3921069994&4294967295,R=N+(P<<20&4294967295|P>>>12),P=T+(N^b&(R^N))+x[5]+3593408605&4294967295,T=R+(P<<5&4294967295|P>>>27),P=b+(R^N&(T^R))+x[10]+38016083&4294967295,b=T+(P<<9&4294967295|P>>>23),P=N+(T^R&(b^T))+x[15]+3634488961&4294967295,N=b+(P<<14&4294967295|P>>>18),P=R+(b^T&(N^b))+x[4]+3889429448&4294967295,R=N+(P<<20&4294967295|P>>>12),P=T+(N^b&(R^N))+x[9]+568446438&4294967295,T=R+(P<<5&4294967295|P>>>27),P=b+(R^N&(T^R))+x[14]+3275163606&4294967295,b=T+(P<<9&4294967295|P>>>23),P=N+(T^R&(b^T))+x[3]+4107603335&4294967295,N=b+(P<<14&4294967295|P>>>18),P=R+(b^T&(N^b))+x[8]+1163531501&4294967295,R=N+(P<<20&4294967295|P>>>12),P=T+(N^b&(R^N))+x[13]+2850285829&4294967295,T=R+(P<<5&4294967295|P>>>27),P=b+(R^N&(T^R))+x[2]+4243563512&4294967295,b=T+(P<<9&4294967295|P>>>23),P=N+(T^R&(b^T))+x[7]+1735328473&4294967295,N=b+(P<<14&4294967295|P>>>18),P=R+(b^T&(N^b))+x[12]+2368359562&4294967295,R=N+(P<<20&4294967295|P>>>12),P=T+(R^N^b)+x[5]+4294588738&4294967295,T=R+(P<<4&4294967295|P>>>28),P=b+(T^R^N)+x[8]+2272392833&4294967295,b=T+(P<<11&4294967295|P>>>21),P=N+(b^T^R)+x[11]+1839030562&4294967295,N=b+(P<<16&4294967295|P>>>16),P=R+(N^b^T)+x[14]+4259657740&4294967295,R=N+(P<<23&4294967295|P>>>9),P=T+(R^N^b)+x[1]+2763975236&4294967295,T=R+(P<<4&4294967295|P>>>28),P=b+(T^R^N)+x[4]+1272893353&4294967295,b=T+(P<<11&4294967295|P>>>21),P=N+(b^T^R)+x[7]+4139469664&4294967295,N=b+(P<<16&4294967295|P>>>16),P=R+(N^b^T)+x[10]+3200236656&4294967295,R=N+(P<<23&4294967295|P>>>9),P=T+(R^N^b)+x[13]+681279174&4294967295,T=R+(P<<4&4294967295|P>>>28),P=b+(T^R^N)+x[0]+3936430074&4294967295,b=T+(P<<11&4294967295|P>>>21),P=N+(b^T^R)+x[3]+3572445317&4294967295,N=b+(P<<16&4294967295|P>>>16),P=R+(N^b^T)+x[6]+76029189&4294967295,R=N+(P<<23&4294967295|P>>>9),P=T+(R^N^b)+x[9]+3654602809&4294967295,T=R+(P<<4&4294967295|P>>>28),P=b+(T^R^N)+x[12]+3873151461&4294967295,b=T+(P<<11&4294967295|P>>>21),P=N+(b^T^R)+x[15]+530742520&4294967295,N=b+(P<<16&4294967295|P>>>16),P=R+(N^b^T)+x[2]+3299628645&4294967295,R=N+(P<<23&4294967295|P>>>9),P=T+(N^(R|~b))+x[0]+4096336452&4294967295,T=R+(P<<6&4294967295|P>>>26),P=b+(R^(T|~N))+x[7]+1126891415&4294967295,b=T+(P<<10&4294967295|P>>>22),P=N+(T^(b|~R))+x[14]+2878612391&4294967295,N=b+(P<<15&4294967295|P>>>17),P=R+(b^(N|~T))+x[5]+4237533241&4294967295,R=N+(P<<21&4294967295|P>>>11),P=T+(N^(R|~b))+x[12]+1700485571&4294967295,T=R+(P<<6&4294967295|P>>>26),P=b+(R^(T|~N))+x[3]+2399980690&4294967295,b=T+(P<<10&4294967295|P>>>22),P=N+(T^(b|~R))+x[10]+4293915773&4294967295,N=b+(P<<15&4294967295|P>>>17),P=R+(b^(N|~T))+x[1]+2240044497&4294967295,R=N+(P<<21&4294967295|P>>>11),P=T+(N^(R|~b))+x[8]+1873313359&4294967295,T=R+(P<<6&4294967295|P>>>26),P=b+(R^(T|~N))+x[15]+4264355552&4294967295,b=T+(P<<10&4294967295|P>>>22),P=N+(T^(b|~R))+x[6]+2734768916&4294967295,N=b+(P<<15&4294967295|P>>>17),P=R+(b^(N|~T))+x[13]+1309151649&4294967295,R=N+(P<<21&4294967295|P>>>11),P=T+(N^(R|~b))+x[4]+4149444226&4294967295,T=R+(P<<6&4294967295|P>>>26),P=b+(R^(T|~N))+x[11]+3174756917&4294967295,b=T+(P<<10&4294967295|P>>>22),P=N+(T^(b|~R))+x[2]+718787259&4294967295,N=b+(P<<15&4294967295|P>>>17),P=R+(b^(N|~T))+x[9]+3951481745&4294967295,k.g[0]=k.g[0]+T&4294967295,k.g[1]=k.g[1]+(N+(P<<21&4294967295|P>>>11))&4294967295,k.g[2]=k.g[2]+N&4294967295,k.g[3]=k.g[3]+b&4294967295}s.prototype.u=function(k,T){T===void 0&&(T=k.length);for(var R=T-this.blockSize,x=this.B,N=this.h,b=0;b<T;){if(N==0)for(;b<=R;)o(this,k,b),b+=this.blockSize;if(typeof k=="string"){for(;b<T;)if(x[N++]=k.charCodeAt(b++),N==this.blockSize){o(this,x),N=0;break}}else for(;b<T;)if(x[N++]=k[b++],N==this.blockSize){o(this,x),N=0;break}}this.h=N,this.o+=T},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var T=1;T<k.length-8;++T)k[T]=0;var R=8*this.o;for(T=k.length-8;T<k.length;++T)k[T]=R&255,R/=256;for(this.u(k),k=Array(16),T=R=0;4>T;++T)for(var x=0;32>x;x+=8)k[R++]=this.g[T]>>>x&255;return k};function u(k,T){var R=d;return Object.prototype.hasOwnProperty.call(R,k)?R[k]:R[k]=T(k)}function h(k,T){this.h=T;for(var R=[],x=!0,N=k.length-1;0<=N;N--){var b=k[N]|0;x&&b==T||(R[N]=b,x=!1)}this.g=R}var d={};function g(k){return-128<=k&&128>k?u(k,function(T){return new h([T|0],0>T?-1:0)}):new h([k|0],0>k?-1:0)}function _(k){if(isNaN(k)||!isFinite(k))return S;if(0>k)return z(_(-k));for(var T=[],R=1,x=0;k>=R;x++)T[x]=k/R|0,R*=4294967296;return new h(T,0)}function E(k,T){if(k.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(k.charAt(0)=="-")return z(E(k.substring(1),T));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=_(Math.pow(T,8)),x=S,N=0;N<k.length;N+=8){var b=Math.min(8,k.length-N),P=parseInt(k.substring(N,N+b),T);8>b?(b=_(Math.pow(T,b)),x=x.j(b).add(_(P))):(x=x.j(R),x=x.add(_(P)))}return x}var S=g(0),I=g(1),C=g(16777216);r=h.prototype,r.m=function(){if(H(this))return-z(this).m();for(var k=0,T=1,R=0;R<this.g.length;R++){var x=this.i(R);k+=(0<=x?x:4294967296+x)*T,T*=4294967296}return k},r.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(M(this))return"0";if(H(this))return"-"+z(this).toString(k);for(var T=_(Math.pow(k,6)),R=this,x="";;){var N=pe(R,T).g;R=q(R,N.j(T));var b=((0<R.g.length?R.g[0]:R.h)>>>0).toString(k);if(R=N,M(R))return b+x;for(;6>b.length;)b="0"+b;x=b+x}},r.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function M(k){if(k.h!=0)return!1;for(var T=0;T<k.g.length;T++)if(k.g[T]!=0)return!1;return!0}function H(k){return k.h==-1}r.l=function(k){return k=q(this,k),H(k)?-1:M(k)?0:1};function z(k){for(var T=k.g.length,R=[],x=0;x<T;x++)R[x]=~k.g[x];return new h(R,~k.h).add(I)}r.abs=function(){return H(this)?z(this):this},r.add=function(k){for(var T=Math.max(this.g.length,k.g.length),R=[],x=0,N=0;N<=T;N++){var b=x+(this.i(N)&65535)+(k.i(N)&65535),P=(b>>>16)+(this.i(N)>>>16)+(k.i(N)>>>16);x=P>>>16,b&=65535,P&=65535,R[N]=P<<16|b}return new h(R,R[R.length-1]&-2147483648?-1:0)};function q(k,T){return k.add(z(T))}r.j=function(k){if(M(this)||M(k))return S;if(H(this))return H(k)?z(this).j(z(k)):z(z(this).j(k));if(H(k))return z(this.j(z(k)));if(0>this.l(C)&&0>k.l(C))return _(this.m()*k.m());for(var T=this.g.length+k.g.length,R=[],x=0;x<2*T;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var N=0;N<k.g.length;N++){var b=this.i(x)>>>16,P=this.i(x)&65535,ct=k.i(N)>>>16,We=k.i(N)&65535;R[2*x+2*N]+=P*We,ee(R,2*x+2*N),R[2*x+2*N+1]+=b*We,ee(R,2*x+2*N+1),R[2*x+2*N+1]+=P*ct,ee(R,2*x+2*N+1),R[2*x+2*N+2]+=b*ct,ee(R,2*x+2*N+2)}for(x=0;x<T;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=T;x<2*T;x++)R[x]=0;return new h(R,0)};function ee(k,T){for(;(k[T]&65535)!=k[T];)k[T+1]+=k[T]>>>16,k[T]&=65535,T++}function ie(k,T){this.g=k,this.h=T}function pe(k,T){if(M(T))throw Error("division by zero");if(M(k))return new ie(S,S);if(H(k))return T=pe(z(k),T),new ie(z(T.g),z(T.h));if(H(T))return T=pe(k,z(T)),new ie(z(T.g),T.h);if(30<k.g.length){if(H(k)||H(T))throw Error("slowDivide_ only works with positive integers.");for(var R=I,x=T;0>=x.l(k);)R=U(R),x=U(x);var N=ce(R,1),b=ce(x,1);for(x=ce(x,2),R=ce(R,2);!M(x);){var P=b.add(x);0>=P.l(k)&&(N=N.add(R),b=P),x=ce(x,1),R=ce(R,1)}return T=q(k,N.j(T)),new ie(N,T)}for(N=S;0<=k.l(T);){for(R=Math.max(1,Math.floor(k.m()/T.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),b=_(R),P=b.j(T);H(P)||0<P.l(k);)R-=x,b=_(R),P=b.j(T);M(b)&&(b=I),N=N.add(b),k=q(k,P)}return new ie(N,k)}r.A=function(k){return pe(this,k).h},r.and=function(k){for(var T=Math.max(this.g.length,k.g.length),R=[],x=0;x<T;x++)R[x]=this.i(x)&k.i(x);return new h(R,this.h&k.h)},r.or=function(k){for(var T=Math.max(this.g.length,k.g.length),R=[],x=0;x<T;x++)R[x]=this.i(x)|k.i(x);return new h(R,this.h|k.h)},r.xor=function(k){for(var T=Math.max(this.g.length,k.g.length),R=[],x=0;x<T;x++)R[x]=this.i(x)^k.i(x);return new h(R,this.h^k.h)};function U(k){for(var T=k.g.length+1,R=[],x=0;x<T;x++)R[x]=k.i(x)<<1|k.i(x-1)>>>31;return new h(R,k.h)}function ce(k,T){var R=T>>5;T%=32;for(var x=k.g.length-R,N=[],b=0;b<x;b++)N[b]=0<T?k.i(b+R)>>>T|k.i(b+R+1)<<32-T:k.i(b+R);return new h(N,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Qg=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=_,h.fromString=E,Is=h}).apply(typeof Am<"u"?Am:typeof self<"u"?self:typeof window<"u"?window:{});var eu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Kg,va,Gg,au,Bh,Yg,Xg,Jg;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,p,y){return l==Array.prototype||l==Object.prototype||(l[p]=y.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof eu=="object"&&eu];for(var p=0;p<l.length;++p){var y=l[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function o(l,p){if(p)e:{var y=s;l=l.split(".");for(var w=0;w<l.length-1;w++){var j=l[w];if(!(j in y))break e;y=y[j]}l=l[l.length-1],w=y[l],p=p(w),p!=w&&p!=null&&e(y,l,{configurable:!0,writable:!0,value:p})}}function u(l,p){l instanceof String&&(l+="");var y=0,w=!1,j={next:function(){if(!w&&y<l.length){var G=y++;return{value:p(G,l[G]),done:!1}}return w=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(l){return l||function(){return u(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function g(l){var p=typeof l;return p=p!="object"?p:l?Array.isArray(l)?"array":p:"null",p=="array"||p=="object"&&typeof l.length=="number"}function _(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function E(l,p,y){return l.call.apply(l.bind,arguments)}function S(l,p,y){if(!l)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,w),l.apply(p,j)}}return function(){return l.apply(p,arguments)}}function I(l,p,y){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,I.apply(null,arguments)}function C(l,p){var y=Array.prototype.slice.call(arguments,1);return function(){var w=y.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function M(l,p){function y(){}y.prototype=p.prototype,l.aa=p.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(w,j,G){for(var le=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)le[lt-2]=arguments[lt];return p.prototype[j].apply(w,le)}}function H(l){const p=l.length;if(0<p){const y=Array(p);for(let w=0;w<p;w++)y[w]=l[w];return y}return[]}function z(l,p){for(let y=1;y<arguments.length;y++){const w=arguments[y];if(g(w)){const j=l.length||0,G=w.length||0;l.length=j+G;for(let le=0;le<G;le++)l[j+le]=w[le]}else l.push(w)}}class q{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function ee(l){return/^[\s\xa0]*$/.test(l)}function ie(){var l=d.navigator;return l&&(l=l.userAgent)?l:""}function pe(l){return pe[" "](l),l}pe[" "]=function(){};var U=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function ce(l,p,y){for(const w in l)p.call(y,l[w],w,l)}function k(l,p){for(const y in l)p.call(void 0,l[y],y,l)}function T(l){const p={};for(const y in l)p[y]=l[y];return p}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(l,p){let y,w;for(let j=1;j<arguments.length;j++){w=arguments[j];for(y in w)l[y]=w[y];for(let G=0;G<R.length;G++)y=R[G],Object.prototype.hasOwnProperty.call(w,y)&&(l[y]=w[y])}}function N(l){var p=1;l=l.split(":");const y=[];for(;0<p&&l.length;)y.push(l.shift()),p--;return l.length&&y.push(l.join(":")),y}function b(l){d.setTimeout(()=>{throw l},0)}function P(){var l=Te;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class ct{constructor(){this.h=this.g=null}add(p,y){const w=We.get();w.set(p,y),this.h?this.h.next=w:this.g=w,this.h=w}}var We=new q(()=>new At,l=>l.reset());class At{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Qe,oe=!1,Te=new ct,ue=()=>{const l=d.Promise.resolve(void 0);Qe=()=>{l.then(O)}};var O=()=>{for(var l;l=P();){try{l.h.call(l.g)}catch(y){b(y)}var p=We;p.j(l),100>p.h&&(p.h++,l.next=p.g,p.g=l)}oe=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ee(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}Ee.prototype.h=function(){this.defaultPrevented=!0};var Me=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};d.addEventListener("test",y,p),d.removeEventListener("test",y,p)}catch{}return l}();function Ne(l,p){if(Ee.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget){if(U){e:{try{pe(p.nodeName);var j=!0;break e}catch{}j=!1}j||(p=null)}}else y=="mouseover"?p=l.fromElement:y=="mouseout"&&(p=l.toElement);this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:ze[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ne.aa.h.call(this)}}M(Ne,Ee);var ze={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Je="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function Fe(l,p,y,w,j){this.listener=l,this.proxy=null,this.src=p,this.type=y,this.capture=!!w,this.ha=j,this.key=++Ze,this.da=this.fa=!1}function ft(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Un(l){this.src=l,this.g={},this.h=0}Un.prototype.add=function(l,p,y,w,j){var G=l.toString();l=this.g[G],l||(l=this.g[G]=[],this.h++);var le=tn(l,p,w,j);return-1<le?(p=l[le],y||(p.fa=!1)):(p=new Fe(p,this.src,G,!!w,j),p.fa=y,l.push(p)),p};function ci(l,p){var y=p.type;if(y in l.g){var w=l.g[y],j=Array.prototype.indexOf.call(w,p,void 0),G;(G=0<=j)&&Array.prototype.splice.call(w,j,1),G&&(ft(p),l.g[y].length==0&&(delete l.g[y],l.h--))}}function tn(l,p,y,w){for(var j=0;j<l.length;++j){var G=l[j];if(!G.da&&G.listener==p&&G.capture==!!y&&G.ha==w)return j}return-1}var Ur="closure_lm_"+(1e6*Math.random()|0),hi={};function fi(l,p,y,w,j){if(Array.isArray(p)){for(var G=0;G<p.length;G++)fi(l,p[G],y,w,j);return null}return y=yn(y),l&&l[Je]?l.K(p,y,_(w)?!!w.capture:!1,j):Ji(l,p,y,!1,w,j)}function Ji(l,p,y,w,j,G){if(!p)throw Error("Invalid event type");var le=_(j)?!!j.capture:!!j,lt=zr(l);if(lt||(l[Ur]=lt=new Un(l)),y=lt.add(p,y,w,le,G),y.proxy)return y;if(w=Ns(),y.proxy=w,w.src=l,w.listener=y,l.addEventListener)Me||(j=le),j===void 0&&(j=!1),l.addEventListener(p.toString(),w,j);else if(l.attachEvent)l.attachEvent(Ht(p.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ns(){function l(y){return p.call(l.src,l.listener,y)}const p=Xn;return l}function di(l,p,y,w,j){if(Array.isArray(p))for(var G=0;G<p.length;G++)di(l,p[G],y,w,j);else w=_(w)?!!w.capture:!!w,y=yn(y),l&&l[Je]?(l=l.i,p=String(p).toString(),p in l.g&&(G=l.g[p],y=tn(G,y,w,j),-1<y&&(ft(G[y]),Array.prototype.splice.call(G,y,1),G.length==0&&(delete l.g[p],l.h--)))):l&&(l=zr(l))&&(p=l.g[p.toString()],l=-1,p&&(l=tn(p,y,w,j)),(y=-1<l?p[l]:null)&&Yn(y))}function Yn(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[Je])ci(p.i,l);else{var y=l.type,w=l.proxy;p.removeEventListener?p.removeEventListener(y,w,l.capture):p.detachEvent?p.detachEvent(Ht(y),w):p.addListener&&p.removeListener&&p.removeListener(w),(y=zr(p))?(ci(y,l),y.h==0&&(y.src=null,p[Ur]=null)):ft(l)}}}function Ht(l){return l in hi?hi[l]:hi[l]="on"+l}function Xn(l,p){if(l.da)l=!0;else{p=new Ne(p,this);var y=l.listener,w=l.ha||l.src;l.fa&&Yn(l),l=y.call(w,p)}return l}function zr(l){return l=l[Ur],l instanceof Un?l:null}var vr="__closure_events_fn_"+(1e9*Math.random()>>>0);function yn(l){return typeof l=="function"?l:(l[vr]||(l[vr]=function(p){return l.handleEvent(p)}),l[vr])}function at(){Y.call(this),this.i=new Un(this),this.M=this,this.F=null}M(at,Y),at.prototype[Je]=!0,at.prototype.removeEventListener=function(l,p,y,w){di(this,l,p,y,w)};function St(l,p){var y,w=l.F;if(w)for(y=[];w;w=w.F)y.push(w);if(l=l.M,w=p.type||p,typeof p=="string")p=new Ee(p,l);else if(p instanceof Ee)p.target=p.target||l;else{var j=p;p=new Ee(w,l),x(p,j)}if(j=!0,y)for(var G=y.length-1;0<=G;G--){var le=p.g=y[G];j=kn(le,w,!0,p)&&j}if(le=p.g=l,j=kn(le,w,!0,p)&&j,j=kn(le,w,!1,p)&&j,y)for(G=0;G<y.length;G++)le=p.g=y[G],j=kn(le,w,!1,p)&&j}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var l=this.i,p;for(p in l.g){for(var y=l.g[p],w=0;w<y.length;w++)ft(y[w]);delete l.g[p],l.h--}}this.F=null},at.prototype.K=function(l,p,y,w){return this.i.add(String(l),p,!1,y,w)},at.prototype.L=function(l,p,y,w){return this.i.add(String(l),p,!0,y,w)};function kn(l,p,y,w){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();for(var j=!0,G=0;G<p.length;++G){var le=p[G];if(le&&!le.da&&le.capture==y){var lt=le.listener,Nt=le.ha||le.src;le.fa&&ci(l.i,le),j=lt.call(Nt,w)!==!1&&j}}return j&&!w.defaultPrevented}function Zi(l,p,y){if(typeof l=="function")y&&(l=I(l,y));else if(l&&typeof l.handleEvent=="function")l=I(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:d.setTimeout(l,p||0)}function qt(l){l.g=Zi(()=>{l.g=null,l.i&&(l.i=!1,qt(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class Er extends Y{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:qt(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wr(l){Y.call(this),this.h=l,this.g={}}M(wr,Y);var pi=[];function es(l){ce(l.g,function(p,y){this.g.hasOwnProperty(y)&&Yn(p)},l),l.g={}}wr.prototype.N=function(){wr.aa.N.call(this),es(this)},wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mi=d.JSON.stringify,Tr=d.JSON.parse,gi=class{stringify(l){return d.JSON.stringify(l,void 0)}parse(l){return d.JSON.parse(l,void 0)}};function Jn(){}Jn.prototype.h=null;function yi(l){return l.h||(l.h=l.i())}function jr(){}var _n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xn(){Ee.call(this,"d")}M(xn,Ee);function Zn(){Ee.call(this,"c")}M(Zn,Ee);var fn={},ts=null;function Br(){return ts=ts||new at}fn.La="serverreachability";function V(l){Ee.call(this,fn.La,l)}M(V,Ee);function F(l){const p=Br();St(p,new V(p))}fn.STAT_EVENT="statevent";function K(l,p){Ee.call(this,fn.STAT_EVENT,l),this.stat=p}M(K,Ee);function X(l){const p=Br();St(p,new K(p,l))}fn.Ma="timingevent";function he(l,p){Ee.call(this,fn.Ma,l),this.size=p}M(he,Ee);function ye(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){l()},p)}function Ae(){this.g=!0}Ae.prototype.xa=function(){this.g=!1};function fe(l,p,y,w,j,G){l.info(function(){if(l.g)if(G)for(var le="",lt=G.split("&"),Nt=0;Nt<lt.length;Nt++){var Ge=lt[Nt].split("=");if(1<Ge.length){var bt=Ge[0];Ge=Ge[1];var kt=bt.split("_");le=2<=kt.length&&kt[1]=="type"?le+(bt+"="+Ge+"&"):le+(bt+"=redacted&")}}else le=null;else le=G;return"XMLHTTP REQ ("+w+") [attempt "+j+"]: "+p+`
`+y+`
`+le})}function ve(l,p,y,w,j,G,le){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+j+"]: "+p+`
`+y+`
`+G+" "+le})}function ae(l,p,y,w){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+be(l,y)+(w?" "+w:"")})}function xe(l,p){l.info(function(){return"TIMEOUT: "+p})}Ae.prototype.info=function(){};function be(l,p){if(!l.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var w=y[l];if(!(2>w.length)){var j=w[1];if(Array.isArray(j)&&!(1>j.length)){var G=j[0];if(G!="noop"&&G!="stop"&&G!="close")for(var le=1;le<j.length;le++)j[le]=""}}}}return mi(y)}catch{return p}}var rt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},It={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Be;function et(){}M(et,Jn),et.prototype.g=function(){return new XMLHttpRequest},et.prototype.i=function(){return{}},Be=new et;function it(l,p,y,w){this.j=l,this.i=p,this.l=y,this.R=w||1,this.U=new wr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new er}function er(){this.i=null,this.g="",this.h=!1}var tr={},nn={};function Wt(l,p,y){l.L=1,l.v=wi(Dn(p)),l.m=y,l.P=!0,$r(l,null)}function $r(l,p){l.F=Date.now(),st(l),l.A=Dn(l.v);var y=l.A,w=l.R;Array.isArray(w)||(w=[String(w)]),Si(y.i,"t",w),l.C=0,y=l.j.J,l.h=new er,l.g=il(l.j,y?p:null,!l.m),0<l.O&&(l.M=new Er(I(l.Y,l,l.g),l.O)),p=l.U,y=l.g,w=l.ca;var j="readystatechange";Array.isArray(j)||(j&&(pi[0]=j.toString()),j=pi);for(var G=0;G<j.length;G++){var le=fi(y,j[G],w||p.handleEvent,!1,p.h||p);if(!le)break;p.g[le.key]=le}p=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,p)):(l.u="GET",l.g.ea(l.A,l.u,null,p)),F(),fe(l.i,l.u,l.A,l.l,l.R,l.m)}it.prototype.ca=function(l){l=l.target;const p=this.M;p&&wn(l)==3?p.j():this.Y(l)},it.prototype.Y=function(l){try{if(l==this.g)e:{const kt=wn(this.g);var p=this.g.Ba();const jn=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||jo(this.g)))){this.J||kt!=4||p==7||(p==8||0>=jn?F(3):F(2)),Ke(this);var y=this.g.Z();this.X=y;t:if(Sr(this)){var w=jo(this.g);l="";var j=w.length,G=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qt(this),dt(this);var le="";break t}this.h.i=new d.TextDecoder}for(p=0;p<j;p++)this.h.h=!0,l+=this.h.i.decode(w[p],{stream:!(G&&p==j-1)});w.length=0,this.h.g+=l,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=y==200,ve(this.i,this.u,this.A,this.l,this.R,kt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var lt,Nt=this.g;if((lt=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(lt)){var Ge=lt;break t}}Ge=null}if(y=Ge)ae(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rr(this,y);else{this.o=!1,this.s=3,X(12),Qt(this),dt(this);break e}}if(this.P){y=!0;let Nn;for(;!this.J&&this.C<le.length;)if(Nn=nr(this,le),Nn==nn){kt==4&&(this.s=4,X(14),y=!1),ae(this.i,this.l,null,"[Incomplete Response]");break}else if(Nn==tr){this.s=4,X(15),ae(this.i,this.l,le,"[Invalid Chunk]"),y=!1;break}else ae(this.i,this.l,Nn,null),rr(this,Nn);if(Sr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||le.length!=0||this.h.h||(this.s=1,X(16),y=!1),this.o=this.o&&y,!y)ae(this.i,this.l,le,"[Invalid Chunked Response]"),Qt(this),dt(this);else if(0<le.length&&!this.W){this.W=!0;var bt=this.j;bt.g==this&&bt.ba&&!bt.M&&(bt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),$o(bt),bt.M=!0,X(11))}}else ae(this.i,this.l,le,null),rr(this,le);kt==4&&Qt(this),this.o&&!this.J&&(kt==4?qs(this.j,this):(this.o=!1,st(this)))}else zs(this.g),y==400&&0<le.indexOf("Unknown SID")?(this.s=3,X(12)):(this.s=0,X(13)),Qt(this),dt(this)}}}catch{}finally{}};function Sr(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function nr(l,p){var y=l.C,w=p.indexOf(`
`,y);return w==-1?nn:(y=Number(p.substring(y,w)),isNaN(y)?tr:(w+=1,w+y>p.length?nn:(p=p.slice(w,w+y),l.C=w+y,p)))}it.prototype.cancel=function(){this.J=!0,Qt(this)};function st(l){l.S=Date.now()+l.I,Hr(l,l.I)}function Hr(l,p){if(l.B!=null)throw Error("WatchDog timer not null");l.B=ye(I(l.ba,l),p)}function Ke(l){l.B&&(d.clearTimeout(l.B),l.B=null)}it.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(xe(this.i,this.A),this.L!=2&&(F(),X(17)),Qt(this),this.s=2,dt(this)):Hr(this,this.S-l)};function dt(l){l.j.G==0||l.J||qs(l.j,l)}function Qt(l){Ke(l);var p=l.M;p&&typeof p.ma=="function"&&p.ma(),l.M=null,es(l.U),l.g&&(p=l.g,l.g=null,p.abort(),p.ma())}function rr(l,p){try{var y=l.j;if(y.G!=0&&(y.g==l||dn(y.h,l))){if(!l.K&&dn(y.h,l)&&y.G==3){try{var w=y.Da.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var j=w;if(j[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)Hs(y),lr(y);else break e;$s(y),X(18)}}else y.za=j[1],0<y.za-y.T&&37500>j[2]&&y.F&&y.v==0&&!y.C&&(y.C=ye(I(y.Za,y),6e3));if(1>=Ls(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Gr(y,11)}else if((l.K||y.g==l)&&Hs(y),!ee(p))for(j=y.Da.g.parse(p),p=0;p<j.length;p++){let Ge=j[p];if(y.T=Ge[0],Ge=Ge[1],y.G==2)if(Ge[0]=="c"){y.K=Ge[1],y.ia=Ge[2];const bt=Ge[3];bt!=null&&(y.la=bt,y.j.info("VER="+y.la));const kt=Ge[4];kt!=null&&(y.Aa=kt,y.j.info("SVER="+y.Aa));const jn=Ge[5];jn!=null&&typeof jn=="number"&&0<jn&&(w=1.5*jn,y.L=w,y.j.info("backChannelRequestTimeoutMs_="+w)),w=y;const Nn=l.g;if(Nn){const as=Nn.g?Nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(as){var G=w.h;G.g||as.indexOf("spdy")==-1&&as.indexOf("quic")==-1&&as.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Fo(G,G.h),G.h=null))}if(w.D){const Qs=Nn.g?Nn.g.getResponseHeader("X-HTTP-Session-Id"):null;Qs&&(w.ya=Qs,ut(w.I,w.D,Qs))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),w=y;var le=l;if(w.qa=rl(w,w.J?w.ia:null,w.W),le.K){qa(w.h,le);var lt=le,Nt=w.L;Nt&&(lt.I=Nt),lt.B&&(Ke(lt),st(lt)),w.g=le}else os(w);0<y.i.length&&Cr(y)}else Ge[0]!="stop"&&Ge[0]!="close"||Gr(y,7);else y.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Gr(y,7):Gt(y):Ge[0]!="noop"&&y.l&&y.l.ta(Ge),y.v=0)}}F(4)}catch{}}var pt=class{constructor(l,p){this.g=l,this.map=p}};function vn(l){this.l=l||10,d.PerformanceNavigationTiming?(l=d.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rn(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Ls(l){return l.h?1:l.g?l.g.size:0}function dn(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function Fo(l,p){l.g?l.g.add(p):l.h=p}function qa(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}vn.prototype.cancel=function(){if(this.i=Wa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Wa(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const y of l.g.values())p=p.concat(y.D);return p}return H(l.i)}function Ms(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var p=[],y=l.length,w=0;w<y;w++)p.push(l[w]);return p}p=[],y=0;for(w in l)p[y++]=l[w];return p}function Os(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var p=[];l=l.length;for(var y=0;y<l;y++)p.push(y);return p}p=[],y=0;for(const w in l)p[y++]=w;return p}}}function _i(l,p){if(l.forEach&&typeof l.forEach=="function")l.forEach(p,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,p,void 0);else for(var y=Os(l),w=Ms(l),j=w.length,G=0;G<j;G++)p.call(void 0,w[G],y&&y[G],l)}var ns=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gu(l,p){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var w=l[y].indexOf("="),j=null;if(0<=w){var G=l[y].substring(0,w);j=l[y].substring(w+1)}else G=l[y];p(G,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function qr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof qr){this.h=l.h,rs(this,l.j),this.o=l.o,this.g=l.g,vi(this,l.s),this.l=l.l;var p=l.i,y=new Ir;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),Ei(this,y),this.m=l.m}else l&&(p=String(l).match(ns))?(this.h=!1,rs(this,p[1]||"",!0),this.o=$e(p[2]||""),this.g=$e(p[3]||"",!0),vi(this,p[4]),this.l=$e(p[5]||"",!0),Ei(this,p[6]||"",!0),this.m=$e(p[7]||"")):(this.h=!1,this.i=new Ir(null,this.h))}qr.prototype.toString=function(){var l=[],p=this.j;p&&l.push(Ti(p,Fs,!0),":");var y=this.g;return(y||p=="file")&&(l.push("//"),(p=this.o)&&l.push(Ti(p,Fs,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Ti(y,y.charAt(0)=="/"?Ga:Ka,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Ti(y,bo)),l.join("")};function Dn(l){return new qr(l)}function rs(l,p,y){l.j=y?$e(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function vi(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.s=p}else l.s=null}function Ei(l,p,y){p instanceof Ir?(l.i=p,Rr(l.i,l.h)):(y||(p=Ti(p,Ya)),l.i=new Ir(p,l.h))}function ut(l,p,y){l.i.set(p,y)}function wi(l){return ut(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function $e(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ti(l,p,y){return typeof l=="string"?(l=encodeURI(l).replace(p,Qa),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Qa(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Fs=/[#\/\?@]/g,Ka=/[#\?:]/g,Ga=/[#\?]/g,Ya=/[#\?@]/g,bo=/#/g;function Ir(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function Kt(l){l.g||(l.g=new Map,l.h=0,l.i&&Gu(l.i,function(p,y){l.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}r=Ir.prototype,r.add=function(l,p){Kt(this),this.i=null,l=zn(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(p),this.h+=1,this};function ir(l,p){Kt(l),p=zn(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function sr(l,p){return Kt(l),p=zn(l,p),l.g.has(p)}r.forEach=function(l,p){Kt(this),this.g.forEach(function(y,w){y.forEach(function(j){l.call(p,j,w,this)},this)},this)},r.na=function(){Kt(this);const l=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let w=0;w<p.length;w++){const j=l[w];for(let G=0;G<j.length;G++)y.push(p[w])}return y},r.V=function(l){Kt(this);let p=[];if(typeof l=="string")sr(this,l)&&(p=p.concat(this.g.get(zn(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)p=p.concat(l[y])}return p},r.set=function(l,p){return Kt(this),this.i=null,l=zn(this,l),sr(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},r.get=function(l,p){return l?(l=this.V(l),0<l.length?String(l[0]):p):p};function Si(l,p,y){ir(l,p),0<y.length&&(l.i=null,l.g.set(zn(l,p),H(y)),l.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var w=p[y];const G=encodeURIComponent(String(w)),le=this.V(w);for(w=0;w<le.length;w++){var j=G;le[w]!==""&&(j+="="+encodeURIComponent(String(le[w]))),l.push(j)}}return this.i=l.join("&")};function zn(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function Rr(l,p){p&&!l.j&&(Kt(l),l.i=null,l.g.forEach(function(y,w){var j=w.toLowerCase();w!=j&&(ir(this,w),Si(this,j,y))},l)),l.j=p}function Yu(l,p){const y=new Ae;if(d.Image){const w=new Image;w.onload=C(En,y,"TestLoadImage: loaded",!0,p,w),w.onerror=C(En,y,"TestLoadImage: error",!1,p,w),w.onabort=C(En,y,"TestLoadImage: abort",!1,p,w),w.ontimeout=C(En,y,"TestLoadImage: timeout",!1,p,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else p(!1)}function Xa(l,p){const y=new Ae,w=new AbortController,j=setTimeout(()=>{w.abort(),En(y,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:w.signal}).then(G=>{clearTimeout(j),G.ok?En(y,"TestPingServer: ok",!0,p):En(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(j),En(y,"TestPingServer: error",!1,p)})}function En(l,p,y,w,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),w(y)}catch{}}function Xu(){this.g=new gi}function Ja(l,p,y){const w=y||"";try{_i(l,function(j,G){let le=j;_(j)&&(le=mi(j)),p.push(w+G+"="+encodeURIComponent(le))})}catch(j){throw p.push(w+"type="+encodeURIComponent("_badmap")),j}}function Wr(l){this.l=l.Ub||null,this.j=l.eb||!1}M(Wr,Jn),Wr.prototype.g=function(){return new is(this.l,this.j)},Wr.prototype.i=function(l){return function(){return l}}({});function is(l,p){at.call(this),this.D=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(is,at),r=is.prototype,r.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=p,this.readyState=1,ar(this)},r.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(p.body=l),(this.D||d).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,or(this)),this.readyState=0},r.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,ar(this)),this.g&&(this.readyState=3,ar(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Za(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Za(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}r.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?or(this):ar(this),this.readyState==3&&Za(this)}},r.Ra=function(l){this.g&&(this.response=this.responseText=l,or(this))},r.Qa=function(l){this.g&&(this.response=l,or(this))},r.ga=function(){this.g&&or(this)};function or(l){l.readyState=4,l.l=null,l.j=null,l.v=null,ar(l)}r.setRequestHeader=function(l,p){this.u.append(l,p)},r.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=p.next();return l.join(`\r
`)};function ar(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(is.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Qr(l){let p="";return ce(l,function(y,w){p+=w,p+=":",p+=y,p+=`\r
`}),p}function Ii(l,p,y){e:{for(w in y){var w=!1;break e}w=!0}w||(y=Qr(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):ut(l,p,y))}function _t(l){at.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(_t,at);var Ju=/^https?$/i,Uo=["POST","PUT"];r=_t.prototype,r.Ha=function(l){this.J=l},r.ea=function(l,p,y,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Be.g(),this.v=this.o?yi(this.o):yi(Be),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(G){ss(this,G);return}if(l=y||"",y=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var j in w)y.set(j,w[j]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const G of w.keys())y.set(G,w.get(G));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(y.keys()).find(G=>G.toLowerCase()=="content-type"),j=d.FormData&&l instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Uo,p,void 0))||w||j||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,le]of y)this.g.setRequestHeader(G,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Us(this),this.u=!0,this.g.send(l),this.u=!1}catch(G){ss(this,G)}};function ss(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.m=5,bs(l),Vn(l)}function bs(l){l.A||(l.A=!0,St(l,"complete"),St(l,"error"))}r.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,St(this,"complete"),St(this,"abort"),Vn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vn(this,!0)),_t.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?zo(this):this.bb())},r.bb=function(){zo(this)};function zo(l){if(l.h&&typeof h<"u"&&(!l.v[1]||wn(l)!=4||l.Z()!=2)){if(l.u&&wn(l)==4)Zi(l.Ea,0,l);else if(St(l,"readystatechange"),wn(l)==4){l.h=!1;try{const le=l.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var w;if(w=le===0){var j=String(l.D).match(ns)[1]||null;!j&&d.self&&d.self.location&&(j=d.self.location.protocol.slice(0,-1)),w=!Ju.test(j?j.toLowerCase():"")}y=w}if(y)St(l,"complete"),St(l,"success");else{l.m=6;try{var G=2<wn(l)?l.g.statusText:""}catch{G=""}l.l=G+" ["+l.Z()+"]",bs(l)}}finally{Vn(l)}}}}function Vn(l,p){if(l.g){Us(l);const y=l.g,w=l.v[0]?()=>{}:null;l.g=null,l.v=null,p||St(l,"ready");try{y.onreadystatechange=w}catch{}}}function Us(l){l.I&&(d.clearTimeout(l.I),l.I=null)}r.isActive=function(){return!!this.g};function wn(l){return l.g?l.g.readyState:0}r.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),Tr(p)}};function jo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function zs(l){const p={};l=(l.g&&2<=wn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(ee(l[w]))continue;var y=N(l[w]);const j=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const G=p[j]||[];p[j]=G,G.push(y)}k(p,function(w){return w.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ar(l,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||p}function Bo(l){this.Aa=0,this.i=[],this.j=new Ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ar("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ar("baseRetryDelayMs",5e3,l),this.cb=Ar("retryDelaySeedMs",1e4,l),this.Wa=Ar("forwardChannelMaxRetries",2,l),this.wa=Ar("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new vn(l&&l.concurrentRequestLimit),this.Da=new Xu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Bo.prototype,r.la=8,r.G=1,r.connect=function(l,p,y,w){X(0),this.W=l,this.H=p||{},y&&w!==void 0&&(this.H.OSID=y,this.H.OAID=w),this.F=this.X,this.I=rl(this,null,this.W),Cr(this)};function Gt(l){if(js(l),l.G==3){var p=l.U++,y=Dn(l.I);if(ut(y,"SID",l.K),ut(y,"RID",p),ut(y,"TYPE","terminate"),Kr(l,y),p=new it(l,l.j,p),p.L=2,p.v=wi(Dn(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&d.Image&&(new Image().src=p.v,y=!0),y||(p.g=il(p.j,null),p.g.ea(p.v)),p.F=Date.now(),st(p)}nl(l)}function lr(l){l.g&&($o(l),l.g.cancel(),l.g=null)}function js(l){lr(l),l.u&&(d.clearTimeout(l.u),l.u=null),Hs(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&d.clearTimeout(l.s),l.s=null)}function Cr(l){if(!rn(l.h)&&!l.s){l.s=!0;var p=l.Ga;Qe||ue(),oe||(Qe(),oe=!0),Te.add(p,l),l.B=0}}function Zu(l,p){return Ls(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=p.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=ye(I(l.Ga,l,p),tl(l,l.B)),l.B++,!0)}r.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const j=new it(this,this.j,l);let G=this.o;if(this.S&&(G?(G=T(G),x(G,this.S)):G=this.S),this.m!==null||this.O||(j.H=G,G=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var w=this.i[y];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=Ri(this,j,p),y=Dn(this.I),ut(y,"RID",l),ut(y,"CVER",22),this.D&&ut(y,"X-HTTP-Session-Id",this.D),Kr(this,y),G&&(this.O?p="headers="+encodeURIComponent(String(Qr(G)))+"&"+p:this.m&&Ii(y,this.m,G)),Fo(this.h,j),this.Ua&&ut(y,"TYPE","init"),this.P?(ut(y,"$req",p),ut(y,"SID","null"),j.T=!0,Wt(j,y,null)):Wt(j,y,p),this.G=2}}else this.G==3&&(l?Bs(this,l):this.i.length==0||rn(this.h)||Bs(this))};function Bs(l,p){var y;p?y=p.l:y=l.U++;const w=Dn(l.I);ut(w,"SID",l.K),ut(w,"RID",y),ut(w,"AID",l.T),Kr(l,w),l.m&&l.o&&Ii(w,l.m,l.o),y=new it(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),p&&(l.i=p.D.concat(l.i)),p=Ri(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Fo(l.h,y),Wt(y,w,p)}function Kr(l,p){l.H&&ce(l.H,function(y,w){ut(p,w,y)}),l.l&&_i({},function(y,w){ut(p,w,y)})}function Ri(l,p,y){y=Math.min(l.i.length,y);var w=l.l?I(l.l.Na,l.l,l):null;e:{var j=l.i;let G=-1;for(;;){const le=["count="+y];G==-1?0<y?(G=j[0].g,le.push("ofs="+G)):G=0:le.push("ofs="+G);let lt=!0;for(let Nt=0;Nt<y;Nt++){let Ge=j[Nt].g;const bt=j[Nt].map;if(Ge-=G,0>Ge)G=Math.max(0,j[Nt].g-100),lt=!1;else try{Ja(bt,le,"req"+Ge+"_")}catch{w&&w(bt)}}if(lt){w=le.join("&");break e}}}return l=l.i.splice(0,y),p.D=l,w}function os(l){if(!l.g&&!l.u){l.Y=1;var p=l.Fa;Qe||ue(),oe||(Qe(),oe=!0),Te.add(p,l),l.v=0}}function $s(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=ye(I(l.Fa,l),tl(l,l.v)),l.v++,!0)}r.Fa=function(){if(this.u=null,el(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=ye(I(this.ab,this),l)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,X(10),lr(this),el(this))};function $o(l){l.A!=null&&(d.clearTimeout(l.A),l.A=null)}function el(l){l.g=new it(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var p=Dn(l.qa);ut(p,"RID","rpc"),ut(p,"SID",l.K),ut(p,"AID",l.T),ut(p,"CI",l.F?"0":"1"),!l.F&&l.ja&&ut(p,"TO",l.ja),ut(p,"TYPE","xmlhttp"),Kr(l,p),l.m&&l.o&&Ii(p,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=wi(Dn(p)),y.m=null,y.P=!0,$r(y,l)}r.Za=function(){this.C!=null&&(this.C=null,lr(this),$s(this),X(19))};function Hs(l){l.C!=null&&(d.clearTimeout(l.C),l.C=null)}function qs(l,p){var y=null;if(l.g==p){Hs(l),$o(l),l.g=null;var w=2}else if(dn(l.h,p))y=p.D,qa(l.h,p),w=1;else return;if(l.G!=0){if(p.o)if(w==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var j=l.B;w=Br(),St(w,new he(w,y)),Cr(l)}else os(l);else if(j=p.s,j==3||j==0&&0<p.X||!(w==1&&Zu(l,p)||w==2&&$s(l)))switch(y&&0<y.length&&(p=l.h,p.i=p.i.concat(y)),j){case 1:Gr(l,5);break;case 4:Gr(l,10);break;case 3:Gr(l,6);break;default:Gr(l,2)}}}function tl(l,p){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*p}function Gr(l,p){if(l.j.info("Error code "+p),p==2){var y=I(l.fb,l),w=l.Xa;const j=!w;w=new qr(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||rs(w,"https"),wi(w),j?Yu(w.toString(),y):Xa(w.toString(),y)}else X(2);l.G=0,l.l&&l.l.sa(p),nl(l),js(l)}r.fb=function(l){l?(this.j.info("Successfully pinged google.com"),X(2)):(this.j.info("Failed to ping google.com"),X(1))};function nl(l){if(l.G=0,l.ka=[],l.l){const p=Wa(l.h);(p.length!=0||l.i.length!=0)&&(z(l.ka,p),z(l.ka,l.i),l.h.i.length=0,H(l.i),l.i.length=0),l.l.ra()}}function rl(l,p,y){var w=y instanceof qr?Dn(y):new qr(y);if(w.g!="")p&&(w.g=p+"."+w.g),vi(w,w.s);else{var j=d.location;w=j.protocol,p=p?p+"."+j.hostname:j.hostname,j=+j.port;var G=new qr(null);w&&rs(G,w),p&&(G.g=p),j&&vi(G,j),y&&(G.l=y),w=G}return y=l.D,p=l.ya,y&&p&&ut(w,y,p),ut(w,"VER",l.la),Kr(l,w),w}function il(l,p,y){if(p&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Ca&&!l.pa?new _t(new Wr({eb:y})):new _t(l.pa),p.Ha(l.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ho(){}r=Ho.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ws(){}Ws.prototype.g=function(l,p){return new pn(l,p)};function pn(l,p){at.call(this),this.g=new Bo(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(l?l["X-WebChannel-Client-Profile"]=p.va:l={"X-WebChannel-Client-Profile":p.va}),this.g.S=l,(l=p&&p.Sb)&&!ee(l)&&(this.g.m=l),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!ee(p)&&(this.g.D=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new Pr(this)}M(pn,at),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Gt(this.g)},pn.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=mi(l),l=y);p.i.push(new pt(p.Ya++,l)),p.G==3&&Cr(p)},pn.prototype.N=function(){this.g.l=null,delete this.j,Gt(this.g),delete this.g,pn.aa.N.call(this)};function sl(l){xn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const y in p){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}M(sl,xn);function ol(){Zn.call(this),this.status=1}M(ol,Zn);function Pr(l){this.g=l}M(Pr,Ho),Pr.prototype.ua=function(){St(this.g,"a")},Pr.prototype.ta=function(l){St(this.g,new sl(l))},Pr.prototype.sa=function(l){St(this.g,new ol)},Pr.prototype.ra=function(){St(this.g,"b")},Ws.prototype.createWebChannel=Ws.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,Jg=function(){return new Ws},Xg=function(){return Br()},Yg=fn,Bh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rt.NO_ERROR=0,rt.TIMEOUT=8,rt.HTTP_ERROR=6,au=rt,It.COMPLETE="complete",Gg=It,jr.EventType=_n,_n.OPEN="a",_n.CLOSE="b",_n.ERROR="c",_n.MESSAGE="d",at.prototype.listen=at.prototype.K,va=jr,_t.prototype.listenOnce=_t.prototype.L,_t.prototype.getLastError=_t.prototype.Ka,_t.prototype.getLastErrorCode=_t.prototype.Ba,_t.prototype.getStatus=_t.prototype.Z,_t.prototype.getResponseJson=_t.prototype.Oa,_t.prototype.getResponseText=_t.prototype.oa,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Ha,Kg=_t}).apply(typeof eu<"u"?eu:typeof self<"u"?self:typeof window<"u"?window:{});const Cm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vo="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new jg("@firebase/firestore");function go(){return Rs.logLevel}function me(r,...e){if(Rs.logLevel<=Xe.DEBUG){const n=e.map(cf);Rs.debug(`Firestore (${Vo}): ${r}`,...n)}}function ai(r,...e){if(Rs.logLevel<=Xe.ERROR){const n=e.map(cf);Rs.error(`Firestore (${Vo}): ${r}`,...n)}}function So(r,...e){if(Rs.logLevel<=Xe.WARN){const n=e.map(cf);Rs.warn(`Firestore (${Vo}): ${r}`,...n)}}function cf(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(r="Unexpected state"){const e=`FIRESTORE (${Vo}) INTERNAL ASSERTION FAILED: `+r;throw ai(e),new Error(e)}function ot(r,e){r||Ve()}function Oe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Do{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Cw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(cn.UNAUTHENTICATED))}shutdown(){}}class Pw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class kw{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ot(this.o===void 0);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new ii;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ii,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},d=g=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>d(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?d(g):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ii)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ot(typeof s.accessToken=="string"),new Zg(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string"),new cn(e)}}class xw{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Dw{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new xw(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Vw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Nw{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ot(this.o===void 0);const s=u=>{u.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,me("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ot(typeof n.token=="string"),this.R=n.token,new Vw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=Lw(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%e.length))}return s}}function He(r,e){return r<e?-1:r>e?1:0}function Io(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new Ot(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ge(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new Ot(0,0))}static max(){return new Le(new Ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ve(),s===void 0?s=e.length-n:s>e.length-n&&Ve(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return xa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xa?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=e.get(o),h=n.get(o);if(u<h)return-1;if(u>h)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class yt extends xa{construct(e,n,s){return new yt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new yt(n)}static emptyPath(){return new yt([])}}const Mw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends xa{construct(e,n,s){return new Zt(e,n,s)}static isValidIdentifier(e){return Mw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Zt(["__name__"])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ge(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ge(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ge(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(u(),o++)}if(u(),h)throw new ge(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(n)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(yt.fromString(e))}static fromName(e){return new Re(yt.fromString(e).popFirst(5))}static empty(){return new Re(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return yt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new yt(e.slice()))}}function Ow(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Le.fromTimestamp(s===1e9?new Ot(n+1,0):new Ot(n,s));return new Wi(o,Re.empty(),e)}function Fw(r){return new Wi(r.readTime,r.key,-1)}class Wi{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Wi(Le.min(),Re.empty(),-1)}static max(){return new Wi(Le.max(),Re.empty(),-1)}}function bw(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(r.documentKey,e.documentKey),n!==0?n:He(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==Uw)throw r;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,s)=>{n(e)})}static reject(e){return new J((n,s)=>{s(e)})}static waitFor(e){return new J((n,s)=>{let o=0,u=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++u,h&&u===o&&n()},g=>s(g))}),h=!0,u===o&&n()})}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next(o=>o?J.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new J((s,o)=>{const u=e.length,h=new Array(u);let d=0;for(let g=0;g<u;g++){const _=g;n(e[_]).next(E=>{h[_]=E,++d,d===u&&s(h)},E=>o(E))}})}static doWhile(e,n){return new J((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function jw(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Lo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Vu.oe=-1;function Nu(r){return r==null}function vu(r){return r===0&&1/r==-1/0}function Bw(r){return typeof r=="number"&&Number.isInteger(r)&&!vu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Pm(e)),e=Hw(r.get(n),e);return Pm(e)}function Hw(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case"":n+="";break;default:n+=u}}return n}function Pm(r){return r+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function As(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function ty(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new Tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tu(this.root,e,this.comparator,!1)}getReverseIterator(){return new tu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tu(this.root,e,this.comparator,!0)}}class tu{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Jt.RED,this.left=o??Jt.EMPTY,this.right=u??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Jt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Jt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ve();const e=this.left.check();if(e!==this.right.check())throw Ve();return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve()}get value(){throw Ve()}get color(){throw Ve()}get left(){throw Ve()}get right(){throw Ve()}copy(e,n,s,o,u){return this}insert(e,n,s){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xm(this.data.getIterator())}getIteratorFrom(e){return new xm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ft(this.comparator);return n.data=e,n}}class xm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new gr([])}unionWith(e){let n=new Ft(Zt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new gr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Io(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ny("Invalid base64 string: "+u):u}}(e);return new en(n)}static fromUint8Array(e){const n=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const qw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qi(r){if(ot(!!r),typeof r=="string"){let e=0;const n=qw.exec(r);if(ot(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Pt(r.seconds),nanos:Pt(r.nanos)}}function Pt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ki(r){return typeof r=="string"?en.fromBase64String(r):en.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Lu(r){const e=r.mapValue.fields.__previous_value__;return hf(e)?Lu(e):e}function Da(r){const e=Qi(r.mapValue.fields.__local_write_time__.timestampValue);return new Ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,n,s,o,u,h,d,g,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=g,this.useFetchStreams=_}}class Va{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Va("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Va&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Gi(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?hf(r)?4:Kw(r)?9007199254740991:Qw(r)?10:11:Ve()}function Or(r,e){if(r===e)return!0;const n=Gi(r);if(n!==Gi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Da(r).isEqual(Da(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Qi(o.timestampValue),d=Qi(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Ki(o.bytesValue).isEqual(Ki(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return Pt(o.geoPointValue.latitude)===Pt(u.geoPointValue.latitude)&&Pt(o.geoPointValue.longitude)===Pt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Pt(o.integerValue)===Pt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Pt(o.doubleValue),d=Pt(u.doubleValue);return h===d?vu(h)===vu(d):isNaN(h)&&isNaN(d)}return!1}(r,e);case 9:return Io(r.arrayValue.values||[],e.arrayValue.values||[],Or);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(km(h)!==km(d))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(d[g]===void 0||!Or(h[g],d[g])))return!1;return!0}(r,e);default:return Ve()}}function Na(r,e){return(r.values||[]).find(n=>Or(n,e))!==void 0}function Ro(r,e){if(r===e)return 0;const n=Gi(r),s=Gi(e);if(n!==s)return He(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(r.booleanValue,e.booleanValue);case 2:return function(u,h){const d=Pt(u.integerValue||u.doubleValue),g=Pt(h.integerValue||h.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(r,e);case 3:return Dm(r.timestampValue,e.timestampValue);case 4:return Dm(Da(r),Da(e));case 5:return He(r.stringValue,e.stringValue);case 6:return function(u,h){const d=Ki(u),g=Ki(h);return d.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const d=u.split("/"),g=h.split("/");for(let _=0;_<d.length&&_<g.length;_++){const E=He(d[_],g[_]);if(E!==0)return E}return He(d.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const d=He(Pt(u.latitude),Pt(h.latitude));return d!==0?d:He(Pt(u.longitude),Pt(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Vm(r.arrayValue,e.arrayValue);case 10:return function(u,h){var d,g,_,E;const S=u.fields||{},I=h.fields||{},C=(d=S.value)===null||d===void 0?void 0:d.arrayValue,M=(g=I.value)===null||g===void 0?void 0:g.arrayValue,H=He(((_=C==null?void 0:C.values)===null||_===void 0?void 0:_.length)||0,((E=M==null?void 0:M.values)===null||E===void 0?void 0:E.length)||0);return H!==0?H:Vm(C,M)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===nu.mapValue&&h===nu.mapValue)return 0;if(u===nu.mapValue)return 1;if(h===nu.mapValue)return-1;const d=u.fields||{},g=Object.keys(d),_=h.fields||{},E=Object.keys(_);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const I=He(g[S],E[S]);if(I!==0)return I;const C=Ro(d[g[S]],_[E[S]]);if(C!==0)return C}return He(g.length,E.length)}(r.mapValue,e.mapValue);default:throw Ve()}}function Dm(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return He(r,e);const n=Qi(r),s=Qi(e),o=He(n.seconds,s.seconds);return o!==0?o:He(n.nanos,s.nanos)}function Vm(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Ro(n[o],s[o]);if(u)return u}return He(n.length,s.length)}function Ao(r){return $h(r)}function $h(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Qi(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Ki(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return Re.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=$h(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${$h(n.fields[h])}`;return o+"}"}(r.mapValue):Ve()}function lu(r){switch(Gi(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lu(r);return e?16+lu(e):16;case 5:return 2*r.stringValue.length;case 6:return Ki(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+lu(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return As(s.fields,(u,h)=>{o+=u.length+lu(h)}),o}(r.mapValue);default:throw Ve()}}function Nm(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Hh(r){return!!r&&"integerValue"in r}function ff(r){return!!r&&"arrayValue"in r}function Lm(r){return!!r&&"nullValue"in r}function Mm(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function uu(r){return!!r&&"mapValue"in r}function Qw(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ia(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return As(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Ia(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ia(r.arrayValue.values[n]);return e}return Object.assign({},r)}function Kw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.value=e}static empty(){return new Gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!uu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ia(n)}setAll(e){let n=Zt.emptyPath(),s={},o=[];e.forEach((h,d)=>{if(!n.isImmediateParentOf(d)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=d.popLast()}h?s[d.lastSegment()]=Ia(h):o.push(d.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());uu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Or(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];uu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){As(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Gn(Ia(this.value))}}function ry(r){const e=[];return As(r.fields,(n,s)=>{const o=new Zt([n]);if(uu(s)){const u=ry(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new gr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,n,s,o,u,h,d){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new hn(e,0,Le.min(),Le.min(),Le.min(),Gn.empty(),0)}static newFoundDocument(e,n,s,o){return new hn(e,1,n,Le.min(),s,o,0)}static newNoDocument(e,n){return new hn(e,2,n,Le.min(),Le.min(),Gn.empty(),0)}static newUnknownDocument(e,n){return new hn(e,3,n,Le.min(),Le.min(),Gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n){this.position=e,this.inclusive=n}}function Om(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=Re.comparator(Re.fromName(h.referenceValue),n.key):s=Ro(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Fm(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Or(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n="asc"){this.field=e,this.dir=n}}function Gw(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{}class Vt extends iy{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Xw(e,n,s):n==="array-contains"?new eT(e,s):n==="in"?new tT(e,s):n==="not-in"?new nT(e,s):n==="array-contains-any"?new rT(e,s):new Vt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Jw(e,s):new Zw(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ro(n,this.value)):n!==null&&Gi(this.value)===Gi(n)&&this.matchesComparison(Ro(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yr extends iy{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new yr(e,n)}matches(e){return sy(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function sy(r){return r.op==="and"}function oy(r){return Yw(r)&&sy(r)}function Yw(r){for(const e of r.filters)if(e instanceof yr)return!1;return!0}function qh(r){if(r instanceof Vt)return r.field.canonicalString()+r.op.toString()+Ao(r.value);if(oy(r))return r.filters.map(e=>qh(e)).join(",");{const e=r.filters.map(n=>qh(n)).join(",");return`${r.op}(${e})`}}function ay(r,e){return r instanceof Vt?function(s,o){return o instanceof Vt&&s.op===o.op&&s.field.isEqual(o.field)&&Or(s.value,o.value)}(r,e):r instanceof yr?function(s,o){return o instanceof yr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,d)=>u&&ay(h,o.filters[d]),!0):!1}(r,e):void Ve()}function ly(r){return r instanceof Vt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ao(n.value)}`}(r):r instanceof yr?function(n){return n.op.toString()+" {"+n.getFilters().map(ly).join(" ,")+"}"}(r):"Filter"}class Xw extends Vt{constructor(e,n,s){super(e,n,s),this.key=Re.fromName(s.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class Jw extends Vt{constructor(e,n){super(e,"in",n),this.keys=uy("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Zw extends Vt{constructor(e,n){super(e,"not-in",n),this.keys=uy("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function uy(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Re.fromName(s.referenceValue))}class eT extends Vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ff(n)&&Na(n.arrayValue,this.value)}}class tT extends Vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Na(this.value.arrayValue,n)}}class nT extends Vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Na(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Na(this.value.arrayValue,n)}}class rT extends Vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ff(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Na(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e,n=null,s=[],o=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.ue=null}}function bm(r,e=null,n=[],s=[],o=null,u=null,h=null){return new iT(r,e,n,s,o,u,h)}function df(r){const e=Oe(r);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>qh(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Nu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ao(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ao(s)).join(",")),e.ue=n}return e.ue}function pf(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!Gw(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!ay(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Fm(r.startAt,e.startAt)&&Fm(r.endAt,e.endAt)}function Wh(r){return Re.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n=null,s=[],o=[],u=null,h="F",d=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function sT(r,e,n,s,o,u,h,d){return new Mo(r,e,n,s,o,u,h,d)}function mf(r){return new Mo(r)}function Um(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function cy(r){return r.collectionGroup!==null}function Ra(r){const e=Oe(r);if(e.ce===null){e.ce=[];const n=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Ft(Zt.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(_=>{_.isInequality()&&(d=d.add(_.field))})}),d})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.ce.push(new La(u,s))}),n.has(Zt.keyField().canonicalString())||e.ce.push(new La(Zt.keyField(),s))}return e.ce}function Nr(r){const e=Oe(r);return e.le||(e.le=oT(e,Ra(r))),e.le}function oT(r,e){if(r.limitType==="F")return bm(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new La(o.field,u)});const n=r.endAt?new Eu(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Eu(r.startAt.position,r.startAt.inclusive):null;return bm(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Qh(r,e){const n=r.filters.concat([e]);return new Mo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Kh(r,e,n){return new Mo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Mu(r,e){return pf(Nr(r),Nr(e))&&r.limitType===e.limitType}function hy(r){return`${df(Nr(r))}|lt:${r.limitType}`}function yo(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>ly(o)).join(", ")}]`),Nu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Ao(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Ao(o)).join(",")),`Target(${s})`}(Nr(r))}; limitType=${r.limitType})`}function Ou(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Re.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Ra(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,d,g){const _=Om(h,d,g);return h.inclusive?_<=0:_<0}(s.startAt,Ra(s),o)||s.endAt&&!function(h,d,g){const _=Om(h,d,g);return h.inclusive?_>=0:_>0}(s.endAt,Ra(s),o))}(r,e)}function aT(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function fy(r){return(e,n)=>{let s=!1;for(const o of Ra(r)){const u=lT(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function lT(r,e,n){const s=r.field.isKeyField()?Re.comparator(e.key,n.key):function(u,h,d){const g=h.data.field(u),_=d.data.field(u);return g!==null&&_!==null?Ro(g,_):Ve()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){As(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return ty(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=new Tt(Re.comparator);function li(){return uT}const dy=new Tt(Re.comparator);function Ea(...r){let e=dy;for(const n of r)e=e.insert(n.key,n);return e}function py(r){let e=dy;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Ts(){return Aa()}function my(){return Aa()}function Aa(){return new Cs(r=>r.toString(),(r,e)=>r.isEqual(e))}const cT=new Tt(Re.comparator),hT=new Ft(Re.comparator);function je(...r){let e=hT;for(const n of r)e=e.add(n);return e}const fT=new Ft(He);function dT(){return fT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vu(e)?"-0":e}}function gy(r){return{integerValue:""+r}}function pT(r,e){return Bw(e)?gy(e):gf(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(){this._=void 0}}function mT(r,e,n){return r instanceof wu?function(o,u){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&hf(u)&&(u=Lu(u)),u&&(h.fields.__previous_value__=u),{mapValue:h}}(n,e):r instanceof Ma?_y(r,e):r instanceof Oa?vy(r,e):function(o,u){const h=yy(o,u),d=zm(h)+zm(o.Pe);return Hh(h)&&Hh(o.Pe)?gy(d):gf(o.serializer,d)}(r,e)}function gT(r,e,n){return r instanceof Ma?_y(r,e):r instanceof Oa?vy(r,e):n}function yy(r,e){return r instanceof Tu?function(s){return Hh(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class wu extends Fu{}class Ma extends Fu{constructor(e){super(),this.elements=e}}function _y(r,e){const n=Ey(e);for(const s of r.elements)n.some(o=>Or(o,s))||n.push(s);return{arrayValue:{values:n}}}class Oa extends Fu{constructor(e){super(),this.elements=e}}function vy(r,e){let n=Ey(e);for(const s of r.elements)n=n.filter(o=>!Or(o,s));return{arrayValue:{values:n}}}class Tu extends Fu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function zm(r){return Pt(r.integerValue||r.doubleValue)}function Ey(r){return ff(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function yT(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Ma&&o instanceof Ma||s instanceof Oa&&o instanceof Oa?Io(s.elements,o.elements,Or):s instanceof Tu&&o instanceof Tu?Or(s.Pe,o.Pe):s instanceof wu&&o instanceof wu}(r.transform,e.transform)}class _T{constructor(e,n){this.version=e,this.transformResults=n}}class si{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new si}static exists(e){return new si(void 0,e)}static updateTime(e){return new si(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class bu{}function wy(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Sy(r.key,si.none()):new ba(r.key,r.data,si.none());{const n=r.data,s=Gn.empty();let o=new Ft(Zt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Ps(r.key,s,new gr(o.toArray()),si.none())}}function vT(r,e,n){r instanceof ba?function(o,u,h){const d=o.value.clone(),g=Bm(o.fieldTransforms,u,h.transformResults);d.setAll(g),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(r,e,n):r instanceof Ps?function(o,u,h){if(!cu(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=Bm(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(Ty(o)),g.setAll(d),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(r,e,n):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function Ca(r,e,n,s){return r instanceof ba?function(u,h,d,g){if(!cu(u.precondition,h))return d;const _=u.value.clone(),E=$m(u.fieldTransforms,g,h);return _.setAll(E),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),null}(r,e,n,s):r instanceof Ps?function(u,h,d,g){if(!cu(u.precondition,h))return d;const _=$m(u.fieldTransforms,g,h),E=h.data;return E.setAll(Ty(u)),E.setAll(_),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(r,e,n,s):function(u,h,d){return cu(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(r,e,n)}function ET(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=yy(s.transform,o||null);u!=null&&(n===null&&(n=Gn.empty()),n.set(s.field,u))}return n||null}function jm(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Io(s,o,(u,h)=>yT(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ba extends bu{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ps extends bu{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Ty(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function Bm(r,e,n){const s=new Map;ot(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,d=e.data.field(u.field);s.set(u.field,gT(h,d,n[o]))}return s}function $m(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,mT(u,h,e))}return s}class Sy extends bu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wT extends bu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&vT(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ca(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ca(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=my();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=n.has(o.key)?null:d;const g=wy(h,d);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Le.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),je())}isEqual(e){return this.batchId===e.batchId&&Io(this.mutations,e.mutations,(n,s)=>jm(n,s))&&Io(this.baseMutations,e.baseMutations,(n,s)=>jm(n,s))}}class yf{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){ot(e.mutations.length===s.length);let o=function(){return cT}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new yf(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,Ye;function RT(r){switch(r){default:return Ve();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0}}function Iy(r){if(r===void 0)return ai("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Dt.OK:return Z.OK;case Dt.CANCELLED:return Z.CANCELLED;case Dt.UNKNOWN:return Z.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return Z.INTERNAL;case Dt.UNAVAILABLE:return Z.UNAVAILABLE;case Dt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Dt.NOT_FOUND:return Z.NOT_FOUND;case Dt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Dt.ABORTED:return Z.ABORTED;case Dt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Dt.DATA_LOSS:return Z.DATA_LOSS;default:return Ve()}}(Ye=Dt||(Dt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=new Is([4294967295,4294967295],0);function Hm(r){const e=AT().encode(r),n=new Qg;return n.update(e),new Uint8Array(n.digest())}function qm(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Is([n,s],0),new Is([o,u],0)]}class _f{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new wa(`Invalid padding: ${n}`);if(s<0)throw new wa(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new wa(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new wa(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Is.fromNumber(this.Te)}Ee(e,n,s){let o=e.add(n.multiply(Is.fromNumber(s)));return o.compare(CT)===1&&(o=new Is([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Hm(e),[s,o]=qm(n);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,o,u);if(!this.de(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new _f(u,o,n);return s.forEach(d=>h.insert(d)),h}insert(e){if(this.Te===0)return;const n=Hm(e),[s,o]=qm(n);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,o,u);this.Ae(h)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class wa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Ua.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Uu(Le.min(),o,new Tt(He),li(),je())}}class Ua{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ua(s,n,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n,s,o){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=o}}class Ry{constructor(e,n){this.targetId=e,this.me=n}}class Ay{constructor(e,n,s=en.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Wm{constructor(){this.fe=0,this.ge=Qm(),this.pe=en.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=je(),n=je(),s=je();return this.ge.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ve()}}),new Ua(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=Qm()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ot(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class PT{constructor(e){this.Le=e,this.Be=new Map,this.ke=li(),this.qe=ru(),this.Qe=ru(),this.Ke=new Tt(He)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.je(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.De(e.resumeToken));break;default:Ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((s,o)=>{this.je(o)&&n(o)})}Je(e){const n=e.targetId,s=e.me.count,o=this.Ye(n);if(o){const u=o.target;if(Wh(u))if(s===0){const h=new Re(u.path);this.We(n,h,hn.newNoDocument(h,Le.min()))}else ot(s===1);else{const h=this.Ze(n);if(h!==s){const d=this.Xe(e),g=d?this.et(d,e,h):1;if(g!==0){this.He(n);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,_)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,d;try{h=Ki(s).toUint8Array()}catch(g){if(g instanceof ny)return So("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{d=new _f(h,o,u)}catch(g){return So(g instanceof wa?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return d.Te===0?null:d}et(e,n,s){return n.me.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const h=this.Le.nt(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.We(n,u,null),o++)}),o}it(e){const n=new Map;this.Be.forEach((u,h)=>{const d=this.Ye(h);if(d){if(u.current&&Wh(d.target)){const g=new Re(d.target.path);this.st(g).has(h)||this.ot(h,g)||this.We(h,g,hn.newNoDocument(g,e))}u.be&&(n.set(h,u.ve()),u.Ce())}});let s=je();this.Qe.forEach((u,h)=>{let d=!0;h.forEachWhile(g=>{const _=this.Ye(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(u))}),this.ke.forEach((u,h)=>h.setReadTime(e));const o=new Uu(e,n,this.Ke,this.ke,s);return this.ke=li(),this.qe=ru(),this.Qe=ru(),this.Ke=new Tt(He),o}Ue(e,n){if(!this.je(e))return;const s=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const o=this.ze(e);this.ot(e,n)?o.Fe(n,1):o.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new Wm,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new Ft(He),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ft(He),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Wm),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function ru(){return new Tt(Re.comparator)}function Qm(){return new Tt(Re.comparator)}const kT={asc:"ASCENDING",desc:"DESCENDING"},xT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DT={and:"AND",or:"OR"};class VT{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Gh(r,e){return r.useProto3Json||Nu(e)?e:{value:e}}function Su(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Cy(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function NT(r,e){return Su(r,e.toTimestamp())}function Lr(r){return ot(!!r),Le.fromTimestamp(function(n){const s=Qi(n);return new Ot(s.seconds,s.nanos)}(r))}function vf(r,e){return Yh(r,e).canonicalString()}function Yh(r,e){const n=function(o){return new yt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function Py(r){const e=yt.fromString(r);return ot(Ny(e)),e}function Xh(r,e){return vf(r.databaseId,e.path)}function Ph(r,e){const n=Py(e);if(n.get(1)!==r.databaseId.projectId)throw new ge(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ge(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Re(xy(n))}function ky(r,e){return vf(r.databaseId,e)}function LT(r){const e=Py(r);return e.length===4?yt.emptyPath():xy(e)}function Jh(r){return new yt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function xy(r){return ot(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Km(r,e,n){return{name:Xh(r,e),fields:n.value.mapValue.fields}}function MT(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(_,E){return _.useProto3Json?(ot(E===void 0||typeof E=="string"),en.fromBase64String(E||"")):(ot(E===void 0||E instanceof Buffer||E instanceof Uint8Array),en.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(_){const E=_.code===void 0?Z.UNKNOWN:Iy(_.code);return new ge(E,_.message||"")}(h);n=new Ay(s,o,u,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Ph(r,s.document.name),u=Lr(s.document.updateTime),h=s.document.createTime?Lr(s.document.createTime):Le.min(),d=new Gn({mapValue:{fields:s.document.fields}}),g=hn.newFoundDocument(o,u,h,d),_=s.targetIds||[],E=s.removedTargetIds||[];n=new hu(_,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Ph(r,s.document),u=s.readTime?Lr(s.readTime):Le.min(),h=hn.newNoDocument(o,u),d=s.removedTargetIds||[];n=new hu([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Ph(r,s.document),u=s.removedTargetIds||[];n=new hu([],u,o,null)}else{if(!("filter"in e))return Ve();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new IT(o,u),d=s.targetId;n=new Ry(d,h)}}return n}function OT(r,e){let n;if(e instanceof ba)n={update:Km(r,e.key,e.value)};else if(e instanceof Sy)n={delete:Xh(r,e.key)};else if(e instanceof Ps)n={update:Km(r,e.key,e.data),updateMask:qT(e.fieldMask)};else{if(!(e instanceof wT))return Ve();n={verify:Xh(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const d=h.transform;if(d instanceof wu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ma)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Oa)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Tu)return{fieldPath:h.field.canonicalString(),increment:d.Pe};throw Ve()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:NT(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ve()}(r,e.precondition)),n}function FT(r,e){return r&&r.length>0?(ot(e!==void 0),r.map(n=>function(o,u){let h=o.updateTime?Lr(o.updateTime):Lr(u);return h.isEqual(Le.min())&&(h=Lr(u)),new _T(h,o.transformResults||[])}(n,e))):[]}function bT(r,e){return{documents:[ky(r,e.path)]}}function UT(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=ky(r,o);const u=function(_){if(_.length!==0)return Vy(yr.create(_,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(_){if(_.length!==0)return _.map(E=>function(I){return{field:_o(I.field),direction:BT(I.dir)}}(E))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const d=Gh(r,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ct:n,parent:o}}function zT(r){let e=LT(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){ot(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(S){const I=Dy(S);return I instanceof yr&&oy(I)?I.getFilters():[I]}(n.where));let h=[];n.orderBy&&(h=function(S){return S.map(I=>function(M){return new La(vo(M.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(I))}(n.orderBy));let d=null;n.limit&&(d=function(S){let I;return I=typeof S=="object"?S.value:S,Nu(I)?null:I}(n.limit));let g=null;n.startAt&&(g=function(S){const I=!!S.before,C=S.values||[];return new Eu(C,I)}(n.startAt));let _=null;return n.endAt&&(_=function(S){const I=!S.before,C=S.values||[];return new Eu(C,I)}(n.endAt)),sT(e,o,h,u,d,"F",g,_)}function jT(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Dy(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=vo(n.unaryFilter.field);return Vt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=vo(n.unaryFilter.field);return Vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=vo(n.unaryFilter.field);return Vt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=vo(n.unaryFilter.field);return Vt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Ve()}}(r):r.fieldFilter!==void 0?function(n){return Vt.create(vo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ve()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return yr.create(n.compositeFilter.filters.map(s=>Dy(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ve()}}(n.compositeFilter.op))}(r):Ve()}function BT(r){return kT[r]}function $T(r){return xT[r]}function HT(r){return DT[r]}function _o(r){return{fieldPath:r.canonicalString()}}function vo(r){return Zt.fromServerFormat(r.fieldPath)}function Vy(r){return r instanceof Vt?function(n){if(n.op==="=="){if(Mm(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NAN"}};if(Lm(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Mm(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NAN"}};if(Lm(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_o(n.field),op:$T(n.op),value:n.value}}}(r):r instanceof yr?function(n){const s=n.getFilters().map(o=>Vy(o));return s.length===1?s[0]:{compositeFilter:{op:HT(n.op),filters:s}}}(r):Ve()}function qT(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Ny(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n,s,o,u=Le.min(),h=Le.min(),d=en.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=g}withSequenceNumber(e){return new Bi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e){this.ht=e}}function QT(r){const e=zT({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Kh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(){this.ln=new GT}addToCollectionParentIndex(e,n){return this.ln.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(Wi.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(Wi.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class GT{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ft(yt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ft(yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Pn{static withCacheSize(e){return new Pn(e,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(41943040,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Co(0)}static Qn(){return new Co(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym([r,e],[n,s]){const o=He(r,n);return o===0?He(e,s):o}class YT{constructor(e){this.Gn=e,this.buffer=new Ft(Ym),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Ym(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class XT{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){me("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Lo(n)?me("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await No(n)}await this.Yn(3e5)})}}class JT{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return J.resolve(Vu.oe);const s=new YT(n);return this.Zn.forEachTarget(e,o=>s.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>s.Hn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Gm)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gm):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let s,o,u,h,d,g,_;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,d=Date.now(),this.removeTargets(e,s,n))).next(S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(_=Date.now(),go()<=Xe.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(g-d)+`ms
	Removed ${S} documents in `+(_-g)+`ms
Total Duration: ${_-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function ZT(r,e){return new JT(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(){this.changes=new Cs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Ca(s.mutation,o,gr.empty(),Ot.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,je()).next(()=>s))}getLocalViewOfDocuments(e,n,s=je()){const o=Ts();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let h=Ea();return u.forEach((d,g)=>{h=h.insert(d,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const s=Ts();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,je()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,d)=>{n.set(h,d)})})}computeViews(e,n,s,o){let u=li();const h=Aa(),d=function(){return Aa()}();return n.forEach((g,_)=>{const E=s.get(_.key);o.has(_.key)&&(E===void 0||E.mutation instanceof Ps)?u=u.insert(_.key,_):E!==void 0?(h.set(_.key,E.mutation.getFieldMask()),Ca(E.mutation,_,E.mutation.getFieldMask(),Ot.now())):h.set(_.key,gr.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((_,E)=>h.set(_,E)),n.forEach((_,E)=>{var S;return d.set(_,new t0(E,(S=h.get(_))!==null&&S!==void 0?S:null))}),d))}recalculateAndSaveOverlays(e,n){const s=Aa();let o=new Tt((h,d)=>h-d),u=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const d of h)d.keys().forEach(g=>{const _=n.get(g);if(_===null)return;let E=s.get(g)||gr.empty();E=d.applyToLocalView(_,E),s.set(g,E);const S=(o.get(d.batchId)||je()).add(g);o=o.insert(d.batchId,S)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const g=d.getNext(),_=g.key,E=g.value,S=my();E.forEach(I=>{if(!u.has(I)){const C=wy(n.get(I),s.get(I));C!==null&&S.set(I,C),u=u.add(I)}}),h.push(this.documentOverlayCache.saveOverlays(e,_,S))}return J.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(h){return Re.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):cy(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):J.resolve(Ts());let d=-1,g=u;return h.next(_=>J.forEach(_,(E,S)=>(d<S.largestBatchId&&(d=S.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next(I=>{g=g.insert(E,I)}))).next(()=>this.populateOverlays(e,_,u)).next(()=>this.computeViews(e,g,_,je())).next(E=>({batchId:d,changes:py(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next(s=>{let o=Ea();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Ea();return this.indexManager.getCollectionParents(e,u).next(d=>J.forEach(d,g=>{const _=function(S,I){return new Mo(I,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next(E=>{E.forEach((S,I)=>{h=h.insert(S,I)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(h=>{u.forEach((g,_)=>{const E=_.getKey();h.get(E)===null&&(h=h.insert(E,hn.newInvalidDocument(E)))});let d=Ea();return h.forEach((g,_)=>{const E=u.get(g);E!==void 0&&Ca(E.mutation,_,gr.empty(),Ot.now()),Ou(n,_)&&(d=d.insert(g,_))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return J.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Lr(o.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(o){return{name:o.name,query:QT(o.bundledQuery),readTime:Lr(o.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(){this.overlays=new Tt(Re.comparator),this.Er=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ts();return J.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Tt(e,n,u)}),J.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Er.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Er.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const o=Ts(),u=n.length+1,h=new Re(n.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const g=d.getNext().value,_=g.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return J.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new Tt((_,E)=>_-E);const h=this.overlays.getIterator();for(;h.hasNext();){const _=h.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let E=u.get(_.largestBatchId);E===null&&(E=Ts(),u=u.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const d=Ts(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((_,E)=>d.set(_,E)),!(d.size()>=o)););return J.resolve(d)}Tt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Er.get(o.largestBatchId).delete(s.key);this.Er.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new ST(n,s));let u=this.Er.get(n);u===void 0&&(u=je(),this.Er.set(n,u)),this.Er.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(){this.dr=new Ft(Bt.Ar),this.Rr=new Ft(Bt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const s=new Bt(e,n);this.dr=this.dr.add(s),this.Rr=this.Rr.add(s)}mr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.gr(new Bt(e,n))}pr(e,n){e.forEach(s=>this.removeReference(s,n))}yr(e){const n=new Re(new yt([])),s=new Bt(n,e),o=new Bt(n,e+1),u=[];return this.Rr.forEachInRange([s,o],h=>{this.gr(h),u.push(h.key)}),u}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new Re(new yt([])),s=new Bt(n,e),o=new Bt(n,e+1);let u=je();return this.Rr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new Bt(e,0),s=this.dr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return Re.comparator(e.key,n.key)||He(e.br,n.br)}static Vr(e,n){return He(e.br,n.br)||Re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new Ft(Bt.Ar)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new TT(u,n,s,o);this.mutationQueue.push(h);for(const d of o)this.vr=this.vr.add(new Bt(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return J.resolve(h)}lookupMutationBatch(e,n){return J.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Fr(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Bt(n,0),o=new Bt(n,Number.POSITIVE_INFINITY),u=[];return this.vr.forEachInRange([s,o],h=>{const d=this.Cr(h.br);u.push(d)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ft(He);return n.forEach(o=>{const u=new Bt(o,0),h=new Bt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([u,h],d=>{s=s.add(d.br)})}),J.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Re.isDocumentKey(u)||(u=u.child(""));const h=new Bt(new Re(u),0);let d=new Ft(He);return this.vr.forEachWhile(g=>{const _=g.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(d=d.add(g.br)),!0)},h),J.resolve(this.Mr(d))}Mr(e){const n=[];return e.forEach(s=>{const o=this.Cr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){ot(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return J.forEach(n.mutations,o=>{const u=new Bt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=s})}Ln(e){}containsKey(e,n){const s=new Bt(n,0),o=this.vr.firstAfterOrEqual(s);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e){this.Nr=e,this.docs=function(){return new Tt(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.Nr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():hn.newInvalidDocument(n))}getEntries(e,n){let s=li();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():hn.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=li();const h=n.path,d=new Re(h.child("")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:_,value:{document:E}}=g.getNext();if(!h.isPrefixOf(_.path))break;_.path.length>h.length+1||bw(Fw(E),s)<=0||(o.has(E.key)||Ou(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ve()}Lr(e,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new l0(this)}getSize(e){return J.resolve(this.size)}}class l0 extends e0{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.hr.addEntry(e,o)):this.hr.removeEntry(s)}),J.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e){this.persistence=e,this.Br=new Cs(n=>df(n),pf),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.kr=0,this.qr=new Ef,this.targetCount=0,this.Qr=Co.qn()}forEachTarget(e,n){return this.Br.forEach((s,o)=>n(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.kr&&(this.kr=n),J.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Co(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Un(n),J.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Br.forEach((h,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.Br.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.Br.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this.qr.mr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this.qr.pr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this.qr.Sr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Vu(0),this.Ur=!1,this.Ur=!0,this.Wr=new s0,this.referenceDelegate=e(this),this.Gr=new u0(this),this.indexManager=new KT,this.remoteDocumentCache=function(o){return new a0(o)}(s=>this.referenceDelegate.zr(s)),this.serializer=new WT(n),this.jr=new r0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new i0,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Kr[e.toKey()];return s||(s=new o0(n,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,s){me("MemoryPersistence","Starting transaction:",e);const o=new c0(this.$r.next());return this.referenceDelegate.Hr(),s(o).next(u=>this.referenceDelegate.Jr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Yr(e,n){return J.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,n)))}}class c0 extends zw{constructor(e){super(),this.currentSequenceNumber=e}}class wf{constructor(e){this.persistence=e,this.Zr=new Ef,this.Xr=null}static ei(e){return new wf(e)}get ti(){if(this.Xr)return this.Xr;throw Ve()}addReference(e,n,s){return this.Zr.addReference(s,n),this.ti.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.Zr.removeReference(s,n),this.ti.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),J.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(o=>this.ti.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ti.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ti,s=>{const o=Re.fromPath(s);return this.ni(e,o).next(u=>{u||n.removeEntry(o,Le.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(s=>{s?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return J.or([()=>J.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Iu{constructor(e,n){this.persistence=e,this.ri=new Cs(s=>$w(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=ZT(this,n)}static ei(e,n){return new Iu(e,n)}Hr(){}Jr(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}nr(e){let n=0;return this.er(e,s=>{n++}).next(()=>n)}er(e,n){return J.forEach(this.ri,(s,o)=>this.ir(e,s,o).next(u=>u?J.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Lr(e,h=>this.ir(e,h,n).next(d=>{d||(s++,u.removeEntry(h,Le.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),J.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=lu(e.data.value)),n}ir(e,n,s){return J.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.ri.get(n);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Wi=s,this.Gi=o}static zi(e,n){let s=je(),o=je();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Tf(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return hE()?8:jw(uE())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.Xi(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.es(e,n,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new h0;return this.ts(e,n,h).next(d=>{if(u.result=d,this.Hi)return this.ns(e,n,h,d.size)})}).next(()=>u.result)}ns(e,n,s,o){return s.documentReadCount<this.Ji?(go()<=Xe.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",yo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),J.resolve()):(go()<=Xe.DEBUG&&me("QueryEngine","Query:",yo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Yi*o?(go()<=Xe.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",yo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nr(n))):J.resolve())}Xi(e,n){if(Um(n))return J.resolve(null);let s=Nr(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Kh(n,null,"F"),s=Nr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=je(...u);return this.Zi.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,s).next(g=>{const _=this.rs(n,d);return this.ss(n,_,h,g.readTime)?this.Xi(e,Kh(n,null,"F")):this.os(e,_,n,g)}))})))}es(e,n,s,o){return Um(n)||o.isEqual(Le.min())?J.resolve(null):this.Zi.getDocuments(e,s).next(u=>{const h=this.rs(n,u);return this.ss(n,h,s,o)?J.resolve(null):(go()<=Xe.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),yo(n)),this.os(e,h,n,Ow(o,-1)).next(d=>d))})}rs(e,n){let s=new Ft(fy(e));return n.forEach((o,u)=>{Ou(e,u)&&(s=s.add(u))}),s}ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ts(e,n,s){return go()<=Xe.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",yo(n)),this.Zi.getDocumentsMatchingQuery(e,n,Wi.min(),s)}os(e,n,s,o){return this.Zi.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n,s,o){this.persistence=e,this._s=n,this.serializer=o,this.us=new Tt(He),this.cs=new Cs(u=>df(u),pf),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new n0(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function p0(r,e,n,s){return new d0(r,e,n,s)}async function My(r,e){const n=Oe(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ps(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],d=[];let g=je();for(const _ of o){h.push(_.batchId);for(const E of _.mutations)g=g.add(E.key)}for(const _ of u){d.push(_.batchId);for(const E of _.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next(_=>({Ts:_,removedBatchIds:h,addedBatchIds:d}))})})}function m0(r,e){const n=Oe(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.hs.newChangeBuffer({trackRemovals:!0});return function(d,g,_,E){const S=_.batch,I=S.keys();let C=J.resolve();return I.forEach(M=>{C=C.next(()=>E.getEntry(g,M)).next(H=>{const z=_.docVersions.get(M);ot(z!==null),H.version.compareTo(z)<0&&(S.applyToRemoteDocument(H,_),H.isValidDocument()&&(H.setReadTime(_.commitVersion),E.addEntry(H)))})}),C.next(()=>d.mutationQueue.removeMutationBatch(g,S))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let g=je();for(let _=0;_<d.mutationResults.length;++_)d.mutationResults[_].transformResults.length>0&&(g=g.add(d.batch.mutations[_].key));return g}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function Oy(r){const e=Oe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function g0(r,e){const n=Oe(r),s=e.snapshotVersion;let o=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.hs.newChangeBuffer({trackRemovals:!0});o=n.us;const d=[];e.targetChanges.forEach((E,S)=>{const I=o.get(S);if(!I)return;d.push(n.Gr.removeMatchingKeys(u,E.removedDocuments,S).next(()=>n.Gr.addMatchingKeys(u,E.addedDocuments,S)));let C=I.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?C=C.withResumeToken(en.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):E.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(E.resumeToken,s)),o=o.insert(S,C),function(H,z,q){return H.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=3e8?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(I,C,E)&&d.push(n.Gr.updateTargetData(u,C))});let g=li(),_=je();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),d.push(y0(u,h,e.documentUpdates).next(E=>{g=E.Is,_=E.Es})),!s.isEqual(Le.min())){const E=n.Gr.getLastRemoteSnapshotVersion(u).next(S=>n.Gr.setTargetsMetadata(u,u.currentSequenceNumber,s));d.push(E)}return J.waitFor(d).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,_)).next(()=>g)}).then(u=>(n.us=o,u))}function y0(r,e,n){let s=je(),o=je();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let h=li();return n.forEach((d,g)=>{const _=u.get(d);g.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(d)),g.isNoDocument()&&g.version.isEqual(Le.min())?(e.removeEntry(d,g.readTime),h=h.insert(d,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),h=h.insert(d,g)):me("LocalStore","Ignoring outdated watch update for ",d,". Current version:",_.version," Watch version:",g.version)}),{Is:h,Es:o}})}function _0(r,e){const n=Oe(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function v0(r,e){const n=Oe(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Gr.getTargetData(s,e).next(u=>u?(o=u,J.resolve(o)):n.Gr.allocateTargetId(s).next(h=>(o=new Bi(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Gr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.us.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.us=n.us.insert(s.targetId,s),n.cs.set(e,s.targetId)),s})}async function Zh(r,e,n){const s=Oe(r),o=s.us.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Lo(h))throw h;me("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.us=s.us.remove(e),s.cs.delete(o.target)}function Xm(r,e,n){const s=Oe(r);let o=Le.min(),u=je();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,_,E){const S=Oe(g),I=S.cs.get(E);return I!==void 0?J.resolve(S.us.get(I)):S.Gr.getTargetData(_,E)}(s,h,Nr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(h,d.targetId).next(g=>{u=g})}).next(()=>s._s.getDocumentsMatchingQuery(h,e,n?o:Le.min(),n?u:je())).next(d=>(E0(s,aT(e),d),{documents:d,ds:u})))}function E0(r,e,n){let s=r.ls.get(e)||Le.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.ls.set(e,s)}class Jm{constructor(){this.activeTargetIds=dT()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class w0{constructor(){this._o=new Jm,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,s){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Jm,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iu=null;function kh(){return iu===null?iu=function(){return 268435456+Math.round(2147483648*Math.random())}():iu++,"0x"+iu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class R0 extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+n.host,this.Mo=`projects/${o}/databases/${u}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${u}`}Oo(n,s,o,u,h){const d=kh(),g=this.No(n,s.toUriEncodedString());me("RestConnection",`Sending RPC '${n}' ${d}:`,g,o);const _={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(_,u,h),this.Bo(n,g,_,o).then(E=>(me("RestConnection",`Received RPC '${n}' ${d}: `,E),E),E=>{throw So("RestConnection",`RPC '${n}' ${d} failed with error: `,E,"url: ",g,"request:",o),E})}ko(n,s,o,u,h,d){return this.Oo(n,s,o,u,h)}Lo(n,s,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((u,h)=>n[h]=u),o&&o.headers.forEach((u,h)=>n[h]=u)}No(n,s){const o=S0[n];return`${this.Fo}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,s,o){const u=kh();return new Promise((h,d)=>{const g=new Kg;g.setWithCredentials(!0),g.listenOnce(Gg.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case au.NO_ERROR:const E=g.getResponseJson();me(un,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case au.TIMEOUT:me(un,`RPC '${e}' ${u} timed out`),d(new ge(Z.DEADLINE_EXCEEDED,"Request time out"));break;case au.HTTP_ERROR:const S=g.getStatus();if(me(un,`RPC '${e}' ${u} failed with status:`,S,"response text:",g.getResponseText()),S>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const C=I==null?void 0:I.error;if(C&&C.status&&C.message){const M=function(z){const q=z.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(q)>=0?q:Z.UNKNOWN}(C.status);d(new ge(M,C.message))}else d(new ge(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new ge(Z.UNAVAILABLE,"Connection failed."));break;default:Ve()}}finally{me(un,`RPC '${e}' ${u} completed.`)}});const _=JSON.stringify(o);me(un,`RPC '${e}' ${u} sending request:`,o),g.send(n,"POST",_,s,15)})}qo(e,n,s){const o=kh(),u=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Jg(),d=Xg(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Lo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");me(un,`Creating RPC '${e}' stream ${o}: ${E}`,g);const S=h.createWebChannel(E,g);let I=!1,C=!1;const M=new I0({Eo:z=>{C?me(un,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(I||(me(un,`Opening RPC '${e}' stream ${o} transport.`),S.open(),I=!0),me(un,`RPC '${e}' stream ${o} sending:`,z),S.send(z))},Ao:()=>S.close()}),H=(z,q,ee)=>{z.listen(q,ie=>{try{ee(ie)}catch(pe){setTimeout(()=>{throw pe},0)}})};return H(S,va.EventType.OPEN,()=>{C||(me(un,`RPC '${e}' stream ${o} transport opened.`),M.So())}),H(S,va.EventType.CLOSE,()=>{C||(C=!0,me(un,`RPC '${e}' stream ${o} transport closed`),M.Do())}),H(S,va.EventType.ERROR,z=>{C||(C=!0,So(un,`RPC '${e}' stream ${o} transport errored:`,z),M.Do(new ge(Z.UNAVAILABLE,"The operation could not be completed")))}),H(S,va.EventType.MESSAGE,z=>{var q;if(!C){const ee=z.data[0];ot(!!ee);const ie=ee,pe=(ie==null?void 0:ie.error)||((q=ie[0])===null||q===void 0?void 0:q.error);if(pe){me(un,`RPC '${e}' stream ${o} received error:`,pe);const U=pe.status;let ce=function(R){const x=Dt[R];if(x!==void 0)return Iy(x)}(U),k=pe.message;ce===void 0&&(ce=Z.INTERNAL,k="Unknown error status: "+U+" with message "+pe.message),C=!0,M.Do(new ge(ce,k)),S.close()}else me(un,`RPC '${e}' stream ${o} received:`,ee),M.vo(ee)}}),H(d,Yg.STAT_EVENT,z=>{z.stat===Bh.PROXY?me(un,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===Bh.NOPROXY&&me(un,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.bo()},0),M}}function xh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(r){return new VT(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e,n,s=1e3,o=1.5,u=6e4){this.li=e,this.timerId=n,this.Qo=s,this.Ko=o,this.$o=u,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),o=Math.max(0,n-s);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,n,s,o,u,h,d,g){this.li=e,this.Yo=s,this.Zo=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=g,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Fy(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(ai(n.toString()),ai("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.Xo===n&&this.I_(s,o)},s=>{e(()=>{const o=new ge(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.E_(o)})})}I_(e,n){const s=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{s(()=>this.E_(o))}),this.stream.onMessage(o=>{s(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return me("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class A0 extends by{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=MT(this.serializer,e),s=function(u){if(!("targetChange"in u))return Le.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Le.min():h.readTime?Lr(h.readTime):Le.min()}(e);return this.listener.R_(n,s)}V_(e){const n={};n.database=Jh(this.serializer),n.addTarget=function(u,h){let d;const g=h.target;if(d=Wh(g)?{documents:bT(u,g)}:{query:UT(u,g).ct},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=Cy(u,h.resumeToken);const _=Gh(u,h.expectedCount);_!==null&&(d.expectedCount=_)}else if(h.snapshotVersion.compareTo(Le.min())>0){d.readTime=Su(u,h.snapshotVersion.toTimestamp());const _=Gh(u,h.expectedCount);_!==null&&(d.expectedCount=_)}return d}(this.serializer,e);const s=jT(this.serializer,e);s&&(n.labels=s),this.c_(n)}m_(e){const n={};n.database=Jh(this.serializer),n.removeTarget=e,this.c_(n)}}class C0 extends by{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return ot(!!e.streamToken),this.lastStreamToken=e.streamToken,ot(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){ot(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=FT(e.writeResults,e.commitTime),s=Lr(e.commitTime);return this.listener.y_(s,n)}w_(){const e={};e.database=Jh(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>OT(this.serializer,s))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0 extends class{}{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new ge(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,s,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Oo(e,Yh(n,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(Z.UNKNOWN,u.toString())})}ko(e,n,s,o,u){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.ko(e,Yh(n,s),o,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ge(Z.UNKNOWN,h.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class k0{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(ai(n),this.C_=!1):me("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=u,this.Q_.uo(h=>{s.enqueueAndForget(async()=>{ks(this)&&(me("RemoteStore","Restarting streams for network reachability change."),await async function(g){const _=Oe(g);_.k_.add(4),await za(_),_.K_.set("Unknown"),_.k_.delete(4),await ju(_)}(this))})}),this.K_=new k0(s,o)}}async function ju(r){if(ks(r))for(const e of r.q_)await e(!0)}async function za(r){for(const e of r.q_)await e(!1)}function Uy(r,e){const n=Oe(r);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),Af(n)?Rf(n):Oo(n).s_()&&If(n,e))}function Sf(r,e){const n=Oe(r),s=Oo(n);n.B_.delete(e),s.s_()&&zy(n,e),n.B_.size===0&&(s.s_()?s.a_():ks(n)&&n.K_.set("Unknown"))}function If(r,e){if(r.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Oo(r).V_(e)}function zy(r,e){r.U_.xe(e),Oo(r).m_(e)}function Rf(r){r.U_=new PT({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>r.B_.get(e)||null,nt:()=>r.datastore.serializer.databaseId}),Oo(r).start(),r.K_.F_()}function Af(r){return ks(r)&&!Oo(r).i_()&&r.B_.size>0}function ks(r){return Oe(r).k_.size===0}function jy(r){r.U_=void 0}async function D0(r){r.K_.set("Online")}async function V0(r){r.B_.forEach((e,n)=>{If(r,e)})}async function N0(r,e){jy(r),Af(r)?(r.K_.O_(e),Rf(r)):r.K_.set("Unknown")}async function L0(r,e,n){if(r.K_.set("Online"),e instanceof Ay&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const d of u.targetIds)o.B_.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.B_.delete(d),o.U_.removeTarget(d))}(r,e)}catch(s){me("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ru(r,s)}else if(e instanceof hu?r.U_.$e(e):e instanceof Ry?r.U_.Je(e):r.U_.Ge(e),!n.isEqual(Le.min()))try{const s=await Oy(r.localStore);n.compareTo(s)>=0&&await function(u,h){const d=u.U_.it(h);return d.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.B_.get(_);E&&u.B_.set(_,E.withResumeToken(g.resumeToken,h))}}),d.targetMismatches.forEach((g,_)=>{const E=u.B_.get(g);if(!E)return;u.B_.set(g,E.withResumeToken(en.EMPTY_BYTE_STRING,E.snapshotVersion)),zy(u,g);const S=new Bi(E.target,g,_,E.sequenceNumber);If(u,S)}),u.remoteSyncer.applyRemoteEvent(d)}(r,n)}catch(s){me("RemoteStore","Failed to raise snapshot:",s),await Ru(r,s)}}async function Ru(r,e,n){if(!Lo(e))throw e;r.k_.add(1),await za(r),r.K_.set("Offline"),n||(n=()=>Oy(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{me("RemoteStore","Retrying IndexedDB access"),await n(),r.k_.delete(1),await ju(r)})}function By(r,e){return e().catch(n=>Ru(r,n,e))}async function Bu(r){const e=Oe(r),n=Yi(e);let s=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;M0(e);)try{const o=await _0(e.localStore,s);if(o===null){e.L_.length===0&&n.a_();break}s=o.batchId,O0(e,o)}catch(o){await Ru(e,o)}$y(e)&&Hy(e)}function M0(r){return ks(r)&&r.L_.length<10}function O0(r,e){r.L_.push(e);const n=Yi(r);n.s_()&&n.f_&&n.g_(e.mutations)}function $y(r){return ks(r)&&!Yi(r).i_()&&r.L_.length>0}function Hy(r){Yi(r).start()}async function F0(r){Yi(r).w_()}async function b0(r){const e=Yi(r);for(const n of r.L_)e.g_(n.mutations)}async function U0(r,e,n){const s=r.L_.shift(),o=yf.from(s,e,n);await By(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Bu(r)}async function z0(r,e){e&&Yi(r).f_&&await async function(s,o){if(function(h){return RT(h)&&h!==Z.ABORTED}(o.code)){const u=s.L_.shift();Yi(s).__(),await By(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Bu(s)}}(r,e),$y(r)&&Hy(r)}async function eg(r,e){const n=Oe(r);n.asyncQueue.verifyOperationInProgress(),me("RemoteStore","RemoteStore received new credentials");const s=ks(n);n.k_.add(3),await za(n),s&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await ju(n)}async function j0(r,e){const n=Oe(r);e?(n.k_.delete(2),await ju(n)):e||(n.k_.add(2),await za(n),n.K_.set("Unknown"))}function Oo(r){return r.W_||(r.W_=function(n,s,o){const u=Oe(n);return u.b_(),new A0(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Ro:D0.bind(null,r),mo:V0.bind(null,r),po:N0.bind(null,r),R_:L0.bind(null,r)}),r.q_.push(async e=>{e?(r.W_.__(),Af(r)?Rf(r):r.K_.set("Unknown")):(await r.W_.stop(),jy(r))})),r.W_}function Yi(r){return r.G_||(r.G_=function(n,s,o){const u=Oe(n);return u.b_(),new C0(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Ro:()=>Promise.resolve(),mo:F0.bind(null,r),po:z0.bind(null,r),p_:b0.bind(null,r),y_:U0.bind(null,r)}),r.q_.push(async e=>{e?(r.G_.__(),await Bu(r)):(await r.G_.stop(),r.L_.length>0&&(me("RemoteStore",`Stopping write stream with ${r.L_.length} pending writes`),r.L_=[]))})),r.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,d=new Cf(e,n,h,o,u);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pf(r,e){if(ai("AsyncQueue",`${e}: ${r}`),Lo(r))return new ge(Z.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{static emptySet(e){return new wo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Re.comparator(n.key,s.key):(n,s)=>Re.comparator(n.key,s.key),this.keyedMap=Ea(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new wo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(){this.z_=new Tt(Re.comparator)}track(e){const n=e.doc.key,s=this.z_.get(n);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(n,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(n):e.type===1&&s.type===2?this.z_=this.z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):Ve():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Po{constructor(e,n,s,o,u,h,d,g,_){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach(d=>{h.push({type:0,doc:d})}),new Po(e,n,wo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class $0{constructor(){this.queries=ng(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,s){const o=Oe(n),u=o.queries;o.queries=ng(),u.forEach((h,d)=>{for(const g of d.J_)g.onError(s)})})(this,new ge(Z.ABORTED,"Firestore shutting down"))}}function ng(){return new Cs(r=>hy(r),Mu)}async function qy(r,e){const n=Oe(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Y_()&&e.Z_()&&(s=2):(u=new B0,s=e.Z_()?0:1);try{switch(s){case 0:u.H_=await n.onListen(o,!0);break;case 1:u.H_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const d=Pf(h,`Initialization of query '${yo(e.query)}' failed`);return void e.onError(d)}n.queries.set(o,u),u.J_.push(e),e.ea(n.onlineState),u.H_&&e.ta(u.H_)&&kf(n)}async function Wy(r,e){const n=Oe(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.J_.indexOf(e);h>=0&&(u.J_.splice(h,1),u.J_.length===0?o=e.Z_()?0:1:!u.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function H0(r,e){const n=Oe(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const d of h.J_)d.ta(o)&&(s=!0);h.H_=o}}s&&kf(n)}function q0(r,e,n){const s=Oe(r),o=s.queries.get(e);if(o)for(const u of o.J_)u.onError(n);s.queries.delete(e)}function kf(r){r.X_.forEach(e=>{e.next()})}var ef,rg;(rg=ef||(ef={})).na="default",rg.Cache="cache";class Qy{constructor(e,n,s){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Po(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const s=n!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=Po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==ef.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e){this.key=e}}class Gy{constructor(e){this.key=e}}class W0{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=je(),this.mutatedKeys=je(),this.Va=fy(e),this.ma=new wo(this.Va)}get fa(){return this.da}ga(e,n){const s=n?n.pa:new tg,o=n?n.ma:this.ma;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,d=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const I=o.get(E),C=Ou(this.query,S)?S:null,M=!!I&&this.mutatedKeys.has(I.key),H=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let z=!1;I&&C?I.data.isEqual(C.data)?M!==H&&(s.track({type:3,doc:C}),z=!0):this.ya(I,C)||(s.track({type:2,doc:C}),z=!0,(g&&this.Va(C,g)>0||_&&this.Va(C,_)<0)&&(d=!0)):!I&&C?(s.track({type:0,doc:C}),z=!0):I&&!C&&(s.track({type:1,doc:I}),z=!0,(g||_)&&(d=!0)),z&&(C?(h=h.add(C),u=H?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{ma:h,pa:s,ss:d,mutatedKeys:u}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const h=e.pa.j_();h.sort((E,S)=>function(C,M){const H=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve()}};return H(C)-H(M)}(E.type,S.type)||this.Va(E.doc,S.doc)),this.wa(s),o=o!=null&&o;const d=n&&!o?this.Sa():[],g=this.Ra.size===0&&this.current&&!o?1:0,_=g!==this.Aa;return this.Aa=g,h.length!==0||_?{snapshot:new Po(this.query,e.ma,u,h,e.mutatedKeys,g===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new tg,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=je(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const n=[];return e.forEach(s=>{this.Ra.has(s)||n.push(new Gy(s))}),this.Ra.forEach(s=>{e.has(s)||n.push(new Ky(s))}),n}va(e){this.da=e.ds,this.Ra=je();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return Po.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class Q0{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class K0{constructor(e){this.key=e,this.Fa=!1}}class G0{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Ma={},this.xa=new Cs(d=>hy(d),Mu),this.Oa=new Map,this.Na=new Set,this.La=new Tt(Re.comparator),this.Ba=new Map,this.ka=new Ef,this.qa={},this.Qa=new Map,this.Ka=Co.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function Y0(r,e,n=!0){const s=t_(r);let o;const u=s.xa.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Ca()):o=await Yy(s,e,n,!0),o}async function X0(r,e){const n=t_(r);await Yy(n,e,!0,!1)}async function Yy(r,e,n,s){const o=await v0(r.localStore,Nr(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let d;return s&&(d=await J0(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&Uy(r.remoteStore,o),d}async function J0(r,e,n,s,o){r.Ua=(S,I,C)=>async function(H,z,q,ee){let ie=z.view.ga(q);ie.ss&&(ie=await Xm(H.localStore,z.query,!1).then(({documents:k})=>z.view.ga(k,ie)));const pe=ee&&ee.targetChanges.get(z.targetId),U=ee&&ee.targetMismatches.get(z.targetId)!=null,ce=z.view.applyChanges(ie,H.isPrimaryClient,pe,U);return sg(H,z.targetId,ce.ba),ce.snapshot}(r,S,I,C);const u=await Xm(r.localStore,e,!0),h=new W0(e,u.ds),d=h.ga(u.documents),g=Ua.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),_=h.applyChanges(d,r.isPrimaryClient,g);sg(r,n,_.ba);const E=new Q0(e,n,h);return r.xa.set(e,E),r.Oa.has(n)?r.Oa.get(n).push(e):r.Oa.set(n,[e]),_.snapshot}async function Z0(r,e,n){const s=Oe(r),o=s.xa.get(e),u=s.Oa.get(o.targetId);if(u.length>1)return s.Oa.set(o.targetId,u.filter(h=>!Mu(h,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Zh(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Sf(s.remoteStore,o.targetId),tf(s,o.targetId)}).catch(No)):(tf(s,o.targetId),await Zh(s.localStore,o.targetId,!0))}async function eS(r,e){const n=Oe(r),s=n.xa.get(e),o=n.Oa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Sf(n.remoteStore,s.targetId))}async function tS(r,e,n){const s=lS(r);try{const o=await function(h,d){const g=Oe(h),_=Ot.now(),E=d.reduce((C,M)=>C.add(M.key),je());let S,I;return g.persistence.runTransaction("Locally write mutations","readwrite",C=>{let M=li(),H=je();return g.hs.getEntries(C,E).next(z=>{M=z,M.forEach((q,ee)=>{ee.isValidDocument()||(H=H.add(q))})}).next(()=>g.localDocuments.getOverlayedDocuments(C,M)).next(z=>{S=z;const q=[];for(const ee of d){const ie=ET(ee,S.get(ee.key).overlayedDocument);ie!=null&&q.push(new Ps(ee.key,ie,ry(ie.value.mapValue),si.exists(!0)))}return g.mutationQueue.addMutationBatch(C,_,q,d)}).next(z=>{I=z;const q=z.applyToLocalDocumentSet(S,H);return g.documentOverlayCache.saveOverlays(C,z.batchId,q)})}).then(()=>({batchId:I.batchId,changes:py(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,d,g){let _=h.qa[h.currentUser.toKey()];_||(_=new Tt(He)),_=_.insert(d,g),h.qa[h.currentUser.toKey()]=_}(s,o.batchId,n),await ja(s,o.changes),await Bu(s.remoteStore)}catch(o){const u=Pf(o,"Failed to persist write");n.reject(u)}}async function Xy(r,e){const n=Oe(r);try{const s=await g0(n.localStore,e);e.targetChanges.forEach((o,u)=>{const h=n.Ba.get(u);h&&(ot(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Fa=!0:o.modifiedDocuments.size>0?ot(h.Fa):o.removedDocuments.size>0&&(ot(h.Fa),h.Fa=!1))}),await ja(n,s,e)}catch(s){await No(s)}}function ig(r,e,n){const s=Oe(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.xa.forEach((u,h)=>{const d=h.view.ea(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const g=Oe(h);g.onlineState=d;let _=!1;g.queries.forEach((E,S)=>{for(const I of S.J_)I.ea(d)&&(_=!0)}),_&&kf(g)}(s.eventManager,e),o.length&&s.Ma.R_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function nS(r,e,n){const s=Oe(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ba.get(e),u=o&&o.key;if(u){let h=new Tt(Re.comparator);h=h.insert(u,hn.newNoDocument(u,Le.min()));const d=je().add(u),g=new Uu(Le.min(),new Map,new Tt(He),h,d);await Xy(s,g),s.La=s.La.remove(u),s.Ba.delete(e),xf(s)}else await Zh(s.localStore,e,!1).then(()=>tf(s,e,n)).catch(No)}async function rS(r,e){const n=Oe(r),s=e.batch.batchId;try{const o=await m0(n.localStore,e);Zy(n,s,null),Jy(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ja(n,o)}catch(o){await No(o)}}async function iS(r,e,n){const s=Oe(r);try{const o=await function(h,d){const g=Oe(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let E;return g.mutationQueue.lookupMutationBatch(_,d).next(S=>(ot(S!==null),E=S.keys(),g.mutationQueue.removeMutationBatch(_,S))).next(()=>g.mutationQueue.performConsistencyCheck(_)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(_,E,d)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E)).next(()=>g.localDocuments.getDocuments(_,E))})}(s.localStore,e);Zy(s,e,n),Jy(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await ja(s,o)}catch(o){await No(o)}}function Jy(r,e){(r.Qa.get(e)||[]).forEach(n=>{n.resolve()}),r.Qa.delete(e)}function Zy(r,e,n){const s=Oe(r);let o=s.qa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.qa[s.currentUser.toKey()]=o}}function tf(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Oa.get(e))r.xa.delete(s),n&&r.Ma.Wa(s,n);r.Oa.delete(e),r.isPrimaryClient&&r.ka.yr(e).forEach(s=>{r.ka.containsKey(s)||e_(r,s)})}function e_(r,e){r.Na.delete(e.path.canonicalString());const n=r.La.get(e);n!==null&&(Sf(r.remoteStore,n),r.La=r.La.remove(e),r.Ba.delete(n),xf(r))}function sg(r,e,n){for(const s of n)s instanceof Ky?(r.ka.addReference(s.key,e),sS(r,s)):s instanceof Gy?(me("SyncEngine","Document no longer in limbo: "+s.key),r.ka.removeReference(s.key,e),r.ka.containsKey(s.key)||e_(r,s.key)):Ve()}function sS(r,e){const n=e.key,s=n.path.canonicalString();r.La.get(n)||r.Na.has(s)||(me("SyncEngine","New document in limbo: "+n),r.Na.add(s),xf(r))}function xf(r){for(;r.Na.size>0&&r.La.size<r.maxConcurrentLimboResolutions;){const e=r.Na.values().next().value;r.Na.delete(e);const n=new Re(yt.fromString(e)),s=r.Ka.next();r.Ba.set(s,new K0(n)),r.La=r.La.insert(n,s),Uy(r.remoteStore,new Bi(Nr(mf(n.path)),s,"TargetPurposeLimboResolution",Vu.oe))}}async function ja(r,e,n){const s=Oe(r),o=[],u=[],h=[];s.xa.isEmpty()||(s.xa.forEach((d,g)=>{h.push(s.Ua(g,e,n).then(_=>{var E;if((_||n)&&s.isPrimaryClient){const S=_?!_.fromCache:(E=n==null?void 0:n.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,S?"current":"not-current")}if(_){o.push(_);const S=Tf.zi(g.targetId,_);u.push(S)}}))}),await Promise.all(h),s.Ma.R_(o),await async function(g,_){const E=Oe(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>J.forEach(_,I=>J.forEach(I.Wi,C=>E.persistence.referenceDelegate.addReference(S,I.targetId,C)).next(()=>J.forEach(I.Gi,C=>E.persistence.referenceDelegate.removeReference(S,I.targetId,C)))))}catch(S){if(!Lo(S))throw S;me("LocalStore","Failed to update sequence numbers: "+S)}for(const S of _){const I=S.targetId;if(!S.fromCache){const C=E.us.get(I),M=C.snapshotVersion,H=C.withLastLimboFreeSnapshotVersion(M);E.us=E.us.insert(I,H)}}}(s.localStore,u))}async function oS(r,e){const n=Oe(r);if(!n.currentUser.isEqual(e)){me("SyncEngine","User change. New user:",e.toKey());const s=await My(n.localStore,e);n.currentUser=e,function(u,h){u.Qa.forEach(d=>{d.forEach(g=>{g.reject(new ge(Z.CANCELLED,h))})}),u.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ja(n,s.Ts)}}function aS(r,e){const n=Oe(r),s=n.Ba.get(e);if(s&&s.Fa)return je().add(s.key);{let o=je();const u=n.Oa.get(e);if(!u)return o;for(const h of u){const d=n.xa.get(h);o=o.unionWith(d.view.fa)}return o}}function t_(r){const e=Oe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Xy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nS.bind(null,e),e.Ma.R_=H0.bind(null,e.eventManager),e.Ma.Wa=q0.bind(null,e.eventManager),e}function lS(r){const e=Oe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iS.bind(null,e),e}class Au{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zu(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return p0(this.persistence,new f0,e.initialUser,this.serializer)}ja(e){return new Ly(wf.ei,this.serializer)}za(e){return new w0}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Au.provider={build:()=>new Au};class uS extends Au{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){ot(this.persistence.referenceDelegate instanceof Iu);const s=this.persistence.referenceDelegate.garbageCollector;return new XT(s,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new Ly(s=>Iu.ei(s,n),this.serializer)}}class nf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ig(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=oS.bind(null,this.syncEngine),await j0(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $0}()}createDatastore(e){const n=zu(e.databaseInfo.databaseId),s=function(u){return new R0(u)}(e.databaseInfo);return function(u,h,d,g){return new P0(u,h,d,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,h,d){return new x0(s,o,u,h,d)}(this.localStore,this.datastore,e.asyncQueue,n=>ig(this.syncEngine,n,0),function(){return Zm.p()?new Zm:new T0}())}createSyncEngine(e,n){return function(o,u,h,d,g,_,E){const S=new G0(o,u,h,d,g,_);return E&&(S.$a=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Oe(o);me("RemoteStore","RemoteStore shutting down."),u.k_.add(5),await za(u),u.Q_.shutdown(),u.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}nf.provider={build:()=>new nf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):ai("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=ey.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{me("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(me("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Pf(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Dh(r,e){r.asyncQueue.verifyOperationInProgress(),me("FirestoreClient","Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await My(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function og(r,e){r.asyncQueue.verifyOperationInProgress();const n=await hS(r);me("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>eg(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>eg(e.remoteStore,o)),r._onlineComponents=e}async function hS(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){me("FirestoreClient","Using user provided OfflineComponentProvider");try{await Dh(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;So("Error using user provided cache. Falling back to memory cache: "+n),await Dh(r,new Au)}}else me("FirestoreClient","Using default OfflineComponentProvider"),await Dh(r,new uS(void 0));return r._offlineComponents}async function r_(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(me("FirestoreClient","Using user provided OnlineComponentProvider"),await og(r,r._uninitializedComponentsProvider._online)):(me("FirestoreClient","Using default OnlineComponentProvider"),await og(r,new nf))),r._onlineComponents}function fS(r){return r_(r).then(e=>e.syncEngine)}async function i_(r){const e=await r_(r),n=e.eventManager;return n.onListen=Y0.bind(null,e.syncEngine),n.onUnlisten=Z0.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=X0.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=eS.bind(null,e.syncEngine),n}function dS(r,e,n={}){const s=new ii;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,d,g,_){const E=new n_({next:I=>{E.eu(),h.enqueueAndForget(()=>Wy(u,S));const C=I.docs.has(d);!C&&I.fromCache?_.reject(new ge(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&I.fromCache&&g&&g.source==="server"?_.reject(new ge(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(I)},error:I=>_.reject(I)}),S=new Qy(mf(d.path),E,{includeMetadataChanges:!0,ua:!0});return qy(u,S)}(await i_(r),r.asyncQueue,e,n,s)),s.promise}function pS(r,e,n={}){const s=new ii;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,d,g,_){const E=new n_({next:I=>{E.eu(),h.enqueueAndForget(()=>Wy(u,S)),I.fromCache&&g.source==="server"?_.reject(new ge(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(I)},error:I=>_.reject(I)}),S=new Qy(d,E,{includeMetadataChanges:!0,ua:!0});return qy(u,S)}(await i_(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(r,e,n){if(!n)throw new ge(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function mS(r,e,n,s){if(e===!0&&s===!0)throw new ge(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function lg(r){if(!Re.isDocumentKey(r))throw new ge(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function ug(r){if(Re.isDocumentKey(r))throw new ge(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function $u(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ve()}function ko(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ge(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$u(r);throw new ge(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ge(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=s_((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ge(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ge(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ge(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hu{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cg(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Cw;switch(s.type){case"firstParty":return new Dw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=ag.get(n);s&&(me("ComponentProvider","Removing Datastore"),ag.delete(n),s.terminate())}(this),Promise.resolve()}}function gS(r,e,n,s={}){var o;const u=(r=ko(r,Hu))._getSettings(),h=`${e}:${n}`;if(u.host!=="firestore.googleapis.com"&&u.host!==h&&So("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),s.mockUserToken){let d,g;if(typeof s.mockUserToken=="string")d=s.mockUserToken,g=cn.MOCK_USER;else{d=lE(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new ge(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new cn(_)}r._authCredentials=new Pw(new Zg(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new xs(this.firestore,e,this._query)}}class bn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bn(this.firestore,e,this._key)}}class qi extends xs{constructor(e,n,s){super(e,n,mf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bn(this.firestore,null,new Re(e))}withConverter(e){return new qi(this.firestore,e,this._path)}}function a_(r,e,...n){if(r=To(r),o_("collection","path",e),r instanceof Hu){const s=yt.fromString(e,...n);return ug(s),new qi(r,null,s)}{if(!(r instanceof bn||r instanceof qi))throw new ge(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(yt.fromString(e,...n));return ug(s),new qi(r.firestore,null,s)}}function l_(r,e,...n){if(r=To(r),arguments.length===1&&(e=ey.newId()),o_("doc","path",e),r instanceof Hu){const s=yt.fromString(e,...n);return lg(s),new bn(r,null,new Re(s))}{if(!(r instanceof bn||r instanceof qi))throw new ge(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(yt.fromString(e,...n));return lg(s),new bn(r.firestore,r instanceof qi?r.converter:null,new Re(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Fy(this,"async_queue_retry"),this.fu=()=>{const s=xh();s&&me("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const n=xh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=xh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new ii;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Lo(e))throw e;me("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const o=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(s);throw ai("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.Ru=!1,s))));return this.gu=n,n}enqueueAfterDelay(e,n,s){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const o=Cf.createAndSchedule(this,e,n,s,u=>this.Su(u));return this.du.push(o),o}pu(){this.Au&&Ve()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class qu extends Hu{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new hg,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hg(e),this._firestoreClient=void 0,await e}}}function yS(r,e){const n=typeof r=="object"?r:yw(),s=typeof r=="string"?r:"(default)",o=dw(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=oE("firestore");u&&gS(o,...u)}return o}function Df(r){if(r._terminated)throw new ge(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||_S(r),r._firestoreClient}function _S(r){var e,n,s;const o=r._freezeSettings(),u=function(d,g,_,E){return new Ww(d,g,_,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,s_(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new cS(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(d){const g=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xo(en.fromBase64String(e))}catch(n){throw new ge(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xo(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=/^__.*__$/;class ES{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ps(e,this.data,this.fieldMask,n,this.fieldTransforms):new ba(e,this.data,n,this.fieldTransforms)}}function c_(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve()}}class Mf{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Fu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Mf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.xu({path:s,Nu:!1});return o.Lu(e),o}Bu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.xu({path:s,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Cu(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(c_(this.Mu)&&vS.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class wS{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||zu(e)}$u(e,n,s,o=!1){return new Mf({Mu:e,methodName:n,Ku:s,path:Zt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function h_(r){const e=r._freezeSettings(),n=zu(r._databaseId);return new wS(r._databaseId,!!e.ignoreUndefinedProperties,n)}function TS(r,e,n,s,o,u={}){const h=r.$u(u.merge||u.mergeFields?2:0,e,n,o);p_("Data must be an object, but it was:",h,s);const d=f_(s,h);let g,_;if(u.merge)g=new gr(h.fieldMask),_=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const I=IS(e,S,n);if(!h.contains(I))throw new ge(Z.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);AS(E,I)||E.push(I)}g=new gr(E),_=h.fieldTransforms.filter(S=>g.covers(S.field))}else g=null,_=h.fieldTransforms;return new ES(new Gn(d),g,_)}function SS(r,e,n,s=!1){return Of(n,r.$u(s?4:3,e))}function Of(r,e){if(d_(r=To(r)))return p_("Unsupported field value:",e,r),f_(r,e);if(r instanceof u_)return function(s,o){if(!c_(o.Mu))throw o.qu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const d of s){let g=Of(d,o.ku(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=To(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return pT(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ot.fromDate(s);return{timestampValue:Su(o.serializer,u)}}if(s instanceof Ot){const u=new Ot(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Su(o.serializer,u)}}if(s instanceof Nf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof xo)return{bytesValue:Cy(o.serializer,s._byteString)};if(s instanceof bn){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.qu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:vf(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Lf)return function(h,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.qu("VectorValues must only contain numeric values.");return gf(d.serializer,g)})}}}}}}(s,o);throw o.qu(`Unsupported field value: ${$u(s)}`)}(r,e)}function f_(r,e){const n={};return ty(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):As(r,(s,o)=>{const u=Of(o,e.Ou(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function d_(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ot||r instanceof Nf||r instanceof xo||r instanceof bn||r instanceof u_||r instanceof Lf)}function p_(r,e,n){if(!d_(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=$u(n);throw s==="an object"?e.qu(r+" a custom object"):e.qu(r+" "+s)}}function IS(r,e,n){if((e=To(e))instanceof Vf)return e._internalPath;if(typeof e=="string")return m_(r,e);throw Cu("Field path arguments must be of type string or ",r,!1,void 0,n)}const RS=new RegExp("[~\\*/\\[\\]]");function m_(r,e,n){if(e.search(RS)>=0)throw Cu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Vf(...e.split("."))._internalPath}catch{throw Cu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Cu(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new ge(Z.INVALID_ARGUMENT,d+r+g)}function AS(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new CS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ff("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class CS extends g_{data(){return super.data()}}function Ff(r,e){return typeof e=="string"?m_(r,e):e instanceof Vf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ge(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bf{}class y_ extends bf{}function kS(r,e,...n){let s=[];e instanceof bf&&s.push(e),s=s.concat(n),function(u){const h=u.filter(g=>g instanceof zf).length,d=u.filter(g=>g instanceof Uf).length;if(h>1||h>0&&d>0)throw new ge(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Uf extends y_{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Uf(e,n,s)}_apply(e){const n=this._parse(e);return __(e._query,n),new xs(e.firestore,e.converter,Qh(e._query,n))}_parse(e){const n=h_(e.firestore);return function(u,h,d,g,_,E,S){let I;if(_.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ge(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){dg(S,E);const C=[];for(const M of S)C.push(fg(g,u,M));I={arrayValue:{values:C}}}else I=fg(g,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||dg(S,E),I=SS(d,h,S,E==="in"||E==="not-in");return Vt.create(_,E,I)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class zf extends bf{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new zf(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:yr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let h=o;const d=u.getFlattenedFilters();for(const g of d)__(h,g),h=Qh(h,g)}(e._query,n),new xs(e.firestore,e.converter,Qh(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class jf extends y_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new jf(e,n)}_apply(e){const n=function(o,u,h){if(o.startAt!==null)throw new ge(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ge(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new La(u,h)}(e._query,this._field,this._direction);return new xs(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new Mo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function xS(r,e="asc"){const n=e,s=Ff("orderBy",r);return jf._create(s,n)}function fg(r,e,n){if(typeof(n=To(n))=="string"){if(n==="")throw new ge(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cy(e)&&n.indexOf("/")!==-1)throw new ge(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(yt.fromString(n));if(!Re.isDocumentKey(s))throw new ge(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Nm(r,new Re(s))}if(n instanceof bn)return Nm(r,n._key);throw new ge(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$u(n)}.`)}function dg(r,e){if(!Array.isArray(r)||r.length===0)throw new ge(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function __(r,e){const n=function(o,u){for(const h of o)for(const d of h.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ge(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class DS{convertValue(e,n="none"){switch(Gi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ki(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return As(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>Pt(h.doubleValue));return new Lf(u)}convertGeoPoint(e){return new Nf(Pt(e.latitude),Pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Lu(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Da(e));default:return null}}convertTimestamp(e){const n=Qi(e);return new Ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=yt.fromString(e);ot(Ny(s));const o=new Va(s.get(1),s.get(3)),u=new Re(s.popFirst(5));return o.isEqual(n)||ai(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class v_ extends g_{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ff("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class fu extends v_{data(e={}){return super.data(e)}}class NS{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ta(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new fu(this._firestore,this._userDataWriter,s.key,s,new Ta(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const g=new fu(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Ta(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const g=new fu(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Ta(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,E=-1;return d.type!==0&&(_=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),E=h.indexOf(d.doc.key)),{type:LS(d.type),doc:g,oldIndex:_,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function LS(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(r){r=ko(r,bn);const e=ko(r.firestore,qu);return dS(Df(e),r._key).then(n=>US(e,r,n))}class E_ extends DS{constructor(e){super(),this.firestore=e}convertBytes(e){return new xo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bn(this.firestore,null,n)}}function OS(r){r=ko(r,xs);const e=ko(r.firestore,qu),n=Df(e),s=new E_(e);return PS(r._query),pS(n,r._query).then(o=>new NS(e,s,r,o))}function FS(r,e){const n=ko(r.firestore,qu),s=l_(r),o=VS(r.converter,e);return bS(n,[TS(h_(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,si.exists(!1))]).then(()=>s)}function bS(r,e){return function(s,o){const u=new ii;return s.asyncQueue.enqueueAndForget(async()=>tS(await fS(s),o,u)),u.promise}(Df(r),e)}function US(r,e,n){const s=n.docs.get(e._key),o=new E_(r);return new v_(r,o,e._key,s,new Ta(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Vo=o})(gw),_u(new Pa("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),d=new qu(new kw(s.getProvider("auth-internal")),new Nw(s.getProvider("app-check-internal")),function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ge(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Va(_.options.projectId,E)}(h,o),h);return u=Object.assign({useFetchStreams:n},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),Eo(Cm,"4.7.5",e),Eo(Cm,"4.7.5","esm2017")})();var zS="firebase",jS="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Eo(zS,jS,"app");const BS={apiKey:"AIzaSyCuCV84v-eIJT0LTMPC_-EvMAnmue3uxbI",authDomain:"fir-summer-2024-ce6f0.firebaseapp.com",projectId:"fir-summer-2024-ce6f0",storageBucket:"fir-summer-2024-ce6f0.firebasestorage.app",messagingSenderId:"380846268982",appId:"1:380846268982:web:67f2671be55eeefd306e97"},$S=Hg(BS),Bf=yS($S),$f="contacts";var ma={},pg;function HS(){if(pg)return ma;pg=1,Object.defineProperty(ma,"__esModule",{value:!0}),ma.parse=h,ma.serialize=_;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const I=function(){};return I.prototype=Object.create(null),I})();function h(I,C){const M=new u,H=I.length;if(H<2)return M;const z=(C==null?void 0:C.decode)||E;let q=0;do{const ee=I.indexOf("=",q);if(ee===-1)break;const ie=I.indexOf(";",q),pe=ie===-1?H:ie;if(ee>pe){q=I.lastIndexOf(";",ee-1)+1;continue}const U=d(I,q,ee),ce=g(I,ee,U),k=I.slice(U,ce);if(M[k]===void 0){let T=d(I,ee+1,pe),R=g(I,pe,T);const x=z(I.slice(T,R));M[k]=x}q=pe+1}while(q<H);return M}function d(I,C,M){do{const H=I.charCodeAt(C);if(H!==32&&H!==9)return C}while(++C<M);return M}function g(I,C,M){for(;C>M;){const H=I.charCodeAt(--C);if(H!==32&&H!==9)return C+1}return M}function _(I,C,M){const H=(M==null?void 0:M.encode)||encodeURIComponent;if(!r.test(I))throw new TypeError(`argument name is invalid: ${I}`);const z=H(C);if(!e.test(z))throw new TypeError(`argument val is invalid: ${C}`);let q=I+"="+z;if(!M)return q;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);q+="; Max-Age="+M.maxAge}if(M.domain){if(!n.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);q+="; Domain="+M.domain}if(M.path){if(!s.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);q+="; Path="+M.path}if(M.expires){if(!S(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);q+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(q+="; HttpOnly"),M.secure&&(q+="; Secure"),M.partitioned&&(q+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":q+="; Priority=Low";break;case"medium":q+="; Priority=Medium";break;case"high":q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":q+="; SameSite=Strict";break;case"lax":q+="; SameSite=Lax";break;case"none":q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return q}function E(I){if(I.indexOf("%")===-1)return I;try{return decodeURIComponent(I)}catch{return I}}function S(I){return o.call(I)==="[object Date]"}return ma}HS();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var mg="popstate";function qS(r={}){function e(o,u){let{pathname:h="/",search:d="",hash:g=""}=ui(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Fa("",{pathname:h,search:d,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let h=o.document.querySelector("base"),d="";if(h&&h.getAttribute("href")){let g=o.location.href,_=g.indexOf("#");d=_===-1?g:g.slice(0,_)}return d+"#"+(typeof u=="string"?u:Xi(u))}function s(o,u){$t(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return QS(e,n,s,r)}function qe(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function $t(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WS(){return Math.random().toString(36).substring(2,10)}function gg(r,e){return{usr:r.state,key:r.key,idx:e}}function Fa(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ui(e):e,state:n,key:e&&e.key||s||WS()}}function Xi({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ui(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function QS(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,d="POP",g=null,_=E();_==null&&(_=0,h.replaceState({...h.state,idx:_},""));function E(){return(h.state||{idx:null}).idx}function S(){d="POP";let z=E(),q=z==null?null:z-_;_=z,g&&g({action:d,location:H.location,delta:q})}function I(z,q){d="PUSH";let ee=Fa(H.location,z,q);n(ee,z),_=E()+1;let ie=gg(ee,_),pe=H.createHref(ee);try{h.pushState(ie,"",pe)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;o.location.assign(pe)}u&&g&&g({action:d,location:H.location,delta:1})}function C(z,q){d="REPLACE";let ee=Fa(H.location,z,q);n(ee,z),_=E();let ie=gg(ee,_),pe=H.createHref(ee);h.replaceState(ie,"",pe),u&&g&&g({action:d,location:H.location,delta:0})}function M(z){let q=o.location.origin!=="null"?o.location.origin:o.location.href,ee=typeof z=="string"?z:Xi(z);return ee=ee.replace(/ $/,"%20"),qe(q,`No window.location.(origin|href) available to create URL for href: ${ee}`),new URL(ee,q)}let H={get action(){return d},get location(){return r(o,h)},listen(z){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(mg,S),g=z,()=>{o.removeEventListener(mg,S),g=null}},createHref(z){return e(o,z)},createURL:M,encodeLocation(z){let q=M(z);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:I,replace:C,go(z){return h.go(z)}};return H}var KS=new Set(["lazy","caseSensitive","path","id","index","children"]);function GS(r){return r.index===!0}function Pu(r,e,n=[],s={}){return r.map((o,u)=>{let h=[...n,String(u)],d=typeof o.id=="string"?o.id:h.join("-");if(qe(o.index!==!0||!o.children,"Cannot specify children on an index route"),qe(!s[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),GS(o)){let g={...o,...e(o),id:d};return s[d]=g,g}else{let g={...o,...e(o),id:d,children:void 0};return s[d]=g,o.children&&(g.children=Pu(o.children,e,h,s)),g}})}function ji(r,e,n="/"){return du(r,e,n,!1)}function du(r,e,n,s){let o=typeof e=="string"?ui(e):e,u=_r(o.pathname||"/",n);if(u==null)return null;let h=w_(r);XS(h);let d=null;for(let g=0;d==null&&g<h.length;++g){let _=lI(u);d=oI(h[g],_,s)}return d}function YS(r,e){let{route:n,pathname:s,params:o}=r;return{id:n.id,pathname:s,params:o,data:e[n.id],handle:n.handle}}function w_(r,e=[],n=[],s=""){let o=(u,h,d)=>{let g={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(qe(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let _=Mr([s,g.relativePath]),E=n.concat(g);u.children&&u.children.length>0&&(qe(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),w_(u.children,e,E,_)),!(u.path==null&&!u.index)&&e.push({path:_,score:iI(_,u.index),routesMeta:E})};return r.forEach((u,h)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))o(u,h);else for(let g of T_(u.path))o(u,h,g)}),e}function T_(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=T_(s.join("/")),d=[];return d.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&d.push(...h),d.map(g=>r.startsWith("/")&&g===""?"/":g)}function XS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:sI(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var JS=/^:[\w-]+$/,ZS=3,eI=2,tI=1,nI=10,rI=-2,yg=r=>r==="*";function iI(r,e){let n=r.split("/"),s=n.length;return n.some(yg)&&(s+=rI),e&&(s+=eI),n.filter(o=>!yg(o)).reduce((o,u)=>o+(JS.test(u)?ZS:u===""?tI:nI),s)}function sI(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function oI(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let d=0;d<s.length;++d){let g=s[d],_=d===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=ku({path:g.relativePath,caseSensitive:g.caseSensitive,end:_},E),I=g.route;if(!S&&_&&n&&!s[s.length-1].route.index&&(S=ku({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),h.push({params:o,pathname:Mr([u,S.pathname]),pathnameBase:hI(Mr([u,S.pathnameBase])),route:I}),S.pathnameBase!=="/"&&(u=Mr([u,S.pathnameBase]))}return h}function ku(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=aI(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((_,{paramName:E,isOptional:S},I)=>{if(E==="*"){let M=d[I]||"";h=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const C=d[I];return S&&!C?_[E]=void 0:_[E]=(C||"").replace(/%2F/g,"/"),_},{}),pathname:u,pathnameBase:h,pattern:r}}function aI(r,e=!1,n=!0){$t(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,g)=>(s.push({paramName:d,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function lI(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $t(!1,`The URL path "${r}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function _r(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function uI(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?ui(r):r;return{pathname:n?n.startsWith("/")?n:cI(n,e):e,search:fI(s),hash:dI(o)}}function cI(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Vh(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function S_(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Hf(r){let e=S_(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function qf(r,e,n,s=!1){let o;typeof r=="string"?o=ui(r):(o={...r},qe(!o.pathname||!o.pathname.includes("?"),Vh("?","pathname","search",o)),qe(!o.pathname||!o.pathname.includes("#"),Vh("#","pathname","hash",o)),qe(!o.search||!o.search.includes("#"),Vh("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,d;if(h==null)d=n;else{let S=e.length-1;if(!s&&h.startsWith("..")){let I=h.split("/");for(;I[0]==="..";)I.shift(),S-=1;o.pathname=I.join("/")}d=S>=0?e[S]:"/"}let g=uI(o,d),_=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(_||E)&&(g.pathname+="/"),g}var Mr=r=>r.join("/").replace(/\/\/+/g,"/"),hI=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),fI=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,dI=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,xu=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Wu(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var I_=["POST","PUT","PATCH","DELETE"],pI=new Set(I_),mI=["GET",...I_],gI=new Set(mI),yI=new Set([301,302,303,307,308]),_I=new Set([307,308]),Nh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},vI={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ga={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Wf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,EI=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),R_="remix-router-transitions",A_=Symbol("ResetLoaderData");function wI(r){const e=r.window?r.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";qe(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=r.mapRouteProperties||EI,o={},u=Pu(r.routes,s,void 0,o),h,d=r.basename||"/",g=r.dataStrategy||AI,_=r.patchRoutesOnNavigation,E={...r.future},S=null,I=new Set,C=null,M=null,H=null,z=r.hydrationData!=null,q=ji(u,r.history.location,d),ee=null;if(q==null&&!_){let V=Kn(404,{pathname:r.history.location.pathname}),{matches:F,route:K}=Pg(u);q=F,ee={[K.id]:V}}q&&!r.hydrationData&&Zn(q,u,r.history.location.pathname).active&&(q=null);let ie;if(q)if(q.some(V=>V.route.lazy))ie=!1;else if(!q.some(V=>V.route.loader))ie=!0;else{let V=r.hydrationData?r.hydrationData.loaderData:null,F=r.hydrationData?r.hydrationData.errors:null;if(F){let K=q.findIndex(X=>F[X.route.id]!==void 0);ie=q.slice(0,K+1).every(X=>!sf(X.route,V,F))}else ie=q.every(K=>!sf(K.route,V,F))}else{ie=!1,q=[];let V=Zn(null,u,r.history.location.pathname);V.active&&V.matches&&(q=V.matches)}let pe,U={historyAction:r.history.action,location:r.history.location,matches:q,initialized:ie,navigation:Nh,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||ee,fetchers:new Map,blockers:new Map},ce="POP",k=!1,T,R=!1,x=new Map,N=null,b=!1,P=!1,ct=new Set,We=new Map,At=0,Qe=-1,oe=new Map,Te=new Set,ue=new Map,O=new Map,Y=new Set,Ee=new Map,Me,Ne=null;function ze(){if(S=r.history.listen(({action:V,location:F,delta:K})=>{if(Me){Me(),Me=void 0;return}$t(Ee.size===0||K!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let X=gi({currentLocation:U.location,nextLocation:F,historyAction:V});if(X&&K!=null){let he=new Promise(ye=>{Me=ye});r.history.go(K*-1),Tr(X,{state:"blocked",location:F,proceed(){Tr(X,{state:"proceeding",proceed:void 0,reset:void 0,location:F}),he.then(()=>r.history.go(K))},reset(){let ye=new Map(U.blockers);ye.set(X,ga),Fe({blockers:ye})}});return}return tn(V,F)}),n){FI(e,x);let V=()=>bI(e,x);e.addEventListener("pagehide",V),N=()=>e.removeEventListener("pagehide",V)}return U.initialized||tn("POP",U.location,{initialHydration:!0}),pe}function Je(){S&&S(),N&&N(),I.clear(),T&&T.abort(),U.fetchers.forEach((V,F)=>kn(F)),U.blockers.forEach((V,F)=>mi(F))}function Ze(V){return I.add(V),()=>I.delete(V)}function Fe(V,F={}){U={...U,...V};let K=[],X=[];U.fetchers.forEach((he,ye)=>{he.state==="idle"&&(Y.has(ye)?K.push(ye):X.push(ye))}),[...I].forEach(he=>he(U,{deletedFetchers:K,viewTransitionOpts:F.viewTransitionOpts,flushSync:F.flushSync===!0})),K.forEach(he=>kn(he)),X.forEach(he=>U.fetchers.delete(he))}function ft(V,F,{flushSync:K}={}){var ae,xe;let X=U.actionData!=null&&U.navigation.formMethod!=null&&mr(U.navigation.formMethod)&&U.navigation.state==="loading"&&((ae=V.state)==null?void 0:ae._isRedirect)!==!0,he;F.actionData?Object.keys(F.actionData).length>0?he=F.actionData:he=null:X?he=U.actionData:he=null;let ye=F.loaderData?Ag(U.loaderData,F.loaderData,F.matches||[],F.errors):U.loaderData,Ae=U.blockers;Ae.size>0&&(Ae=new Map(Ae),Ae.forEach((be,rt)=>Ae.set(rt,ga)));let fe=k===!0||U.navigation.formMethod!=null&&mr(U.navigation.formMethod)&&((xe=V.state)==null?void 0:xe._isRedirect)!==!0;h&&(u=h,h=void 0),b||ce==="POP"||(ce==="PUSH"?r.history.push(V,V.state):ce==="REPLACE"&&r.history.replace(V,V.state));let ve;if(ce==="POP"){let be=x.get(U.location.pathname);be&&be.has(V.pathname)?ve={currentLocation:U.location,nextLocation:V}:x.has(V.pathname)&&(ve={currentLocation:V,nextLocation:U.location})}else if(R){let be=x.get(U.location.pathname);be?be.add(V.pathname):(be=new Set([V.pathname]),x.set(U.location.pathname,be)),ve={currentLocation:U.location,nextLocation:V}}Fe({...F,actionData:he,loaderData:ye,historyAction:ce,location:V,initialized:!0,navigation:Nh,revalidation:"idle",restoreScrollPosition:xn(V,F.matches||U.matches),preventScrollReset:fe,blockers:Ae},{viewTransitionOpts:ve,flushSync:K===!0}),ce="POP",k=!1,R=!1,b=!1,P=!1,Ne==null||Ne.resolve(),Ne=null}async function Un(V,F){if(typeof V=="number"){r.history.go(V);return}let K=rf(U.location,U.matches,d,V,F==null?void 0:F.fromRouteId,F==null?void 0:F.relative),{path:X,submission:he,error:ye}=_g(!1,K,F),Ae=U.location,fe=Fa(U.location,X,F&&F.state);fe={...fe,...r.history.encodeLocation(fe)};let ve=F&&F.replace!=null?F.replace:void 0,ae="PUSH";ve===!0?ae="REPLACE":ve===!1||he!=null&&mr(he.formMethod)&&he.formAction===U.location.pathname+U.location.search&&(ae="REPLACE");let xe=F&&"preventScrollReset"in F?F.preventScrollReset===!0:void 0,be=(F&&F.flushSync)===!0,rt=gi({currentLocation:Ae,nextLocation:fe,historyAction:ae});if(rt){Tr(rt,{state:"blocked",location:fe,proceed(){Tr(rt,{state:"proceeding",proceed:void 0,reset:void 0,location:fe}),Un(V,F)},reset(){let It=new Map(U.blockers);It.set(rt,ga),Fe({blockers:It})}});return}await tn(ae,fe,{submission:he,pendingError:ye,preventScrollReset:xe,replace:F&&F.replace,enableViewTransition:F&&F.viewTransition,flushSync:be})}function ci(){Ne||(Ne=UI()),vr(),Fe({revalidation:"loading"});let V=Ne.promise;return U.navigation.state==="submitting"?V:U.navigation.state==="idle"?(tn(U.historyAction,U.location,{startUninterruptedRevalidation:!0}),V):(tn(ce||U.historyAction,U.navigation.location,{overrideNavigation:U.navigation,enableViewTransition:R===!0}),V)}async function tn(V,F,K){T&&T.abort(),T=null,ce=V,b=(K&&K.startUninterruptedRevalidation)===!0,_n(U.location,U.matches),k=(K&&K.preventScrollReset)===!0,R=(K&&K.enableViewTransition)===!0;let X=h||u,he=K&&K.overrideNavigation,ye=ji(X,F,d),Ae=(K&&K.flushSync)===!0,fe=Zn(ye,X,F.pathname);if(fe.active&&fe.matches&&(ye=fe.matches),!ye){let{error:Be,notFoundMatches:et,route:it}=Jn(F.pathname);ft(F,{matches:et,loaderData:{},errors:{[it.id]:Be}},{flushSync:Ae});return}if(U.initialized&&!P&&VI(U.location,F)&&!(K&&K.submission&&mr(K.submission.formMethod))){ft(F,{matches:ye},{flushSync:Ae});return}T=new AbortController;let ve=mo(r.history,F,T.signal,K&&K.submission),ae;if(K&&K.pendingError)ae=[ws(ye).route.id,{type:"error",error:K.pendingError}];else if(K&&K.submission&&mr(K.submission.formMethod)){let Be=await Ur(ve,F,K.submission,ye,fe.active,{replace:K.replace,flushSync:Ae});if(Be.shortCircuited)return;if(Be.pendingActionResult){let[et,it]=Be.pendingActionResult;if(Fn(it)&&Wu(it.error)&&it.error.status===404){T=null,ft(F,{matches:Be.matches,loaderData:{},errors:{[et]:it.error}});return}}ye=Be.matches||ye,ae=Be.pendingActionResult,he=Lh(F,K.submission),Ae=!1,fe.active=!1,ve=mo(r.history,ve.url,ve.signal)}let{shortCircuited:xe,matches:be,loaderData:rt,errors:It}=await hi(ve,F,ye,fe.active,he,K&&K.submission,K&&K.fetcherSubmission,K&&K.replace,K&&K.initialHydration===!0,Ae,ae);xe||(T=null,ft(F,{matches:be||ye,...Cg(ae),loaderData:rt,errors:It}))}async function Ur(V,F,K,X,he,ye={}){vr();let Ae=MI(F,K);if(Fe({navigation:Ae},{flushSync:ye.flushSync===!0}),he){let ae=await fn(X,F.pathname,V.signal);if(ae.type==="aborted")return{shortCircuited:!0};if(ae.type==="error"){let xe=ws(ae.partialMatches).route.id;return{matches:ae.partialMatches,pendingActionResult:[xe,{type:"error",error:ae.error}]}}else if(ae.matches)X=ae.matches;else{let{notFoundMatches:xe,error:be,route:rt}=Jn(F.pathname);return{matches:xe,pendingActionResult:[rt.id,{type:"error",error:be}]}}}let fe,ve=Sa(X,F);if(!ve.route.action&&!ve.route.lazy)fe={type:"error",error:Kn(405,{method:V.method,pathname:F.pathname,routeId:ve.route.id})};else if(fe=(await Xn("action",U,V,[ve],X,null))[ve.route.id],V.signal.aborted)return{shortCircuited:!0};if(Ss(fe)){let ae;return ye&&ye.replace!=null?ae=ye.replace:ae=Sg(fe.response.headers.get("Location"),new URL(V.url),d)===U.location.pathname+U.location.search,await Ht(V,fe,!0,{submission:K,replace:ae}),{shortCircuited:!0}}if(Fn(fe)){let ae=ws(X,ve.route.id);return(ye&&ye.replace)!==!0&&(ce="PUSH"),{matches:X,pendingActionResult:[ae.route.id,fe]}}return{matches:X,pendingActionResult:[ve.route.id,fe]}}async function hi(V,F,K,X,he,ye,Ae,fe,ve,ae,xe){let be=he||Lh(F,ye),rt=ye||Ae||xg(be),It=!b&&!ve;if(X){if(It){let dt=fi(xe);Fe({navigation:be,...dt!==void 0?{actionData:dt}:{}},{flushSync:ae})}let Ke=await fn(K,F.pathname,V.signal);if(Ke.type==="aborted")return{shortCircuited:!0};if(Ke.type==="error"){let dt=ws(Ke.partialMatches).route.id;return{matches:Ke.partialMatches,loaderData:{},errors:{[dt]:Ke.error}}}else if(Ke.matches)K=Ke.matches;else{let{error:dt,notFoundMatches:Qt,route:rr}=Jn(F.pathname);return{matches:Qt,loaderData:{},errors:{[rr.id]:dt}}}}let Be=h||u,[et,it]=Eg(r.history,U,K,rt,F,ve===!0,P,ct,Y,ue,Te,Be,d,xe);if(Qe=++At,et.length===0&&it.length===0){let Ke=wr();return ft(F,{matches:K,loaderData:{},errors:xe&&Fn(xe[1])?{[xe[0]]:xe[1].error}:null,...Cg(xe),...Ke?{fetchers:new Map(U.fetchers)}:{}},{flushSync:ae}),{shortCircuited:!0}}if(It){let Ke={};if(!X){Ke.navigation=be;let dt=fi(xe);dt!==void 0&&(Ke.actionData=dt)}it.length>0&&(Ke.fetchers=Ji(it)),Fe(Ke,{flushSync:ae})}it.forEach(Ke=>{qt(Ke.key),Ke.controller&&We.set(Ke.key,Ke.controller)});let er=()=>it.forEach(Ke=>qt(Ke.key));T&&T.signal.addEventListener("abort",er);let{loaderResults:tr,fetcherResults:nn}=await zr(U,K,et,it,V);if(V.signal.aborted)return{shortCircuited:!0};T&&T.signal.removeEventListener("abort",er),it.forEach(Ke=>We.delete(Ke.key));let Wt=su(tr);if(Wt)return await Ht(V,Wt.result,!0,{replace:fe}),{shortCircuited:!0};if(Wt=su(nn),Wt)return Te.add(Wt.key),await Ht(V,Wt.result,!0,{replace:fe}),{shortCircuited:!0};let{loaderData:$r,errors:Sr}=Rg(U,K,tr,xe,it,nn);ve&&U.errors&&(Sr={...U.errors,...Sr});let nr=wr(),st=pi(Qe),Hr=nr||st||it.length>0;return{matches:K,loaderData:$r,errors:Sr,...Hr?{fetchers:new Map(U.fetchers)}:{}}}function fi(V){if(V&&!Fn(V[1]))return{[V[0]]:V[1].data};if(U.actionData)return Object.keys(U.actionData).length===0?null:U.actionData}function Ji(V){return V.forEach(F=>{let K=U.fetchers.get(F.key),X=ya(void 0,K?K.data:void 0);U.fetchers.set(F.key,X)}),new Map(U.fetchers)}async function Ns(V,F,K,X){qt(V);let he=(X&&X.flushSync)===!0,ye=h||u,Ae=rf(U.location,U.matches,d,K,F,X==null?void 0:X.relative),fe=ji(ye,Ae,d),ve=Zn(fe,ye,Ae);if(ve.active&&ve.matches&&(fe=ve.matches),!fe){at(V,F,Kn(404,{pathname:Ae}),{flushSync:he});return}let{path:ae,submission:xe,error:be}=_g(!0,Ae,X);if(be){at(V,F,be,{flushSync:he});return}let rt=Sa(fe,ae),It=(X&&X.preventScrollReset)===!0;if(xe&&mr(xe.formMethod)){await di(V,F,ae,rt,fe,ve.active,he,It,xe);return}ue.set(V,{routeId:F,path:ae}),await Yn(V,F,ae,rt,fe,ve.active,he,It,xe)}async function di(V,F,K,X,he,ye,Ae,fe,ve){vr(),ue.delete(V);function ae(pt){if(!pt.route.action&&!pt.route.lazy){let vn=Kn(405,{method:ve.formMethod,pathname:K,routeId:F});return at(V,F,vn,{flushSync:Ae}),!0}return!1}if(!ye&&ae(X))return;let xe=U.fetchers.get(V);yn(V,OI(ve,xe),{flushSync:Ae});let be=new AbortController,rt=mo(r.history,K,be.signal,ve);if(ye){let pt=await fn(he,K,rt.signal);if(pt.type==="aborted")return;if(pt.type==="error"){at(V,F,pt.error,{flushSync:Ae});return}else if(pt.matches){if(he=pt.matches,X=Sa(he,K),ae(X))return}else{at(V,F,Kn(404,{pathname:K}),{flushSync:Ae});return}}We.set(V,be);let It=At,et=(await Xn("action",U,rt,[X],he,V))[X.route.id];if(rt.signal.aborted){We.get(V)===be&&We.delete(V);return}if(Y.has(V)){if(Ss(et)||Fn(et)){yn(V,zi(void 0));return}}else{if(Ss(et))if(We.delete(V),Qe>It){yn(V,zi(void 0));return}else return Te.add(V),yn(V,ya(ve)),Ht(rt,et,!1,{fetcherSubmission:ve,preventScrollReset:fe});if(Fn(et)){at(V,F,et.error);return}}let it=U.navigation.location||U.location,er=mo(r.history,it,be.signal),tr=h||u,nn=U.navigation.state!=="idle"?ji(tr,U.navigation.location,d):U.matches;qe(nn,"Didn't find any matches after fetcher action");let Wt=++At;oe.set(V,Wt);let $r=ya(ve,et.data);U.fetchers.set(V,$r);let[Sr,nr]=Eg(r.history,U,nn,ve,it,!1,P,ct,Y,ue,Te,tr,d,[X.route.id,et]);nr.filter(pt=>pt.key!==V).forEach(pt=>{let vn=pt.key,rn=U.fetchers.get(vn),Ls=ya(void 0,rn?rn.data:void 0);U.fetchers.set(vn,Ls),qt(vn),pt.controller&&We.set(vn,pt.controller)}),Fe({fetchers:new Map(U.fetchers)});let st=()=>nr.forEach(pt=>qt(pt.key));be.signal.addEventListener("abort",st);let{loaderResults:Hr,fetcherResults:Ke}=await zr(U,nn,Sr,nr,er);if(be.signal.aborted)return;be.signal.removeEventListener("abort",st),oe.delete(V),We.delete(V),nr.forEach(pt=>We.delete(pt.key));let dt=su(Hr);if(dt)return Ht(er,dt.result,!1,{preventScrollReset:fe});if(dt=su(Ke),dt)return Te.add(dt.key),Ht(er,dt.result,!1,{preventScrollReset:fe});let{loaderData:Qt,errors:rr}=Rg(U,nn,Hr,void 0,nr,Ke);if(U.fetchers.has(V)){let pt=zi(et.data);U.fetchers.set(V,pt)}pi(Wt),U.navigation.state==="loading"&&Wt>Qe?(qe(ce,"Expected pending action"),T&&T.abort(),ft(U.navigation.location,{matches:nn,loaderData:Qt,errors:rr,fetchers:new Map(U.fetchers)})):(Fe({errors:rr,loaderData:Ag(U.loaderData,Qt,nn,rr),fetchers:new Map(U.fetchers)}),P=!1)}async function Yn(V,F,K,X,he,ye,Ae,fe,ve){let ae=U.fetchers.get(V);yn(V,ya(ve,ae?ae.data:void 0),{flushSync:Ae});let xe=new AbortController,be=mo(r.history,K,xe.signal);if(ye){let et=await fn(he,K,be.signal);if(et.type==="aborted")return;if(et.type==="error"){at(V,F,et.error,{flushSync:Ae});return}else if(et.matches)he=et.matches,X=Sa(he,K);else{at(V,F,Kn(404,{pathname:K}),{flushSync:Ae});return}}We.set(V,xe);let rt=At,Be=(await Xn("loader",U,be,[X],he,V))[X.route.id];if(We.get(V)===xe&&We.delete(V),!be.signal.aborted){if(Y.has(V)){yn(V,zi(void 0));return}if(Ss(Be))if(Qe>rt){yn(V,zi(void 0));return}else{Te.add(V),await Ht(be,Be,!1,{preventScrollReset:fe});return}if(Fn(Be)){at(V,F,Be.error);return}yn(V,zi(Be.data))}}async function Ht(V,F,K,{submission:X,fetcherSubmission:he,preventScrollReset:ye,replace:Ae}={}){F.response.headers.has("X-Remix-Revalidate")&&(P=!0);let fe=F.response.headers.get("Location");qe(fe,"Expected a Location header on the redirect Response"),fe=Sg(fe,new URL(V.url),d);let ve=Fa(U.location,fe,{_isRedirect:!0});if(n){let Be=!1;if(F.response.headers.has("X-Remix-Reload-Document"))Be=!0;else if(Wf.test(fe)){const et=r.history.createURL(fe);Be=et.origin!==e.location.origin||_r(et.pathname,d)==null}if(Be){Ae?e.location.replace(fe):e.location.assign(fe);return}}T=null;let ae=Ae===!0||F.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:xe,formAction:be,formEncType:rt}=U.navigation;!X&&!he&&xe&&be&&rt&&(X=xg(U.navigation));let It=X||he;if(_I.has(F.response.status)&&It&&mr(It.formMethod))await tn(ae,ve,{submission:{...It,formAction:fe},preventScrollReset:ye||k,enableViewTransition:K?R:void 0});else{let Be=Lh(ve,X);await tn(ae,ve,{overrideNavigation:Be,fetcherSubmission:he,preventScrollReset:ye||k,enableViewTransition:K?R:void 0})}}async function Xn(V,F,K,X,he,ye){let Ae,fe={};try{Ae=await CI(g,V,F,K,X,he,ye,o,s)}catch(ve){return X.forEach(ae=>{fe[ae.route.id]={type:"error",error:ve}}),fe}for(let[ve,ae]of Object.entries(Ae))if(NI(ae)){let xe=ae.result;fe[ve]={type:"redirect",response:xI(xe,K,ve,he,d)}}else fe[ve]=await kI(ae);return fe}async function zr(V,F,K,X,he){let ye=Xn("loader",V,he,K,F,null),Ae=Promise.all(X.map(async ae=>{if(ae.matches&&ae.match&&ae.controller){let be=(await Xn("loader",V,mo(r.history,ae.path,ae.controller.signal),[ae.match],ae.matches,ae.key))[ae.match.route.id];return{[ae.key]:be}}else return Promise.resolve({[ae.key]:{type:"error",error:Kn(404,{pathname:ae.path})}})})),fe=await ye,ve=(await Ae).reduce((ae,xe)=>Object.assign(ae,xe),{});return{loaderResults:fe,fetcherResults:ve}}function vr(){P=!0,ue.forEach((V,F)=>{We.has(F)&&ct.add(F),qt(F)})}function yn(V,F,K={}){U.fetchers.set(V,F),Fe({fetchers:new Map(U.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function at(V,F,K,X={}){let he=ws(U.matches,F);kn(V),Fe({errors:{[he.route.id]:K},fetchers:new Map(U.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function St(V){return O.set(V,(O.get(V)||0)+1),Y.has(V)&&Y.delete(V),U.fetchers.get(V)||vI}function kn(V){let F=U.fetchers.get(V);We.has(V)&&!(F&&F.state==="loading"&&oe.has(V))&&qt(V),ue.delete(V),oe.delete(V),Te.delete(V),Y.delete(V),ct.delete(V),U.fetchers.delete(V)}function Zi(V){let F=(O.get(V)||0)-1;F<=0?(O.delete(V),Y.add(V)):O.set(V,F),Fe({fetchers:new Map(U.fetchers)})}function qt(V){let F=We.get(V);F&&(F.abort(),We.delete(V))}function Er(V){for(let F of V){let K=St(F),X=zi(K.data);U.fetchers.set(F,X)}}function wr(){let V=[],F=!1;for(let K of Te){let X=U.fetchers.get(K);qe(X,`Expected fetcher: ${K}`),X.state==="loading"&&(Te.delete(K),V.push(K),F=!0)}return Er(V),F}function pi(V){let F=[];for(let[K,X]of oe)if(X<V){let he=U.fetchers.get(K);qe(he,`Expected fetcher: ${K}`),he.state==="loading"&&(qt(K),oe.delete(K),F.push(K))}return Er(F),F.length>0}function es(V,F){let K=U.blockers.get(V)||ga;return Ee.get(V)!==F&&Ee.set(V,F),K}function mi(V){U.blockers.delete(V),Ee.delete(V)}function Tr(V,F){let K=U.blockers.get(V)||ga;qe(K.state==="unblocked"&&F.state==="blocked"||K.state==="blocked"&&F.state==="blocked"||K.state==="blocked"&&F.state==="proceeding"||K.state==="blocked"&&F.state==="unblocked"||K.state==="proceeding"&&F.state==="unblocked",`Invalid blocker state transition: ${K.state} -> ${F.state}`);let X=new Map(U.blockers);X.set(V,F),Fe({blockers:X})}function gi({currentLocation:V,nextLocation:F,historyAction:K}){if(Ee.size===0)return;Ee.size>1&&$t(!1,"A router only supports one blocker at a time");let X=Array.from(Ee.entries()),[he,ye]=X[X.length-1],Ae=U.blockers.get(he);if(!(Ae&&Ae.state==="proceeding")&&ye({currentLocation:V,nextLocation:F,historyAction:K}))return he}function Jn(V){let F=Kn(404,{pathname:V}),K=h||u,{matches:X,route:he}=Pg(K);return{notFoundMatches:X,route:he,error:F}}function yi(V,F,K){if(C=V,H=F,M=K||null,!z&&U.navigation===Nh){z=!0;let X=xn(U.location,U.matches);X!=null&&Fe({restoreScrollPosition:X})}return()=>{C=null,H=null,M=null}}function jr(V,F){return M&&M(V,F.map(X=>YS(X,U.loaderData)))||V.key}function _n(V,F){if(C&&H){let K=jr(V,F);C[K]=H()}}function xn(V,F){if(C){let K=jr(V,F),X=C[K];if(typeof X=="number")return X}return null}function Zn(V,F,K){if(_)if(V){if(Object.keys(V[0].params).length>0)return{active:!0,matches:du(F,K,d,!0)}}else return{active:!0,matches:du(F,K,d,!0)||[]};return{active:!1,matches:null}}async function fn(V,F,K){if(!_)return{type:"success",matches:V};let X=V;for(;;){let he=h==null,ye=h||u,Ae=o;try{await _({path:F,matches:X,patch:(ae,xe)=>{K.aborted||Tg(ae,xe,ye,Ae,s)}})}catch(ae){return{type:"error",error:ae,partialMatches:X}}finally{he&&!K.aborted&&(u=[...u])}if(K.aborted)return{type:"aborted"};let fe=ji(ye,F,d);if(fe)return{type:"success",matches:fe};let ve=du(ye,F,d,!0);if(!ve||X.length===ve.length&&X.every((ae,xe)=>ae.route.id===ve[xe].route.id))return{type:"success",matches:null};X=ve}}function ts(V){o={},h=Pu(V,s,void 0,o)}function Br(V,F){let K=h==null;Tg(V,F,h||u,o,s),K&&(u=[...u],Fe({}))}return pe={get basename(){return d},get future(){return E},get state(){return U},get routes(){return u},get window(){return e},initialize:ze,subscribe:Ze,enableScrollRestoration:yi,navigate:Un,fetch:Ns,revalidate:ci,createHref:V=>r.history.createHref(V),encodeLocation:V=>r.history.encodeLocation(V),getFetcher:St,deleteFetcher:Zi,dispose:Je,getBlocker:es,deleteBlocker:mi,patchRoutes:Br,_internalFetchControllers:We,_internalSetRoutes:ts},pe}function TI(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function rf(r,e,n,s,o,u){let h,d;if(o){h=[];for(let _ of e)if(h.push(_),_.route.id===o){d=_;break}}else h=e,d=e[e.length-1];let g=qf(s||".",Hf(h),_r(r.pathname,n)||r.pathname,u==="path");if(s==null&&(g.search=r.search,g.hash=r.hash),(s==null||s===""||s===".")&&d){let _=Qf(g.search);if(d.route.index&&!_)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&_){let E=new URLSearchParams(g.search),S=E.getAll("index");E.delete("index"),S.filter(C=>C).forEach(C=>E.append("index",C));let I=E.toString();g.search=I?`?${I}`:""}}return n!=="/"&&(g.pathname=g.pathname==="/"?n:Mr([n,g.pathname])),Xi(g)}function _g(r,e,n){if(!n||!TI(n))return{path:e};if(n.formMethod&&!LI(n.formMethod))return{path:e,error:Kn(405,{method:n.formMethod})};let s=()=>({path:e,error:Kn(400,{type:"invalid-body"})}),u=(n.formMethod||"get").toUpperCase(),h=P_(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!mr(u))return s();let S=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((I,[C,M])=>`${I}${C}=${M}
`,""):String(n.body);return{path:e,submission:{formMethod:u,formAction:h,formEncType:n.formEncType,formData:void 0,json:void 0,text:S}}}else if(n.formEncType==="application/json"){if(!mr(u))return s();try{let S=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:u,formAction:h,formEncType:n.formEncType,formData:void 0,json:S,text:void 0}}}catch{return s()}}}qe(typeof FormData=="function","FormData is not available in this environment");let d,g;if(n.formData)d=of(n.formData),g=n.formData;else if(n.body instanceof FormData)d=of(n.body),g=n.body;else if(n.body instanceof URLSearchParams)d=n.body,g=Ig(d);else if(n.body==null)d=new URLSearchParams,g=new FormData;else try{d=new URLSearchParams(n.body),g=Ig(d)}catch{return s()}let _={formMethod:u,formAction:h,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(mr(_.formMethod))return{path:e,submission:_};let E=ui(e);return r&&E.search&&Qf(E.search)&&d.append("index",""),E.search=`?${d}`,{path:Xi(E),submission:_}}function vg(r,e,n=!1){let s=r.findIndex(o=>o.route.id===e);return s>=0?r.slice(0,n?s+1:s):r}function Eg(r,e,n,s,o,u,h,d,g,_,E,S,I,C){let M=C?Fn(C[1])?C[1].error:C[1].data:void 0,H=r.createURL(e.location),z=r.createURL(o),q=n;u&&e.errors?q=vg(n,Object.keys(e.errors)[0],!0):C&&Fn(C[1])&&(q=vg(n,C[0]));let ee=C?C[1].statusCode:void 0,ie=ee&&ee>=400,pe=q.filter((ce,k)=>{let{route:T}=ce;if(T.lazy)return!0;if(T.loader==null)return!1;if(u)return sf(T,e.loaderData,e.errors);if(SI(e.loaderData,e.matches[k],ce))return!0;let R=e.matches[k],x=ce;return wg(ce,{currentUrl:H,currentParams:R.params,nextUrl:z,nextParams:x.params,...s,actionResult:M,actionStatus:ee,defaultShouldRevalidate:ie?!1:h||H.pathname+H.search===z.pathname+z.search||H.search!==z.search||II(R,x)})}),U=[];return _.forEach((ce,k)=>{if(u||!n.some(b=>b.route.id===ce.routeId)||g.has(k))return;let T=ji(S,ce.path,I);if(!T){U.push({key:k,routeId:ce.routeId,path:ce.path,matches:null,match:null,controller:null});return}let R=e.fetchers.get(k),x=Sa(T,ce.path),N=!1;E.has(k)?N=!1:d.has(k)?(d.delete(k),N=!0):R&&R.state!=="idle"&&R.data===void 0?N=h:N=wg(x,{currentUrl:H,currentParams:e.matches[e.matches.length-1].params,nextUrl:z,nextParams:n[n.length-1].params,...s,actionResult:M,actionStatus:ee,defaultShouldRevalidate:ie?!1:h}),N&&U.push({key:k,routeId:ce.routeId,path:ce.path,matches:T,match:x,controller:new AbortController})}),[pe,U]}function sf(r,e,n){if(r.lazy)return!0;if(!r.loader)return!1;let s=e!=null&&e[r.id]!==void 0,o=n!=null&&n[r.id]!==void 0;return!s&&o?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!s&&!o}function SI(r,e,n){let s=!e||n.route.id!==e.route.id,o=!r.hasOwnProperty(n.route.id);return s||o}function II(r,e){let n=r.route.path;return r.pathname!==e.pathname||n!=null&&n.endsWith("*")&&r.params["*"]!==e.params["*"]}function wg(r,e){if(r.route.shouldRevalidate){let n=r.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Tg(r,e,n,s,o){let u;if(r){let g=s[r];qe(g,`No route found to patch children into: routeId = ${r}`),g.children||(g.children=[]),u=g.children}else u=n;let h=e.filter(g=>!u.some(_=>C_(g,_))),d=Pu(h,o,[r||"_","patch",String((u==null?void 0:u.length)||"0")],s);u.push(...d)}function C_(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((n,s)=>{var o;return(o=e.children)==null?void 0:o.some(u=>C_(n,u))}):!1}async function RI(r,e,n){if(!r.lazy)return;let s=await r.lazy();if(!r.lazy)return;let o=n[r.id];qe(o,"No route found in manifest");let u={};for(let h in s){let g=o[h]!==void 0&&h!=="hasErrorBoundary";$t(!g,`Route "${o.id}" has a static property "${h}" defined but its lazy function is also returning a value for this property. The lazy route property "${h}" will be ignored.`),!g&&!KS.has(h)&&(u[h]=s[h])}Object.assign(o,u),Object.assign(o,{...e(o),lazy:void 0})}async function AI({matches:r}){let e=r.filter(s=>s.shouldLoad);return(await Promise.all(e.map(s=>s.resolve()))).reduce((s,o,u)=>Object.assign(s,{[e[u].route.id]:o}),{})}async function CI(r,e,n,s,o,u,h,d,g,_){let E=u.map(C=>C.route.lazy?RI(C.route,g,d):void 0),S=u.map((C,M)=>{let H=E[M],z=o.some(ee=>ee.route.id===C.route.id);return{...C,shouldLoad:z,resolve:async ee=>(ee&&s.method==="GET"&&(C.route.lazy||C.route.loader)&&(z=!0),z?PI(e,s,C,H,ee,_):Promise.resolve({type:"data",result:void 0}))}}),I=await r({matches:S,request:s,params:u[0].params,fetcherKey:h,context:_});try{await Promise.all(E)}catch{}return I}async function PI(r,e,n,s,o,u){let h,d,g=_=>{let E,S=new Promise((M,H)=>E=H);d=()=>E(),e.signal.addEventListener("abort",d);let I=M=>typeof _!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${r}" [routeId: ${n.route.id}]`)):_({request:e,params:n.params,context:u},...M!==void 0?[M]:[]),C=(async()=>{try{return{type:"data",result:await(o?o(H=>I(H)):I())}}catch(M){return{type:"error",result:M}}})();return Promise.race([C,S])};try{let _=n.route[r];if(s)if(_){let E,[S]=await Promise.all([g(_).catch(I=>{E=I}),s]);if(E!==void 0)throw E;h=S}else if(await s,_=n.route[r],_)h=await g(_);else if(r==="action"){let E=new URL(e.url),S=E.pathname+E.search;throw Kn(405,{method:e.method,pathname:S,routeId:n.route.id})}else return{type:"data",result:void 0};else if(_)h=await g(_);else{let E=new URL(e.url),S=E.pathname+E.search;throw Kn(404,{pathname:S})}}catch(_){return{type:"error",result:_}}finally{d&&e.signal.removeEventListener("abort",d)}return h}async function kI(r){var s,o,u,h;let{result:e,type:n}=r;if(k_(e)){let d;try{let g=e.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?e.body==null?d=null:d=await e.json():d=await e.text()}catch(g){return{type:"error",error:g}}return n==="error"?{type:"error",error:new xu(e.status,e.statusText,d),statusCode:e.status,headers:e.headers}:{type:"data",data:d,statusCode:e.status,headers:e.headers}}if(n==="error"){if(kg(e)){if(e.data instanceof Error)return{type:"error",error:e.data,statusCode:(s=e.init)==null?void 0:s.status};e=new xu(((o=e.init)==null?void 0:o.status)||500,void 0,e.data)}return{type:"error",error:e,statusCode:Wu(e)?e.status:void 0}}return kg(e)?{type:"data",data:e.data,statusCode:(u=e.init)==null?void 0:u.status,headers:(h=e.init)!=null&&h.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function xI(r,e,n,s,o){let u=r.headers.get("Location");if(qe(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!Wf.test(u)){let h=s.slice(0,s.findIndex(d=>d.route.id===n)+1);u=rf(new URL(e.url),h,o,u),r.headers.set("Location",u)}return r}function Sg(r,e,n){if(Wf.test(r)){let s=r,o=s.startsWith("//")?new URL(e.protocol+s):new URL(s),u=_r(o.pathname,n)!=null;if(o.origin===e.origin&&u)return o.pathname+o.search+o.hash}return r}function mo(r,e,n,s){let o=r.createURL(P_(e)).toString(),u={signal:n};if(s&&mr(s.formMethod)){let{formMethod:h,formEncType:d}=s;u.method=h.toUpperCase(),d==="application/json"?(u.headers=new Headers({"Content-Type":d}),u.body=JSON.stringify(s.json)):d==="text/plain"?u.body=s.text:d==="application/x-www-form-urlencoded"&&s.formData?u.body=of(s.formData):u.body=s.formData}return new Request(o,u)}function of(r){let e=new URLSearchParams;for(let[n,s]of r.entries())e.append(n,typeof s=="string"?s:s.name);return e}function Ig(r){let e=new FormData;for(let[n,s]of r.entries())e.append(n,s);return e}function DI(r,e,n,s=!1,o=!1){let u={},h=null,d,g=!1,_={},E=n&&Fn(n[1])?n[1].error:void 0;return r.forEach(S=>{if(!(S.route.id in e))return;let I=S.route.id,C=e[I];if(qe(!Ss(C),"Cannot handle redirect results in processLoaderData"),Fn(C)){let M=C.error;if(E!==void 0&&(M=E,E=void 0),h=h||{},o)h[I]=M;else{let H=ws(r,I);h[H.route.id]==null&&(h[H.route.id]=M)}s||(u[I]=A_),g||(g=!0,d=Wu(C.error)?C.error.status:500),C.headers&&(_[I]=C.headers)}else u[I]=C.data,C.statusCode&&C.statusCode!==200&&!g&&(d=C.statusCode),C.headers&&(_[I]=C.headers)}),E!==void 0&&n&&(h={[n[0]]:E},u[n[0]]=void 0),{loaderData:u,errors:h,statusCode:d||200,loaderHeaders:_}}function Rg(r,e,n,s,o,u){let{loaderData:h,errors:d}=DI(e,n,s);return o.forEach(g=>{let{key:_,match:E,controller:S}=g,I=u[_];if(qe(I,"Did not find corresponding fetcher result"),!(S&&S.signal.aborted))if(Fn(I)){let C=ws(r.matches,E==null?void 0:E.route.id);d&&d[C.route.id]||(d={...d,[C.route.id]:I.error}),r.fetchers.delete(_)}else if(Ss(I))qe(!1,"Unhandled fetcher revalidation redirect");else{let C=zi(I.data);r.fetchers.set(_,C)}}),{loaderData:h,errors:d}}function Ag(r,e,n,s){let o=Object.entries(e).filter(([,u])=>u!==A_).reduce((u,[h,d])=>(u[h]=d,u),{});for(let u of n){let h=u.route.id;if(!e.hasOwnProperty(h)&&r.hasOwnProperty(h)&&u.route.loader&&(o[h]=r[h]),s&&s.hasOwnProperty(h))break}return o}function Cg(r){return r?Fn(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function ws(r,e){return(e?r.slice(0,r.findIndex(s=>s.route.id===e)+1):[...r]).reverse().find(s=>s.route.hasErrorBoundary===!0)||r[0]}function Pg(r){let e=r.length===1?r[0]:r.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Kn(r,{pathname:e,routeId:n,method:s,type:o,message:u}={}){let h="Unknown Server Error",d="Unknown @remix-run/router error";return r===400?(h="Bad Request",s&&e&&n?d=`You made a ${s} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:o==="invalid-body"&&(d="Unable to encode submission body")):r===403?(h="Forbidden",d=`Route "${n}" does not match URL "${e}"`):r===404?(h="Not Found",d=`No route matches URL "${e}"`):r===405&&(h="Method Not Allowed",s&&e&&n?d=`You made a ${s.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:s&&(d=`Invalid request method "${s.toUpperCase()}"`)),new xu(r||500,h,new Error(d),!0)}function su(r){let e=Object.entries(r);for(let n=e.length-1;n>=0;n--){let[s,o]=e[n];if(Ss(o))return{key:s,result:o}}}function P_(r){let e=typeof r=="string"?ui(r):r;return Xi({...e,hash:""})}function VI(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function NI(r){return k_(r.result)&&yI.has(r.result.status)}function Fn(r){return r.type==="error"}function Ss(r){return(r&&r.type)==="redirect"}function kg(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function k_(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function LI(r){return gI.has(r.toUpperCase())}function mr(r){return pI.has(r.toUpperCase())}function Qf(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function Sa(r,e){let n=typeof e=="string"?ui(e).search:e.search;if(r[r.length-1].route.index&&Qf(n||""))return r[r.length-1];let s=S_(r);return s[s.length-1]}function xg(r){let{formMethod:e,formAction:n,formEncType:s,text:o,formData:u,json:h}=r;if(!(!e||!n||!s)){if(o!=null)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:n,formEncType:s,formData:u,json:void 0,text:void 0};if(h!==void 0)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:h,text:void 0}}}function Lh(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function MI(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ya(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function OI(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function zi(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function FI(r,e){try{let n=r.sessionStorage.getItem(R_);if(n){let s=JSON.parse(n);for(let[o,u]of Object.entries(s||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function bI(r,e){if(e.size>0){let n={};for(let[s,o]of e)n[s]=[...o];try{r.sessionStorage.setItem(R_,JSON.stringify(n))}catch(s){$t(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function UI(){let r,e,n=new Promise((s,o)=>{r=async u=>{s(u);try{await n}catch{}},e=async u=>{o(u);try{await n}catch{}}});return{promise:n,resolve:r,reject:e}}var Ds=Q.createContext(null);Ds.displayName="DataRouter";var Ba=Q.createContext(null);Ba.displayName="DataRouterState";var Kf=Q.createContext({isTransitioning:!1});Kf.displayName="ViewTransition";var x_=Q.createContext(new Map);x_.displayName="Fetchers";var zI=Q.createContext(null);zI.displayName="Await";var Fr=Q.createContext(null);Fr.displayName="Navigation";var Qu=Q.createContext(null);Qu.displayName="Location";var br=Q.createContext({outlet:null,matches:[],isDataRoute:!1});br.displayName="Route";var Gf=Q.createContext(null);Gf.displayName="RouteError";function jI(r,{relative:e}={}){qe($a(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=Q.useContext(Fr),{hash:o,pathname:u,search:h}=Ha(r,{relative:e}),d=u;return n!=="/"&&(d=u==="/"?n:Mr([n,u])),s.createHref({pathname:d,search:h,hash:o})}function $a(){return Q.useContext(Qu)!=null}function Vs(){return qe($a(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(Qu).location}var D_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function V_(r){Q.useContext(Fr).static||Q.useLayoutEffect(r)}function BI(){let{isDataRoute:r}=Q.useContext(br);return r?nR():$I()}function $I(){qe($a(),"useNavigate() may be used only in the context of a <Router> component.");let r=Q.useContext(Ds),{basename:e,navigator:n}=Q.useContext(Fr),{matches:s}=Q.useContext(br),{pathname:o}=Vs(),u=JSON.stringify(Hf(s)),h=Q.useRef(!1);return V_(()=>{h.current=!0}),Q.useCallback((g,_={})=>{if($t(h.current,D_),!h.current)return;if(typeof g=="number"){n.go(g);return}let E=qf(g,JSON.parse(u),o,_.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Mr([e,E.pathname])),(_.replace?n.replace:n.push)(E,_.state,_)},[e,n,u,o,r])}Q.createContext(null);function HI(){let{matches:r}=Q.useContext(br),e=r[r.length-1];return e?e.params:{}}function Ha(r,{relative:e}={}){let{matches:n}=Q.useContext(br),{pathname:s}=Vs(),o=JSON.stringify(Hf(n));return Q.useMemo(()=>qf(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function qI(r,e,n,s){qe($a(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=Q.useContext(Fr),{matches:u}=Q.useContext(br),h=u[u.length-1],d=h?h.params:{},g=h?h.pathname:"/",_=h?h.pathnameBase:"/",E=h&&h.route;{let q=E&&E.path||"";N_(g,!E||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let S=Vs(),I;I=S;let C=I.pathname||"/",M=C;if(_!=="/"){let q=_.replace(/^\//,"").split("/");M="/"+C.replace(/^\//,"").split("/").slice(q.length).join("/")}let H=ji(r,{pathname:M});return $t(E||H!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),$t(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),YI(H&&H.map(q=>Object.assign({},q,{params:Object.assign({},d,q.params),pathname:Mr([_,o.encodeLocation?o.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?_:Mr([_,o.encodeLocation?o.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),u,n,s)}function WI(){let r=tR(),e=Wu(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=Q.createElement(Q.Fragment,null,Q.createElement("p",null," Hey developer "),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:u},"ErrorBoundary")," or"," ",Q.createElement("code",{style:u},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),n?Q.createElement("pre",{style:o},n):null,h)}var QI=Q.createElement(WI,null),KI=class extends Q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?Q.createElement(br.Provider,{value:this.props.routeContext},Q.createElement(Gf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function GI({routeContext:r,match:e,children:n}){let s=Q.useContext(Ds);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(br.Provider,{value:r},n)}function YI(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let g=o.findIndex(_=>_.route.id&&(u==null?void 0:u[_.route.id])!==void 0);qe(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,d=-1;if(n)for(let g=0;g<o.length;g++){let _=o[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(d=g),_.route.id){let{loaderData:E,errors:S}=n,I=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!S||S[_.route.id]===void 0);if(_.route.lazy||I){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((g,_,E)=>{let S,I=!1,C=null,M=null;n&&(S=u&&_.route.id?u[_.route.id]:void 0,C=_.route.errorElement||QI,h&&(d<0&&E===0?(N_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,M=null):d===E&&(I=!0,M=_.route.hydrateFallbackElement||null)));let H=e.concat(o.slice(0,E+1)),z=()=>{let q;return S?q=C:I?q=M:_.route.Component?q=Q.createElement(_.route.Component,null):_.route.element?q=_.route.element:q=g,Q.createElement(GI,{match:_,routeContext:{outlet:g,matches:H,isDataRoute:n!=null},children:q})};return n&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?Q.createElement(KI,{location:n.location,revalidation:n.revalidation,component:C,error:S,children:z(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):z()},null)}function Yf(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XI(r){let e=Q.useContext(Ds);return qe(e,Yf(r)),e}function JI(r){let e=Q.useContext(Ba);return qe(e,Yf(r)),e}function ZI(r){let e=Q.useContext(br);return qe(e,Yf(r)),e}function Xf(r){let e=ZI(r),n=e.matches[e.matches.length-1];return qe(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function eR(){return Xf("useRouteId")}function tR(){var s;let r=Q.useContext(Gf),e=JI("useRouteError"),n=Xf("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function nR(){let{router:r}=XI("useNavigate"),e=Xf("useNavigate"),n=Q.useRef(!1);return V_(()=>{n.current=!0}),Q.useCallback(async(o,u={})=>{$t(n.current,D_),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Dg={};function N_(r,e,n){!e&&!Dg[r]&&(Dg[r]=!0,$t(!1,n))}var Vg={};function Ng(r,e){!r&&!Vg[e]&&(Vg[e]=!0,console.warn(e))}function rR(r){let e={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&$t(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:Q.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&$t(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:Q.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&$t(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:Q.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),e}var iR=class{constructor(){this.status="pending",this.promise=new Promise((r,e)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",r(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",e(n))}})}};function sR({router:r,flushSync:e}){let[n,s]=Q.useState(r.state),[o,u]=Q.useState(),[h,d]=Q.useState({isTransitioning:!1}),[g,_]=Q.useState(),[E,S]=Q.useState(),[I,C]=Q.useState(),M=Q.useRef(new Map),H=Q.useCallback((ie,{deletedFetchers:pe,flushSync:U,viewTransitionOpts:ce})=>{pe.forEach(T=>M.current.delete(T)),ie.fetchers.forEach((T,R)=>{T.data!==void 0&&M.current.set(R,T.data)}),Ng(U===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let k=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(Ng(ce==null||k,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!ce||!k){e&&U?e(()=>s(ie)):Q.startTransition(()=>s(ie));return}if(e&&U){e(()=>{E&&(g&&g.resolve(),E.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation})});let T=r.window.document.startViewTransition(()=>{e(()=>s(ie))});T.finished.finally(()=>{e(()=>{_(void 0),S(void 0),u(void 0),d({isTransitioning:!1})})}),e(()=>S(T));return}E?(g&&g.resolve(),E.skipTransition(),C({state:ie,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation})):(u(ie),d({isTransitioning:!0,flushSync:!1,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation}))},[r.window,e,E,g]);Q.useLayoutEffect(()=>r.subscribe(H),[r,H]),Q.useEffect(()=>{h.isTransitioning&&!h.flushSync&&_(new iR)},[h]),Q.useEffect(()=>{if(g&&o&&r.window){let ie=o,pe=g.promise,U=r.window.document.startViewTransition(async()=>{Q.startTransition(()=>s(ie)),await pe});U.finished.finally(()=>{_(void 0),S(void 0),u(void 0),d({isTransitioning:!1})}),S(U)}},[o,g,r.window]),Q.useEffect(()=>{g&&o&&n.location.key===o.location.key&&g.resolve()},[g,E,n.location,o]),Q.useEffect(()=>{!h.isTransitioning&&I&&(u(I.state),d({isTransitioning:!0,flushSync:!1,currentLocation:I.currentLocation,nextLocation:I.nextLocation}),C(void 0))},[h.isTransitioning,I]);let z=Q.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:ie=>r.navigate(ie),push:(ie,pe,U)=>r.navigate(ie,{state:pe,preventScrollReset:U==null?void 0:U.preventScrollReset}),replace:(ie,pe,U)=>r.navigate(ie,{replace:!0,state:pe,preventScrollReset:U==null?void 0:U.preventScrollReset})}),[r]),q=r.basename||"/",ee=Q.useMemo(()=>({router:r,navigator:z,static:!1,basename:q}),[r,z,q]);return Q.createElement(Q.Fragment,null,Q.createElement(Ds.Provider,{value:ee},Q.createElement(Ba.Provider,{value:n},Q.createElement(x_.Provider,{value:M.current},Q.createElement(Kf.Provider,{value:h},Q.createElement(lR,{basename:q,location:n.location,navigationType:n.historyAction,navigator:z},Q.createElement(oR,{routes:r.routes,future:r.future,state:n})))))),null)}var oR=Q.memo(aR);function aR({routes:r,future:e,state:n}){return qI(r,void 0,n,e)}function lR({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){qe(!$a(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),d=Q.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=ui(n));let{pathname:g="/",search:_="",hash:E="",state:S=null,key:I="default"}=n,C=Q.useMemo(()=>{let M=_r(g,h);return M==null?null:{location:{pathname:M,search:_,hash:E,state:S,key:I},navigationType:s}},[h,g,_,E,S,I,s]);return $t(C!=null,`<Router basename="${h}"> is not able to match the URL "${g}${_}${E}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:Q.createElement(Fr.Provider,{value:d},Q.createElement(Qu.Provider,{children:e,value:C}))}var pu="get",mu="application/x-www-form-urlencoded";function Ku(r){return r!=null&&typeof r.tagName=="string"}function uR(r){return Ku(r)&&r.tagName.toLowerCase()==="button"}function cR(r){return Ku(r)&&r.tagName.toLowerCase()==="form"}function hR(r){return Ku(r)&&r.tagName.toLowerCase()==="input"}function fR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function dR(r,e){return r.button===0&&(!e||e==="_self")&&!fR(r)}var ou=null;function pR(){if(ou===null)try{new FormData(document.createElement("form"),0),ou=!1}catch{ou=!0}return ou}var mR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mh(r){return r!=null&&!mR.has(r)?($t(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mu}"`),null):r}function gR(r,e){let n,s,o,u,h;if(cR(r)){let d=r.getAttribute("action");s=d?_r(d,e):null,n=r.getAttribute("method")||pu,o=Mh(r.getAttribute("enctype"))||mu,u=new FormData(r)}else if(uR(r)||hR(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||d.getAttribute("action");if(s=g?_r(g,e):null,n=r.getAttribute("formmethod")||d.getAttribute("method")||pu,o=Mh(r.getAttribute("formenctype"))||Mh(d.getAttribute("enctype"))||mu,u=new FormData(d,r),!pR()){let{name:_,type:E,value:S}=r;if(E==="image"){let I=_?`${_}.`:"";u.append(`${I}x`,"0"),u.append(`${I}y`,"0")}else _&&u.append(_,S)}}else{if(Ku(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=pu,s=null,o=mu,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}function Jf(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function yR(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _R(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function vR(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await yR(u,n);return h.links?h.links():[]}return[]}));return SR(s.flat(1).filter(_R).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Lg(r,e,n,s,o,u){let h=(g,_)=>n[_]?g.route.id!==n[_].route.id:!0,d=(g,_)=>{var E;return n[_].pathname!==g.pathname||((E=n[_].route.path)==null?void 0:E.endsWith("*"))&&n[_].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,_)=>h(g,_)||d(g,_)):u==="data"?e.filter((g,_)=>{var S;let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(h(g,_)||d(g,_))return!0;if(g.route.shouldRevalidate){let I=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=n[0])==null?void 0:S.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function ER(r,e){return wR(r.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function wR(r){return[...new Set(r)]}function TR(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function SR(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(TR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function IR(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function RR(){let r=Q.useContext(Ds);return Jf(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function AR(){let r=Q.useContext(Ba);return Jf(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Zf=Q.createContext(void 0);Zf.displayName="FrameworkContext";function L_(){let r=Q.useContext(Zf);return Jf(r,"You must render this element inside a <HydratedRouter> element"),r}function CR(r,e){let n=Q.useContext(Zf),[s,o]=Q.useState(!1),[u,h]=Q.useState(!1),{onFocus:d,onBlur:g,onMouseEnter:_,onMouseLeave:E,onTouchStart:S}=e,I=Q.useRef(null);Q.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let H=q=>{q.forEach(ee=>{h(ee.isIntersecting)})},z=new IntersectionObserver(H,{threshold:.5});return I.current&&z.observe(I.current),()=>{z.disconnect()}}},[r]),Q.useEffect(()=>{if(s){let H=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(H)}}},[s]);let C=()=>{o(!0)},M=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,I,{}]:[u,I,{onFocus:_a(d,C),onBlur:_a(g,M),onMouseEnter:_a(_,C),onMouseLeave:_a(E,M),onTouchStart:_a(S,C)}]:[!1,I,{}]}function _a(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function PR({page:r,...e}){let{router:n}=RR(),s=Q.useMemo(()=>ji(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?Q.createElement(xR,{page:r,matches:s,...e}):null}function kR(r){let{manifest:e,routeModules:n}=L_(),[s,o]=Q.useState([]);return Q.useEffect(()=>{let u=!1;return vR(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function xR({page:r,matches:e,...n}){let s=Vs(),{manifest:o,routeModules:u}=L_(),{loaderData:h,matches:d}=AR(),g=Q.useMemo(()=>Lg(r,e,d,o,s,"data"),[r,e,d,o,s]),_=Q.useMemo(()=>Lg(r,e,d,o,s,"assets"),[r,e,d,o,s]),E=Q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let C=new Set,M=!1;if(e.forEach(z=>{var ee;let q=o.routes[z.route.id];!q||!q.hasLoader||(!g.some(ie=>ie.route.id===z.route.id)&&z.route.id in h&&((ee=u[z.route.id])!=null&&ee.shouldRevalidate)||q.hasClientLoader?M=!0:C.add(z.route.id))}),C.size===0)return[];let H=IR(r);return M&&C.size>0&&H.searchParams.set("_routes",e.filter(z=>C.has(z.route.id)).map(z=>z.route.id).join(",")),[H.pathname+H.search]},[h,s,o,g,e,r,u]),S=Q.useMemo(()=>ER(_,o),[_,o]),I=kR(_);return Q.createElement(Q.Fragment,null,E.map(C=>Q.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),S.map(C=>Q.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),I.map(({key:C,link:M})=>Q.createElement("link",{key:C,...M})))}function DR(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var M_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{M_&&(window.__reactRouterVersion="7.1.1")}catch{}function VR(r,e){return wI({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:qS({window:e==null?void 0:e.window}),hydrationData:NR(),routes:r,mapRouteProperties:rR,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function NR(){let r=window==null?void 0:window.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:LR(r.errors)}),r}function LR(r){if(!r)return null;let e=Object.entries(r),n={};for(let[s,o]of e)if(o&&o.__type==="RouteErrorResponse")n[s]=new xu(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let h=new u(o.message);h.stack="",n[s]=h}catch{}}if(n[s]==null){let u=new Error(o.message);u.stack="",n[s]=u}}else n[s]=o;return n}var O_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ed=Q.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:d,target:g,to:_,preventScrollReset:E,viewTransition:S,...I},C){let{basename:M}=Q.useContext(Fr),H=typeof _=="string"&&O_.test(_),z,q=!1;if(typeof _=="string"&&H&&(z=_,M_))try{let R=new URL(window.location.href),x=_.startsWith("//")?new URL(R.protocol+_):new URL(_),N=_r(x.pathname,M);x.origin===R.origin&&N!=null?_=N+x.search+x.hash:q=!0}catch{$t(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ee=jI(_,{relative:o}),[ie,pe,U]=CR(s,I),ce=bR(_,{replace:h,state:d,target:g,preventScrollReset:E,relative:o,viewTransition:S});function k(R){e&&e(R),R.defaultPrevented||ce(R)}let T=Q.createElement("a",{...I,...U,href:z||ee,onClick:q||u?e:k,ref:DR(C,pe),target:g,"data-discover":!H&&n==="render"?"true":void 0});return ie&&!H?Q.createElement(Q.Fragment,null,T,Q.createElement(PR,{page:ee})):T});ed.displayName="Link";var MR=Q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:d,children:g,..._},E){let S=Ha(h,{relative:_.relative}),I=Vs(),C=Q.useContext(Ba),{navigator:M,basename:H}=Q.useContext(Fr),z=C!=null&&$R(S)&&d===!0,q=M.encodeLocation?M.encodeLocation(S).pathname:S.pathname,ee=I.pathname,ie=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(ee=ee.toLowerCase(),ie=ie?ie.toLowerCase():null,q=q.toLowerCase()),ie&&H&&(ie=_r(ie,H)||ie);const pe=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let U=ee===q||!o&&ee.startsWith(q)&&ee.charAt(pe)==="/",ce=ie!=null&&(ie===q||!o&&ie.startsWith(q)&&ie.charAt(q.length)==="/"),k={isActive:U,isPending:ce,isTransitioning:z},T=U?e:void 0,R;typeof s=="function"?R=s(k):R=[s,U?"active":null,ce?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(k):u;return Q.createElement(ed,{..._,"aria-current":T,className:R,ref:E,style:x,to:h,viewTransition:d},typeof g=="function"?g(k):g)});MR.displayName="NavLink";var OR=Q.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=pu,action:d,onSubmit:g,relative:_,preventScrollReset:E,viewTransition:S,...I},C)=>{let M=jR(),H=BR(d,{relative:_}),z=h.toLowerCase()==="get"?"get":"post",q=typeof d=="string"&&O_.test(d),ee=ie=>{if(g&&g(ie),ie.defaultPrevented)return;ie.preventDefault();let pe=ie.nativeEvent.submitter,U=(pe==null?void 0:pe.getAttribute("formmethod"))||h;M(pe||ie.currentTarget,{fetcherKey:e,method:U,navigate:n,replace:o,state:u,relative:_,preventScrollReset:E,viewTransition:S})};return Q.createElement("form",{ref:C,method:z,action:H,onSubmit:s?g:ee,...I,"data-discover":!q&&r==="render"?"true":void 0})});OR.displayName="Form";function FR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function F_(r){let e=Q.useContext(Ds);return qe(e,FR(r)),e}function bR(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let d=BI(),g=Vs(),_=Ha(r,{relative:u});return Q.useCallback(E=>{if(dR(E,e)){E.preventDefault();let S=n!==void 0?n:Xi(g)===Xi(_);d(r,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[g,d,_,n,s,e,r,o,u,h])}var UR=0,zR=()=>`__${String(++UR)}__`;function jR(){let{router:r}=F_("useSubmit"),{basename:e}=Q.useContext(Fr),n=eR();return Q.useCallback(async(s,o={})=>{let{action:u,method:h,encType:d,formData:g,body:_}=gR(s,e);if(o.navigate===!1){let E=o.fetcherKey||zR();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:_,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:_,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function BR(r,{relative:e}={}){let{basename:n}=Q.useContext(Fr),s=Q.useContext(br);qe(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Ha(r||".",{relative:e})},h=Vs();if(r==null){u.search=h.search;let d=new URLSearchParams(u.search),g=d.getAll("index");if(g.some(E=>E==="")){d.delete("index"),g.filter(S=>S).forEach(S=>d.append("index",S));let E=d.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Mr([n,u.pathname])),Xi(u)}function $R(r,e={}){let n=Q.useContext(Kf);qe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=F_("useViewTransitionState"),o=Ha(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=_r(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=_r(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ku(o.pathname,h)!=null||ku(o.pathname,u)!=null}new TextEncoder;var HR=Og();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qR(r){return Q.createElement(sR,{flushSync:HR.flushSync,...r})}const Du=({children:r,onClick:e})=>ke.jsx("button",{onClick:e,children:r}),WR=({open:r,onCloseModal:e})=>{const[n,s]=Q.useState(""),[o,u]=Q.useState(""),[h,d]=Q.useState(""),[g,_]=Q.useState(""),[E,S]=Q.useState(""),I=ee=>{s(ee.target.value)},C=ee=>{u(ee.target.value)},M=ee=>{d(ee.target.value)},H=ee=>{_(ee.target.value)},z=ee=>{S(ee.target.value)},q=async()=>{const ee={firstName:n,lastName:o,email:h,phone:g,age:E},ie=a_(Bf,$f);await FS(ie,ee),e()};return r?ke.jsx("div",{className:"container",children:ke.jsxs("div",{className:"modal",children:[ke.jsx("h2",{children:"Contact Form"}),ke.jsxs("label",{children:["First Name",ke.jsx("input",{type:"text",name:"firstName",value:n,onChange:I})]}),ke.jsxs("label",{children:["Last Name",ke.jsx("input",{type:"text",name:"lastName",value:o,onChange:C})]}),ke.jsxs("label",{children:["E-mail",ke.jsx("input",{type:"text",name:"email",value:h,onChange:M})]}),ke.jsxs("label",{children:["Phone",ke.jsx("input",{type:"text",name:"phone",value:g,onChange:H})]}),ke.jsxs("label",{children:["Age",ke.jsx("input",{type:"text",name:"age",value:E,onChange:z})]}),ke.jsx(Du,{onClick:q,children:"Submit"})]})}):null};function b_(){const[r,e]=Q.useState(),[n,s]=Q.useState(!1);Q.useState();const o=async()=>{const h=[],d=a_(Bf,$f),g=kS(d,xS("lastName","asc"));(await OS(g)).forEach(E=>{const S=E.data();h.push({id:E.id,...S})}),e(h)},u=()=>{s(!0)};return Q.useEffect(()=>{o()},[]),console.log(r),ke.jsxs(ke.Fragment,{children:[ke.jsx(Du,{onClick:u,children:"New Contact"}),ke.jsx("ul",{className:"list",children:r?r.map(h=>ke.jsx("li",{children:ke.jsxs(ed,{to:`/details/${h.id}`,children:[h.lastName," ",h.firstName]})},h.id)):ke.jsx("p",{children:"Loading..."})}),ke.jsx(WR,{open:n,onCloseModal:()=>{s(!1),o()}})]})}const QR=()=>{const[r,e]=Q.useState(),[n,s]=Q.useState(!1),{id:o}=HI(),u=C=>{e({...r,firstName:C.target.value})},h=C=>{e({...r,lastName:C.target.value})},d=C=>{e({...r,email:C.target.value})},g=C=>{e({...r,phone:C.target.value})},_=C=>{e({...r,age:C.target.value})},E=async()=>{const C=l_(Bf,$f,o),M=await MS(C);M.exists()?(console.log("Contact",M.data()),e(M.data())):console.log("No document with id",o,"found")},S=()=>{console.log("Edit contact"),s(!0)},I=async()=>{};return Q.useEffect(()=>{E()},[]),ke.jsxs("div",{children:[ke.jsx(Du,{onClick:S,children:"Edit"}),ke.jsx("h5",{children:"Contact Details:"}),ke.jsx(ke.Fragment,{children:!n&&r&&ke.jsxs("div",{children:[ke.jsxs("p",{children:["Name: ",r.firstName]}),ke.jsxs("p",{children:["Last name: ",r.lastName]}),ke.jsxs("p",{children:["E-mail: ",r.email]}),ke.jsxs("p",{children:["Phone: ",r.phone]}),ke.jsxs("p",{children:["Age: ",r.age]})]})}),n&&r&&ke.jsxs("div",{className:"modal",children:[ke.jsx("h2",{children:"Contact Form"}),ke.jsxs("label",{children:["First Name",ke.jsx("input",{type:"text",name:"firstName",value:r.firstName,onChange:u})]}),ke.jsxs("label",{children:["Last Name",ke.jsx("input",{type:"text",name:"lastName",value:r.lastName,onChange:h})]}),ke.jsxs("label",{children:["E-mail",ke.jsx("input",{type:"text",name:"email",value:r.email,onChange:d})]}),ke.jsxs("label",{children:["Phone",ke.jsx("input",{type:"text",name:"phone",value:r.phone,onChange:g})]}),ke.jsxs("label",{children:["Age",ke.jsx("input",{type:"number",name:"age",value:r.age,onChange:_})]}),ke.jsx(Du,{onClick:I,children:"Submit"})]})]})},KR=VR([{path:"/",element:ke.jsx(b_,{})},{path:"/details/:id",element:ke.jsx(QR,{})}]);Yv.createRoot(document.getElementById("root")).render(ke.jsx(Hv.StrictMode,{children:ke.jsx(qR,{router:KR,children:ke.jsx(b_,{})})}));
