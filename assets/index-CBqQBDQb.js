(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function r(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=r(a);fetch(a.href,c)}})();var mc={exports:{}},ko={},gc={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cd;function bg(){if(Cd)return ye;Cd=1;var s=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),M=Symbol.iterator;function z(D){return D===null||typeof D!="object"?null:(D=M&&D[M]||D["@@iterator"],typeof D=="function"?D:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},te=Object.assign,Z={};function K(D,B,oe){this.props=D,this.context=B,this.refs=Z,this.updater=oe||H}K.prototype.isReactComponent={},K.prototype.setState=function(D,B){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,B,"setState")},K.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Ne(){}Ne.prototype=K.prototype;function Re(D,B,oe){this.props=D,this.context=B,this.refs=Z,this.updater=oe||H}var _e=Re.prototype=new Ne;_e.constructor=Re,te(_e,K.prototype),_e.isPureReactComponent=!0;var ve=Array.isArray,Xe=Object.prototype.hasOwnProperty,Pe={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(D,B,oe){var me,ge={},we=null,xe=null;if(B!=null)for(me in B.ref!==void 0&&(xe=B.ref),B.key!==void 0&&(we=""+B.key),B)Xe.call(B,me)&&!k.hasOwnProperty(me)&&(ge[me]=B[me]);var Le=arguments.length-2;if(Le===1)ge.children=oe;else if(1<Le){for(var Ue=Array(Le),ft=0;ft<Le;ft++)Ue[ft]=arguments[ft+2];ge.children=Ue}if(D&&D.defaultProps)for(me in Le=D.defaultProps,Le)ge[me]===void 0&&(ge[me]=Le[me]);return{$$typeof:s,type:D,key:we,ref:xe,props:ge,_owner:Pe.current}}function I(D,B){return{$$typeof:s,type:D.type,key:B,ref:D.ref,props:D.props,_owner:D._owner}}function P(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function V(D){var B={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(oe){return B[oe]})}var N=/\/+/g;function S(D,B){return typeof D=="object"&&D!==null&&D.key!=null?V(""+D.key):B.toString(36)}function Ye(D,B,oe,me,ge){var we=typeof D;(we==="undefined"||we==="boolean")&&(D=null);var xe=!1;if(D===null)xe=!0;else switch(we){case"string":case"number":xe=!0;break;case"object":switch(D.$$typeof){case s:case t:xe=!0}}if(xe)return xe=D,ge=ge(xe),D=me===""?"."+S(xe,0):me,ve(ge)?(oe="",D!=null&&(oe=D.replace(N,"$&/")+"/"),Ye(ge,B,oe,"",function(ft){return ft})):ge!=null&&(P(ge)&&(ge=I(ge,oe+(!ge.key||xe&&xe.key===ge.key?"":(""+ge.key).replace(N,"$&/")+"/")+D)),B.push(ge)),1;if(xe=0,me=me===""?".":me+":",ve(D))for(var Le=0;Le<D.length;Le++){we=D[Le];var Ue=me+S(we,Le);xe+=Ye(we,B,oe,Ue,ge)}else if(Ue=z(D),typeof Ue=="function")for(D=Ue.call(D),Le=0;!(we=D.next()).done;)we=we.value,Ue=me+S(we,Le++),xe+=Ye(we,B,oe,Ue,ge);else if(we==="object")throw B=String(D),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return xe}function It(D,B,oe){if(D==null)return D;var me=[],ge=0;return Ye(D,me,"","",function(we){return B.call(oe,we,ge++)}),me}function At(D){if(D._status===-1){var B=D._result;B=B(),B.then(function(oe){(D._status===0||D._status===-1)&&(D._status=1,D._result=oe)},function(oe){(D._status===0||D._status===-1)&&(D._status=2,D._result=oe)}),D._status===-1&&(D._status=0,D._result=B)}if(D._status===1)return D._result.default;throw D._result}var Me={current:null},G={transition:null},le={ReactCurrentDispatcher:Me,ReactCurrentBatchConfig:G,ReactCurrentOwner:Pe};function J(){throw Error("act(...) is not supported in production builds of React.")}return ye.Children={map:It,forEach:function(D,B,oe){It(D,function(){B.apply(this,arguments)},oe)},count:function(D){var B=0;return It(D,function(){B++}),B},toArray:function(D){return It(D,function(B){return B})||[]},only:function(D){if(!P(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},ye.Component=K,ye.Fragment=r,ye.Profiler=a,ye.PureComponent=Re,ye.StrictMode=o,ye.Suspense=_,ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,ye.act=J,ye.cloneElement=function(D,B,oe){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var me=te({},D.props),ge=D.key,we=D.ref,xe=D._owner;if(B!=null){if(B.ref!==void 0&&(we=B.ref,xe=Pe.current),B.key!==void 0&&(ge=""+B.key),D.type&&D.type.defaultProps)var Le=D.type.defaultProps;for(Ue in B)Xe.call(B,Ue)&&!k.hasOwnProperty(Ue)&&(me[Ue]=B[Ue]===void 0&&Le!==void 0?Le[Ue]:B[Ue])}var Ue=arguments.length-2;if(Ue===1)me.children=oe;else if(1<Ue){Le=Array(Ue);for(var ft=0;ft<Ue;ft++)Le[ft]=arguments[ft+2];me.children=Le}return{$$typeof:s,type:D.type,key:ge,ref:we,props:me,_owner:xe}},ye.createContext=function(D){return D={$$typeof:p,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:c,_context:D},D.Consumer=D},ye.createElement=T,ye.createFactory=function(D){var B=T.bind(null,D);return B.type=D,B},ye.createRef=function(){return{current:null}},ye.forwardRef=function(D){return{$$typeof:g,render:D}},ye.isValidElement=P,ye.lazy=function(D){return{$$typeof:C,_payload:{_status:-1,_result:D},_init:At}},ye.memo=function(D,B){return{$$typeof:E,type:D,compare:B===void 0?null:B}},ye.startTransition=function(D){var B=G.transition;G.transition={};try{D()}finally{G.transition=B}},ye.unstable_act=J,ye.useCallback=function(D,B){return Me.current.useCallback(D,B)},ye.useContext=function(D){return Me.current.useContext(D)},ye.useDebugValue=function(){},ye.useDeferredValue=function(D){return Me.current.useDeferredValue(D)},ye.useEffect=function(D,B){return Me.current.useEffect(D,B)},ye.useId=function(){return Me.current.useId()},ye.useImperativeHandle=function(D,B,oe){return Me.current.useImperativeHandle(D,B,oe)},ye.useInsertionEffect=function(D,B){return Me.current.useInsertionEffect(D,B)},ye.useLayoutEffect=function(D,B){return Me.current.useLayoutEffect(D,B)},ye.useMemo=function(D,B){return Me.current.useMemo(D,B)},ye.useReducer=function(D,B,oe){return Me.current.useReducer(D,B,oe)},ye.useRef=function(D){return Me.current.useRef(D)},ye.useState=function(D){return Me.current.useState(D)},ye.useSyncExternalStore=function(D,B,oe){return Me.current.useSyncExternalStore(D,B,oe)},ye.useTransition=function(){return Me.current.useTransition()},ye.version="18.3.1",ye}var Rd;function Yc(){return Rd||(Rd=1,gc.exports=bg()),gc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pd;function Hg(){if(Pd)return ko;Pd=1;var s=Yc(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function p(g,_,E){var C,M={},z=null,H=null;E!==void 0&&(z=""+E),_.key!==void 0&&(z=""+_.key),_.ref!==void 0&&(H=_.ref);for(C in _)o.call(_,C)&&!c.hasOwnProperty(C)&&(M[C]=_[C]);if(g&&g.defaultProps)for(C in _=g.defaultProps,_)M[C]===void 0&&(M[C]=_[C]);return{$$typeof:t,type:g,key:z,ref:H,props:M,_owner:a.current}}return ko.Fragment=r,ko.jsx=p,ko.jsxs=p,ko}var kd;function Qg(){return kd||(kd=1,mc.exports=Hg()),mc.exports}var xo=Qg(),Dp=Yc(),ua={},yc={exports:{}},Ht={},_c={exports:{}},vc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vd;function Kg(){return Vd||(Vd=1,function(s){function t(G,le){var J=G.length;G.push(le);e:for(;0<J;){var D=J-1>>>1,B=G[D];if(0<a(B,le))G[D]=le,G[J]=B,J=D;else break e}}function r(G){return G.length===0?null:G[0]}function o(G){if(G.length===0)return null;var le=G[0],J=G.pop();if(J!==le){G[0]=J;e:for(var D=0,B=G.length,oe=B>>>1;D<oe;){var me=2*(D+1)-1,ge=G[me],we=me+1,xe=G[we];if(0>a(ge,J))we<B&&0>a(xe,ge)?(G[D]=xe,G[we]=J,D=we):(G[D]=ge,G[me]=J,D=me);else if(we<B&&0>a(xe,J))G[D]=xe,G[we]=J,D=we;else break e}}return le}function a(G,le){var J=G.sortIndex-le.sortIndex;return J!==0?J:G.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var p=Date,g=p.now();s.unstable_now=function(){return p.now()-g}}var _=[],E=[],C=1,M=null,z=3,H=!1,te=!1,Z=!1,K=typeof setTimeout=="function"?setTimeout:null,Ne=typeof clearTimeout=="function"?clearTimeout:null,Re=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _e(G){for(var le=r(E);le!==null;){if(le.callback===null)o(E);else if(le.startTime<=G)o(E),le.sortIndex=le.expirationTime,t(_,le);else break;le=r(E)}}function ve(G){if(Z=!1,_e(G),!te)if(r(_)!==null)te=!0,At(Xe);else{var le=r(E);le!==null&&Me(ve,le.startTime-G)}}function Xe(G,le){te=!1,Z&&(Z=!1,Ne(T),T=-1),H=!0;var J=z;try{for(_e(le),M=r(_);M!==null&&(!(M.expirationTime>le)||G&&!V());){var D=M.callback;if(typeof D=="function"){M.callback=null,z=M.priorityLevel;var B=D(M.expirationTime<=le);le=s.unstable_now(),typeof B=="function"?M.callback=B:M===r(_)&&o(_),_e(le)}else o(_);M=r(_)}if(M!==null)var oe=!0;else{var me=r(E);me!==null&&Me(ve,me.startTime-le),oe=!1}return oe}finally{M=null,z=J,H=!1}}var Pe=!1,k=null,T=-1,I=5,P=-1;function V(){return!(s.unstable_now()-P<I)}function N(){if(k!==null){var G=s.unstable_now();P=G;var le=!0;try{le=k(!0,G)}finally{le?S():(Pe=!1,k=null)}}else Pe=!1}var S;if(typeof Re=="function")S=function(){Re(N)};else if(typeof MessageChannel<"u"){var Ye=new MessageChannel,It=Ye.port2;Ye.port1.onmessage=N,S=function(){It.postMessage(null)}}else S=function(){K(N,0)};function At(G){k=G,Pe||(Pe=!0,S())}function Me(G,le){T=K(function(){G(s.unstable_now())},le)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_continueExecution=function(){te||H||(te=!0,At(Xe))},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return z},s.unstable_getFirstCallbackNode=function(){return r(_)},s.unstable_next=function(G){switch(z){case 1:case 2:case 3:var le=3;break;default:le=z}var J=z;z=le;try{return G()}finally{z=J}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(G,le){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var J=z;z=G;try{return le()}finally{z=J}},s.unstable_scheduleCallback=function(G,le,J){var D=s.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?D+J:D):J=D,G){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=J+B,G={id:C++,callback:le,priorityLevel:G,startTime:J,expirationTime:B,sortIndex:-1},J>D?(G.sortIndex=J,t(E,G),r(_)===null&&G===r(E)&&(Z?(Ne(T),T=-1):Z=!0,Me(ve,J-D))):(G.sortIndex=B,t(_,G),te||H||(te=!0,At(Xe))),G},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(G){var le=z;return function(){var J=z;z=le;try{return G.apply(this,arguments)}finally{z=J}}}}(vc)),vc}var Dd;function Wg(){return Dd||(Dd=1,_c.exports=Kg()),_c.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nd;function Gg(){if(Nd)return Ht;Nd=1;var s=Yc(),t=Wg();function r(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function c(e,n){p(e,n),p(e+"Capture",n)}function p(e,n){for(a[e]=n,e=0;e<n.length;e++)o.add(n[e])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_=Object.prototype.hasOwnProperty,E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C={},M={};function z(e){return _.call(M,e)?!0:_.call(C,e)?!1:E.test(e)?M[e]=!0:(C[e]=!0,!1)}function H(e,n,i,u){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return u?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function te(e,n,i,u){if(n===null||typeof n>"u"||H(e,n,i,u))return!0;if(u)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Z(e,n,i,u,h,d,y){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=i,this.propertyName=e,this.type=n,this.sanitizeURL=d,this.removeEmptyString=y}var K={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){K[e]=new Z(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];K[n]=new Z(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){K[e]=new Z(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){K[e]=new Z(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){K[e]=new Z(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){K[e]=new Z(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){K[e]=new Z(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){K[e]=new Z(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){K[e]=new Z(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ne=/[\-:]([a-z])/g;function Re(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Ne,Re);K[n]=new Z(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Ne,Re);K[n]=new Z(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Ne,Re);K[n]=new Z(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){K[e]=new Z(e,1,!1,e.toLowerCase(),null,!1,!1)}),K.xlinkHref=new Z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){K[e]=new Z(e,1,!1,e.toLowerCase(),null,!0,!0)});function _e(e,n,i,u){var h=K.hasOwnProperty(n)?K[n]:null;(h!==null?h.type!==0:u||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(te(n,i,h,u)&&(i=null),u||h===null?z(n)&&(i===null?e.removeAttribute(n):e.setAttribute(n,""+i)):h.mustUseProperty?e[h.propertyName]=i===null?h.type===3?!1:"":i:(n=h.attributeName,u=h.attributeNamespace,i===null?e.removeAttribute(n):(h=h.type,i=h===3||h===4&&i===!0?"":""+i,u?e.setAttributeNS(u,n,i):e.setAttribute(n,i))))}var ve=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xe=Symbol.for("react.element"),Pe=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),V=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),Ye=Symbol.for("react.suspense_list"),It=Symbol.for("react.memo"),At=Symbol.for("react.lazy"),Me=Symbol.for("react.offscreen"),G=Symbol.iterator;function le(e){return e===null||typeof e!="object"?null:(e=G&&e[G]||e["@@iterator"],typeof e=="function"?e:null)}var J=Object.assign,D;function B(e){if(D===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);D=n&&n[1]||""}return`
`+D+e}var oe=!1;function me(e,n){if(!e||oe)return"";oe=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(F){var u=F}Reflect.construct(e,[],n)}else{try{n.call()}catch(F){u=F}e.call(n.prototype)}else{try{throw Error()}catch(F){u=F}e()}}catch(F){if(F&&u&&typeof F.stack=="string"){for(var h=F.stack.split(`
`),d=u.stack.split(`
`),y=h.length-1,w=d.length-1;1<=y&&0<=w&&h[y]!==d[w];)w--;for(;1<=y&&0<=w;y--,w--)if(h[y]!==d[w]){if(y!==1||w!==1)do if(y--,w--,0>w||h[y]!==d[w]){var A=`
`+h[y].replace(" at new "," at ");return e.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",e.displayName)),A}while(1<=y&&0<=w);break}}}finally{oe=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?B(e):""}function ge(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=me(e.type,!1),e;case 11:return e=me(e.type.render,!1),e;case 1:return e=me(e.type,!0),e;default:return""}}function we(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case Pe:return"Portal";case I:return"Profiler";case T:return"StrictMode";case S:return"Suspense";case Ye:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case V:return(e.displayName||"Context")+".Consumer";case P:return(e._context.displayName||"Context")+".Provider";case N:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case It:return n=e.displayName||null,n!==null?n:we(e.type)||"Memo";case At:n=e._payload,e=e._init;try{return we(e(n))}catch{}}return null}function xe(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(n);case 8:return n===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Le(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ue(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ft(e){var n=Ue(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),u=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var h=i.get,d=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){u=""+y,d.call(this,y)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return u},setValue:function(y){u=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function $n(e){e._valueTracker||(e._valueTracker=ft(e))}function Si(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),u="";return e&&(u=Ue(e)?e.checked?"true":"false":e.value),e=u,e!==i?(n.setValue(e),!0):!1}function ar(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $r(e,n){var i=n.checked;return J({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Ii(e,n){var i=n.defaultValue==null?"":n.defaultValue,u=n.checked!=null?n.checked:n.defaultChecked;i=Le(n.value!=null?n.value:i),e._wrapperState={initialChecked:u,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Ls(e,n){n=n.checked,n!=null&&_e(e,"checked",n,!1)}function Os(e,n){Ls(e,n);var i=Le(n.value),u=n.type;if(i!=null)u==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(u==="submit"||u==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Ai(e,n.type,i):n.hasOwnProperty("defaultValue")&&Ai(e,n.type,Le(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Wo(e,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var u=n.type;if(!(u!=="submit"&&u!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,i||n===e.value||(e.value=n),e.defaultValue=n}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Ai(e,n,i){(n!=="number"||ar(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var qn=Array.isArray;function bn(e,n,i,u){if(e=e.options,n){n={};for(var h=0;h<i.length;h++)n["$"+i[h]]=!0;for(i=0;i<e.length;i++)h=n.hasOwnProperty("$"+e[i].value),e[i].selected!==h&&(e[i].selected=h),h&&u&&(e[i].defaultSelected=!0)}else{for(i=""+Le(i),n=null,h=0;h<e.length;h++){if(e[h].value===i){e[h].selected=!0,u&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Ms(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return J({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ci(e,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(r(92));if(qn(i)){if(1<i.length)throw Error(r(93));i=i[0]}n=i}n==null&&(n=""),i=n}e._wrapperState={initialValue:Le(i)}}function Ri(e,n){var i=Le(n.value),u=Le(n.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),n.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),u!=null&&(e.defaultValue=""+u)}function Fs(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function st(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ot(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?st(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hn,Us=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,u,h){MSApp.execUnsafeLocalFunction(function(){return e(n,i,u,h)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Hn=Hn||document.createElement("div"),Hn.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Hn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function ur(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var qr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},br=["Webkit","ms","Moz","O"];Object.keys(qr).forEach(function(e){br.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),qr[n]=qr[e]})});function zs(e,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||qr.hasOwnProperty(e)&&qr[e]?(""+n).trim():n+"px"}function Bs(e,n){e=e.style;for(var i in n)if(n.hasOwnProperty(i)){var u=i.indexOf("--")===0,h=zs(i,n[i],u);i==="float"&&(i="cssFloat"),u?e.setProperty(i,h):e[i]=h}}var js=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $s(e,n){if(n){if(js[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function qs(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hr=null;function Pi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ki=null,tn=null,Rn=null;function Vi(e){if(e=po(e)){if(typeof ki!="function")throw Error(r(280));var n=e.stateNode;n&&(n=Il(n),ki(e.stateNode,e.type,n))}}function Pn(e){tn?Rn?Rn.push(e):Rn=[e]:tn=e}function bs(){if(tn){var e=tn,n=Rn;if(Rn=tn=null,Vi(e),n)for(e=0;e<n.length;e++)Vi(n[e])}}function Qr(e,n){return e(n)}function Hs(){}var Qn=!1;function Qs(e,n,i){if(Qn)return e(n,i);Qn=!0;try{return Qr(e,n,i)}finally{Qn=!1,(tn!==null||Rn!==null)&&(Hs(),bs())}}function Je(e,n){var i=e.stateNode;if(i===null)return null;var u=Il(i);if(u===null)return null;i=u[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,n,typeof i));return i}var Di=!1;if(g)try{var fn={};Object.defineProperty(fn,"passive",{get:function(){Di=!0}}),window.addEventListener("test",fn,fn),window.removeEventListener("test",fn,fn)}catch{Di=!1}function Kr(e,n,i,u,h,d,y,w,A){var F=Array.prototype.slice.call(arguments,3);try{n.apply(i,F)}catch(q){this.onError(q)}}var Wr=!1,Ni=null,dn=!1,Ks=null,qa={onError:function(e){Wr=!0,Ni=e}};function xi(e,n,i,u,h,d,y,w,A){Wr=!1,Ni=null,Kr.apply(qa,arguments)}function Go(e,n,i,u,h,d,y,w,A){if(xi.apply(this,arguments),Wr){if(Wr){var F=Ni;Wr=!1,Ni=null}else throw Error(r(198));dn||(dn=!0,Ks=F)}}function pn(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function Gr(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function mn(e){if(pn(e)!==e)throw Error(r(188))}function Xo(e){var n=e.alternate;if(!n){if(n=pn(e),n===null)throw Error(r(188));return n!==e?null:e}for(var i=e,u=n;;){var h=i.return;if(h===null)break;var d=h.alternate;if(d===null){if(u=h.return,u!==null){i=u;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===i)return mn(h),e;if(d===u)return mn(h),n;d=d.sibling}throw Error(r(188))}if(i.return!==u.return)i=h,u=d;else{for(var y=!1,w=h.child;w;){if(w===i){y=!0,i=h,u=d;break}if(w===u){y=!0,u=h,i=d;break}w=w.sibling}if(!y){for(w=d.child;w;){if(w===i){y=!0,i=d,u=h;break}if(w===u){y=!0,u=d,i=h;break}w=w.sibling}if(!y)throw Error(r(189))}}if(i.alternate!==u)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:n}function Ws(e){return e=Xo(e),e!==null?Li(e):null}function Li(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Li(e);if(n!==null)return n;e=e.sibling}return null}var Oi=t.unstable_scheduleCallback,Gs=t.unstable_cancelCallback,Yo=t.unstable_shouldYield,ba=t.unstable_requestPaint,ze=t.unstable_now,Jo=t.unstable_getCurrentPriorityLevel,Xr=t.unstable_ImmediatePriority,cr=t.unstable_UserBlockingPriority,nn=t.unstable_NormalPriority,Xs=t.unstable_LowPriority,Zo=t.unstable_IdlePriority,Yr=null,Wt=null;function el(e){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(Yr,e,void 0,(e.current.flags&128)===128)}catch{}}var xt=Math.clz32?Math.clz32:nl,Ys=Math.log,tl=Math.LN2;function nl(e){return e>>>=0,e===0?32:31-(Ys(e)/tl|0)|0}var Mi=64,Fi=4194304;function hr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Jr(e,n){var i=e.pendingLanes;if(i===0)return 0;var u=0,h=e.suspendedLanes,d=e.pingedLanes,y=i&268435455;if(y!==0){var w=y&~h;w!==0?u=hr(w):(d&=y,d!==0&&(u=hr(d)))}else y=i&~h,y!==0?u=hr(y):d!==0&&(u=hr(d));if(u===0)return 0;if(n!==0&&n!==u&&!(n&h)&&(h=u&-u,d=n&-n,h>=d||h===16&&(d&4194240)!==0))return n;if(u&4&&(u|=i&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=u;0<n;)i=31-xt(n),h=1<<i,u|=e[i],n&=~h;return u}function Ha(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kn(e,n){for(var i=e.suspendedLanes,u=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes;0<d;){var y=31-xt(d),w=1<<y,A=h[y];A===-1?(!(w&i)||w&u)&&(h[y]=Ha(w,n)):A<=n&&(e.expiredLanes|=w),d&=~w}}function Gt(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Zr(){var e=Mi;return Mi<<=1,!(Mi&4194240)&&(Mi=64),e}function fr(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function dr(e,n,i){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-xt(n),e[n]=i}function Fe(e,n){var i=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var u=e.eventTimes;for(e=e.expirationTimes;0<i;){var h=31-xt(i),d=1<<h;n[h]=0,u[h]=-1,e[h]=-1,i&=~d}}function pr(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var u=31-xt(i),h=1<<u;h&n|e[u]&n&&(e[u]|=n),i&=~h}}var Ee=0;function mr(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var rl,Ui,il,sl,ol,Js=!1,kn=[],_t=null,gn=null,yn=null,gr=new Map,rn=new Map,Vn=[],Qa="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ll(e,n){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":gn=null;break;case"mouseover":case"mouseout":yn=null;break;case"pointerover":case"pointerout":gr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":rn.delete(n.pointerId)}}function Ut(e,n,i,u,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:i,eventSystemFlags:u,nativeEvent:d,targetContainers:[h]},n!==null&&(n=po(n),n!==null&&Ui(n)),e):(e.eventSystemFlags|=u,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Ka(e,n,i,u,h){switch(n){case"focusin":return _t=Ut(_t,e,n,i,u,h),!0;case"dragenter":return gn=Ut(gn,e,n,i,u,h),!0;case"mouseover":return yn=Ut(yn,e,n,i,u,h),!0;case"pointerover":var d=h.pointerId;return gr.set(d,Ut(gr.get(d)||null,e,n,i,u,h)),!0;case"gotpointercapture":return d=h.pointerId,rn.set(d,Ut(rn.get(d)||null,e,n,i,u,h)),!0}return!1}function al(e){var n=ii(e.target);if(n!==null){var i=pn(n);if(i!==null){if(n=i.tag,n===13){if(n=Gr(i),n!==null){e.blockedOn=n,ol(e.priority,function(){il(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wn(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=zi(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var u=new i.constructor(i.type,i);Hr=u,i.target.dispatchEvent(u),Hr=null}else return n=po(i),n!==null&&Ui(n),e.blockedOn=i,!1;n.shift()}return!0}function ei(e,n,i){Wn(e)&&i.delete(n)}function ul(){Js=!1,_t!==null&&Wn(_t)&&(_t=null),gn!==null&&Wn(gn)&&(gn=null),yn!==null&&Wn(yn)&&(yn=null),gr.forEach(ei),rn.forEach(ei)}function _n(e,n){e.blockedOn===n&&(e.blockedOn=null,Js||(Js=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ul)))}function vn(e){function n(h){return _n(h,e)}if(0<kn.length){_n(kn[0],e);for(var i=1;i<kn.length;i++){var u=kn[i];u.blockedOn===e&&(u.blockedOn=null)}}for(_t!==null&&_n(_t,e),gn!==null&&_n(gn,e),yn!==null&&_n(yn,e),gr.forEach(n),rn.forEach(n),i=0;i<Vn.length;i++)u=Vn[i],u.blockedOn===e&&(u.blockedOn=null);for(;0<Vn.length&&(i=Vn[0],i.blockedOn===null);)al(i),i.blockedOn===null&&Vn.shift()}var Gn=ve.ReactCurrentBatchConfig,yr=!0;function qe(e,n,i,u){var h=Ee,d=Gn.transition;Gn.transition=null;try{Ee=1,Zs(e,n,i,u)}finally{Ee=h,Gn.transition=d}}function Wa(e,n,i,u){var h=Ee,d=Gn.transition;Gn.transition=null;try{Ee=4,Zs(e,n,i,u)}finally{Ee=h,Gn.transition=d}}function Zs(e,n,i,u){if(yr){var h=zi(e,n,i,u);if(h===null)su(e,n,u,ti,i),ll(e,u);else if(Ka(h,e,n,i,u))u.stopPropagation();else if(ll(e,u),n&4&&-1<Qa.indexOf(e)){for(;h!==null;){var d=po(h);if(d!==null&&rl(d),d=zi(e,n,i,u),d===null&&su(e,n,u,ti,i),d===h)break;h=d}h!==null&&u.stopPropagation()}else su(e,n,u,null,i)}}var ti=null;function zi(e,n,i,u){if(ti=null,e=Pi(u),e=ii(e),e!==null)if(n=pn(e),n===null)e=null;else if(i=n.tag,i===13){if(e=Gr(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return ti=e,null}function eo(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jo()){case Xr:return 1;case cr:return 4;case nn:case Xs:return 16;case Zo:return 536870912;default:return 16}default:return 16}}var Xt=null,Bi=null,zt=null;function to(){if(zt)return zt;var e,n=Bi,i=n.length,u,h="value"in Xt?Xt.value:Xt.textContent,d=h.length;for(e=0;e<i&&n[e]===h[e];e++);var y=i-e;for(u=1;u<=y&&n[i-u]===h[d-u];u++);return zt=h.slice(e,1<u?1-u:void 0)}function ji(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Dn(){return!0}function no(){return!1}function vt(e){function n(i,u,h,d,y){this._reactName=i,this._targetInst=h,this.type=u,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(i=e[w],this[w]=i?i(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Dn:no,this.isPropagationStopped=no,this}return J(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Dn)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Dn)},persist:function(){},isPersistent:Dn}),n}var En={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$i=vt(En),Nn=J({},En,{view:0,detail:0}),Ga=vt(Nn),qi,Xn,_r,ni=J({},Nn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_r&&(_r&&e.type==="mousemove"?(qi=e.screenX-_r.screenX,Xn=e.screenY-_r.screenY):Xn=qi=0,_r=e),qi)},movementY:function(e){return"movementY"in e?e.movementY:Xn}}),bi=vt(ni),ro=J({},ni,{dataTransfer:0}),cl=vt(ro),Hi=J({},Nn,{relatedTarget:0}),Qi=vt(Hi),hl=J({},En,{animationName:0,elapsedTime:0,pseudoElement:0}),Yn=vt(hl),fl=J({},En,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dl=vt(fl),pl=J({},En,{data:0}),io=vt(pl),Ki={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ml={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gl(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=ml[e])?!!n[e]:!1}function xn(){return gl}var l=J({},Nn,{key:function(e){if(e.key){var n=Ki[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ji(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Lt[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return e.type==="keypress"?ji(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ji(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),f=vt(l),m=J({},ni,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v=vt(m),x=J({},Nn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn}),U=vt(x),W=J({},En,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oe=vt(W),lt=J({},ni,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Te=vt(lt),dt=[9,13,27,32],nt=g&&"CompositionEvent"in window,sn=null;g&&"documentMode"in document&&(sn=document.documentMode);var Yt=g&&"TextEvent"in window&&!sn,ri=g&&(!nt||sn&&8<sn&&11>=sn),Wi=" ",vh=!1;function Eh(e,n){switch(e){case"keyup":return dt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gi=!1;function $m(e,n){switch(e){case"compositionend":return wh(n);case"keypress":return n.which!==32?null:(vh=!0,Wi);case"textInput":return e=n.data,e===Wi&&vh?null:e;default:return null}}function qm(e,n){if(Gi)return e==="compositionend"||!nt&&Eh(e,n)?(e=to(),zt=Bi=Xt=null,Gi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ri&&n.locale!=="ko"?null:n.data;default:return null}}var bm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Th(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!bm[e.type]:n==="textarea"}function Sh(e,n,i,u){Pn(u),n=wl(n,"onChange"),0<n.length&&(i=new $i("onChange","change",null,i,u),e.push({event:i,listeners:n}))}var so=null,oo=null;function Hm(e){jh(e,0)}function yl(e){var n=es(e);if(Si(n))return e}function Qm(e,n){if(e==="change")return n}var Ih=!1;if(g){var Xa;if(g){var Ya="oninput"in document;if(!Ya){var Ah=document.createElement("div");Ah.setAttribute("oninput","return;"),Ya=typeof Ah.oninput=="function"}Xa=Ya}else Xa=!1;Ih=Xa&&(!document.documentMode||9<document.documentMode)}function Ch(){so&&(so.detachEvent("onpropertychange",Rh),oo=so=null)}function Rh(e){if(e.propertyName==="value"&&yl(oo)){var n=[];Sh(n,oo,e,Pi(e)),Qs(Hm,n)}}function Km(e,n,i){e==="focusin"?(Ch(),so=n,oo=i,so.attachEvent("onpropertychange",Rh)):e==="focusout"&&Ch()}function Wm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yl(oo)}function Gm(e,n){if(e==="click")return yl(n)}function Xm(e,n){if(e==="input"||e==="change")return yl(n)}function Ym(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var wn=typeof Object.is=="function"?Object.is:Ym;function lo(e,n){if(wn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),u=Object.keys(n);if(i.length!==u.length)return!1;for(u=0;u<i.length;u++){var h=i[u];if(!_.call(n,h)||!wn(e[h],n[h]))return!1}return!0}function Ph(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kh(e,n){var i=Ph(e);e=0;for(var u;i;){if(i.nodeType===3){if(u=e+i.textContent.length,e<=n&&u>=n)return{node:i,offset:n-e};e=u}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Ph(i)}}function Vh(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Vh(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Dh(){for(var e=window,n=ar();n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=ar(e.document)}return n}function Ja(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Jm(e){var n=Dh(),i=e.focusedElem,u=e.selectionRange;if(n!==i&&i&&i.ownerDocument&&Vh(i.ownerDocument.documentElement,i)){if(u!==null&&Ja(i)){if(n=u.start,e=u.end,e===void 0&&(e=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(e,i.value.length);else if(e=(n=i.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var h=i.textContent.length,d=Math.min(u.start,h);u=u.end===void 0?d:Math.min(u.end,h),!e.extend&&d>u&&(h=u,u=d,d=h),h=kh(i,d);var y=kh(i,u);h&&y&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==y.node||e.focusOffset!==y.offset)&&(n=n.createRange(),n.setStart(h.node,h.offset),e.removeAllRanges(),d>u?(e.addRange(n),e.extend(y.node,y.offset)):(n.setEnd(y.node,y.offset),e.addRange(n)))}}for(n=[],e=i;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)e=n[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Zm=g&&"documentMode"in document&&11>=document.documentMode,Xi=null,Za=null,ao=null,eu=!1;function Nh(e,n,i){var u=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;eu||Xi==null||Xi!==ar(u)||(u=Xi,"selectionStart"in u&&Ja(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ao&&lo(ao,u)||(ao=u,u=wl(Za,"onSelect"),0<u.length&&(n=new $i("onSelect","select",null,n,i),e.push({event:n,listeners:u}),n.target=Xi)))}function _l(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Yi={animationend:_l("Animation","AnimationEnd"),animationiteration:_l("Animation","AnimationIteration"),animationstart:_l("Animation","AnimationStart"),transitionend:_l("Transition","TransitionEnd")},tu={},xh={};g&&(xh=document.createElement("div").style,"AnimationEvent"in window||(delete Yi.animationend.animation,delete Yi.animationiteration.animation,delete Yi.animationstart.animation),"TransitionEvent"in window||delete Yi.transitionend.transition);function vl(e){if(tu[e])return tu[e];if(!Yi[e])return e;var n=Yi[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in xh)return tu[e]=n[i];return e}var Lh=vl("animationend"),Oh=vl("animationiteration"),Mh=vl("animationstart"),Fh=vl("transitionend"),Uh=new Map,zh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vr(e,n){Uh.set(e,n),c(n,[e])}for(var nu=0;nu<zh.length;nu++){var ru=zh[nu],eg=ru.toLowerCase(),tg=ru[0].toUpperCase()+ru.slice(1);vr(eg,"on"+tg)}vr(Lh,"onAnimationEnd"),vr(Oh,"onAnimationIteration"),vr(Mh,"onAnimationStart"),vr("dblclick","onDoubleClick"),vr("focusin","onFocus"),vr("focusout","onBlur"),vr(Fh,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ng=new Set("cancel close invalid load scroll toggle".split(" ").concat(uo));function Bh(e,n,i){var u=e.type||"unknown-event";e.currentTarget=i,Go(u,n,void 0,e),e.currentTarget=null}function jh(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var u=e[i],h=u.event;u=u.listeners;e:{var d=void 0;if(n)for(var y=u.length-1;0<=y;y--){var w=u[y],A=w.instance,F=w.currentTarget;if(w=w.listener,A!==d&&h.isPropagationStopped())break e;Bh(h,w,F),d=A}else for(y=0;y<u.length;y++){if(w=u[y],A=w.instance,F=w.currentTarget,w=w.listener,A!==d&&h.isPropagationStopped())break e;Bh(h,w,F),d=A}}}if(dn)throw e=Ks,dn=!1,Ks=null,e}function je(e,n){var i=n[hu];i===void 0&&(i=n[hu]=new Set);var u=e+"__bubble";i.has(u)||($h(n,e,2,!1),i.add(u))}function iu(e,n,i){var u=0;n&&(u|=4),$h(i,e,u,n)}var El="_reactListening"+Math.random().toString(36).slice(2);function co(e){if(!e[El]){e[El]=!0,o.forEach(function(i){i!=="selectionchange"&&(ng.has(i)||iu(i,!1,e),iu(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[El]||(n[El]=!0,iu("selectionchange",!1,n))}}function $h(e,n,i,u){switch(eo(n)){case 1:var h=qe;break;case 4:h=Wa;break;default:h=Zs}i=h.bind(null,n,i,e),h=void 0,!Di||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),u?h!==void 0?e.addEventListener(n,i,{capture:!0,passive:h}):e.addEventListener(n,i,!0):h!==void 0?e.addEventListener(n,i,{passive:h}):e.addEventListener(n,i,!1)}function su(e,n,i,u,h){var d=u;if(!(n&1)&&!(n&2)&&u!==null)e:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var w=u.stateNode.containerInfo;if(w===h||w.nodeType===8&&w.parentNode===h)break;if(y===4)for(y=u.return;y!==null;){var A=y.tag;if((A===3||A===4)&&(A=y.stateNode.containerInfo,A===h||A.nodeType===8&&A.parentNode===h))return;y=y.return}for(;w!==null;){if(y=ii(w),y===null)return;if(A=y.tag,A===5||A===6){u=d=y;continue e}w=w.parentNode}}u=u.return}Qs(function(){var F=d,q=Pi(i),b=[];e:{var $=Uh.get(e);if($!==void 0){var Y=$i,re=e;switch(e){case"keypress":if(ji(i)===0)break e;case"keydown":case"keyup":Y=f;break;case"focusin":re="focus",Y=Qi;break;case"focusout":re="blur",Y=Qi;break;case"beforeblur":case"afterblur":Y=Qi;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=bi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=cl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=U;break;case Lh:case Oh:case Mh:Y=Yn;break;case Fh:Y=Oe;break;case"scroll":Y=Ga;break;case"wheel":Y=Te;break;case"copy":case"cut":case"paste":Y=dl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=v}var ie=(n&4)!==0,Ze=!ie&&e==="scroll",L=ie?$!==null?$+"Capture":null:$;ie=[];for(var R=F,O;R!==null;){O=R;var Q=O.stateNode;if(O.tag===5&&Q!==null&&(O=Q,L!==null&&(Q=Je(R,L),Q!=null&&ie.push(ho(R,Q,O)))),Ze)break;R=R.return}0<ie.length&&($=new Y($,re,null,i,q),b.push({event:$,listeners:ie}))}}if(!(n&7)){e:{if($=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",$&&i!==Hr&&(re=i.relatedTarget||i.fromElement)&&(ii(re)||re[Jn]))break e;if((Y||$)&&($=q.window===q?q:($=q.ownerDocument)?$.defaultView||$.parentWindow:window,Y?(re=i.relatedTarget||i.toElement,Y=F,re=re?ii(re):null,re!==null&&(Ze=pn(re),re!==Ze||re.tag!==5&&re.tag!==6)&&(re=null)):(Y=null,re=F),Y!==re)){if(ie=bi,Q="onMouseLeave",L="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(ie=v,Q="onPointerLeave",L="onPointerEnter",R="pointer"),Ze=Y==null?$:es(Y),O=re==null?$:es(re),$=new ie(Q,R+"leave",Y,i,q),$.target=Ze,$.relatedTarget=O,Q=null,ii(q)===F&&(ie=new ie(L,R+"enter",re,i,q),ie.target=O,ie.relatedTarget=Ze,Q=ie),Ze=Q,Y&&re)t:{for(ie=Y,L=re,R=0,O=ie;O;O=Ji(O))R++;for(O=0,Q=L;Q;Q=Ji(Q))O++;for(;0<R-O;)ie=Ji(ie),R--;for(;0<O-R;)L=Ji(L),O--;for(;R--;){if(ie===L||L!==null&&ie===L.alternate)break t;ie=Ji(ie),L=Ji(L)}ie=null}else ie=null;Y!==null&&qh(b,$,Y,ie,!1),re!==null&&Ze!==null&&qh(b,Ze,re,ie,!0)}}e:{if($=F?es(F):window,Y=$.nodeName&&$.nodeName.toLowerCase(),Y==="select"||Y==="input"&&$.type==="file")var se=Qm;else if(Th($))if(Ih)se=Xm;else{se=Wm;var ae=Km}else(Y=$.nodeName)&&Y.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(se=Gm);if(se&&(se=se(e,F))){Sh(b,se,i,q);break e}ae&&ae(e,$,F),e==="focusout"&&(ae=$._wrapperState)&&ae.controlled&&$.type==="number"&&Ai($,"number",$.value)}switch(ae=F?es(F):window,e){case"focusin":(Th(ae)||ae.contentEditable==="true")&&(Xi=ae,Za=F,ao=null);break;case"focusout":ao=Za=Xi=null;break;case"mousedown":eu=!0;break;case"contextmenu":case"mouseup":case"dragend":eu=!1,Nh(b,i,q);break;case"selectionchange":if(Zm)break;case"keydown":case"keyup":Nh(b,i,q)}var ue;if(nt)e:{switch(e){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else Gi?Eh(e,i)&&(fe="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(fe="onCompositionStart");fe&&(ri&&i.locale!=="ko"&&(Gi||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&Gi&&(ue=to()):(Xt=q,Bi="value"in Xt?Xt.value:Xt.textContent,Gi=!0)),ae=wl(F,fe),0<ae.length&&(fe=new io(fe,e,null,i,q),b.push({event:fe,listeners:ae}),ue?fe.data=ue:(ue=wh(i),ue!==null&&(fe.data=ue)))),(ue=Yt?$m(e,i):qm(e,i))&&(F=wl(F,"onBeforeInput"),0<F.length&&(q=new io("onBeforeInput","beforeinput",null,i,q),b.push({event:q,listeners:F}),q.data=ue))}jh(b,n)})}function ho(e,n,i){return{instance:e,listener:n,currentTarget:i}}function wl(e,n){for(var i=n+"Capture",u=[];e!==null;){var h=e,d=h.stateNode;h.tag===5&&d!==null&&(h=d,d=Je(e,i),d!=null&&u.unshift(ho(e,d,h)),d=Je(e,n),d!=null&&u.push(ho(e,d,h))),e=e.return}return u}function Ji(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function qh(e,n,i,u,h){for(var d=n._reactName,y=[];i!==null&&i!==u;){var w=i,A=w.alternate,F=w.stateNode;if(A!==null&&A===u)break;w.tag===5&&F!==null&&(w=F,h?(A=Je(i,d),A!=null&&y.unshift(ho(i,A,w))):h||(A=Je(i,d),A!=null&&y.push(ho(i,A,w)))),i=i.return}y.length!==0&&e.push({event:n,listeners:y})}var rg=/\r\n?/g,ig=/\u0000|\uFFFD/g;function bh(e){return(typeof e=="string"?e:""+e).replace(rg,`
`).replace(ig,"")}function Tl(e,n,i){if(n=bh(n),bh(e)!==n&&i)throw Error(r(425))}function Sl(){}var ou=null,lu=null;function au(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var uu=typeof setTimeout=="function"?setTimeout:void 0,sg=typeof clearTimeout=="function"?clearTimeout:void 0,Hh=typeof Promise=="function"?Promise:void 0,og=typeof queueMicrotask=="function"?queueMicrotask:typeof Hh<"u"?function(e){return Hh.resolve(null).then(e).catch(lg)}:uu;function lg(e){setTimeout(function(){throw e})}function cu(e,n){var i=n,u=0;do{var h=i.nextSibling;if(e.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(u===0){e.removeChild(h),vn(n);return}u--}else i!=="$"&&i!=="$?"&&i!=="$!"||u++;i=h}while(i);vn(n)}function Er(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Qh(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}var Zi=Math.random().toString(36).slice(2),Ln="__reactFiber$"+Zi,fo="__reactProps$"+Zi,Jn="__reactContainer$"+Zi,hu="__reactEvents$"+Zi,ag="__reactListeners$"+Zi,ug="__reactHandles$"+Zi;function ii(e){var n=e[Ln];if(n)return n;for(var i=e.parentNode;i;){if(n=i[Jn]||i[Ln]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=Qh(e);e!==null;){if(i=e[Ln])return i;e=Qh(e)}return n}e=i,i=e.parentNode}return null}function po(e){return e=e[Ln]||e[Jn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function es(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function Il(e){return e[fo]||null}var fu=[],ts=-1;function wr(e){return{current:e}}function $e(e){0>ts||(e.current=fu[ts],fu[ts]=null,ts--)}function Be(e,n){ts++,fu[ts]=e.current,e.current=n}var Tr={},Ct=wr(Tr),Bt=wr(!1),si=Tr;function ns(e,n){var i=e.type.contextTypes;if(!i)return Tr;var u=e.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===n)return u.__reactInternalMemoizedMaskedChildContext;var h={},d;for(d in i)h[d]=n[d];return u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=h),h}function jt(e){return e=e.childContextTypes,e!=null}function Al(){$e(Bt),$e(Ct)}function Kh(e,n,i){if(Ct.current!==Tr)throw Error(r(168));Be(Ct,n),Be(Bt,i)}function Wh(e,n,i){var u=e.stateNode;if(n=n.childContextTypes,typeof u.getChildContext!="function")return i;u=u.getChildContext();for(var h in u)if(!(h in n))throw Error(r(108,xe(e)||"Unknown",h));return J({},i,u)}function Cl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Tr,si=Ct.current,Be(Ct,e),Be(Bt,Bt.current),!0}function Gh(e,n,i){var u=e.stateNode;if(!u)throw Error(r(169));i?(e=Wh(e,n,si),u.__reactInternalMemoizedMergedChildContext=e,$e(Bt),$e(Ct),Be(Ct,e)):$e(Bt),Be(Bt,i)}var Zn=null,Rl=!1,du=!1;function Xh(e){Zn===null?Zn=[e]:Zn.push(e)}function cg(e){Rl=!0,Xh(e)}function Sr(){if(!du&&Zn!==null){du=!0;var e=0,n=Ee;try{var i=Zn;for(Ee=1;e<i.length;e++){var u=i[e];do u=u(!0);while(u!==null)}Zn=null,Rl=!1}catch(h){throw Zn!==null&&(Zn=Zn.slice(e+1)),Oi(Xr,Sr),h}finally{Ee=n,du=!1}}return null}var rs=[],is=0,Pl=null,kl=0,on=[],ln=0,oi=null,er=1,tr="";function li(e,n){rs[is++]=kl,rs[is++]=Pl,Pl=e,kl=n}function Yh(e,n,i){on[ln++]=er,on[ln++]=tr,on[ln++]=oi,oi=e;var u=er;e=tr;var h=32-xt(u)-1;u&=~(1<<h),i+=1;var d=32-xt(n)+h;if(30<d){var y=h-h%5;d=(u&(1<<y)-1).toString(32),u>>=y,h-=y,er=1<<32-xt(n)+h|i<<h|u,tr=d+e}else er=1<<d|i<<h|u,tr=e}function pu(e){e.return!==null&&(li(e,1),Yh(e,1,0))}function mu(e){for(;e===Pl;)Pl=rs[--is],rs[is]=null,kl=rs[--is],rs[is]=null;for(;e===oi;)oi=on[--ln],on[ln]=null,tr=on[--ln],on[ln]=null,er=on[--ln],on[ln]=null}var Jt=null,Zt=null,be=!1,Tn=null;function Jh(e,n){var i=hn(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=e,n=e.deletions,n===null?(e.deletions=[i],e.flags|=16):n.push(i)}function Zh(e,n){switch(e.tag){case 5:var i=e.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Jt=e,Zt=Er(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Jt=e,Zt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=oi!==null?{id:er,overflow:tr}:null,e.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=hn(18,null,null,0),i.stateNode=n,i.return=e,e.child=i,Jt=e,Zt=null,!0):!1;default:return!1}}function gu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yu(e){if(be){var n=Zt;if(n){var i=n;if(!Zh(e,n)){if(gu(e))throw Error(r(418));n=Er(i.nextSibling);var u=Jt;n&&Zh(e,n)?Jh(u,i):(e.flags=e.flags&-4097|2,be=!1,Jt=e)}}else{if(gu(e))throw Error(r(418));e.flags=e.flags&-4097|2,be=!1,Jt=e}}}function ef(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Jt=e}function Vl(e){if(e!==Jt)return!1;if(!be)return ef(e),be=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!au(e.type,e.memoizedProps)),n&&(n=Zt)){if(gu(e))throw tf(),Error(r(418));for(;n;)Jh(e,n),n=Er(n.nextSibling)}if(ef(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(n===0){Zt=Er(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}e=e.nextSibling}Zt=null}}else Zt=Jt?Er(e.stateNode.nextSibling):null;return!0}function tf(){for(var e=Zt;e;)e=Er(e.nextSibling)}function ss(){Zt=Jt=null,be=!1}function _u(e){Tn===null?Tn=[e]:Tn.push(e)}var hg=ve.ReactCurrentBatchConfig;function mo(e,n,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(r(309));var u=i.stateNode}if(!u)throw Error(r(147,e));var h=u,d=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(y){var w=h.refs;y===null?delete w[d]:w[d]=y},n._stringRef=d,n)}if(typeof e!="string")throw Error(r(284));if(!i._owner)throw Error(r(290,e))}return e}function Dl(e,n){throw e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function nf(e){var n=e._init;return n(e._payload)}function rf(e){function n(L,R){if(e){var O=L.deletions;O===null?(L.deletions=[R],L.flags|=16):O.push(R)}}function i(L,R){if(!e)return null;for(;R!==null;)n(L,R),R=R.sibling;return null}function u(L,R){for(L=new Map;R!==null;)R.key!==null?L.set(R.key,R):L.set(R.index,R),R=R.sibling;return L}function h(L,R){return L=Dr(L,R),L.index=0,L.sibling=null,L}function d(L,R,O){return L.index=O,e?(O=L.alternate,O!==null?(O=O.index,O<R?(L.flags|=2,R):O):(L.flags|=2,R)):(L.flags|=1048576,R)}function y(L){return e&&L.alternate===null&&(L.flags|=2),L}function w(L,R,O,Q){return R===null||R.tag!==6?(R=uc(O,L.mode,Q),R.return=L,R):(R=h(R,O),R.return=L,R)}function A(L,R,O,Q){var se=O.type;return se===k?q(L,R,O.props.children,Q,O.key):R!==null&&(R.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===At&&nf(se)===R.type)?(Q=h(R,O.props),Q.ref=mo(L,R,O),Q.return=L,Q):(Q=ta(O.type,O.key,O.props,null,L.mode,Q),Q.ref=mo(L,R,O),Q.return=L,Q)}function F(L,R,O,Q){return R===null||R.tag!==4||R.stateNode.containerInfo!==O.containerInfo||R.stateNode.implementation!==O.implementation?(R=cc(O,L.mode,Q),R.return=L,R):(R=h(R,O.children||[]),R.return=L,R)}function q(L,R,O,Q,se){return R===null||R.tag!==7?(R=mi(O,L.mode,Q,se),R.return=L,R):(R=h(R,O),R.return=L,R)}function b(L,R,O){if(typeof R=="string"&&R!==""||typeof R=="number")return R=uc(""+R,L.mode,O),R.return=L,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Xe:return O=ta(R.type,R.key,R.props,null,L.mode,O),O.ref=mo(L,null,R),O.return=L,O;case Pe:return R=cc(R,L.mode,O),R.return=L,R;case At:var Q=R._init;return b(L,Q(R._payload),O)}if(qn(R)||le(R))return R=mi(R,L.mode,O,null),R.return=L,R;Dl(L,R)}return null}function $(L,R,O,Q){var se=R!==null?R.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return se!==null?null:w(L,R,""+O,Q);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Xe:return O.key===se?A(L,R,O,Q):null;case Pe:return O.key===se?F(L,R,O,Q):null;case At:return se=O._init,$(L,R,se(O._payload),Q)}if(qn(O)||le(O))return se!==null?null:q(L,R,O,Q,null);Dl(L,O)}return null}function Y(L,R,O,Q,se){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return L=L.get(O)||null,w(R,L,""+Q,se);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Xe:return L=L.get(Q.key===null?O:Q.key)||null,A(R,L,Q,se);case Pe:return L=L.get(Q.key===null?O:Q.key)||null,F(R,L,Q,se);case At:var ae=Q._init;return Y(L,R,O,ae(Q._payload),se)}if(qn(Q)||le(Q))return L=L.get(O)||null,q(R,L,Q,se,null);Dl(R,Q)}return null}function re(L,R,O,Q){for(var se=null,ae=null,ue=R,fe=R=0,gt=null;ue!==null&&fe<O.length;fe++){ue.index>fe?(gt=ue,ue=null):gt=ue.sibling;var De=$(L,ue,O[fe],Q);if(De===null){ue===null&&(ue=gt);break}e&&ue&&De.alternate===null&&n(L,ue),R=d(De,R,fe),ae===null?se=De:ae.sibling=De,ae=De,ue=gt}if(fe===O.length)return i(L,ue),be&&li(L,fe),se;if(ue===null){for(;fe<O.length;fe++)ue=b(L,O[fe],Q),ue!==null&&(R=d(ue,R,fe),ae===null?se=ue:ae.sibling=ue,ae=ue);return be&&li(L,fe),se}for(ue=u(L,ue);fe<O.length;fe++)gt=Y(ue,L,fe,O[fe],Q),gt!==null&&(e&&gt.alternate!==null&&ue.delete(gt.key===null?fe:gt.key),R=d(gt,R,fe),ae===null?se=gt:ae.sibling=gt,ae=gt);return e&&ue.forEach(function(Nr){return n(L,Nr)}),be&&li(L,fe),se}function ie(L,R,O,Q){var se=le(O);if(typeof se!="function")throw Error(r(150));if(O=se.call(O),O==null)throw Error(r(151));for(var ae=se=null,ue=R,fe=R=0,gt=null,De=O.next();ue!==null&&!De.done;fe++,De=O.next()){ue.index>fe?(gt=ue,ue=null):gt=ue.sibling;var Nr=$(L,ue,De.value,Q);if(Nr===null){ue===null&&(ue=gt);break}e&&ue&&Nr.alternate===null&&n(L,ue),R=d(Nr,R,fe),ae===null?se=Nr:ae.sibling=Nr,ae=Nr,ue=gt}if(De.done)return i(L,ue),be&&li(L,fe),se;if(ue===null){for(;!De.done;fe++,De=O.next())De=b(L,De.value,Q),De!==null&&(R=d(De,R,fe),ae===null?se=De:ae.sibling=De,ae=De);return be&&li(L,fe),se}for(ue=u(L,ue);!De.done;fe++,De=O.next())De=Y(ue,L,fe,De.value,Q),De!==null&&(e&&De.alternate!==null&&ue.delete(De.key===null?fe:De.key),R=d(De,R,fe),ae===null?se=De:ae.sibling=De,ae=De);return e&&ue.forEach(function(qg){return n(L,qg)}),be&&li(L,fe),se}function Ze(L,R,O,Q){if(typeof O=="object"&&O!==null&&O.type===k&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case Xe:e:{for(var se=O.key,ae=R;ae!==null;){if(ae.key===se){if(se=O.type,se===k){if(ae.tag===7){i(L,ae.sibling),R=h(ae,O.props.children),R.return=L,L=R;break e}}else if(ae.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===At&&nf(se)===ae.type){i(L,ae.sibling),R=h(ae,O.props),R.ref=mo(L,ae,O),R.return=L,L=R;break e}i(L,ae);break}else n(L,ae);ae=ae.sibling}O.type===k?(R=mi(O.props.children,L.mode,Q,O.key),R.return=L,L=R):(Q=ta(O.type,O.key,O.props,null,L.mode,Q),Q.ref=mo(L,R,O),Q.return=L,L=Q)}return y(L);case Pe:e:{for(ae=O.key;R!==null;){if(R.key===ae)if(R.tag===4&&R.stateNode.containerInfo===O.containerInfo&&R.stateNode.implementation===O.implementation){i(L,R.sibling),R=h(R,O.children||[]),R.return=L,L=R;break e}else{i(L,R);break}else n(L,R);R=R.sibling}R=cc(O,L.mode,Q),R.return=L,L=R}return y(L);case At:return ae=O._init,Ze(L,R,ae(O._payload),Q)}if(qn(O))return re(L,R,O,Q);if(le(O))return ie(L,R,O,Q);Dl(L,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,R!==null&&R.tag===6?(i(L,R.sibling),R=h(R,O),R.return=L,L=R):(i(L,R),R=uc(O,L.mode,Q),R.return=L,L=R),y(L)):i(L,R)}return Ze}var os=rf(!0),sf=rf(!1),Nl=wr(null),xl=null,ls=null,vu=null;function Eu(){vu=ls=xl=null}function wu(e){var n=Nl.current;$e(Nl),e._currentValue=n}function Tu(e,n,i){for(;e!==null;){var u=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),e===i)break;e=e.return}}function as(e,n){xl=e,vu=ls=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&($t=!0),e.firstContext=null)}function an(e){var n=e._currentValue;if(vu!==e)if(e={context:e,memoizedValue:n,next:null},ls===null){if(xl===null)throw Error(r(308));ls=e,xl.dependencies={lanes:0,firstContext:e}}else ls=ls.next=e;return n}var ai=null;function Su(e){ai===null?ai=[e]:ai.push(e)}function of(e,n,i,u){var h=n.interleaved;return h===null?(i.next=i,Su(n)):(i.next=h.next,h.next=i),n.interleaved=i,nr(e,u)}function nr(e,n){e.lanes|=n;var i=e.alternate;for(i!==null&&(i.lanes|=n),i=e,e=e.return;e!==null;)e.childLanes|=n,i=e.alternate,i!==null&&(i.childLanes|=n),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Ir=!1;function Iu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function rr(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Ar(e,n,i){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,ke&2){var h=u.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),u.pending=n,nr(e,i)}return h=u.interleaved,h===null?(n.next=n,Su(u)):(n.next=h.next,h.next=n),u.interleaved=n,nr(e,i)}function Ll(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var u=n.lanes;u&=e.pendingLanes,i|=u,n.lanes=i,pr(e,i)}}function af(e,n){var i=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,i===u)){var h=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var y={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};d===null?h=d=y:d=d.next=y,i=i.next}while(i!==null);d===null?h=d=n:d=d.next=n}else h=d=n;i={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:u.shared,effects:u.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}function Ol(e,n,i,u){var h=e.updateQueue;Ir=!1;var d=h.firstBaseUpdate,y=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var A=w,F=A.next;A.next=null,y===null?d=F:y.next=F,y=A;var q=e.alternate;q!==null&&(q=q.updateQueue,w=q.lastBaseUpdate,w!==y&&(w===null?q.firstBaseUpdate=F:w.next=F,q.lastBaseUpdate=A))}if(d!==null){var b=h.baseState;y=0,q=F=A=null,w=d;do{var $=w.lane,Y=w.eventTime;if((u&$)===$){q!==null&&(q=q.next={eventTime:Y,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var re=e,ie=w;switch($=n,Y=i,ie.tag){case 1:if(re=ie.payload,typeof re=="function"){b=re.call(Y,b,$);break e}b=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=ie.payload,$=typeof re=="function"?re.call(Y,b,$):re,$==null)break e;b=J({},b,$);break e;case 2:Ir=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,$=h.effects,$===null?h.effects=[w]:$.push(w))}else Y={eventTime:Y,lane:$,tag:w.tag,payload:w.payload,callback:w.callback,next:null},q===null?(F=q=Y,A=b):q=q.next=Y,y|=$;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;$=w,w=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);if(q===null&&(A=b),h.baseState=A,h.firstBaseUpdate=F,h.lastBaseUpdate=q,n=h.shared.interleaved,n!==null){h=n;do y|=h.lane,h=h.next;while(h!==n)}else d===null&&(h.shared.lanes=0);hi|=y,e.lanes=y,e.memoizedState=b}}function uf(e,n,i){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var u=e[n],h=u.callback;if(h!==null){if(u.callback=null,u=i,typeof h!="function")throw Error(r(191,h));h.call(u)}}}var go={},On=wr(go),yo=wr(go),_o=wr(go);function ui(e){if(e===go)throw Error(r(174));return e}function Au(e,n){switch(Be(_o,n),Be(yo,e),Be(On,go),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:ot(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=ot(n,e)}$e(On),Be(On,n)}function us(){$e(On),$e(yo),$e(_o)}function cf(e){ui(_o.current);var n=ui(On.current),i=ot(n,e.type);n!==i&&(Be(yo,e),Be(On,i))}function Cu(e){yo.current===e&&($e(On),$e(yo))}var He=wr(0);function Ml(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ru=[];function Pu(){for(var e=0;e<Ru.length;e++)Ru[e]._workInProgressVersionPrimary=null;Ru.length=0}var Fl=ve.ReactCurrentDispatcher,ku=ve.ReactCurrentBatchConfig,ci=0,Qe=null,at=null,pt=null,Ul=!1,vo=!1,Eo=0,fg=0;function Rt(){throw Error(r(321))}function Vu(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!wn(e[i],n[i]))return!1;return!0}function Du(e,n,i,u,h,d){if(ci=d,Qe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Fl.current=e===null||e.memoizedState===null?gg:yg,e=i(u,h),vo){d=0;do{if(vo=!1,Eo=0,25<=d)throw Error(r(301));d+=1,pt=at=null,n.updateQueue=null,Fl.current=_g,e=i(u,h)}while(vo)}if(Fl.current=jl,n=at!==null&&at.next!==null,ci=0,pt=at=Qe=null,Ul=!1,n)throw Error(r(300));return e}function Nu(){var e=Eo!==0;return Eo=0,e}function Mn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Qe.memoizedState=pt=e:pt=pt.next=e,pt}function un(){if(at===null){var e=Qe.alternate;e=e!==null?e.memoizedState:null}else e=at.next;var n=pt===null?Qe.memoizedState:pt.next;if(n!==null)pt=n,at=e;else{if(e===null)throw Error(r(310));at=e,e={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},pt===null?Qe.memoizedState=pt=e:pt=pt.next=e}return pt}function wo(e,n){return typeof n=="function"?n(e):n}function xu(e){var n=un(),i=n.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var u=at,h=u.baseQueue,d=i.pending;if(d!==null){if(h!==null){var y=h.next;h.next=d.next,d.next=y}u.baseQueue=h=d,i.pending=null}if(h!==null){d=h.next,u=u.baseState;var w=y=null,A=null,F=d;do{var q=F.lane;if((ci&q)===q)A!==null&&(A=A.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),u=F.hasEagerState?F.eagerState:e(u,F.action);else{var b={lane:q,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};A===null?(w=A=b,y=u):A=A.next=b,Qe.lanes|=q,hi|=q}F=F.next}while(F!==null&&F!==d);A===null?y=u:A.next=w,wn(u,n.memoizedState)||($t=!0),n.memoizedState=u,n.baseState=y,n.baseQueue=A,i.lastRenderedState=u}if(e=i.interleaved,e!==null){h=e;do d=h.lane,Qe.lanes|=d,hi|=d,h=h.next;while(h!==e)}else h===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function Lu(e){var n=un(),i=n.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var u=i.dispatch,h=i.pending,d=n.memoizedState;if(h!==null){i.pending=null;var y=h=h.next;do d=e(d,y.action),y=y.next;while(y!==h);wn(d,n.memoizedState)||($t=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),i.lastRenderedState=d}return[d,u]}function hf(){}function ff(e,n){var i=Qe,u=un(),h=n(),d=!wn(u.memoizedState,h);if(d&&(u.memoizedState=h,$t=!0),u=u.queue,Ou(mf.bind(null,i,u,e),[e]),u.getSnapshot!==n||d||pt!==null&&pt.memoizedState.tag&1){if(i.flags|=2048,To(9,pf.bind(null,i,u,h,n),void 0,null),mt===null)throw Error(r(349));ci&30||df(i,n,h)}return h}function df(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=Qe.updateQueue,n===null?(n={lastEffect:null,stores:null},Qe.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function pf(e,n,i,u){n.value=i,n.getSnapshot=u,gf(n)&&yf(e)}function mf(e,n,i){return i(function(){gf(n)&&yf(e)})}function gf(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!wn(e,i)}catch{return!0}}function yf(e){var n=nr(e,1);n!==null&&Cn(n,e,1,-1)}function _f(e){var n=Mn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},n.queue=e,e=e.dispatch=mg.bind(null,Qe,e),[n.memoizedState,e]}function To(e,n,i,u){return e={tag:e,create:n,destroy:i,deps:u,next:null},n=Qe.updateQueue,n===null?(n={lastEffect:null,stores:null},Qe.updateQueue=n,n.lastEffect=e.next=e):(i=n.lastEffect,i===null?n.lastEffect=e.next=e:(u=i.next,i.next=e,e.next=u,n.lastEffect=e)),e}function vf(){return un().memoizedState}function zl(e,n,i,u){var h=Mn();Qe.flags|=e,h.memoizedState=To(1|n,i,void 0,u===void 0?null:u)}function Bl(e,n,i,u){var h=un();u=u===void 0?null:u;var d=void 0;if(at!==null){var y=at.memoizedState;if(d=y.destroy,u!==null&&Vu(u,y.deps)){h.memoizedState=To(n,i,d,u);return}}Qe.flags|=e,h.memoizedState=To(1|n,i,d,u)}function Ef(e,n){return zl(8390656,8,e,n)}function Ou(e,n){return Bl(2048,8,e,n)}function wf(e,n){return Bl(4,2,e,n)}function Tf(e,n){return Bl(4,4,e,n)}function Sf(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function If(e,n,i){return i=i!=null?i.concat([e]):null,Bl(4,4,Sf.bind(null,n,e),i)}function Mu(){}function Af(e,n){var i=un();n=n===void 0?null:n;var u=i.memoizedState;return u!==null&&n!==null&&Vu(n,u[1])?u[0]:(i.memoizedState=[e,n],e)}function Cf(e,n){var i=un();n=n===void 0?null:n;var u=i.memoizedState;return u!==null&&n!==null&&Vu(n,u[1])?u[0]:(e=e(),i.memoizedState=[e,n],e)}function Rf(e,n,i){return ci&21?(wn(i,n)||(i=Zr(),Qe.lanes|=i,hi|=i,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,$t=!0),e.memoizedState=i)}function dg(e,n){var i=Ee;Ee=i!==0&&4>i?i:4,e(!0);var u=ku.transition;ku.transition={};try{e(!1),n()}finally{Ee=i,ku.transition=u}}function Pf(){return un().memoizedState}function pg(e,n,i){var u=kr(e);if(i={lane:u,action:i,hasEagerState:!1,eagerState:null,next:null},kf(e))Vf(n,i);else if(i=of(e,n,i,u),i!==null){var h=Mt();Cn(i,e,u,h),Df(i,n,u)}}function mg(e,n,i){var u=kr(e),h={lane:u,action:i,hasEagerState:!1,eagerState:null,next:null};if(kf(e))Vf(n,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var y=n.lastRenderedState,w=d(y,i);if(h.hasEagerState=!0,h.eagerState=w,wn(w,y)){var A=n.interleaved;A===null?(h.next=h,Su(n)):(h.next=A.next,A.next=h),n.interleaved=h;return}}catch{}finally{}i=of(e,n,h,u),i!==null&&(h=Mt(),Cn(i,e,u,h),Df(i,n,u))}}function kf(e){var n=e.alternate;return e===Qe||n!==null&&n===Qe}function Vf(e,n){vo=Ul=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function Df(e,n,i){if(i&4194240){var u=n.lanes;u&=e.pendingLanes,i|=u,n.lanes=i,pr(e,i)}}var jl={readContext:an,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},gg={readContext:an,useCallback:function(e,n){return Mn().memoizedState=[e,n===void 0?null:n],e},useContext:an,useEffect:Ef,useImperativeHandle:function(e,n,i){return i=i!=null?i.concat([e]):null,zl(4194308,4,Sf.bind(null,n,e),i)},useLayoutEffect:function(e,n){return zl(4194308,4,e,n)},useInsertionEffect:function(e,n){return zl(4,2,e,n)},useMemo:function(e,n){var i=Mn();return n=n===void 0?null:n,e=e(),i.memoizedState=[e,n],e},useReducer:function(e,n,i){var u=Mn();return n=i!==void 0?i(n):n,u.memoizedState=u.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},u.queue=e,e=e.dispatch=pg.bind(null,Qe,e),[u.memoizedState,e]},useRef:function(e){var n=Mn();return e={current:e},n.memoizedState=e},useState:_f,useDebugValue:Mu,useDeferredValue:function(e){return Mn().memoizedState=e},useTransition:function(){var e=_f(!1),n=e[0];return e=dg.bind(null,e[1]),Mn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,i){var u=Qe,h=Mn();if(be){if(i===void 0)throw Error(r(407));i=i()}else{if(i=n(),mt===null)throw Error(r(349));ci&30||df(u,n,i)}h.memoizedState=i;var d={value:i,getSnapshot:n};return h.queue=d,Ef(mf.bind(null,u,d,e),[e]),u.flags|=2048,To(9,pf.bind(null,u,d,i,n),void 0,null),i},useId:function(){var e=Mn(),n=mt.identifierPrefix;if(be){var i=tr,u=er;i=(u&~(1<<32-xt(u)-1)).toString(32)+i,n=":"+n+"R"+i,i=Eo++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=fg++,n=":"+n+"r"+i.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},yg={readContext:an,useCallback:Af,useContext:an,useEffect:Ou,useImperativeHandle:If,useInsertionEffect:wf,useLayoutEffect:Tf,useMemo:Cf,useReducer:xu,useRef:vf,useState:function(){return xu(wo)},useDebugValue:Mu,useDeferredValue:function(e){var n=un();return Rf(n,at.memoizedState,e)},useTransition:function(){var e=xu(wo)[0],n=un().memoizedState;return[e,n]},useMutableSource:hf,useSyncExternalStore:ff,useId:Pf,unstable_isNewReconciler:!1},_g={readContext:an,useCallback:Af,useContext:an,useEffect:Ou,useImperativeHandle:If,useInsertionEffect:wf,useLayoutEffect:Tf,useMemo:Cf,useReducer:Lu,useRef:vf,useState:function(){return Lu(wo)},useDebugValue:Mu,useDeferredValue:function(e){var n=un();return at===null?n.memoizedState=e:Rf(n,at.memoizedState,e)},useTransition:function(){var e=Lu(wo)[0],n=un().memoizedState;return[e,n]},useMutableSource:hf,useSyncExternalStore:ff,useId:Pf,unstable_isNewReconciler:!1};function Sn(e,n){if(e&&e.defaultProps){n=J({},n),e=e.defaultProps;for(var i in e)n[i]===void 0&&(n[i]=e[i]);return n}return n}function Fu(e,n,i,u){n=e.memoizedState,i=i(u,n),i=i==null?n:J({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var $l={isMounted:function(e){return(e=e._reactInternals)?pn(e)===e:!1},enqueueSetState:function(e,n,i){e=e._reactInternals;var u=Mt(),h=kr(e),d=rr(u,h);d.payload=n,i!=null&&(d.callback=i),n=Ar(e,d,h),n!==null&&(Cn(n,e,h,u),Ll(n,e,h))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var u=Mt(),h=kr(e),d=rr(u,h);d.tag=1,d.payload=n,i!=null&&(d.callback=i),n=Ar(e,d,h),n!==null&&(Cn(n,e,h,u),Ll(n,e,h))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=Mt(),u=kr(e),h=rr(i,u);h.tag=2,n!=null&&(h.callback=n),n=Ar(e,h,u),n!==null&&(Cn(n,e,u,i),Ll(n,e,u))}};function Nf(e,n,i,u,h,d,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,d,y):n.prototype&&n.prototype.isPureReactComponent?!lo(i,u)||!lo(h,d):!0}function xf(e,n,i){var u=!1,h=Tr,d=n.contextType;return typeof d=="object"&&d!==null?d=an(d):(h=jt(n)?si:Ct.current,u=n.contextTypes,d=(u=u!=null)?ns(e,h):Tr),n=new n(i,d),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=$l,e.stateNode=n,n._reactInternals=e,u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=d),n}function Lf(e,n,i,u){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,u),n.state!==e&&$l.enqueueReplaceState(n,n.state,null)}function Uu(e,n,i,u){var h=e.stateNode;h.props=i,h.state=e.memoizedState,h.refs={},Iu(e);var d=n.contextType;typeof d=="object"&&d!==null?h.context=an(d):(d=jt(n)?si:Ct.current,h.context=ns(e,d)),h.state=e.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(Fu(e,n,d,i),h.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(n=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),n!==h.state&&$l.enqueueReplaceState(h,h.state,null),Ol(e,i,h,u),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function cs(e,n){try{var i="",u=n;do i+=ge(u),u=u.return;while(u);var h=i}catch(d){h=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:n,stack:h,digest:null}}function zu(e,n,i){return{value:e,source:null,stack:i??null,digest:n??null}}function Bu(e,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var vg=typeof WeakMap=="function"?WeakMap:Map;function Of(e,n,i){i=rr(-1,i),i.tag=3,i.payload={element:null};var u=n.value;return i.callback=function(){Gl||(Gl=!0,tc=u),Bu(e,n)},i}function Mf(e,n,i){i=rr(-1,i),i.tag=3;var u=e.type.getDerivedStateFromError;if(typeof u=="function"){var h=n.value;i.payload=function(){return u(h)},i.callback=function(){Bu(e,n)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(i.callback=function(){Bu(e,n),typeof u!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var y=n.stack;this.componentDidCatch(n.value,{componentStack:y!==null?y:""})}),i}function Ff(e,n,i){var u=e.pingCache;if(u===null){u=e.pingCache=new vg;var h=new Set;u.set(n,h)}else h=u.get(n),h===void 0&&(h=new Set,u.set(n,h));h.has(i)||(h.add(i),e=xg.bind(null,e,n,i),n.then(e,e))}function Uf(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function zf(e,n,i,u,h){return e.mode&1?(e.flags|=65536,e.lanes=h,e):(e===n?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=rr(-1,1),n.tag=2,Ar(i,n,1))),i.lanes|=1),e)}var Eg=ve.ReactCurrentOwner,$t=!1;function Ot(e,n,i,u){n.child=e===null?sf(n,null,i,u):os(n,e.child,i,u)}function Bf(e,n,i,u,h){i=i.render;var d=n.ref;return as(n,h),u=Du(e,n,i,u,d,h),i=Nu(),e!==null&&!$t?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~h,ir(e,n,h)):(be&&i&&pu(n),n.flags|=1,Ot(e,n,u,h),n.child)}function jf(e,n,i,u,h){if(e===null){var d=i.type;return typeof d=="function"&&!ac(d)&&d.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=d,$f(e,n,d,u,h)):(e=ta(i.type,null,u,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!(e.lanes&h)){var y=d.memoizedProps;if(i=i.compare,i=i!==null?i:lo,i(y,u)&&e.ref===n.ref)return ir(e,n,h)}return n.flags|=1,e=Dr(d,u),e.ref=n.ref,e.return=n,n.child=e}function $f(e,n,i,u,h){if(e!==null){var d=e.memoizedProps;if(lo(d,u)&&e.ref===n.ref)if($t=!1,n.pendingProps=u=d,(e.lanes&h)!==0)e.flags&131072&&($t=!0);else return n.lanes=e.lanes,ir(e,n,h)}return ju(e,n,i,u,h)}function qf(e,n,i){var u=n.pendingProps,h=u.children,d=e!==null?e.memoizedState:null;if(u.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(fs,en),en|=i;else{if(!(i&1073741824))return e=d!==null?d.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Be(fs,en),en|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=d!==null?d.baseLanes:i,Be(fs,en),en|=u}else d!==null?(u=d.baseLanes|i,n.memoizedState=null):u=i,Be(fs,en),en|=u;return Ot(e,n,h,i),n.child}function bf(e,n){var i=n.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function ju(e,n,i,u,h){var d=jt(i)?si:Ct.current;return d=ns(n,d),as(n,h),i=Du(e,n,i,u,d,h),u=Nu(),e!==null&&!$t?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~h,ir(e,n,h)):(be&&u&&pu(n),n.flags|=1,Ot(e,n,i,h),n.child)}function Hf(e,n,i,u,h){if(jt(i)){var d=!0;Cl(n)}else d=!1;if(as(n,h),n.stateNode===null)bl(e,n),xf(n,i,u),Uu(n,i,u,h),u=!0;else if(e===null){var y=n.stateNode,w=n.memoizedProps;y.props=w;var A=y.context,F=i.contextType;typeof F=="object"&&F!==null?F=an(F):(F=jt(i)?si:Ct.current,F=ns(n,F));var q=i.getDerivedStateFromProps,b=typeof q=="function"||typeof y.getSnapshotBeforeUpdate=="function";b||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==u||A!==F)&&Lf(n,y,u,F),Ir=!1;var $=n.memoizedState;y.state=$,Ol(n,u,y,h),A=n.memoizedState,w!==u||$!==A||Bt.current||Ir?(typeof q=="function"&&(Fu(n,i,q,u),A=n.memoizedState),(w=Ir||Nf(n,i,w,u,$,A,F))?(b||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=A),y.props=u,y.state=A,y.context=F,u=w):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{y=n.stateNode,lf(e,n),w=n.memoizedProps,F=n.type===n.elementType?w:Sn(n.type,w),y.props=F,b=n.pendingProps,$=y.context,A=i.contextType,typeof A=="object"&&A!==null?A=an(A):(A=jt(i)?si:Ct.current,A=ns(n,A));var Y=i.getDerivedStateFromProps;(q=typeof Y=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==b||$!==A)&&Lf(n,y,u,A),Ir=!1,$=n.memoizedState,y.state=$,Ol(n,u,y,h);var re=n.memoizedState;w!==b||$!==re||Bt.current||Ir?(typeof Y=="function"&&(Fu(n,i,Y,u),re=n.memoizedState),(F=Ir||Nf(n,i,F,u,$,re,A)||!1)?(q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,re,A),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,re,A)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===e.memoizedProps&&$===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&$===e.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=re),y.props=u,y.state=re,y.context=A,u=F):(typeof y.componentDidUpdate!="function"||w===e.memoizedProps&&$===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&$===e.memoizedState||(n.flags|=1024),u=!1)}return $u(e,n,i,u,d,h)}function $u(e,n,i,u,h,d){bf(e,n);var y=(n.flags&128)!==0;if(!u&&!y)return h&&Gh(n,i,!1),ir(e,n,d);u=n.stateNode,Eg.current=n;var w=y&&typeof i.getDerivedStateFromError!="function"?null:u.render();return n.flags|=1,e!==null&&y?(n.child=os(n,e.child,null,d),n.child=os(n,null,w,d)):Ot(e,n,w,d),n.memoizedState=u.state,h&&Gh(n,i,!0),n.child}function Qf(e){var n=e.stateNode;n.pendingContext?Kh(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Kh(e,n.context,!1),Au(e,n.containerInfo)}function Kf(e,n,i,u,h){return ss(),_u(h),n.flags|=256,Ot(e,n,i,u),n.child}var qu={dehydrated:null,treeContext:null,retryLane:0};function bu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Wf(e,n,i){var u=n.pendingProps,h=He.current,d=!1,y=(n.flags&128)!==0,w;if((w=y)||(w=e!==null&&e.memoizedState===null?!1:(h&2)!==0),w?(d=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),Be(He,h&1),e===null)return yu(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(y=u.children,e=u.fallback,d?(u=n.mode,d=n.child,y={mode:"hidden",children:y},!(u&1)&&d!==null?(d.childLanes=0,d.pendingProps=y):d=na(y,u,0,null),e=mi(e,u,i,null),d.return=n,e.return=n,d.sibling=e,n.child=d,n.child.memoizedState=bu(i),n.memoizedState=qu,e):Hu(n,y));if(h=e.memoizedState,h!==null&&(w=h.dehydrated,w!==null))return wg(e,n,y,u,w,h,i);if(d){d=u.fallback,y=n.mode,h=e.child,w=h.sibling;var A={mode:"hidden",children:u.children};return!(y&1)&&n.child!==h?(u=n.child,u.childLanes=0,u.pendingProps=A,n.deletions=null):(u=Dr(h,A),u.subtreeFlags=h.subtreeFlags&14680064),w!==null?d=Dr(w,d):(d=mi(d,y,i,null),d.flags|=2),d.return=n,u.return=n,u.sibling=d,n.child=u,u=d,d=n.child,y=e.child.memoizedState,y=y===null?bu(i):{baseLanes:y.baseLanes|i,cachePool:null,transitions:y.transitions},d.memoizedState=y,d.childLanes=e.childLanes&~i,n.memoizedState=qu,u}return d=e.child,e=d.sibling,u=Dr(d,{mode:"visible",children:u.children}),!(n.mode&1)&&(u.lanes=i),u.return=n,u.sibling=null,e!==null&&(i=n.deletions,i===null?(n.deletions=[e],n.flags|=16):i.push(e)),n.child=u,n.memoizedState=null,u}function Hu(e,n){return n=na({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function ql(e,n,i,u){return u!==null&&_u(u),os(n,e.child,null,i),e=Hu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function wg(e,n,i,u,h,d,y){if(i)return n.flags&256?(n.flags&=-257,u=zu(Error(r(422))),ql(e,n,y,u)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(d=u.fallback,h=n.mode,u=na({mode:"visible",children:u.children},h,0,null),d=mi(d,h,y,null),d.flags|=2,u.return=n,d.return=n,u.sibling=d,n.child=u,n.mode&1&&os(n,e.child,null,y),n.child.memoizedState=bu(y),n.memoizedState=qu,d);if(!(n.mode&1))return ql(e,n,y,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var w=u.dgst;return u=w,d=Error(r(419)),u=zu(d,u,void 0),ql(e,n,y,u)}if(w=(y&e.childLanes)!==0,$t||w){if(u=mt,u!==null){switch(y&-y){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(u.suspendedLanes|y)?0:h,h!==0&&h!==d.retryLane&&(d.retryLane=h,nr(e,h),Cn(u,e,h,-1))}return lc(),u=zu(Error(r(421))),ql(e,n,y,u)}return h.data==="$?"?(n.flags|=128,n.child=e.child,n=Lg.bind(null,e),h._reactRetry=n,null):(e=d.treeContext,Zt=Er(h.nextSibling),Jt=n,be=!0,Tn=null,e!==null&&(on[ln++]=er,on[ln++]=tr,on[ln++]=oi,er=e.id,tr=e.overflow,oi=n),n=Hu(n,u.children),n.flags|=4096,n)}function Gf(e,n,i){e.lanes|=n;var u=e.alternate;u!==null&&(u.lanes|=n),Tu(e.return,n,i)}function Qu(e,n,i,u,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:i,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=u,d.tail=i,d.tailMode=h)}function Xf(e,n,i){var u=n.pendingProps,h=u.revealOrder,d=u.tail;if(Ot(e,n,u.children,i),u=He.current,u&2)u=u&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gf(e,i,n);else if(e.tag===19)Gf(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}if(Be(He,u),!(n.mode&1))n.memoizedState=null;else switch(h){case"forwards":for(i=n.child,h=null;i!==null;)e=i.alternate,e!==null&&Ml(e)===null&&(h=i),i=i.sibling;i=h,i===null?(h=n.child,n.child=null):(h=i.sibling,i.sibling=null),Qu(n,!1,h,i,d);break;case"backwards":for(i=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Ml(e)===null){n.child=h;break}e=h.sibling,h.sibling=i,i=h,h=e}Qu(n,!0,i,null,d);break;case"together":Qu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function bl(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function ir(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),hi|=n.lanes,!(i&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,i=Dr(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=Dr(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function Tg(e,n,i){switch(n.tag){case 3:Qf(n),ss();break;case 5:cf(n);break;case 1:jt(n.type)&&Cl(n);break;case 4:Au(n,n.stateNode.containerInfo);break;case 10:var u=n.type._context,h=n.memoizedProps.value;Be(Nl,u._currentValue),u._currentValue=h;break;case 13:if(u=n.memoizedState,u!==null)return u.dehydrated!==null?(Be(He,He.current&1),n.flags|=128,null):i&n.child.childLanes?Wf(e,n,i):(Be(He,He.current&1),e=ir(e,n,i),e!==null?e.sibling:null);Be(He,He.current&1);break;case 19:if(u=(i&n.childLanes)!==0,e.flags&128){if(u)return Xf(e,n,i);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Be(He,He.current),u)break;return null;case 22:case 23:return n.lanes=0,qf(e,n,i)}return ir(e,n,i)}var Yf,Ku,Jf,Zf;Yf=function(e,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Ku=function(){},Jf=function(e,n,i,u){var h=e.memoizedProps;if(h!==u){e=n.stateNode,ui(On.current);var d=null;switch(i){case"input":h=$r(e,h),u=$r(e,u),d=[];break;case"select":h=J({},h,{value:void 0}),u=J({},u,{value:void 0}),d=[];break;case"textarea":h=Ms(e,h),u=Ms(e,u),d=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(e.onclick=Sl)}$s(i,u);var y;i=null;for(F in h)if(!u.hasOwnProperty(F)&&h.hasOwnProperty(F)&&h[F]!=null)if(F==="style"){var w=h[F];for(y in w)w.hasOwnProperty(y)&&(i||(i={}),i[y]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(a.hasOwnProperty(F)?d||(d=[]):(d=d||[]).push(F,null));for(F in u){var A=u[F];if(w=h!=null?h[F]:void 0,u.hasOwnProperty(F)&&A!==w&&(A!=null||w!=null))if(F==="style")if(w){for(y in w)!w.hasOwnProperty(y)||A&&A.hasOwnProperty(y)||(i||(i={}),i[y]="");for(y in A)A.hasOwnProperty(y)&&w[y]!==A[y]&&(i||(i={}),i[y]=A[y])}else i||(d||(d=[]),d.push(F,i)),i=A;else F==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,w=w?w.__html:void 0,A!=null&&w!==A&&(d=d||[]).push(F,A)):F==="children"?typeof A!="string"&&typeof A!="number"||(d=d||[]).push(F,""+A):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(a.hasOwnProperty(F)?(A!=null&&F==="onScroll"&&je("scroll",e),d||w===A||(d=[])):(d=d||[]).push(F,A))}i&&(d=d||[]).push("style",i);var F=d;(n.updateQueue=F)&&(n.flags|=4)}},Zf=function(e,n,i,u){i!==u&&(n.flags|=4)};function So(e,n){if(!be)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function Pt(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,u=0;if(n)for(var h=e.child;h!==null;)i|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)i|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=u,e.childLanes=i,n}function Sg(e,n,i){var u=n.pendingProps;switch(mu(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(n),null;case 1:return jt(n.type)&&Al(),Pt(n),null;case 3:return u=n.stateNode,us(),$e(Bt),$e(Ct),Pu(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(e===null||e.child===null)&&(Vl(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Tn!==null&&(ic(Tn),Tn=null))),Ku(e,n),Pt(n),null;case 5:Cu(n);var h=ui(_o.current);if(i=n.type,e!==null&&n.stateNode!=null)Jf(e,n,i,u,h),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!u){if(n.stateNode===null)throw Error(r(166));return Pt(n),null}if(e=ui(On.current),Vl(n)){u=n.stateNode,i=n.type;var d=n.memoizedProps;switch(u[Ln]=n,u[fo]=d,e=(n.mode&1)!==0,i){case"dialog":je("cancel",u),je("close",u);break;case"iframe":case"object":case"embed":je("load",u);break;case"video":case"audio":for(h=0;h<uo.length;h++)je(uo[h],u);break;case"source":je("error",u);break;case"img":case"image":case"link":je("error",u),je("load",u);break;case"details":je("toggle",u);break;case"input":Ii(u,d),je("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!d.multiple},je("invalid",u);break;case"textarea":Ci(u,d),je("invalid",u)}$s(i,d),h=null;for(var y in d)if(d.hasOwnProperty(y)){var w=d[y];y==="children"?typeof w=="string"?u.textContent!==w&&(d.suppressHydrationWarning!==!0&&Tl(u.textContent,w,e),h=["children",w]):typeof w=="number"&&u.textContent!==""+w&&(d.suppressHydrationWarning!==!0&&Tl(u.textContent,w,e),h=["children",""+w]):a.hasOwnProperty(y)&&w!=null&&y==="onScroll"&&je("scroll",u)}switch(i){case"input":$n(u),Wo(u,d,!0);break;case"textarea":$n(u),Fs(u);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(u.onclick=Sl)}u=h,n.updateQueue=u,u!==null&&(n.flags|=4)}else{y=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=st(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=y.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof u.is=="string"?e=y.createElement(i,{is:u.is}):(e=y.createElement(i),i==="select"&&(y=e,u.multiple?y.multiple=!0:u.size&&(y.size=u.size))):e=y.createElementNS(e,i),e[Ln]=n,e[fo]=u,Yf(e,n,!1,!1),n.stateNode=e;e:{switch(y=qs(i,u),i){case"dialog":je("cancel",e),je("close",e),h=u;break;case"iframe":case"object":case"embed":je("load",e),h=u;break;case"video":case"audio":for(h=0;h<uo.length;h++)je(uo[h],e);h=u;break;case"source":je("error",e),h=u;break;case"img":case"image":case"link":je("error",e),je("load",e),h=u;break;case"details":je("toggle",e),h=u;break;case"input":Ii(e,u),h=$r(e,u),je("invalid",e);break;case"option":h=u;break;case"select":e._wrapperState={wasMultiple:!!u.multiple},h=J({},u,{value:void 0}),je("invalid",e);break;case"textarea":Ci(e,u),h=Ms(e,u),je("invalid",e);break;default:h=u}$s(i,h),w=h;for(d in w)if(w.hasOwnProperty(d)){var A=w[d];d==="style"?Bs(e,A):d==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&Us(e,A)):d==="children"?typeof A=="string"?(i!=="textarea"||A!=="")&&ur(e,A):typeof A=="number"&&ur(e,""+A):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(a.hasOwnProperty(d)?A!=null&&d==="onScroll"&&je("scroll",e):A!=null&&_e(e,d,A,y))}switch(i){case"input":$n(e),Wo(e,u,!1);break;case"textarea":$n(e),Fs(e);break;case"option":u.value!=null&&e.setAttribute("value",""+Le(u.value));break;case"select":e.multiple=!!u.multiple,d=u.value,d!=null?bn(e,!!u.multiple,d,!1):u.defaultValue!=null&&bn(e,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=Sl)}switch(i){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Pt(n),null;case 6:if(e&&n.stateNode!=null)Zf(e,n,e.memoizedProps,u);else{if(typeof u!="string"&&n.stateNode===null)throw Error(r(166));if(i=ui(_o.current),ui(On.current),Vl(n)){if(u=n.stateNode,i=n.memoizedProps,u[Ln]=n,(d=u.nodeValue!==i)&&(e=Jt,e!==null))switch(e.tag){case 3:Tl(u.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Tl(u.nodeValue,i,(e.mode&1)!==0)}d&&(n.flags|=4)}else u=(i.nodeType===9?i:i.ownerDocument).createTextNode(u),u[Ln]=n,n.stateNode=u}return Pt(n),null;case 13:if($e(He),u=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(be&&Zt!==null&&n.mode&1&&!(n.flags&128))tf(),ss(),n.flags|=98560,d=!1;else if(d=Vl(n),u!==null&&u.dehydrated!==null){if(e===null){if(!d)throw Error(r(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Ln]=n}else ss(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Pt(n),d=!1}else Tn!==null&&(ic(Tn),Tn=null),d=!0;if(!d)return n.flags&65536?n:null}return n.flags&128?(n.lanes=i,n):(u=u!==null,u!==(e!==null&&e.memoizedState!==null)&&u&&(n.child.flags|=8192,n.mode&1&&(e===null||He.current&1?ut===0&&(ut=3):lc())),n.updateQueue!==null&&(n.flags|=4),Pt(n),null);case 4:return us(),Ku(e,n),e===null&&co(n.stateNode.containerInfo),Pt(n),null;case 10:return wu(n.type._context),Pt(n),null;case 17:return jt(n.type)&&Al(),Pt(n),null;case 19:if($e(He),d=n.memoizedState,d===null)return Pt(n),null;if(u=(n.flags&128)!==0,y=d.rendering,y===null)if(u)So(d,!1);else{if(ut!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(y=Ml(e),y!==null){for(n.flags|=128,So(d,!1),u=y.updateQueue,u!==null&&(n.updateQueue=u,n.flags|=4),n.subtreeFlags=0,u=i,i=n.child;i!==null;)d=i,e=u,d.flags&=14680066,y=d.alternate,y===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=y.childLanes,d.lanes=y.lanes,d.child=y.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=y.memoizedProps,d.memoizedState=y.memoizedState,d.updateQueue=y.updateQueue,d.type=y.type,e=y.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Be(He,He.current&1|2),n.child}e=e.sibling}d.tail!==null&&ze()>ds&&(n.flags|=128,u=!0,So(d,!1),n.lanes=4194304)}else{if(!u)if(e=Ml(y),e!==null){if(n.flags|=128,u=!0,i=e.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),So(d,!0),d.tail===null&&d.tailMode==="hidden"&&!y.alternate&&!be)return Pt(n),null}else 2*ze()-d.renderingStartTime>ds&&i!==1073741824&&(n.flags|=128,u=!0,So(d,!1),n.lanes=4194304);d.isBackwards?(y.sibling=n.child,n.child=y):(i=d.last,i!==null?i.sibling=y:n.child=y,d.last=y)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=ze(),n.sibling=null,i=He.current,Be(He,u?i&1|2:i&1),n):(Pt(n),null);case 22:case 23:return oc(),u=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==u&&(n.flags|=8192),u&&n.mode&1?en&1073741824&&(Pt(n),n.subtreeFlags&6&&(n.flags|=8192)):Pt(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function Ig(e,n){switch(mu(n),n.tag){case 1:return jt(n.type)&&Al(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return us(),$e(Bt),$e(Ct),Pu(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return Cu(n),null;case 13:if($e(He),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));ss()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return $e(He),null;case 4:return us(),null;case 10:return wu(n.type._context),null;case 22:case 23:return oc(),null;case 24:return null;default:return null}}var Hl=!1,kt=!1,Ag=typeof WeakSet=="function"?WeakSet:Set,ne=null;function hs(e,n){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(u){We(e,n,u)}else i.current=null}function Wu(e,n,i){try{i()}catch(u){We(e,n,u)}}var ed=!1;function Cg(e,n){if(ou=yr,e=Dh(),Ja(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var u=i.getSelection&&i.getSelection();if(u&&u.rangeCount!==0){i=u.anchorNode;var h=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var y=0,w=-1,A=-1,F=0,q=0,b=e,$=null;t:for(;;){for(var Y;b!==i||h!==0&&b.nodeType!==3||(w=y+h),b!==d||u!==0&&b.nodeType!==3||(A=y+u),b.nodeType===3&&(y+=b.nodeValue.length),(Y=b.firstChild)!==null;)$=b,b=Y;for(;;){if(b===e)break t;if($===i&&++F===h&&(w=y),$===d&&++q===u&&(A=y),(Y=b.nextSibling)!==null)break;b=$,$=b.parentNode}b=Y}i=w===-1||A===-1?null:{start:w,end:A}}else i=null}i=i||{start:0,end:0}}else i=null;for(lu={focusedElem:e,selectionRange:i},yr=!1,ne=n;ne!==null;)if(n=ne,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ne=e;else for(;ne!==null;){n=ne;try{var re=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(re!==null){var ie=re.memoizedProps,Ze=re.memoizedState,L=n.stateNode,R=L.getSnapshotBeforeUpdate(n.elementType===n.type?ie:Sn(n.type,ie),Ze);L.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var O=n.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Q){We(n,n.return,Q)}if(e=n.sibling,e!==null){e.return=n.return,ne=e;break}ne=n.return}return re=ed,ed=!1,re}function Io(e,n,i){var u=n.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&e)===e){var d=h.destroy;h.destroy=void 0,d!==void 0&&Wu(n,i,d)}h=h.next}while(h!==u)}}function Ql(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var u=i.create;i.destroy=u()}i=i.next}while(i!==n)}}function Gu(e){var n=e.ref;if(n!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof n=="function"?n(e):n.current=e}}function td(e){var n=e.alternate;n!==null&&(e.alternate=null,td(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Ln],delete n[fo],delete n[hu],delete n[ag],delete n[ug])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function nd(e){return e.tag===5||e.tag===3||e.tag===4}function rd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xu(e,n,i){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(e,n):i.insertBefore(e,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(e,i)):(n=i,n.appendChild(e)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Sl));else if(u!==4&&(e=e.child,e!==null))for(Xu(e,n,i),e=e.sibling;e!==null;)Xu(e,n,i),e=e.sibling}function Yu(e,n,i){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(u!==4&&(e=e.child,e!==null))for(Yu(e,n,i),e=e.sibling;e!==null;)Yu(e,n,i),e=e.sibling}var Et=null,In=!1;function Cr(e,n,i){for(i=i.child;i!==null;)id(e,n,i),i=i.sibling}function id(e,n,i){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(Yr,i)}catch{}switch(i.tag){case 5:kt||hs(i,n);case 6:var u=Et,h=In;Et=null,Cr(e,n,i),Et=u,In=h,Et!==null&&(In?(e=Et,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Et.removeChild(i.stateNode));break;case 18:Et!==null&&(In?(e=Et,i=i.stateNode,e.nodeType===8?cu(e.parentNode,i):e.nodeType===1&&cu(e,i),vn(e)):cu(Et,i.stateNode));break;case 4:u=Et,h=In,Et=i.stateNode.containerInfo,In=!0,Cr(e,n,i),Et=u,In=h;break;case 0:case 11:case 14:case 15:if(!kt&&(u=i.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var d=h,y=d.destroy;d=d.tag,y!==void 0&&(d&2||d&4)&&Wu(i,n,y),h=h.next}while(h!==u)}Cr(e,n,i);break;case 1:if(!kt&&(hs(i,n),u=i.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=i.memoizedProps,u.state=i.memoizedState,u.componentWillUnmount()}catch(w){We(i,n,w)}Cr(e,n,i);break;case 21:Cr(e,n,i);break;case 22:i.mode&1?(kt=(u=kt)||i.memoizedState!==null,Cr(e,n,i),kt=u):Cr(e,n,i);break;default:Cr(e,n,i)}}function sd(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Ag),n.forEach(function(u){var h=Og.bind(null,e,u);i.has(u)||(i.add(u),u.then(h,h))})}}function An(e,n){var i=n.deletions;if(i!==null)for(var u=0;u<i.length;u++){var h=i[u];try{var d=e,y=n,w=y;e:for(;w!==null;){switch(w.tag){case 5:Et=w.stateNode,In=!1;break e;case 3:Et=w.stateNode.containerInfo,In=!0;break e;case 4:Et=w.stateNode.containerInfo,In=!0;break e}w=w.return}if(Et===null)throw Error(r(160));id(d,y,h),Et=null,In=!1;var A=h.alternate;A!==null&&(A.return=null),h.return=null}catch(F){We(h,n,F)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)od(n,e),n=n.sibling}function od(e,n){var i=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(An(n,e),Fn(e),u&4){try{Io(3,e,e.return),Ql(3,e)}catch(ie){We(e,e.return,ie)}try{Io(5,e,e.return)}catch(ie){We(e,e.return,ie)}}break;case 1:An(n,e),Fn(e),u&512&&i!==null&&hs(i,i.return);break;case 5:if(An(n,e),Fn(e),u&512&&i!==null&&hs(i,i.return),e.flags&32){var h=e.stateNode;try{ur(h,"")}catch(ie){We(e,e.return,ie)}}if(u&4&&(h=e.stateNode,h!=null)){var d=e.memoizedProps,y=i!==null?i.memoizedProps:d,w=e.type,A=e.updateQueue;if(e.updateQueue=null,A!==null)try{w==="input"&&d.type==="radio"&&d.name!=null&&Ls(h,d),qs(w,y);var F=qs(w,d);for(y=0;y<A.length;y+=2){var q=A[y],b=A[y+1];q==="style"?Bs(h,b):q==="dangerouslySetInnerHTML"?Us(h,b):q==="children"?ur(h,b):_e(h,q,b,F)}switch(w){case"input":Os(h,d);break;case"textarea":Ri(h,d);break;case"select":var $=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!d.multiple;var Y=d.value;Y!=null?bn(h,!!d.multiple,Y,!1):$!==!!d.multiple&&(d.defaultValue!=null?bn(h,!!d.multiple,d.defaultValue,!0):bn(h,!!d.multiple,d.multiple?[]:"",!1))}h[fo]=d}catch(ie){We(e,e.return,ie)}}break;case 6:if(An(n,e),Fn(e),u&4){if(e.stateNode===null)throw Error(r(162));h=e.stateNode,d=e.memoizedProps;try{h.nodeValue=d}catch(ie){We(e,e.return,ie)}}break;case 3:if(An(n,e),Fn(e),u&4&&i!==null&&i.memoizedState.isDehydrated)try{vn(n.containerInfo)}catch(ie){We(e,e.return,ie)}break;case 4:An(n,e),Fn(e);break;case 13:An(n,e),Fn(e),h=e.child,h.flags&8192&&(d=h.memoizedState!==null,h.stateNode.isHidden=d,!d||h.alternate!==null&&h.alternate.memoizedState!==null||(ec=ze())),u&4&&sd(e);break;case 22:if(q=i!==null&&i.memoizedState!==null,e.mode&1?(kt=(F=kt)||q,An(n,e),kt=F):An(n,e),Fn(e),u&8192){if(F=e.memoizedState!==null,(e.stateNode.isHidden=F)&&!q&&e.mode&1)for(ne=e,q=e.child;q!==null;){for(b=ne=q;ne!==null;){switch($=ne,Y=$.child,$.tag){case 0:case 11:case 14:case 15:Io(4,$,$.return);break;case 1:hs($,$.return);var re=$.stateNode;if(typeof re.componentWillUnmount=="function"){u=$,i=$.return;try{n=u,re.props=n.memoizedProps,re.state=n.memoizedState,re.componentWillUnmount()}catch(ie){We(u,i,ie)}}break;case 5:hs($,$.return);break;case 22:if($.memoizedState!==null){ud(b);continue}}Y!==null?(Y.return=$,ne=Y):ud(b)}q=q.sibling}e:for(q=null,b=e;;){if(b.tag===5){if(q===null){q=b;try{h=b.stateNode,F?(d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(w=b.stateNode,A=b.memoizedProps.style,y=A!=null&&A.hasOwnProperty("display")?A.display:null,w.style.display=zs("display",y))}catch(ie){We(e,e.return,ie)}}}else if(b.tag===6){if(q===null)try{b.stateNode.nodeValue=F?"":b.memoizedProps}catch(ie){We(e,e.return,ie)}}else if((b.tag!==22&&b.tag!==23||b.memoizedState===null||b===e)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===e)break e;for(;b.sibling===null;){if(b.return===null||b.return===e)break e;q===b&&(q=null),b=b.return}q===b&&(q=null),b.sibling.return=b.return,b=b.sibling}}break;case 19:An(n,e),Fn(e),u&4&&sd(e);break;case 21:break;default:An(n,e),Fn(e)}}function Fn(e){var n=e.flags;if(n&2){try{e:{for(var i=e.return;i!==null;){if(nd(i)){var u=i;break e}i=i.return}throw Error(r(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(ur(h,""),u.flags&=-33);var d=rd(e);Yu(e,d,h);break;case 3:case 4:var y=u.stateNode.containerInfo,w=rd(e);Xu(e,w,y);break;default:throw Error(r(161))}}catch(A){We(e,e.return,A)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Rg(e,n,i){ne=e,ld(e)}function ld(e,n,i){for(var u=(e.mode&1)!==0;ne!==null;){var h=ne,d=h.child;if(h.tag===22&&u){var y=h.memoizedState!==null||Hl;if(!y){var w=h.alternate,A=w!==null&&w.memoizedState!==null||kt;w=Hl;var F=kt;if(Hl=y,(kt=A)&&!F)for(ne=h;ne!==null;)y=ne,A=y.child,y.tag===22&&y.memoizedState!==null?cd(h):A!==null?(A.return=y,ne=A):cd(h);for(;d!==null;)ne=d,ld(d),d=d.sibling;ne=h,Hl=w,kt=F}ad(e)}else h.subtreeFlags&8772&&d!==null?(d.return=h,ne=d):ad(e)}}function ad(e){for(;ne!==null;){var n=ne;if(n.flags&8772){var i=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:kt||Ql(5,n);break;case 1:var u=n.stateNode;if(n.flags&4&&!kt)if(i===null)u.componentDidMount();else{var h=n.elementType===n.type?i.memoizedProps:Sn(n.type,i.memoizedProps);u.componentDidUpdate(h,i.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&uf(n,d,u);break;case 3:var y=n.updateQueue;if(y!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}uf(n,y,i)}break;case 5:var w=n.stateNode;if(i===null&&n.flags&4){i=w;var A=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&i.focus();break;case"img":A.src&&(i.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var F=n.alternate;if(F!==null){var q=F.memoizedState;if(q!==null){var b=q.dehydrated;b!==null&&vn(b)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}kt||n.flags&512&&Gu(n)}catch($){We(n,n.return,$)}}if(n===e){ne=null;break}if(i=n.sibling,i!==null){i.return=n.return,ne=i;break}ne=n.return}}function ud(e){for(;ne!==null;){var n=ne;if(n===e){ne=null;break}var i=n.sibling;if(i!==null){i.return=n.return,ne=i;break}ne=n.return}}function cd(e){for(;ne!==null;){var n=ne;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{Ql(4,n)}catch(A){We(n,i,A)}break;case 1:var u=n.stateNode;if(typeof u.componentDidMount=="function"){var h=n.return;try{u.componentDidMount()}catch(A){We(n,h,A)}}var d=n.return;try{Gu(n)}catch(A){We(n,d,A)}break;case 5:var y=n.return;try{Gu(n)}catch(A){We(n,y,A)}}}catch(A){We(n,n.return,A)}if(n===e){ne=null;break}var w=n.sibling;if(w!==null){w.return=n.return,ne=w;break}ne=n.return}}var Pg=Math.ceil,Kl=ve.ReactCurrentDispatcher,Ju=ve.ReactCurrentOwner,cn=ve.ReactCurrentBatchConfig,ke=0,mt=null,rt=null,wt=0,en=0,fs=wr(0),ut=0,Ao=null,hi=0,Wl=0,Zu=0,Co=null,qt=null,ec=0,ds=1/0,sr=null,Gl=!1,tc=null,Rr=null,Xl=!1,Pr=null,Yl=0,Ro=0,nc=null,Jl=-1,Zl=0;function Mt(){return ke&6?ze():Jl!==-1?Jl:Jl=ze()}function kr(e){return e.mode&1?ke&2&&wt!==0?wt&-wt:hg.transition!==null?(Zl===0&&(Zl=Zr()),Zl):(e=Ee,e!==0||(e=window.event,e=e===void 0?16:eo(e.type)),e):1}function Cn(e,n,i,u){if(50<Ro)throw Ro=0,nc=null,Error(r(185));dr(e,i,u),(!(ke&2)||e!==mt)&&(e===mt&&(!(ke&2)&&(Wl|=i),ut===4&&Vr(e,wt)),bt(e,u),i===1&&ke===0&&!(n.mode&1)&&(ds=ze()+500,Rl&&Sr()))}function bt(e,n){var i=e.callbackNode;Kn(e,n);var u=Jr(e,e===mt?wt:0);if(u===0)i!==null&&Gs(i),e.callbackNode=null,e.callbackPriority=0;else if(n=u&-u,e.callbackPriority!==n){if(i!=null&&Gs(i),n===1)e.tag===0?cg(fd.bind(null,e)):Xh(fd.bind(null,e)),og(function(){!(ke&6)&&Sr()}),i=null;else{switch(mr(u)){case 1:i=Xr;break;case 4:i=cr;break;case 16:i=nn;break;case 536870912:i=Zo;break;default:i=nn}i=Ed(i,hd.bind(null,e))}e.callbackPriority=n,e.callbackNode=i}}function hd(e,n){if(Jl=-1,Zl=0,ke&6)throw Error(r(327));var i=e.callbackNode;if(ps()&&e.callbackNode!==i)return null;var u=Jr(e,e===mt?wt:0);if(u===0)return null;if(u&30||u&e.expiredLanes||n)n=ea(e,u);else{n=u;var h=ke;ke|=2;var d=pd();(mt!==e||wt!==n)&&(sr=null,ds=ze()+500,di(e,n));do try{Dg();break}catch(w){dd(e,w)}while(!0);Eu(),Kl.current=d,ke=h,rt!==null?n=0:(mt=null,wt=0,n=ut)}if(n!==0){if(n===2&&(h=Gt(e),h!==0&&(u=h,n=rc(e,h))),n===1)throw i=Ao,di(e,0),Vr(e,u),bt(e,ze()),i;if(n===6)Vr(e,u);else{if(h=e.current.alternate,!(u&30)&&!kg(h)&&(n=ea(e,u),n===2&&(d=Gt(e),d!==0&&(u=d,n=rc(e,d))),n===1))throw i=Ao,di(e,0),Vr(e,u),bt(e,ze()),i;switch(e.finishedWork=h,e.finishedLanes=u,n){case 0:case 1:throw Error(r(345));case 2:pi(e,qt,sr);break;case 3:if(Vr(e,u),(u&130023424)===u&&(n=ec+500-ze(),10<n)){if(Jr(e,0)!==0)break;if(h=e.suspendedLanes,(h&u)!==u){Mt(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=uu(pi.bind(null,e,qt,sr),n);break}pi(e,qt,sr);break;case 4:if(Vr(e,u),(u&4194240)===u)break;for(n=e.eventTimes,h=-1;0<u;){var y=31-xt(u);d=1<<y,y=n[y],y>h&&(h=y),u&=~d}if(u=h,u=ze()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Pg(u/1960))-u,10<u){e.timeoutHandle=uu(pi.bind(null,e,qt,sr),u);break}pi(e,qt,sr);break;case 5:pi(e,qt,sr);break;default:throw Error(r(329))}}}return bt(e,ze()),e.callbackNode===i?hd.bind(null,e):null}function rc(e,n){var i=Co;return e.current.memoizedState.isDehydrated&&(di(e,n).flags|=256),e=ea(e,n),e!==2&&(n=qt,qt=i,n!==null&&ic(n)),e}function ic(e){qt===null?qt=e:qt.push.apply(qt,e)}function kg(e){for(var n=e;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var u=0;u<i.length;u++){var h=i[u],d=h.getSnapshot;h=h.value;try{if(!wn(d(),h))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Vr(e,n){for(n&=~Zu,n&=~Wl,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var i=31-xt(n),u=1<<i;e[i]=-1,n&=~u}}function fd(e){if(ke&6)throw Error(r(327));ps();var n=Jr(e,0);if(!(n&1))return bt(e,ze()),null;var i=ea(e,n);if(e.tag!==0&&i===2){var u=Gt(e);u!==0&&(n=u,i=rc(e,u))}if(i===1)throw i=Ao,di(e,0),Vr(e,n),bt(e,ze()),i;if(i===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,pi(e,qt,sr),bt(e,ze()),null}function sc(e,n){var i=ke;ke|=1;try{return e(n)}finally{ke=i,ke===0&&(ds=ze()+500,Rl&&Sr())}}function fi(e){Pr!==null&&Pr.tag===0&&!(ke&6)&&ps();var n=ke;ke|=1;var i=cn.transition,u=Ee;try{if(cn.transition=null,Ee=1,e)return e()}finally{Ee=u,cn.transition=i,ke=n,!(ke&6)&&Sr()}}function oc(){en=fs.current,$e(fs)}function di(e,n){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,sg(i)),rt!==null)for(i=rt.return;i!==null;){var u=i;switch(mu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Al();break;case 3:us(),$e(Bt),$e(Ct),Pu();break;case 5:Cu(u);break;case 4:us();break;case 13:$e(He);break;case 19:$e(He);break;case 10:wu(u.type._context);break;case 22:case 23:oc()}i=i.return}if(mt=e,rt=e=Dr(e.current,null),wt=en=n,ut=0,Ao=null,Zu=Wl=hi=0,qt=Co=null,ai!==null){for(n=0;n<ai.length;n++)if(i=ai[n],u=i.interleaved,u!==null){i.interleaved=null;var h=u.next,d=i.pending;if(d!==null){var y=d.next;d.next=h,u.next=y}i.pending=u}ai=null}return e}function dd(e,n){do{var i=rt;try{if(Eu(),Fl.current=jl,Ul){for(var u=Qe.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}Ul=!1}if(ci=0,pt=at=Qe=null,vo=!1,Eo=0,Ju.current=null,i===null||i.return===null){ut=1,Ao=n,rt=null;break}e:{var d=e,y=i.return,w=i,A=n;if(n=wt,w.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var F=A,q=w,b=q.tag;if(!(q.mode&1)&&(b===0||b===11||b===15)){var $=q.alternate;$?(q.updateQueue=$.updateQueue,q.memoizedState=$.memoizedState,q.lanes=$.lanes):(q.updateQueue=null,q.memoizedState=null)}var Y=Uf(y);if(Y!==null){Y.flags&=-257,zf(Y,y,w,d,n),Y.mode&1&&Ff(d,F,n),n=Y,A=F;var re=n.updateQueue;if(re===null){var ie=new Set;ie.add(A),n.updateQueue=ie}else re.add(A);break e}else{if(!(n&1)){Ff(d,F,n),lc();break e}A=Error(r(426))}}else if(be&&w.mode&1){var Ze=Uf(y);if(Ze!==null){!(Ze.flags&65536)&&(Ze.flags|=256),zf(Ze,y,w,d,n),_u(cs(A,w));break e}}d=A=cs(A,w),ut!==4&&(ut=2),Co===null?Co=[d]:Co.push(d),d=y;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var L=Of(d,A,n);af(d,L);break e;case 1:w=A;var R=d.type,O=d.stateNode;if(!(d.flags&128)&&(typeof R.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Rr===null||!Rr.has(O)))){d.flags|=65536,n&=-n,d.lanes|=n;var Q=Mf(d,w,n);af(d,Q);break e}}d=d.return}while(d!==null)}gd(i)}catch(se){n=se,rt===i&&i!==null&&(rt=i=i.return);continue}break}while(!0)}function pd(){var e=Kl.current;return Kl.current=jl,e===null?jl:e}function lc(){(ut===0||ut===3||ut===2)&&(ut=4),mt===null||!(hi&268435455)&&!(Wl&268435455)||Vr(mt,wt)}function ea(e,n){var i=ke;ke|=2;var u=pd();(mt!==e||wt!==n)&&(sr=null,di(e,n));do try{Vg();break}catch(h){dd(e,h)}while(!0);if(Eu(),ke=i,Kl.current=u,rt!==null)throw Error(r(261));return mt=null,wt=0,ut}function Vg(){for(;rt!==null;)md(rt)}function Dg(){for(;rt!==null&&!Yo();)md(rt)}function md(e){var n=vd(e.alternate,e,en);e.memoizedProps=e.pendingProps,n===null?gd(e):rt=n,Ju.current=null}function gd(e){var n=e;do{var i=n.alternate;if(e=n.return,n.flags&32768){if(i=Ig(i,n),i!==null){i.flags&=32767,rt=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ut=6,rt=null;return}}else if(i=Sg(i,n,en),i!==null){rt=i;return}if(n=n.sibling,n!==null){rt=n;return}rt=n=e}while(n!==null);ut===0&&(ut=5)}function pi(e,n,i){var u=Ee,h=cn.transition;try{cn.transition=null,Ee=1,Ng(e,n,i,u)}finally{cn.transition=h,Ee=u}return null}function Ng(e,n,i,u){do ps();while(Pr!==null);if(ke&6)throw Error(r(327));i=e.finishedWork;var h=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var d=i.lanes|i.childLanes;if(Fe(e,d),e===mt&&(rt=mt=null,wt=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||Xl||(Xl=!0,Ed(nn,function(){return ps(),null})),d=(i.flags&15990)!==0,i.subtreeFlags&15990||d){d=cn.transition,cn.transition=null;var y=Ee;Ee=1;var w=ke;ke|=4,Ju.current=null,Cg(e,i),od(i,e),Jm(lu),yr=!!ou,lu=ou=null,e.current=i,Rg(i),ba(),ke=w,Ee=y,cn.transition=d}else e.current=i;if(Xl&&(Xl=!1,Pr=e,Yl=h),d=e.pendingLanes,d===0&&(Rr=null),el(i.stateNode),bt(e,ze()),n!==null)for(u=e.onRecoverableError,i=0;i<n.length;i++)h=n[i],u(h.value,{componentStack:h.stack,digest:h.digest});if(Gl)throw Gl=!1,e=tc,tc=null,e;return Yl&1&&e.tag!==0&&ps(),d=e.pendingLanes,d&1?e===nc?Ro++:(Ro=0,nc=e):Ro=0,Sr(),null}function ps(){if(Pr!==null){var e=mr(Yl),n=cn.transition,i=Ee;try{if(cn.transition=null,Ee=16>e?16:e,Pr===null)var u=!1;else{if(e=Pr,Pr=null,Yl=0,ke&6)throw Error(r(331));var h=ke;for(ke|=4,ne=e.current;ne!==null;){var d=ne,y=d.child;if(ne.flags&16){var w=d.deletions;if(w!==null){for(var A=0;A<w.length;A++){var F=w[A];for(ne=F;ne!==null;){var q=ne;switch(q.tag){case 0:case 11:case 15:Io(8,q,d)}var b=q.child;if(b!==null)b.return=q,ne=b;else for(;ne!==null;){q=ne;var $=q.sibling,Y=q.return;if(td(q),q===F){ne=null;break}if($!==null){$.return=Y,ne=$;break}ne=Y}}}var re=d.alternate;if(re!==null){var ie=re.child;if(ie!==null){re.child=null;do{var Ze=ie.sibling;ie.sibling=null,ie=Ze}while(ie!==null)}}ne=d}}if(d.subtreeFlags&2064&&y!==null)y.return=d,ne=y;else e:for(;ne!==null;){if(d=ne,d.flags&2048)switch(d.tag){case 0:case 11:case 15:Io(9,d,d.return)}var L=d.sibling;if(L!==null){L.return=d.return,ne=L;break e}ne=d.return}}var R=e.current;for(ne=R;ne!==null;){y=ne;var O=y.child;if(y.subtreeFlags&2064&&O!==null)O.return=y,ne=O;else e:for(y=R;ne!==null;){if(w=ne,w.flags&2048)try{switch(w.tag){case 0:case 11:case 15:Ql(9,w)}}catch(se){We(w,w.return,se)}if(w===y){ne=null;break e}var Q=w.sibling;if(Q!==null){Q.return=w.return,ne=Q;break e}ne=w.return}}if(ke=h,Sr(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(Yr,e)}catch{}u=!0}return u}finally{Ee=i,cn.transition=n}}return!1}function yd(e,n,i){n=cs(i,n),n=Of(e,n,1),e=Ar(e,n,1),n=Mt(),e!==null&&(dr(e,1,n),bt(e,n))}function We(e,n,i){if(e.tag===3)yd(e,e,i);else for(;n!==null;){if(n.tag===3){yd(n,e,i);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Rr===null||!Rr.has(u))){e=cs(i,e),e=Mf(n,e,1),n=Ar(n,e,1),e=Mt(),n!==null&&(dr(n,1,e),bt(n,e));break}}n=n.return}}function xg(e,n,i){var u=e.pingCache;u!==null&&u.delete(n),n=Mt(),e.pingedLanes|=e.suspendedLanes&i,mt===e&&(wt&i)===i&&(ut===4||ut===3&&(wt&130023424)===wt&&500>ze()-ec?di(e,0):Zu|=i),bt(e,n)}function _d(e,n){n===0&&(e.mode&1?(n=Fi,Fi<<=1,!(Fi&130023424)&&(Fi=4194304)):n=1);var i=Mt();e=nr(e,n),e!==null&&(dr(e,n,i),bt(e,i))}function Lg(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),_d(e,i)}function Og(e,n){var i=0;switch(e.tag){case 13:var u=e.stateNode,h=e.memoizedState;h!==null&&(i=h.retryLane);break;case 19:u=e.stateNode;break;default:throw Error(r(314))}u!==null&&u.delete(n),_d(e,i)}var vd;vd=function(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps||Bt.current)$t=!0;else{if(!(e.lanes&i)&&!(n.flags&128))return $t=!1,Tg(e,n,i);$t=!!(e.flags&131072)}else $t=!1,be&&n.flags&1048576&&Yh(n,kl,n.index);switch(n.lanes=0,n.tag){case 2:var u=n.type;bl(e,n),e=n.pendingProps;var h=ns(n,Ct.current);as(n,i),h=Du(null,n,u,e,h,i);var d=Nu();return n.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,jt(u)?(d=!0,Cl(n)):d=!1,n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Iu(n),h.updater=$l,n.stateNode=h,h._reactInternals=n,Uu(n,u,e,i),n=$u(null,n,u,!0,d,i)):(n.tag=0,be&&d&&pu(n),Ot(null,n,h,i),n=n.child),n;case 16:u=n.elementType;e:{switch(bl(e,n),e=n.pendingProps,h=u._init,u=h(u._payload),n.type=u,h=n.tag=Fg(u),e=Sn(u,e),h){case 0:n=ju(null,n,u,e,i);break e;case 1:n=Hf(null,n,u,e,i);break e;case 11:n=Bf(null,n,u,e,i);break e;case 14:n=jf(null,n,u,Sn(u.type,e),i);break e}throw Error(r(306,u,""))}return n;case 0:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:Sn(u,h),ju(e,n,u,h,i);case 1:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:Sn(u,h),Hf(e,n,u,h,i);case 3:e:{if(Qf(n),e===null)throw Error(r(387));u=n.pendingProps,d=n.memoizedState,h=d.element,lf(e,n),Ol(n,u,null,i);var y=n.memoizedState;if(u=y.element,d.isDehydrated)if(d={element:u,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){h=cs(Error(r(423)),n),n=Kf(e,n,u,i,h);break e}else if(u!==h){h=cs(Error(r(424)),n),n=Kf(e,n,u,i,h);break e}else for(Zt=Er(n.stateNode.containerInfo.firstChild),Jt=n,be=!0,Tn=null,i=sf(n,null,u,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(ss(),u===h){n=ir(e,n,i);break e}Ot(e,n,u,i)}n=n.child}return n;case 5:return cf(n),e===null&&yu(n),u=n.type,h=n.pendingProps,d=e!==null?e.memoizedProps:null,y=h.children,au(u,h)?y=null:d!==null&&au(u,d)&&(n.flags|=32),bf(e,n),Ot(e,n,y,i),n.child;case 6:return e===null&&yu(n),null;case 13:return Wf(e,n,i);case 4:return Au(n,n.stateNode.containerInfo),u=n.pendingProps,e===null?n.child=os(n,null,u,i):Ot(e,n,u,i),n.child;case 11:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:Sn(u,h),Bf(e,n,u,h,i);case 7:return Ot(e,n,n.pendingProps,i),n.child;case 8:return Ot(e,n,n.pendingProps.children,i),n.child;case 12:return Ot(e,n,n.pendingProps.children,i),n.child;case 10:e:{if(u=n.type._context,h=n.pendingProps,d=n.memoizedProps,y=h.value,Be(Nl,u._currentValue),u._currentValue=y,d!==null)if(wn(d.value,y)){if(d.children===h.children&&!Bt.current){n=ir(e,n,i);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var w=d.dependencies;if(w!==null){y=d.child;for(var A=w.firstContext;A!==null;){if(A.context===u){if(d.tag===1){A=rr(-1,i&-i),A.tag=2;var F=d.updateQueue;if(F!==null){F=F.shared;var q=F.pending;q===null?A.next=A:(A.next=q.next,q.next=A),F.pending=A}}d.lanes|=i,A=d.alternate,A!==null&&(A.lanes|=i),Tu(d.return,i,n),w.lanes|=i;break}A=A.next}}else if(d.tag===10)y=d.type===n.type?null:d.child;else if(d.tag===18){if(y=d.return,y===null)throw Error(r(341));y.lanes|=i,w=y.alternate,w!==null&&(w.lanes|=i),Tu(y,i,n),y=d.sibling}else y=d.child;if(y!==null)y.return=d;else for(y=d;y!==null;){if(y===n){y=null;break}if(d=y.sibling,d!==null){d.return=y.return,y=d;break}y=y.return}d=y}Ot(e,n,h.children,i),n=n.child}return n;case 9:return h=n.type,u=n.pendingProps.children,as(n,i),h=an(h),u=u(h),n.flags|=1,Ot(e,n,u,i),n.child;case 14:return u=n.type,h=Sn(u,n.pendingProps),h=Sn(u.type,h),jf(e,n,u,h,i);case 15:return $f(e,n,n.type,n.pendingProps,i);case 17:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:Sn(u,h),bl(e,n),n.tag=1,jt(u)?(e=!0,Cl(n)):e=!1,as(n,i),xf(n,u,h),Uu(n,u,h,i),$u(null,n,u,!0,e,i);case 19:return Xf(e,n,i);case 22:return qf(e,n,i)}throw Error(r(156,n.tag))};function Ed(e,n){return Oi(e,n)}function Mg(e,n,i,u){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(e,n,i,u){return new Mg(e,n,i,u)}function ac(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fg(e){if(typeof e=="function")return ac(e)?1:0;if(e!=null){if(e=e.$$typeof,e===N)return 11;if(e===It)return 14}return 2}function Dr(e,n){var i=e.alternate;return i===null?(i=hn(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function ta(e,n,i,u,h,d){var y=2;if(u=e,typeof e=="function")ac(e)&&(y=1);else if(typeof e=="string")y=5;else e:switch(e){case k:return mi(i.children,h,d,n);case T:y=8,h|=8;break;case I:return e=hn(12,i,n,h|2),e.elementType=I,e.lanes=d,e;case S:return e=hn(13,i,n,h),e.elementType=S,e.lanes=d,e;case Ye:return e=hn(19,i,n,h),e.elementType=Ye,e.lanes=d,e;case Me:return na(i,h,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case P:y=10;break e;case V:y=9;break e;case N:y=11;break e;case It:y=14;break e;case At:y=16,u=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return n=hn(y,i,n,h),n.elementType=e,n.type=u,n.lanes=d,n}function mi(e,n,i,u){return e=hn(7,e,u,n),e.lanes=i,e}function na(e,n,i,u){return e=hn(22,e,u,n),e.elementType=Me,e.lanes=i,e.stateNode={isHidden:!1},e}function uc(e,n,i){return e=hn(6,e,null,n),e.lanes=i,e}function cc(e,n,i){return n=hn(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Ug(e,n,i,u,h){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fr(0),this.expirationTimes=fr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fr(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function hc(e,n,i,u,h,d,y,w,A){return e=new Ug(e,n,i,w,A),n===1?(n=1,d===!0&&(n|=8)):n=0,d=hn(3,null,null,n),e.current=d,d.stateNode=e,d.memoizedState={element:u,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Iu(d),e}function zg(e,n,i){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pe,key:u==null?null:""+u,children:e,containerInfo:n,implementation:i}}function wd(e){if(!e)return Tr;e=e._reactInternals;e:{if(pn(e)!==e||e.tag!==1)throw Error(r(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(jt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(e.tag===1){var i=e.type;if(jt(i))return Wh(e,i,n)}return n}function Td(e,n,i,u,h,d,y,w,A){return e=hc(i,u,!0,e,h,d,y,w,A),e.context=wd(null),i=e.current,u=Mt(),h=kr(i),d=rr(u,h),d.callback=n??null,Ar(i,d,h),e.current.lanes=h,dr(e,h,u),bt(e,u),e}function ra(e,n,i,u){var h=n.current,d=Mt(),y=kr(h);return i=wd(i),n.context===null?n.context=i:n.pendingContext=i,n=rr(d,y),n.payload={element:e},u=u===void 0?null:u,u!==null&&(n.callback=u),e=Ar(h,n,y),e!==null&&(Cn(e,h,y,d),Ll(e,h,y)),y}function ia(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sd(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function fc(e,n){Sd(e,n),(e=e.alternate)&&Sd(e,n)}var Id=typeof reportError=="function"?reportError:function(e){console.error(e)};function dc(e){this._internalRoot=e}sa.prototype.render=dc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));ra(e,n,null,null)},sa.prototype.unmount=dc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;fi(function(){ra(null,e,null,null)}),n[Jn]=null}};function sa(e){this._internalRoot=e}sa.prototype.unstable_scheduleHydration=function(e){if(e){var n=sl();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Vn.length&&n!==0&&n<Vn[i].priority;i++);Vn.splice(i,0,e),i===0&&al(e)}};function pc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function oa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ad(){}function Bg(e,n,i,u,h){if(h){if(typeof u=="function"){var d=u;u=function(){var F=ia(y);d.call(F)}}var y=Td(n,u,e,0,null,!1,!1,"",Ad);return e._reactRootContainer=y,e[Jn]=y.current,co(e.nodeType===8?e.parentNode:e),fi(),y}for(;h=e.lastChild;)e.removeChild(h);if(typeof u=="function"){var w=u;u=function(){var F=ia(A);w.call(F)}}var A=hc(e,0,!1,null,null,!1,!1,"",Ad);return e._reactRootContainer=A,e[Jn]=A.current,co(e.nodeType===8?e.parentNode:e),fi(function(){ra(n,A,i,u)}),A}function la(e,n,i,u,h){var d=i._reactRootContainer;if(d){var y=d;if(typeof h=="function"){var w=h;h=function(){var A=ia(y);w.call(A)}}ra(n,y,e,h)}else y=Bg(i,n,e,h,u);return ia(y)}rl=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var i=hr(n.pendingLanes);i!==0&&(pr(n,i|1),bt(n,ze()),!(ke&6)&&(ds=ze()+500,Sr()))}break;case 13:fi(function(){var u=nr(e,1);if(u!==null){var h=Mt();Cn(u,e,1,h)}}),fc(e,1)}},Ui=function(e){if(e.tag===13){var n=nr(e,134217728);if(n!==null){var i=Mt();Cn(n,e,134217728,i)}fc(e,134217728)}},il=function(e){if(e.tag===13){var n=kr(e),i=nr(e,n);if(i!==null){var u=Mt();Cn(i,e,n,u)}fc(e,n)}},sl=function(){return Ee},ol=function(e,n){var i=Ee;try{return Ee=e,n()}finally{Ee=i}},ki=function(e,n,i){switch(n){case"input":if(Os(e,i),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var u=i[n];if(u!==e&&u.form===e.form){var h=Il(u);if(!h)throw Error(r(90));Si(u),Os(u,h)}}}break;case"textarea":Ri(e,i);break;case"select":n=i.value,n!=null&&bn(e,!!i.multiple,n,!1)}},Qr=sc,Hs=fi;var jg={usingClientEntryPoint:!1,Events:[po,es,Il,Pn,bs,sc]},Po={findFiberByHostInstance:ii,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$g={bundleType:Po.bundleType,version:Po.version,rendererPackageName:Po.rendererPackageName,rendererConfig:Po.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ve.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ws(e),e===null?null:e.stateNode},findFiberByHostInstance:Po.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var aa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!aa.isDisabled&&aa.supportsFiber)try{Yr=aa.inject($g),Wt=aa}catch{}}return Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jg,Ht.createPortal=function(e,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pc(n))throw Error(r(200));return zg(e,n,null,i)},Ht.createRoot=function(e,n){if(!pc(e))throw Error(r(299));var i=!1,u="",h=Id;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),n=hc(e,1,!1,null,null,i,!1,u,h),e[Jn]=n.current,co(e.nodeType===8?e.parentNode:e),new dc(n)},Ht.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=Ws(n),e=e===null?null:e.stateNode,e},Ht.flushSync=function(e){return fi(e)},Ht.hydrate=function(e,n,i){if(!oa(n))throw Error(r(200));return la(null,e,n,!0,i)},Ht.hydrateRoot=function(e,n,i){if(!pc(e))throw Error(r(405));var u=i!=null&&i.hydratedSources||null,h=!1,d="",y=Id;if(i!=null&&(i.unstable_strictMode===!0&&(h=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),n=Td(n,null,e,1,i??null,h,!1,d,y),e[Jn]=n.current,co(e),u)for(e=0;e<u.length;e++)i=u[e],h=i._getVersion,h=h(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,h]:n.mutableSourceEagerHydrationData.push(i,h);return new sa(n)},Ht.render=function(e,n,i){if(!oa(n))throw Error(r(200));return la(null,e,n,!1,i)},Ht.unmountComponentAtNode=function(e){if(!oa(e))throw Error(r(40));return e._reactRootContainer?(fi(function(){la(null,null,e,!1,function(){e._reactRootContainer=null,e[Jn]=null})}),!0):!1},Ht.unstable_batchedUpdates=sc,Ht.unstable_renderSubtreeIntoContainer=function(e,n,i,u){if(!oa(i))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return la(e,n,i,!1,u)},Ht.version="18.3.1-next-f1338f8080-20240426",Ht}var xd;function Xg(){if(xd)return yc.exports;xd=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),yc.exports=Gg(),yc.exports}var Ld;function Yg(){if(Ld)return ua;Ld=1;var s=Xg();return ua.createRoot=s.createRoot,ua.hydrateRoot=s.hydrateRoot,ua}var Jg=Yg(),Od={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np=function(s){const t=[];let r=0;for(let o=0;o<s.length;o++){let a=s.charCodeAt(o);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&o+1<s.length&&(s.charCodeAt(o+1)&64512)===56320?(a=65536+((a&1023)<<10)+(s.charCodeAt(++o)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},Zg=function(s){const t=[];let r=0,o=0;for(;r<s.length;){const a=s[r++];if(a<128)t[o++]=String.fromCharCode(a);else if(a>191&&a<224){const c=s[r++];t[o++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=s[r++],p=s[r++],g=s[r++],_=((a&7)<<18|(c&63)<<12|(p&63)<<6|g&63)-65536;t[o++]=String.fromCharCode(55296+(_>>10)),t[o++]=String.fromCharCode(56320+(_&1023))}else{const c=s[r++],p=s[r++];t[o++]=String.fromCharCode((a&15)<<12|(c&63)<<6|p&63)}}return t.join("")},xp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let a=0;a<s.length;a+=3){const c=s[a],p=a+1<s.length,g=p?s[a+1]:0,_=a+2<s.length,E=_?s[a+2]:0,C=c>>2,M=(c&3)<<4|g>>4;let z=(g&15)<<2|E>>6,H=E&63;_||(H=64,p||(z=64)),o.push(r[C],r[M],r[z],r[H])}return o.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Np(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):Zg(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let a=0;a<s.length;){const c=r[s.charAt(a++)],g=a<s.length?r[s.charAt(a)]:0;++a;const E=a<s.length?r[s.charAt(a)]:64;++a;const M=a<s.length?r[s.charAt(a)]:64;if(++a,c==null||g==null||E==null||M==null)throw new ey;const z=c<<2|g>>4;if(o.push(z),E!==64){const H=g<<4&240|E>>2;if(o.push(H),M!==64){const te=E<<6&192|M;o.push(te)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class ey extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ty=function(s){const t=Np(s);return xp.encodeByteArray(t,!0)},wa=function(s){return ty(s).replace(/\./g,"")},ny=function(s){try{return xp.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy=()=>ry().__FIREBASE_DEFAULTS__,sy=()=>{if(typeof process>"u"||typeof Od>"u")return;const s=Od.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},oy=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&ny(s[1]);return t&&JSON.parse(t)},Jc=()=>{try{return iy()||sy()||oy()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},ly=s=>{var t,r;return(r=(t=Jc())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[s]},ay=s=>{const t=ly(s);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),o]:[t.substring(0,r),o]},Lp=()=>{var s;return(s=Jc())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=t||"demo-project",a=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[wa(JSON.stringify(r)),wa(JSON.stringify(p)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fy(){var s;const t=(s=Jc())===null||s===void 0?void 0:s.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dy(){return!fy()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function py(){try{return typeof indexedDB=="object"}catch{return!1}}function my(){return new Promise((s,t)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(o);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(o),s(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var c;t(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="FirebaseError";class ks extends Error{constructor(t,r,o){super(r),this.code=t,this.customData=o,this.name=gy,Object.setPrototypeOf(this,ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Op.prototype.create)}}class Op{constructor(t,r,o){this.service=t,this.serviceName=r,this.errors=o}create(t,...r){const o=r[0]||{},a=`${this.service}/${t}`,c=this.errors[t],p=c?yy(c,o):"Error",g=`${this.serviceName}: ${p} (${a}).`;return new ks(a,g,o)}}function yy(s,t){return s.replace(_y,(r,o)=>{const a=t[o];return a!=null?String(a):`<${o}?>`})}const _y=/\{\$([^}]+)}/g;function kc(s,t){if(s===t)return!0;const r=Object.keys(s),o=Object.keys(t);for(const a of r){if(!o.includes(a))return!1;const c=s[a],p=t[a];if(Md(c)&&Md(p)){if(!kc(c,p))return!1}else if(c!==p)return!1}for(const a of o)if(!r.includes(a))return!1;return!0}function Md(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(s){return s&&s._delegate?s._delegate:s}class Uo{constructor(t,r,o){this.name=t,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const o=new uy;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&o.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const o=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Ty(t))try{this.getOrInitializeService({instanceIdentifier:gi})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:a});o.resolve(c)}catch{}}}}clearInstance(t=gi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=gi){return this.instances.has(t)}getOptions(t=gi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[c,p]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);o===g&&p.resolve(a)}return a}onInit(t,r){var o;const a=this.normalizeInstanceIdentifier(r),c=(o=this.onInitCallbacks.get(a))!==null&&o!==void 0?o:new Set;c.add(t),this.onInitCallbacks.set(a,c);const p=this.instances.get(a);return p&&t(p,a),()=>{c.delete(t)}}invokeOnInitCallbacks(t,r){const o=this.onInitCallbacks.get(r);if(o)for(const a of o)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:wy(t),options:r}),this.instances.set(t,o),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=gi){return this.component?this.component.multipleInstances?t:gi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wy(s){return s===gi?void 0:s}function Ty(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new Ey(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ie||(Ie={}));const Iy={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},Ay=Ie.INFO,Cy={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},Ry=(s,t,...r)=>{if(t<s.logLevel)return;const o=new Date().toISOString(),a=Cy[t];if(a)console[a](`[${o}]  ${s.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Mp{constructor(t){this.name=t,this._logLevel=Ay,this._logHandler=Ry,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ie))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Iy[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...t),this._logHandler(this,Ie.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...t),this._logHandler(this,Ie.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...t),this._logHandler(this,Ie.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...t),this._logHandler(this,Ie.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...t),this._logHandler(this,Ie.ERROR,...t)}}const Py=(s,t)=>t.some(r=>s instanceof r);let Fd,Ud;function ky(){return Fd||(Fd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Vy(){return Ud||(Ud=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fp=new WeakMap,Vc=new WeakMap,Up=new WeakMap,Ec=new WeakMap,Zc=new WeakMap;function Dy(s){const t=new Promise((r,o)=>{const a=()=>{s.removeEventListener("success",c),s.removeEventListener("error",p)},c=()=>{r(Or(s.result)),a()},p=()=>{o(s.error),a()};s.addEventListener("success",c),s.addEventListener("error",p)});return t.then(r=>{r instanceof IDBCursor&&Fp.set(r,s)}).catch(()=>{}),Zc.set(t,s),t}function Ny(s){if(Vc.has(s))return;const t=new Promise((r,o)=>{const a=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",p),s.removeEventListener("abort",p)},c=()=>{r(),a()},p=()=>{o(s.error||new DOMException("AbortError","AbortError")),a()};s.addEventListener("complete",c),s.addEventListener("error",p),s.addEventListener("abort",p)});Vc.set(s,t)}let Dc={get(s,t,r){if(s instanceof IDBTransaction){if(t==="done")return Vc.get(s);if(t==="objectStoreNames")return s.objectStoreNames||Up.get(s);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Or(s[t])},set(s,t,r){return s[t]=r,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function xy(s){Dc=s(Dc)}function Ly(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const o=s.call(wc(this),t,...r);return Up.set(o,t.sort?t.sort():[t]),Or(o)}:Vy().includes(s)?function(...t){return s.apply(wc(this),t),Or(Fp.get(this))}:function(...t){return Or(s.apply(wc(this),t))}}function Oy(s){return typeof s=="function"?Ly(s):(s instanceof IDBTransaction&&Ny(s),Py(s,ky())?new Proxy(s,Dc):s)}function Or(s){if(s instanceof IDBRequest)return Dy(s);if(Ec.has(s))return Ec.get(s);const t=Oy(s);return t!==s&&(Ec.set(s,t),Zc.set(t,s)),t}const wc=s=>Zc.get(s);function My(s,t,{blocked:r,upgrade:o,blocking:a,terminated:c}={}){const p=indexedDB.open(s,t),g=Or(p);return o&&p.addEventListener("upgradeneeded",_=>{o(Or(p.result),_.oldVersion,_.newVersion,Or(p.transaction),_)}),r&&p.addEventListener("blocked",_=>r(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),a&&_.addEventListener("versionchange",E=>a(E.oldVersion,E.newVersion,E))}).catch(()=>{}),g}const Fy=["get","getKey","getAll","getAllKeys","count"],Uy=["put","add","delete","clear"],Tc=new Map;function zd(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Tc.get(t))return Tc.get(t);const r=t.replace(/FromIndex$/,""),o=t!==r,a=Uy.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(a||Fy.includes(r)))return;const c=async function(p,...g){const _=this.transaction(p,a?"readwrite":"readonly");let E=_.store;return o&&(E=E.index(g.shift())),(await Promise.all([E[r](...g),a&&_.done]))[0]};return Tc.set(t,c),c}xy(s=>({...s,get:(t,r,o)=>zd(t,r)||s.get(t,r,o),has:(t,r)=>!!zd(t,r)||s.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(By(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function By(s){const t=s.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Nc="@firebase/app",Bd="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=new Mp("@firebase/app"),jy="@firebase/app-compat",$y="@firebase/analytics-compat",qy="@firebase/analytics",by="@firebase/app-check-compat",Hy="@firebase/app-check",Qy="@firebase/auth",Ky="@firebase/auth-compat",Wy="@firebase/database",Gy="@firebase/data-connect",Xy="@firebase/database-compat",Yy="@firebase/functions",Jy="@firebase/functions-compat",Zy="@firebase/installations",e_="@firebase/installations-compat",t_="@firebase/messaging",n_="@firebase/messaging-compat",r_="@firebase/performance",i_="@firebase/performance-compat",s_="@firebase/remote-config",o_="@firebase/remote-config-compat",l_="@firebase/storage",a_="@firebase/storage-compat",u_="@firebase/firestore",c_="@firebase/vertexai",h_="@firebase/firestore-compat",f_="firebase",d_="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc="[DEFAULT]",p_={[Nc]:"fire-core",[jy]:"fire-core-compat",[qy]:"fire-analytics",[$y]:"fire-analytics-compat",[Hy]:"fire-app-check",[by]:"fire-app-check-compat",[Qy]:"fire-auth",[Ky]:"fire-auth-compat",[Wy]:"fire-rtdb",[Gy]:"fire-data-connect",[Xy]:"fire-rtdb-compat",[Yy]:"fire-fn",[Jy]:"fire-fn-compat",[Zy]:"fire-iid",[e_]:"fire-iid-compat",[t_]:"fire-fcm",[n_]:"fire-fcm-compat",[r_]:"fire-perf",[i_]:"fire-perf-compat",[s_]:"fire-rc",[o_]:"fire-rc-compat",[l_]:"fire-gcs",[a_]:"fire-gcs-compat",[u_]:"fire-fst",[h_]:"fire-fst-compat",[c_]:"fire-vertex","fire-js":"fire-js",[f_]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=new Map,m_=new Map,Lc=new Map;function jd(s,t){try{s.container.addComponent(t)}catch(r){or.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,r)}}function Sa(s){const t=s.name;if(Lc.has(t))return or.debug(`There were multiple attempts to register component ${t}.`),!1;Lc.set(t,s);for(const r of Ta.values())jd(r,s);for(const r of m_.values())jd(r,s);return!0}function g_(s,t){const r=s.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),s.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mr=new Op("app","Firebase",y_);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(t,r,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Uo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Mr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_=d_;function zp(s,t={}){let r=s;typeof t!="object"&&(t={name:t});const o=Object.assign({name:xc,automaticDataCollectionEnabled:!1},t),a=o.name;if(typeof a!="string"||!a)throw Mr.create("bad-app-name",{appName:String(a)});if(r||(r=Lp()),!r)throw Mr.create("no-options");const c=Ta.get(a);if(c){if(kc(r,c.options)&&kc(o,c.config))return c;throw Mr.create("duplicate-app",{appName:a})}const p=new Sy(a);for(const _ of Lc.values())p.addComponent(_);const g=new __(r,o,p);return Ta.set(a,g),g}function E_(s=xc){const t=Ta.get(s);if(!t&&s===xc&&Lp())return zp();if(!t)throw Mr.create("no-app",{appName:s});return t}function vs(s,t,r){var o;let a=(o=p_[s])!==null&&o!==void 0?o:s;r&&(a+=`-${r}`);const c=a.match(/\s|\//),p=t.match(/\s|\//);if(c||p){const g=[`Unable to register library "${a}" with version "${t}":`];c&&g.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&p&&g.push("and"),p&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),or.warn(g.join(" "));return}Sa(new Uo(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="firebase-heartbeat-database",T_=1,zo="firebase-heartbeat-store";let Sc=null;function Bp(){return Sc||(Sc=My(w_,T_,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(zo)}catch(r){console.warn(r)}}}}).catch(s=>{throw Mr.create("idb-open",{originalErrorMessage:s.message})})),Sc}async function S_(s){try{const r=(await Bp()).transaction(zo),o=await r.objectStore(zo).get(jp(s));return await r.done,o}catch(t){if(t instanceof ks)or.warn(t.message);else{const r=Mr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});or.warn(r.message)}}}async function $d(s,t){try{const o=(await Bp()).transaction(zo,"readwrite");await o.objectStore(zo).put(t,jp(s)),await o.done}catch(r){if(r instanceof ks)or.warn(r.message);else{const o=Mr.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});or.warn(o.message)}}}function jp(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=1024,A_=30*24*60*60*1e3;class C_{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new P_(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=qd();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(p=>p.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(p=>{const g=new Date(p.date).valueOf();return Date.now()-g<=A_}),this._storage.overwrite(this._heartbeatsCache))}catch(o){or.warn(o)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=qd(),{heartbeatsToSend:o,unsentEntries:a}=R_(this._heartbeatsCache.heartbeats),c=wa(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(r){return or.warn(r),""}}}function qd(){return new Date().toISOString().substring(0,10)}function R_(s,t=I_){const r=[];let o=s.slice();for(const a of s){const c=r.find(p=>p.agent===a.agent);if(c){if(c.dates.push(a.date),bd(r)>t){c.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),bd(r)>t){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class P_{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return py()?my().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await S_(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return $d(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return $d(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function bd(s){return wa(JSON.stringify({version:2,heartbeats:s})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(s){Sa(new Uo("platform-logger",t=>new zy(t),"PRIVATE")),Sa(new Uo("heartbeat",t=>new C_(t),"PRIVATE")),vs(Nc,Bd,s),vs(Nc,Bd,"esm2017"),vs("fire-js","")}k_("");var Hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _i,$p;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(k,T){function I(){}I.prototype=T.prototype,k.D=T.prototype,k.prototype=new I,k.prototype.constructor=k,k.C=function(P,V,N){for(var S=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)S[Ye-2]=arguments[Ye];return T.prototype[V].apply(P,S)}}function r(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(o,r),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,T,I){I||(I=0);var P=Array(16);if(typeof T=="string")for(var V=0;16>V;++V)P[V]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(V=0;16>V;++V)P[V]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=k.g[0],I=k.g[1],V=k.g[2];var N=k.g[3],S=T+(N^I&(V^N))+P[0]+3614090360&4294967295;T=I+(S<<7&4294967295|S>>>25),S=N+(V^T&(I^V))+P[1]+3905402710&4294967295,N=T+(S<<12&4294967295|S>>>20),S=V+(I^N&(T^I))+P[2]+606105819&4294967295,V=N+(S<<17&4294967295|S>>>15),S=I+(T^V&(N^T))+P[3]+3250441966&4294967295,I=V+(S<<22&4294967295|S>>>10),S=T+(N^I&(V^N))+P[4]+4118548399&4294967295,T=I+(S<<7&4294967295|S>>>25),S=N+(V^T&(I^V))+P[5]+1200080426&4294967295,N=T+(S<<12&4294967295|S>>>20),S=V+(I^N&(T^I))+P[6]+2821735955&4294967295,V=N+(S<<17&4294967295|S>>>15),S=I+(T^V&(N^T))+P[7]+4249261313&4294967295,I=V+(S<<22&4294967295|S>>>10),S=T+(N^I&(V^N))+P[8]+1770035416&4294967295,T=I+(S<<7&4294967295|S>>>25),S=N+(V^T&(I^V))+P[9]+2336552879&4294967295,N=T+(S<<12&4294967295|S>>>20),S=V+(I^N&(T^I))+P[10]+4294925233&4294967295,V=N+(S<<17&4294967295|S>>>15),S=I+(T^V&(N^T))+P[11]+2304563134&4294967295,I=V+(S<<22&4294967295|S>>>10),S=T+(N^I&(V^N))+P[12]+1804603682&4294967295,T=I+(S<<7&4294967295|S>>>25),S=N+(V^T&(I^V))+P[13]+4254626195&4294967295,N=T+(S<<12&4294967295|S>>>20),S=V+(I^N&(T^I))+P[14]+2792965006&4294967295,V=N+(S<<17&4294967295|S>>>15),S=I+(T^V&(N^T))+P[15]+1236535329&4294967295,I=V+(S<<22&4294967295|S>>>10),S=T+(V^N&(I^V))+P[1]+4129170786&4294967295,T=I+(S<<5&4294967295|S>>>27),S=N+(I^V&(T^I))+P[6]+3225465664&4294967295,N=T+(S<<9&4294967295|S>>>23),S=V+(T^I&(N^T))+P[11]+643717713&4294967295,V=N+(S<<14&4294967295|S>>>18),S=I+(N^T&(V^N))+P[0]+3921069994&4294967295,I=V+(S<<20&4294967295|S>>>12),S=T+(V^N&(I^V))+P[5]+3593408605&4294967295,T=I+(S<<5&4294967295|S>>>27),S=N+(I^V&(T^I))+P[10]+38016083&4294967295,N=T+(S<<9&4294967295|S>>>23),S=V+(T^I&(N^T))+P[15]+3634488961&4294967295,V=N+(S<<14&4294967295|S>>>18),S=I+(N^T&(V^N))+P[4]+3889429448&4294967295,I=V+(S<<20&4294967295|S>>>12),S=T+(V^N&(I^V))+P[9]+568446438&4294967295,T=I+(S<<5&4294967295|S>>>27),S=N+(I^V&(T^I))+P[14]+3275163606&4294967295,N=T+(S<<9&4294967295|S>>>23),S=V+(T^I&(N^T))+P[3]+4107603335&4294967295,V=N+(S<<14&4294967295|S>>>18),S=I+(N^T&(V^N))+P[8]+1163531501&4294967295,I=V+(S<<20&4294967295|S>>>12),S=T+(V^N&(I^V))+P[13]+2850285829&4294967295,T=I+(S<<5&4294967295|S>>>27),S=N+(I^V&(T^I))+P[2]+4243563512&4294967295,N=T+(S<<9&4294967295|S>>>23),S=V+(T^I&(N^T))+P[7]+1735328473&4294967295,V=N+(S<<14&4294967295|S>>>18),S=I+(N^T&(V^N))+P[12]+2368359562&4294967295,I=V+(S<<20&4294967295|S>>>12),S=T+(I^V^N)+P[5]+4294588738&4294967295,T=I+(S<<4&4294967295|S>>>28),S=N+(T^I^V)+P[8]+2272392833&4294967295,N=T+(S<<11&4294967295|S>>>21),S=V+(N^T^I)+P[11]+1839030562&4294967295,V=N+(S<<16&4294967295|S>>>16),S=I+(V^N^T)+P[14]+4259657740&4294967295,I=V+(S<<23&4294967295|S>>>9),S=T+(I^V^N)+P[1]+2763975236&4294967295,T=I+(S<<4&4294967295|S>>>28),S=N+(T^I^V)+P[4]+1272893353&4294967295,N=T+(S<<11&4294967295|S>>>21),S=V+(N^T^I)+P[7]+4139469664&4294967295,V=N+(S<<16&4294967295|S>>>16),S=I+(V^N^T)+P[10]+3200236656&4294967295,I=V+(S<<23&4294967295|S>>>9),S=T+(I^V^N)+P[13]+681279174&4294967295,T=I+(S<<4&4294967295|S>>>28),S=N+(T^I^V)+P[0]+3936430074&4294967295,N=T+(S<<11&4294967295|S>>>21),S=V+(N^T^I)+P[3]+3572445317&4294967295,V=N+(S<<16&4294967295|S>>>16),S=I+(V^N^T)+P[6]+76029189&4294967295,I=V+(S<<23&4294967295|S>>>9),S=T+(I^V^N)+P[9]+3654602809&4294967295,T=I+(S<<4&4294967295|S>>>28),S=N+(T^I^V)+P[12]+3873151461&4294967295,N=T+(S<<11&4294967295|S>>>21),S=V+(N^T^I)+P[15]+530742520&4294967295,V=N+(S<<16&4294967295|S>>>16),S=I+(V^N^T)+P[2]+3299628645&4294967295,I=V+(S<<23&4294967295|S>>>9),S=T+(V^(I|~N))+P[0]+4096336452&4294967295,T=I+(S<<6&4294967295|S>>>26),S=N+(I^(T|~V))+P[7]+1126891415&4294967295,N=T+(S<<10&4294967295|S>>>22),S=V+(T^(N|~I))+P[14]+2878612391&4294967295,V=N+(S<<15&4294967295|S>>>17),S=I+(N^(V|~T))+P[5]+4237533241&4294967295,I=V+(S<<21&4294967295|S>>>11),S=T+(V^(I|~N))+P[12]+1700485571&4294967295,T=I+(S<<6&4294967295|S>>>26),S=N+(I^(T|~V))+P[3]+2399980690&4294967295,N=T+(S<<10&4294967295|S>>>22),S=V+(T^(N|~I))+P[10]+4293915773&4294967295,V=N+(S<<15&4294967295|S>>>17),S=I+(N^(V|~T))+P[1]+2240044497&4294967295,I=V+(S<<21&4294967295|S>>>11),S=T+(V^(I|~N))+P[8]+1873313359&4294967295,T=I+(S<<6&4294967295|S>>>26),S=N+(I^(T|~V))+P[15]+4264355552&4294967295,N=T+(S<<10&4294967295|S>>>22),S=V+(T^(N|~I))+P[6]+2734768916&4294967295,V=N+(S<<15&4294967295|S>>>17),S=I+(N^(V|~T))+P[13]+1309151649&4294967295,I=V+(S<<21&4294967295|S>>>11),S=T+(V^(I|~N))+P[4]+4149444226&4294967295,T=I+(S<<6&4294967295|S>>>26),S=N+(I^(T|~V))+P[11]+3174756917&4294967295,N=T+(S<<10&4294967295|S>>>22),S=V+(T^(N|~I))+P[2]+718787259&4294967295,V=N+(S<<15&4294967295|S>>>17),S=I+(N^(V|~T))+P[9]+3951481745&4294967295,k.g[0]=k.g[0]+T&4294967295,k.g[1]=k.g[1]+(V+(S<<21&4294967295|S>>>11))&4294967295,k.g[2]=k.g[2]+V&4294967295,k.g[3]=k.g[3]+N&4294967295}o.prototype.u=function(k,T){T===void 0&&(T=k.length);for(var I=T-this.blockSize,P=this.B,V=this.h,N=0;N<T;){if(V==0)for(;N<=I;)a(this,k,N),N+=this.blockSize;if(typeof k=="string"){for(;N<T;)if(P[V++]=k.charCodeAt(N++),V==this.blockSize){a(this,P),V=0;break}}else for(;N<T;)if(P[V++]=k[N++],V==this.blockSize){a(this,P),V=0;break}}this.h=V,this.o+=T},o.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var T=1;T<k.length-8;++T)k[T]=0;var I=8*this.o;for(T=k.length-8;T<k.length;++T)k[T]=I&255,I/=256;for(this.u(k),k=Array(16),T=I=0;4>T;++T)for(var P=0;32>P;P+=8)k[I++]=this.g[T]>>>P&255;return k};function c(k,T){var I=g;return Object.prototype.hasOwnProperty.call(I,k)?I[k]:I[k]=T(k)}function p(k,T){this.h=T;for(var I=[],P=!0,V=k.length-1;0<=V;V--){var N=k[V]|0;P&&N==T||(I[V]=N,P=!1)}this.g=I}var g={};function _(k){return-128<=k&&128>k?c(k,function(T){return new p([T|0],0>T?-1:0)}):new p([k|0],0>k?-1:0)}function E(k){if(isNaN(k)||!isFinite(k))return M;if(0>k)return K(E(-k));for(var T=[],I=1,P=0;k>=I;P++)T[P]=k/I|0,I*=4294967296;return new p(T,0)}function C(k,T){if(k.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(k.charAt(0)=="-")return K(C(k.substring(1),T));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=E(Math.pow(T,8)),P=M,V=0;V<k.length;V+=8){var N=Math.min(8,k.length-V),S=parseInt(k.substring(V,V+N),T);8>N?(N=E(Math.pow(T,N)),P=P.j(N).add(E(S))):(P=P.j(I),P=P.add(E(S)))}return P}var M=_(0),z=_(1),H=_(16777216);s=p.prototype,s.m=function(){if(Z(this))return-K(this).m();for(var k=0,T=1,I=0;I<this.g.length;I++){var P=this.i(I);k+=(0<=P?P:4294967296+P)*T,T*=4294967296}return k},s.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(te(this))return"0";if(Z(this))return"-"+K(this).toString(k);for(var T=E(Math.pow(k,6)),I=this,P="";;){var V=ve(I,T).g;I=Ne(I,V.j(T));var N=((0<I.g.length?I.g[0]:I.h)>>>0).toString(k);if(I=V,te(I))return N+P;for(;6>N.length;)N="0"+N;P=N+P}},s.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function te(k){if(k.h!=0)return!1;for(var T=0;T<k.g.length;T++)if(k.g[T]!=0)return!1;return!0}function Z(k){return k.h==-1}s.l=function(k){return k=Ne(this,k),Z(k)?-1:te(k)?0:1};function K(k){for(var T=k.g.length,I=[],P=0;P<T;P++)I[P]=~k.g[P];return new p(I,~k.h).add(z)}s.abs=function(){return Z(this)?K(this):this},s.add=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],P=0,V=0;V<=T;V++){var N=P+(this.i(V)&65535)+(k.i(V)&65535),S=(N>>>16)+(this.i(V)>>>16)+(k.i(V)>>>16);P=S>>>16,N&=65535,S&=65535,I[V]=S<<16|N}return new p(I,I[I.length-1]&-2147483648?-1:0)};function Ne(k,T){return k.add(K(T))}s.j=function(k){if(te(this)||te(k))return M;if(Z(this))return Z(k)?K(this).j(K(k)):K(K(this).j(k));if(Z(k))return K(this.j(K(k)));if(0>this.l(H)&&0>k.l(H))return E(this.m()*k.m());for(var T=this.g.length+k.g.length,I=[],P=0;P<2*T;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var V=0;V<k.g.length;V++){var N=this.i(P)>>>16,S=this.i(P)&65535,Ye=k.i(V)>>>16,It=k.i(V)&65535;I[2*P+2*V]+=S*It,Re(I,2*P+2*V),I[2*P+2*V+1]+=N*It,Re(I,2*P+2*V+1),I[2*P+2*V+1]+=S*Ye,Re(I,2*P+2*V+1),I[2*P+2*V+2]+=N*Ye,Re(I,2*P+2*V+2)}for(P=0;P<T;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=T;P<2*T;P++)I[P]=0;return new p(I,0)};function Re(k,T){for(;(k[T]&65535)!=k[T];)k[T+1]+=k[T]>>>16,k[T]&=65535,T++}function _e(k,T){this.g=k,this.h=T}function ve(k,T){if(te(T))throw Error("division by zero");if(te(k))return new _e(M,M);if(Z(k))return T=ve(K(k),T),new _e(K(T.g),K(T.h));if(Z(T))return T=ve(k,K(T)),new _e(K(T.g),T.h);if(30<k.g.length){if(Z(k)||Z(T))throw Error("slowDivide_ only works with positive integers.");for(var I=z,P=T;0>=P.l(k);)I=Xe(I),P=Xe(P);var V=Pe(I,1),N=Pe(P,1);for(P=Pe(P,2),I=Pe(I,2);!te(P);){var S=N.add(P);0>=S.l(k)&&(V=V.add(I),N=S),P=Pe(P,1),I=Pe(I,1)}return T=Ne(k,V.j(T)),new _e(V,T)}for(V=M;0<=k.l(T);){for(I=Math.max(1,Math.floor(k.m()/T.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),N=E(I),S=N.j(T);Z(S)||0<S.l(k);)I-=P,N=E(I),S=N.j(T);te(N)&&(N=z),V=V.add(N),k=Ne(k,S)}return new _e(V,k)}s.A=function(k){return ve(this,k).h},s.and=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)&k.i(P);return new p(I,this.h&k.h)},s.or=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)|k.i(P);return new p(I,this.h|k.h)},s.xor=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)^k.i(P);return new p(I,this.h^k.h)};function Xe(k){for(var T=k.g.length+1,I=[],P=0;P<T;P++)I[P]=k.i(P)<<1|k.i(P-1)>>>31;return new p(I,k.h)}function Pe(k,T){var I=T>>5;T%=32;for(var P=k.g.length-I,V=[],N=0;N<P;N++)V[N]=0<T?k.i(N+I)>>>T|k.i(N+I+1)<<32-T:k.i(N+I);return new p(V,k.h)}o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,$p=o,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.A,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=E,p.fromString=C,_i=p}).apply(typeof Hd<"u"?Hd:typeof self<"u"?self:typeof window<"u"?window:{});var ca=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qp,Vo,bp,ga,Oc,Hp,Qp,Kp;(function(){var s,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,m){return l==Array.prototype||l==Object.prototype||(l[f]=m.value),l};function r(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof ca=="object"&&ca];for(var f=0;f<l.length;++f){var m=l[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var o=r(this);function a(l,f){if(f)e:{var m=o;l=l.split(".");for(var v=0;v<l.length-1;v++){var x=l[v];if(!(x in m))break e;m=m[x]}l=l[l.length-1],v=m[l],f=f(v),f!=v&&f!=null&&t(m,l,{configurable:!0,writable:!0,value:f})}}function c(l,f){l instanceof String&&(l+="");var m=0,v=!1,x={next:function(){if(!v&&m<l.length){var U=m++;return{value:f(U,l[U]),done:!1}}return v=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}a("Array.prototype.values",function(l){return l||function(){return c(this,function(f,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var p=p||{},g=this||self;function _(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function E(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function C(l,f,m){return l.call.apply(l.bind,arguments)}function M(l,f,m){if(!l)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,v),l.apply(f,x)}}return function(){return l.apply(f,arguments)}}function z(l,f,m){return z=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?C:M,z.apply(null,arguments)}function H(l,f){var m=Array.prototype.slice.call(arguments,1);return function(){var v=m.slice();return v.push.apply(v,arguments),l.apply(this,v)}}function te(l,f){function m(){}m.prototype=f.prototype,l.aa=f.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(v,x,U){for(var W=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)W[Oe-2]=arguments[Oe];return f.prototype[x].apply(v,W)}}function Z(l){const f=l.length;if(0<f){const m=Array(f);for(let v=0;v<f;v++)m[v]=l[v];return m}return[]}function K(l,f){for(let m=1;m<arguments.length;m++){const v=arguments[m];if(_(v)){const x=l.length||0,U=v.length||0;l.length=x+U;for(let W=0;W<U;W++)l[x+W]=v[W]}else l.push(v)}}class Ne{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function Re(l){return/^[\s\xa0]*$/.test(l)}function _e(){var l=g.navigator;return l&&(l=l.userAgent)?l:""}function ve(l){return ve[" "](l),l}ve[" "]=function(){};var Xe=_e().indexOf("Gecko")!=-1&&!(_e().toLowerCase().indexOf("webkit")!=-1&&_e().indexOf("Edge")==-1)&&!(_e().indexOf("Trident")!=-1||_e().indexOf("MSIE")!=-1)&&_e().indexOf("Edge")==-1;function Pe(l,f,m){for(const v in l)f.call(m,l[v],v,l)}function k(l,f){for(const m in l)f.call(void 0,l[m],m,l)}function T(l){const f={};for(const m in l)f[m]=l[m];return f}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(l,f){let m,v;for(let x=1;x<arguments.length;x++){v=arguments[x];for(m in v)l[m]=v[m];for(let U=0;U<I.length;U++)m=I[U],Object.prototype.hasOwnProperty.call(v,m)&&(l[m]=v[m])}}function V(l){var f=1;l=l.split(":");const m=[];for(;0<f&&l.length;)m.push(l.shift()),f--;return l.length&&m.push(l.join(":")),m}function N(l){g.setTimeout(()=>{throw l},0)}function S(){var l=le;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class Ye{constructor(){this.h=this.g=null}add(f,m){const v=It.get();v.set(f,m),this.h?this.h.next=v:this.g=v,this.h=v}}var It=new Ne(()=>new At,l=>l.reset());class At{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Me,G=!1,le=new Ye,J=()=>{const l=g.Promise.resolve(void 0);Me=()=>{l.then(D)}};var D=()=>{for(var l;l=S();){try{l.h.call(l.g)}catch(m){N(m)}var f=It;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}G=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};g.addEventListener("test",m,f),g.removeEventListener("test",m,f)}catch{}return l}();function ge(l,f){if(oe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,v=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(Xe){e:{try{ve(f.nodeName);var x=!0;break e}catch{}x=!1}x||(f=null)}}else m=="mouseover"?f=l.fromElement:m=="mouseout"&&(f=l.toElement);this.relatedTarget=f,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:we[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&ge.aa.h.call(this)}}te(ge,oe);var we={2:"touch",3:"pen",4:"mouse"};ge.prototype.h=function(){ge.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),Le=0;function Ue(l,f,m,v,x){this.listener=l,this.proxy=null,this.src=f,this.type=m,this.capture=!!v,this.ha=x,this.key=++Le,this.da=this.fa=!1}function ft(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function $n(l){this.src=l,this.g={},this.h=0}$n.prototype.add=function(l,f,m,v,x){var U=l.toString();l=this.g[U],l||(l=this.g[U]=[],this.h++);var W=ar(l,f,v,x);return-1<W?(f=l[W],m||(f.fa=!1)):(f=new Ue(f,this.src,U,!!v,x),f.fa=m,l.push(f)),f};function Si(l,f){var m=f.type;if(m in l.g){var v=l.g[m],x=Array.prototype.indexOf.call(v,f,void 0),U;(U=0<=x)&&Array.prototype.splice.call(v,x,1),U&&(ft(f),l.g[m].length==0&&(delete l.g[m],l.h--))}}function ar(l,f,m,v){for(var x=0;x<l.length;++x){var U=l[x];if(!U.da&&U.listener==f&&U.capture==!!m&&U.ha==v)return x}return-1}var $r="closure_lm_"+(1e6*Math.random()|0),Ii={};function Ls(l,f,m,v,x){if(Array.isArray(f)){for(var U=0;U<f.length;U++)Ls(l,f[U],m,v,x);return null}return m=Fs(m),l&&l[xe]?l.K(f,m,E(v)?!!v.capture:!1,x):Os(l,f,m,!1,v,x)}function Os(l,f,m,v,x,U){if(!f)throw Error("Invalid event type");var W=E(x)?!!x.capture:!!x,Oe=Ci(l);if(Oe||(l[$r]=Oe=new $n(l)),m=Oe.add(f,m,v,W,U),m.proxy)return m;if(v=Wo(),m.proxy=v,v.src=l,v.listener=m,l.addEventListener)me||(x=W),x===void 0&&(x=!1),l.addEventListener(f.toString(),v,x);else if(l.attachEvent)l.attachEvent(bn(f.toString()),v);else if(l.addListener&&l.removeListener)l.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Wo(){function l(m){return f.call(l.src,l.listener,m)}const f=Ms;return l}function Ai(l,f,m,v,x){if(Array.isArray(f))for(var U=0;U<f.length;U++)Ai(l,f[U],m,v,x);else v=E(v)?!!v.capture:!!v,m=Fs(m),l&&l[xe]?(l=l.i,f=String(f).toString(),f in l.g&&(U=l.g[f],m=ar(U,m,v,x),-1<m&&(ft(U[m]),Array.prototype.splice.call(U,m,1),U.length==0&&(delete l.g[f],l.h--)))):l&&(l=Ci(l))&&(f=l.g[f.toString()],l=-1,f&&(l=ar(f,m,v,x)),(m=-1<l?f[l]:null)&&qn(m))}function qn(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[xe])Si(f.i,l);else{var m=l.type,v=l.proxy;f.removeEventListener?f.removeEventListener(m,v,l.capture):f.detachEvent?f.detachEvent(bn(m),v):f.addListener&&f.removeListener&&f.removeListener(v),(m=Ci(f))?(Si(m,l),m.h==0&&(m.src=null,f[$r]=null)):ft(l)}}}function bn(l){return l in Ii?Ii[l]:Ii[l]="on"+l}function Ms(l,f){if(l.da)l=!0;else{f=new ge(f,this);var m=l.listener,v=l.ha||l.src;l.fa&&qn(l),l=m.call(v,f)}return l}function Ci(l){return l=l[$r],l instanceof $n?l:null}var Ri="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fs(l){return typeof l=="function"?l:(l[Ri]||(l[Ri]=function(f){return l.handleEvent(f)}),l[Ri])}function st(){B.call(this),this.i=new $n(this),this.M=this,this.F=null}te(st,B),st.prototype[xe]=!0,st.prototype.removeEventListener=function(l,f,m,v){Ai(this,l,f,m,v)};function ot(l,f){var m,v=l.F;if(v)for(m=[];v;v=v.F)m.push(v);if(l=l.M,v=f.type||f,typeof f=="string")f=new oe(f,l);else if(f instanceof oe)f.target=f.target||l;else{var x=f;f=new oe(v,l),P(f,x)}if(x=!0,m)for(var U=m.length-1;0<=U;U--){var W=f.g=m[U];x=Hn(W,v,!0,f)&&x}if(W=f.g=l,x=Hn(W,v,!0,f)&&x,x=Hn(W,v,!1,f)&&x,m)for(U=0;U<m.length;U++)W=f.g=m[U],x=Hn(W,v,!1,f)&&x}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var m=l.g[f],v=0;v<m.length;v++)ft(m[v]);delete l.g[f],l.h--}}this.F=null},st.prototype.K=function(l,f,m,v){return this.i.add(String(l),f,!1,m,v)},st.prototype.L=function(l,f,m,v){return this.i.add(String(l),f,!0,m,v)};function Hn(l,f,m,v){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var x=!0,U=0;U<f.length;++U){var W=f[U];if(W&&!W.da&&W.capture==m){var Oe=W.listener,lt=W.ha||W.src;W.fa&&Si(l.i,W),x=Oe.call(lt,v)!==!1&&x}}return x&&!v.defaultPrevented}function Us(l,f,m){if(typeof l=="function")m&&(l=z(l,m));else if(l&&typeof l.handleEvent=="function")l=z(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:g.setTimeout(l,f||0)}function ur(l){l.g=Us(()=>{l.g=null,l.i&&(l.i=!1,ur(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class qr extends B{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:ur(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function br(l){B.call(this),this.h=l,this.g={}}te(br,B);var zs=[];function Bs(l){Pe(l.g,function(f,m){this.g.hasOwnProperty(m)&&qn(f)},l),l.g={}}br.prototype.N=function(){br.aa.N.call(this),Bs(this)},br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var js=g.JSON.stringify,$s=g.JSON.parse,qs=class{stringify(l){return g.JSON.stringify(l,void 0)}parse(l){return g.JSON.parse(l,void 0)}};function Hr(){}Hr.prototype.h=null;function Pi(l){return l.h||(l.h=l.i())}function ki(){}var tn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Rn(){oe.call(this,"d")}te(Rn,oe);function Vi(){oe.call(this,"c")}te(Vi,oe);var Pn={},bs=null;function Qr(){return bs=bs||new st}Pn.La="serverreachability";function Hs(l){oe.call(this,Pn.La,l)}te(Hs,oe);function Qn(l){const f=Qr();ot(f,new Hs(f))}Pn.STAT_EVENT="statevent";function Qs(l,f){oe.call(this,Pn.STAT_EVENT,l),this.stat=f}te(Qs,oe);function Je(l){const f=Qr();ot(f,new Qs(f,l))}Pn.Ma="timingevent";function Di(l,f){oe.call(this,Pn.Ma,l),this.size=f}te(Di,oe);function fn(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){l()},f)}function Kr(){this.g=!0}Kr.prototype.xa=function(){this.g=!1};function Wr(l,f,m,v,x,U){l.info(function(){if(l.g)if(U)for(var W="",Oe=U.split("&"),lt=0;lt<Oe.length;lt++){var Te=Oe[lt].split("=");if(1<Te.length){var dt=Te[0];Te=Te[1];var nt=dt.split("_");W=2<=nt.length&&nt[1]=="type"?W+(dt+"="+Te+"&"):W+(dt+"=redacted&")}}else W=null;else W=U;return"XMLHTTP REQ ("+v+") [attempt "+x+"]: "+f+`
`+m+`
`+W})}function Ni(l,f,m,v,x,U,W){l.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+x+"]: "+f+`
`+m+`
`+U+" "+W})}function dn(l,f,m,v){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+qa(l,m)+(v?" "+v:"")})}function Ks(l,f){l.info(function(){return"TIMEOUT: "+f})}Kr.prototype.info=function(){};function qa(l,f){if(!l.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var v=m[l];if(!(2>v.length)){var x=v[1];if(Array.isArray(x)&&!(1>x.length)){var U=x[0];if(U!="noop"&&U!="stop"&&U!="close")for(var W=1;W<x.length;W++)x[W]=""}}}}return js(m)}catch{return f}}var xi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Go={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pn;function Gr(){}te(Gr,Hr),Gr.prototype.g=function(){return new XMLHttpRequest},Gr.prototype.i=function(){return{}},pn=new Gr;function mn(l,f,m,v){this.j=l,this.i=f,this.l=m,this.R=v||1,this.U=new br(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xo}function Xo(){this.i=null,this.g="",this.h=!1}var Ws={},Li={};function Oi(l,f,m){l.L=1,l.v=pr(Gt(f)),l.m=m,l.P=!0,Gs(l,null)}function Gs(l,f){l.F=Date.now(),ze(l),l.A=Gt(l.v);var m=l.A,v=l.R;Array.isArray(v)||(v=[String(v)]),gr(m.i,"t",v),l.C=0,m=l.j.J,l.h=new Xo,l.g=pl(l.j,m?f:null,!l.m),0<l.O&&(l.M=new qr(z(l.Y,l,l.g),l.O)),f=l.U,m=l.g,v=l.ca;var x="readystatechange";Array.isArray(x)||(x&&(zs[0]=x.toString()),x=zs);for(var U=0;U<x.length;U++){var W=Ls(m,x[U],v||f.handleEvent,!1,f.h||f);if(!W)break;f.g[W.key]=W}f=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),Qn(),Wr(l.i,l.u,l.A,l.l,l.R,l.m)}mn.prototype.ca=function(l){l=l.target;const f=this.M;f&&zt(l)==3?f.j():this.Y(l)},mn.prototype.Y=function(l){try{if(l==this.g)e:{const nt=zt(this.g);var f=this.g.Ba();const sn=this.g.Z();if(!(3>nt)&&(nt!=3||this.g&&(this.h.h||this.g.oa()||to(this.g)))){this.J||nt!=4||f==7||(f==8||0>=sn?Qn(3):Qn(2)),Xr(this);var m=this.g.Z();this.X=m;t:if(Yo(this)){var v=to(this.g);l="";var x=v.length,U=zt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nn(this),cr(this);var W="";break t}this.h.i=new g.TextDecoder}for(f=0;f<x;f++)this.h.h=!0,l+=this.h.i.decode(v[f],{stream:!(U&&f==x-1)});v.length=0,this.h.g+=l,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=m==200,Ni(this.i,this.u,this.A,this.l,this.R,nt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Oe,lt=this.g;if((Oe=lt.g?lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Re(Oe)){var Te=Oe;break t}}Te=null}if(m=Te)dn(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xs(this,m);else{this.o=!1,this.s=3,Je(12),nn(this),cr(this);break e}}if(this.P){m=!0;let Yt;for(;!this.J&&this.C<W.length;)if(Yt=ba(this,W),Yt==Li){nt==4&&(this.s=4,Je(14),m=!1),dn(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==Ws){this.s=4,Je(15),dn(this.i,this.l,W,"[Invalid Chunk]"),m=!1;break}else dn(this.i,this.l,Yt,null),Xs(this,Yt);if(Yo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nt!=4||W.length!=0||this.h.h||(this.s=1,Je(16),m=!1),this.o=this.o&&m,!m)dn(this.i,this.l,W,"[Invalid Chunked Response]"),nn(this),cr(this);else if(0<W.length&&!this.W){this.W=!0;var dt=this.j;dt.g==this&&dt.ba&&!dt.M&&(dt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),ro(dt),dt.M=!0,Je(11))}}else dn(this.i,this.l,W,null),Xs(this,W);nt==4&&nn(this),this.o&&!this.J&&(nt==4?Qi(this.j,this):(this.o=!1,ze(this)))}else ji(this.g),m==400&&0<W.indexOf("Unknown SID")?(this.s=3,Je(12)):(this.s=0,Je(13)),nn(this),cr(this)}}}catch{}finally{}};function Yo(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function ba(l,f){var m=l.C,v=f.indexOf(`
`,m);return v==-1?Li:(m=Number(f.substring(m,v)),isNaN(m)?Ws:(v+=1,v+m>f.length?Li:(f=f.slice(v,v+m),l.C=v+m,f)))}mn.prototype.cancel=function(){this.J=!0,nn(this)};function ze(l){l.S=Date.now()+l.I,Jo(l,l.I)}function Jo(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=fn(z(l.ba,l),f)}function Xr(l){l.B&&(g.clearTimeout(l.B),l.B=null)}mn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Ks(this.i,this.A),this.L!=2&&(Qn(),Je(17)),nn(this),this.s=2,cr(this)):Jo(this,this.S-l)};function cr(l){l.j.G==0||l.J||Qi(l.j,l)}function nn(l){Xr(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,Bs(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function Xs(l,f){try{var m=l.j;if(m.G!=0&&(m.g==l||xt(m.h,l))){if(!l.K&&xt(m.h,l)&&m.G==3){try{var v=m.Da.g.parse(f)}catch{v=null}if(Array.isArray(v)&&v.length==3){var x=v;if(x[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<l.F)Hi(m),En(m);else break e;bi(m),Je(18)}}else m.za=x[1],0<m.za-m.T&&37500>x[2]&&m.F&&m.v==0&&!m.C&&(m.C=fn(z(m.Za,m),6e3));if(1>=el(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Yn(m,11)}else if((l.K||m.g==l)&&Hi(m),!Re(f))for(x=m.Da.g.parse(f),f=0;f<x.length;f++){let Te=x[f];if(m.T=Te[0],Te=Te[1],m.G==2)if(Te[0]=="c"){m.K=Te[1],m.ia=Te[2];const dt=Te[3];dt!=null&&(m.la=dt,m.j.info("VER="+m.la));const nt=Te[4];nt!=null&&(m.Aa=nt,m.j.info("SVER="+m.Aa));const sn=Te[5];sn!=null&&typeof sn=="number"&&0<sn&&(v=1.5*sn,m.L=v,m.j.info("backChannelRequestTimeoutMs_="+v)),v=m;const Yt=l.g;if(Yt){const ri=Yt.g?Yt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ri){var U=v.h;U.g||ri.indexOf("spdy")==-1&&ri.indexOf("quic")==-1&&ri.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Ys(U,U.h),U.h=null))}if(v.D){const Wi=Yt.g?Yt.g.getResponseHeader("X-HTTP-Session-Id"):null;Wi&&(v.ya=Wi,Fe(v.I,v.D,Wi))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms")),v=m;var W=l;if(v.qa=dl(v,v.J?v.ia:null,v.W),W.K){tl(v.h,W);var Oe=W,lt=v.L;lt&&(Oe.I=lt),Oe.B&&(Xr(Oe),ze(Oe)),v.g=W}else ni(v);0<m.i.length&&Nn(m)}else Te[0]!="stop"&&Te[0]!="close"||Yn(m,7);else m.G==3&&(Te[0]=="stop"||Te[0]=="close"?Te[0]=="stop"?Yn(m,7):vt(m):Te[0]!="noop"&&m.l&&m.l.ta(Te),m.v=0)}}Qn(4)}catch{}}var Zo=class{constructor(l,f){this.g=l,this.map=f}};function Yr(l){this.l=l||10,g.PerformanceNavigationTiming?(l=g.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Wt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function el(l){return l.h?1:l.g?l.g.size:0}function xt(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function Ys(l,f){l.g?l.g.add(f):l.h=f}function tl(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}Yr.prototype.cancel=function(){if(this.i=nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function nl(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const m of l.g.values())f=f.concat(m.D);return f}return Z(l.i)}function Mi(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(_(l)){for(var f=[],m=l.length,v=0;v<m;v++)f.push(l[v]);return f}f=[],m=0;for(v in l)f[m++]=l[v];return f}function Fi(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(_(l)||typeof l=="string"){var f=[];l=l.length;for(var m=0;m<l;m++)f.push(m);return f}f=[],m=0;for(const v in l)f[m++]=v;return f}}}function hr(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(_(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var m=Fi(l),v=Mi(l),x=v.length,U=0;U<x;U++)f.call(void 0,v[U],m&&m[U],l)}var Jr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ha(l,f){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var v=l[m].indexOf("="),x=null;if(0<=v){var U=l[m].substring(0,v);x=l[m].substring(v+1)}else U=l[m];f(U,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function Kn(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Kn){this.h=l.h,Zr(this,l.j),this.o=l.o,this.g=l.g,fr(this,l.s),this.l=l.l;var f=l.i,m=new kn;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),dr(this,m),this.m=l.m}else l&&(f=String(l).match(Jr))?(this.h=!1,Zr(this,f[1]||"",!0),this.o=Ee(f[2]||""),this.g=Ee(f[3]||"",!0),fr(this,f[4]),this.l=Ee(f[5]||"",!0),dr(this,f[6]||"",!0),this.m=Ee(f[7]||"")):(this.h=!1,this.i=new kn(null,this.h))}Kn.prototype.toString=function(){var l=[],f=this.j;f&&l.push(mr(f,Ui,!0),":");var m=this.g;return(m||f=="file")&&(l.push("//"),(f=this.o)&&l.push(mr(f,Ui,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&l.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(mr(m,m.charAt(0)=="/"?sl:il,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",mr(m,Js)),l.join("")};function Gt(l){return new Kn(l)}function Zr(l,f,m){l.j=m?Ee(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function fr(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function dr(l,f,m){f instanceof kn?(l.i=f,Vn(l.i,l.h)):(m||(f=mr(f,ol)),l.i=new kn(f,l.h))}function Fe(l,f,m){l.i.set(f,m)}function pr(l){return Fe(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ee(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function mr(l,f,m){return typeof l=="string"?(l=encodeURI(l).replace(f,rl),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function rl(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Ui=/[#\/\?@]/g,il=/[#\?:]/g,sl=/[#\?]/g,ol=/[#\?@]/g,Js=/#/g;function kn(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function _t(l){l.g||(l.g=new Map,l.h=0,l.i&&Ha(l.i,function(f,m){l.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}s=kn.prototype,s.add=function(l,f){_t(this),this.i=null,l=rn(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(f),this.h+=1,this};function gn(l,f){_t(l),f=rn(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function yn(l,f){return _t(l),f=rn(l,f),l.g.has(f)}s.forEach=function(l,f){_t(this),this.g.forEach(function(m,v){m.forEach(function(x){l.call(f,x,v,this)},this)},this)},s.na=function(){_t(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let v=0;v<f.length;v++){const x=l[v];for(let U=0;U<x.length;U++)m.push(f[v])}return m},s.V=function(l){_t(this);let f=[];if(typeof l=="string")yn(this,l)&&(f=f.concat(this.g.get(rn(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)f=f.concat(l[m])}return f},s.set=function(l,f){return _t(this),this.i=null,l=rn(this,l),yn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},s.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function gr(l,f,m){gn(l,f),0<m.length&&(l.i=null,l.g.set(rn(l,f),Z(m)),l.h+=m.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var v=f[m];const U=encodeURIComponent(String(v)),W=this.V(v);for(v=0;v<W.length;v++){var x=U;W[v]!==""&&(x+="="+encodeURIComponent(String(W[v]))),l.push(x)}}return this.i=l.join("&")};function rn(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function Vn(l,f){f&&!l.j&&(_t(l),l.i=null,l.g.forEach(function(m,v){var x=v.toLowerCase();v!=x&&(gn(this,v),gr(this,x,m))},l)),l.j=f}function Qa(l,f){const m=new Kr;if(g.Image){const v=new Image;v.onload=H(Ut,m,"TestLoadImage: loaded",!0,f,v),v.onerror=H(Ut,m,"TestLoadImage: error",!1,f,v),v.onabort=H(Ut,m,"TestLoadImage: abort",!1,f,v),v.ontimeout=H(Ut,m,"TestLoadImage: timeout",!1,f,v),g.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=l}else f(!1)}function ll(l,f){const m=new Kr,v=new AbortController,x=setTimeout(()=>{v.abort(),Ut(m,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:v.signal}).then(U=>{clearTimeout(x),U.ok?Ut(m,"TestPingServer: ok",!0,f):Ut(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(x),Ut(m,"TestPingServer: error",!1,f)})}function Ut(l,f,m,v,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),v(m)}catch{}}function Ka(){this.g=new qs}function al(l,f,m){const v=m||"";try{hr(l,function(x,U){let W=x;E(x)&&(W=js(x)),f.push(v+U+"="+encodeURIComponent(W))})}catch(x){throw f.push(v+"type="+encodeURIComponent("_badmap")),x}}function Wn(l){this.l=l.Ub||null,this.j=l.eb||!1}te(Wn,Hr),Wn.prototype.g=function(){return new ei(this.l,this.j)},Wn.prototype.i=function(l){return function(){return l}}({});function ei(l,f){st.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}te(ei,st),s=ei.prototype,s.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,vn(this)},s.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||g).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_n(this)),this.readyState=0},s.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,vn(this)),this.g&&(this.readyState=3,vn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ul(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function ul(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}s.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?_n(this):vn(this),this.readyState==3&&ul(this)}},s.Ra=function(l){this.g&&(this.response=this.responseText=l,_n(this))},s.Qa=function(l){this.g&&(this.response=l,_n(this))},s.ga=function(){this.g&&_n(this)};function _n(l){l.readyState=4,l.l=null,l.j=null,l.v=null,vn(l)}s.setRequestHeader=function(l,f){this.u.append(l,f)},s.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=f.next();return l.join(`\r
`)};function vn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ei.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Gn(l){let f="";return Pe(l,function(m,v){f+=v,f+=":",f+=m,f+=`\r
`}),f}function yr(l,f,m){e:{for(v in m){var v=!1;break e}v=!0}v||(m=Gn(m),typeof l=="string"?m!=null&&encodeURIComponent(String(m)):Fe(l,f,m))}function qe(l){st.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}te(qe,st);var Wa=/^https?$/i,Zs=["POST","PUT"];s=qe.prototype,s.Ha=function(l){this.J=l},s.ea=function(l,f,m,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pn.g(),this.v=this.o?Pi(this.o):Pi(pn),this.g.onreadystatechange=z(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(U){ti(this,U);return}if(l=m||"",m=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var x in v)m.set(x,v[x]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const U of v.keys())m.set(U,v.get(U));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(m.keys()).find(U=>U.toLowerCase()=="content-type"),x=g.FormData&&l instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Zs,f,void 0))||v||x||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,W]of m)this.g.setRequestHeader(U,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bi(this),this.u=!0,this.g.send(l),this.u=!1}catch(U){ti(this,U)}};function ti(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,zi(l),Xt(l)}function zi(l){l.A||(l.A=!0,ot(l,"complete"),ot(l,"error"))}s.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ot(this,"complete"),ot(this,"abort"),Xt(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xt(this,!0)),qe.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?eo(this):this.bb())},s.bb=function(){eo(this)};function eo(l){if(l.h&&typeof p<"u"&&(!l.v[1]||zt(l)!=4||l.Z()!=2)){if(l.u&&zt(l)==4)Us(l.Ea,0,l);else if(ot(l,"readystatechange"),zt(l)==4){l.h=!1;try{const W=l.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var v;if(v=W===0){var x=String(l.D).match(Jr)[1]||null;!x&&g.self&&g.self.location&&(x=g.self.location.protocol.slice(0,-1)),v=!Wa.test(x?x.toLowerCase():"")}m=v}if(m)ot(l,"complete"),ot(l,"success");else{l.m=6;try{var U=2<zt(l)?l.g.statusText:""}catch{U=""}l.l=U+" ["+l.Z()+"]",zi(l)}}finally{Xt(l)}}}}function Xt(l,f){if(l.g){Bi(l);const m=l.g,v=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||ot(l,"ready");try{m.onreadystatechange=v}catch{}}}function Bi(l){l.I&&(g.clearTimeout(l.I),l.I=null)}s.isActive=function(){return!!this.g};function zt(l){return l.g?l.g.readyState:0}s.Z=function(){try{return 2<zt(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),$s(f)}};function to(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function ji(l){const f={};l=(l.g&&2<=zt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<l.length;v++){if(Re(l[v]))continue;var m=V(l[v]);const x=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const U=f[x]||[];f[x]=U,U.push(m)}k(f,function(v){return v.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Dn(l,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||f}function no(l){this.Aa=0,this.i=[],this.j=new Kr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Dn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Dn("baseRetryDelayMs",5e3,l),this.cb=Dn("retryDelaySeedMs",1e4,l),this.Wa=Dn("forwardChannelMaxRetries",2,l),this.wa=Dn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Yr(l&&l.concurrentRequestLimit),this.Da=new Ka,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=no.prototype,s.la=8,s.G=1,s.connect=function(l,f,m,v){Je(0),this.W=l,this.H=f||{},m&&v!==void 0&&(this.H.OSID=m,this.H.OAID=v),this.F=this.X,this.I=dl(this,null,this.W),Nn(this)};function vt(l){if($i(l),l.G==3){var f=l.U++,m=Gt(l.I);if(Fe(m,"SID",l.K),Fe(m,"RID",f),Fe(m,"TYPE","terminate"),Xn(l,m),f=new mn(l,l.j,f),f.L=2,f.v=pr(Gt(m)),m=!1,g.navigator&&g.navigator.sendBeacon)try{m=g.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&g.Image&&(new Image().src=f.v,m=!0),m||(f.g=pl(f.j,null),f.g.ea(f.v)),f.F=Date.now(),ze(f)}fl(l)}function En(l){l.g&&(ro(l),l.g.cancel(),l.g=null)}function $i(l){En(l),l.u&&(g.clearTimeout(l.u),l.u=null),Hi(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&g.clearTimeout(l.s),l.s=null)}function Nn(l){if(!Wt(l.h)&&!l.s){l.s=!0;var f=l.Ga;Me||J(),G||(Me(),G=!0),le.add(f,l),l.B=0}}function Ga(l,f){return el(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=fn(z(l.Ga,l,f),hl(l,l.B)),l.B++,!0)}s.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const x=new mn(this,this.j,l);let U=this.o;if(this.S&&(U?(U=T(U),P(U,this.S)):U=this.S),this.m!==null||this.O||(x.H=U,U=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var v=this.i[m];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(f+=v,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=_r(this,x,f),m=Gt(this.I),Fe(m,"RID",l),Fe(m,"CVER",22),this.D&&Fe(m,"X-HTTP-Session-Id",this.D),Xn(this,m),U&&(this.O?f="headers="+encodeURIComponent(String(Gn(U)))+"&"+f:this.m&&yr(m,this.m,U)),Ys(this.h,x),this.Ua&&Fe(m,"TYPE","init"),this.P?(Fe(m,"$req",f),Fe(m,"SID","null"),x.T=!0,Oi(x,m,null)):Oi(x,m,f),this.G=2}}else this.G==3&&(l?qi(this,l):this.i.length==0||Wt(this.h)||qi(this))};function qi(l,f){var m;f?m=f.l:m=l.U++;const v=Gt(l.I);Fe(v,"SID",l.K),Fe(v,"RID",m),Fe(v,"AID",l.T),Xn(l,v),l.m&&l.o&&yr(v,l.m,l.o),m=new mn(l,l.j,m,l.B+1),l.m===null&&(m.H=l.o),f&&(l.i=f.D.concat(l.i)),f=_r(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Ys(l.h,m),Oi(m,v,f)}function Xn(l,f){l.H&&Pe(l.H,function(m,v){Fe(f,v,m)}),l.l&&hr({},function(m,v){Fe(f,v,m)})}function _r(l,f,m){m=Math.min(l.i.length,m);var v=l.l?z(l.l.Na,l.l,l):null;e:{var x=l.i;let U=-1;for(;;){const W=["count="+m];U==-1?0<m?(U=x[0].g,W.push("ofs="+U)):U=0:W.push("ofs="+U);let Oe=!0;for(let lt=0;lt<m;lt++){let Te=x[lt].g;const dt=x[lt].map;if(Te-=U,0>Te)U=Math.max(0,x[lt].g-100),Oe=!1;else try{al(dt,W,"req"+Te+"_")}catch{v&&v(dt)}}if(Oe){v=W.join("&");break e}}}return l=l.i.splice(0,m),f.D=l,v}function ni(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;Me||J(),G||(Me(),G=!0),le.add(f,l),l.v=0}}function bi(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=fn(z(l.Fa,l),hl(l,l.v)),l.v++,!0)}s.Fa=function(){if(this.u=null,cl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=fn(z(this.ab,this),l)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Je(10),En(this),cl(this))};function ro(l){l.A!=null&&(g.clearTimeout(l.A),l.A=null)}function cl(l){l.g=new mn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=Gt(l.qa);Fe(f,"RID","rpc"),Fe(f,"SID",l.K),Fe(f,"AID",l.T),Fe(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&Fe(f,"TO",l.ja),Fe(f,"TYPE","xmlhttp"),Xn(l,f),l.m&&l.o&&yr(f,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=pr(Gt(f)),m.m=null,m.P=!0,Gs(m,l)}s.Za=function(){this.C!=null&&(this.C=null,En(this),bi(this),Je(19))};function Hi(l){l.C!=null&&(g.clearTimeout(l.C),l.C=null)}function Qi(l,f){var m=null;if(l.g==f){Hi(l),ro(l),l.g=null;var v=2}else if(xt(l.h,f))m=f.D,tl(l.h,f),v=1;else return;if(l.G!=0){if(f.o)if(v==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var x=l.B;v=Qr(),ot(v,new Di(v,m)),Nn(l)}else ni(l);else if(x=f.s,x==3||x==0&&0<f.X||!(v==1&&Ga(l,f)||v==2&&bi(l)))switch(m&&0<m.length&&(f=l.h,f.i=f.i.concat(m)),x){case 1:Yn(l,5);break;case 4:Yn(l,10);break;case 3:Yn(l,6);break;default:Yn(l,2)}}}function hl(l,f){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*f}function Yn(l,f){if(l.j.info("Error code "+f),f==2){var m=z(l.fb,l),v=l.Xa;const x=!v;v=new Kn(v||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Zr(v,"https"),pr(v),x?Qa(v.toString(),m):ll(v.toString(),m)}else Je(2);l.G=0,l.l&&l.l.sa(f),fl(l),$i(l)}s.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Je(2)):(this.j.info("Failed to ping google.com"),Je(1))};function fl(l){if(l.G=0,l.ka=[],l.l){const f=nl(l.h);(f.length!=0||l.i.length!=0)&&(K(l.ka,f),K(l.ka,l.i),l.h.i.length=0,Z(l.i),l.i.length=0),l.l.ra()}}function dl(l,f,m){var v=m instanceof Kn?Gt(m):new Kn(m);if(v.g!="")f&&(v.g=f+"."+v.g),fr(v,v.s);else{var x=g.location;v=x.protocol,f=f?f+"."+x.hostname:x.hostname,x=+x.port;var U=new Kn(null);v&&Zr(U,v),f&&(U.g=f),x&&fr(U,x),m&&(U.l=m),v=U}return m=l.D,f=l.ya,m&&f&&Fe(v,m,f),Fe(v,"VER",l.la),Xn(l,v),v}function pl(l,f,m){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new qe(new Wn({eb:m})):new qe(l.pa),f.Ha(l.J),f}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function io(){}s=io.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Ki(){}Ki.prototype.g=function(l,f){return new Lt(l,f)};function Lt(l,f){st.call(this),this.g=new no(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!Re(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!Re(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new xn(this)}te(Lt,st),Lt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Lt.prototype.close=function(){vt(this.g)},Lt.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.u&&(m={},m.__data__=js(l),l=m);f.i.push(new Zo(f.Ya++,l)),f.G==3&&Nn(f)},Lt.prototype.N=function(){this.g.l=null,delete this.j,vt(this.g),delete this.g,Lt.aa.N.call(this)};function ml(l){Rn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const m in f){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}te(ml,Rn);function gl(){Vi.call(this),this.status=1}te(gl,Vi);function xn(l){this.g=l}te(xn,io),xn.prototype.ua=function(){ot(this.g,"a")},xn.prototype.ta=function(l){ot(this.g,new ml(l))},xn.prototype.sa=function(l){ot(this.g,new gl)},xn.prototype.ra=function(){ot(this.g,"b")},Ki.prototype.createWebChannel=Ki.prototype.g,Lt.prototype.send=Lt.prototype.o,Lt.prototype.open=Lt.prototype.m,Lt.prototype.close=Lt.prototype.close,Kp=function(){return new Ki},Qp=function(){return Qr()},Hp=Pn,Oc={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xi.NO_ERROR=0,xi.TIMEOUT=8,xi.HTTP_ERROR=6,ga=xi,Go.COMPLETE="complete",bp=Go,ki.EventType=tn,tn.OPEN="a",tn.CLOSE="b",tn.ERROR="c",tn.MESSAGE="d",st.prototype.listen=st.prototype.K,Vo=ki,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,qp=qe}).apply(typeof ca<"u"?ca:typeof self<"u"?self:typeof window<"u"?window:{});const Qd="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Dt.UNAUTHENTICATED=new Dt(null),Dt.GOOGLE_CREDENTIALS=new Dt("google-credentials-uid"),Dt.FIRST_PARTY=new Dt("first-party-uid"),Dt.MOCK_USER=new Dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vs="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi=new Mp("@firebase/firestore");function ms(){return wi.logLevel}function ee(s,...t){if(wi.logLevel<=Ie.DEBUG){const r=t.map(eh);wi.debug(`Firestore (${Vs}): ${s}`,...r)}}function lr(s,...t){if(wi.logLevel<=Ie.ERROR){const r=t.map(eh);wi.error(`Firestore (${Vs}): ${s}`,...r)}}function Ss(s,...t){if(wi.logLevel<=Ie.WARN){const r=t.map(eh);wi.warn(`Firestore (${Vs}): ${s}`,...r)}}function eh(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(s="Unexpected state"){const t=`FIRESTORE (${Vs}) INTERNAL ASSERTION FAILED: `+s;throw lr(t),new Error(t)}function Ke(s,t){s||pe()}function Ce(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends ks{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class V_{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(Dt.UNAUTHENTICATED))}shutdown(){}}class D_{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class N_{constructor(t){this.t=t,this.currentUser=Dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Ke(this.o===void 0);let o=this.i;const a=_=>this.i!==o?(o=this.i,r(_)):Promise.resolve();let c=new vi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new vi,t.enqueueRetryable(()=>a(this.currentUser))};const p=()=>{const _=c;t.enqueueRetryable(async()=>{await _.promise,await a(this.currentUser)})},g=_=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new vi)}},0),p()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==t?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Ke(typeof o.accessToken=="string"),new Wp(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ke(t===null||typeof t=="string"),new Dt(t)}}class x_{constructor(t,r,o){this.l=t,this.h=r,this.P=o,this.type="FirstParty",this.user=Dt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class L_{constructor(t,r,o){this.l=t,this.h=r,this.P=o}getToken(){return Promise.resolve(new x_(this.l,this.h,this.P))}start(t,r){t.enqueueRetryable(()=>r(Dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class O_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class M_{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,r){Ke(this.o===void 0);const o=c=>{c.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.R;return this.R=c.token,ee("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?r(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>o(c))};const a=c=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?a(c):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(Ke(typeof r.token=="string"),this.R=r.token,new O_(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let o=0;o<s;o++)r[o]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/t.length)*t.length;let o="";for(;o.length<20;){const a=F_(40);for(let c=0;c<a.length;++c)o.length<20&&a[c]<r&&(o+=t.charAt(a[c]%t.length))}return o}}function Ae(s,t){return s<t?-1:s>t?1:0}function Is(s,t,r){return s.length===t.length&&s.every((o,a)=>r(o,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{static now(){return Kt.fromMillis(Date.now())}static fromDate(t){return Kt.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),o=Math.floor(1e6*(t-1e3*r));return new Kt(r,o)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new ce(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ce(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<-62135596800)throw new ce(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ce(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Ae(this.nanoseconds,t.nanoseconds):Ae(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{static fromTimestamp(t){return new de(t)}static min(){return new de(new Kt(0,0))}static max(){return new de(new Kt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(t,r,o){r===void 0?r=0:r>t.length&&pe(),o===void 0?o=t.length-r:o>t.length-r&&pe(),this.segments=t,this.offset=r,this.len=o}get length(){return this.len}isEqual(t){return Bo.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Bo?t.forEach(o=>{r.push(o)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,o=this.limit();r<o;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const o=Math.min(t.length,r.length);for(let a=0;a<o;a++){const c=t.get(a),p=r.get(a);if(c<p)return-1;if(c>p)return 1}return t.length<r.length?-1:t.length>r.length?1:0}}class Ge extends Bo{construct(t,r,o){return new Ge(t,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const o of t){if(o.indexOf("//")>=0)throw new ce(X.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(a=>a.length>0))}return new Ge(r)}static emptyPath(){return new Ge([])}}const z_=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends Bo{construct(t,r,o){return new Ft(t,r,o)}static isValidIdentifier(t){return z_.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ft(["__name__"])}static fromServerFormat(t){const r=[];let o="",a=0;const c=()=>{if(o.length===0)throw new ce(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let p=!1;for(;a<t.length;){const g=t[a];if(g==="\\"){if(a+1===t.length)throw new ce(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[a+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ce(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);o+=_,a+=2}else g==="`"?(p=!p,a++):g!=="."||p?(o+=g,a++):(c(),a++)}if(c(),p)throw new ce(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ft(r)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t){this.path=t}static fromPath(t){return new he(Ge.fromString(t))}static fromName(t){return new he(Ge.fromString(t).popFirst(5))}static empty(){return new he(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ge.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Ge.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new he(new Ge(t.slice()))}}function B_(s,t){const r=s.toTimestamp().seconds,o=s.toTimestamp().nanoseconds+1,a=de.fromTimestamp(o===1e9?new Kt(r+1,0):new Kt(r,o));return new Fr(a,he.empty(),t)}function j_(s){return new Fr(s.readTime,s.key,-1)}class Fr{constructor(t,r,o){this.readTime=t,this.documentKey=r,this.largestBatchId=o}static min(){return new Fr(de.min(),he.empty(),-1)}static max(){return new Fr(de.max(),he.empty(),-1)}}function $_(s,t){let r=s.readTime.compareTo(t.readTime);return r!==0?r:(r=he.comparator(s.documentKey,t.documentKey),r!==0?r:Ae(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class b_{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Da(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==q_)throw s;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new j((o,a)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(o,a)},this.catchCallback=c=>{this.wrapFailure(r,c).next(o,a)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof j?r:j.resolve(r)}catch(r){return j.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):j.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):j.reject(r)}static resolve(t){return new j((r,o)=>{r(t)})}static reject(t){return new j((r,o)=>{o(t)})}static waitFor(t){return new j((r,o)=>{let a=0,c=0,p=!1;t.forEach(g=>{++a,g.next(()=>{++c,p&&c===a&&r()},_=>o(_))}),p=!0,c===a&&r()})}static or(t){let r=j.resolve(!1);for(const o of t)r=r.next(a=>a?j.resolve(a):o());return r}static forEach(t,r){const o=[];return t.forEach((a,c)=>{o.push(r.call(this,a,c))}),this.waitFor(o)}static mapArray(t,r){return new j((o,a)=>{const c=t.length,p=new Array(c);let g=0;for(let _=0;_<c;_++){const E=_;r(t[E]).next(C=>{p[E]=C,++g,g===c&&o(p)},C=>a(C))}})}static doWhile(t,r){return new j((o,a)=>{const c=()=>{t()===!0?r().next(()=>{c()},a):o()};c()})}}function H_(s){const t=s.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Ds(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=o=>this.ie(o),this.se=o=>r.writeSequenceNumber(o))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}Na.oe=-1;function xa(s){return s==null}function Mc(s){return s===0&&1/s==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(s){let t="";for(let r=0;r<s.length;r++)t.length>0&&(t=Kd(t)),t=K_(s.get(r),t);return Kd(t)}function K_(s,t){let r=t;const o=s.length;for(let a=0;a<o;a++){const c=s.charAt(a);switch(c){case"\0":r+="";break;case"":r+="";break;default:r+=c}}return r}function Kd(s){return s+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(s){let t=0;for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&t++;return t}function bo(s,t){for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&t(r,s[r])}function W_(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t,r){this.comparator=t,this.root=r||Tt.EMPTY}insert(t,r){return new tt(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Tt.BLACK,null,null))}remove(t){return new tt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Tt.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(t){let r=0,o=this.root;for(;!o.isEmpty();){const a=this.comparator(t,o.key);if(a===0)return r+o.left.size;a<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,o)=>(t(r,o),!1))}toString(){const t=[];return this.inorderTraversal((r,o)=>(t.push(`${r}:${o}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ha(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ha(this.root,t,this.comparator,!1)}getReverseIterator(){return new ha(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ha(this.root,t,this.comparator,!0)}}class ha{constructor(t,r,o,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=r?o(t.key,r):1,r&&a&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Tt{constructor(t,r,o,a,c){this.key=t,this.value=r,this.color=o??Tt.RED,this.left=a??Tt.EMPTY,this.right=c??Tt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,o,a,c){return new Tt(t??this.key,r??this.value,o??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,o){let a=this;const c=o(t,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(t,r,o),null):c===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(t,r,o)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Tt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let o,a=this;if(r(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(t,a.key)===0){if(a.right.isEmpty())return Tt.EMPTY;o=a.right.min(),a=a.copy(o.key,o.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pe();const t=this.left.check();if(t!==this.right.check())throw pe();return t+(this.isRed()?0:1)}}Tt.EMPTY=null,Tt.RED=!0,Tt.BLACK=!1;Tt.EMPTY=new class{constructor(){this.size=0}get key(){throw pe()}get value(){throw pe()}get color(){throw pe()}get left(){throw pe()}get right(){throw pe()}copy(t,r,o,a,c){return this}insert(t,r,o){return new Tt(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.comparator=t,this.data=new tt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,o)=>(t(r),!1))}forEachInRange(t,r){const o=this.data.getIteratorFrom(t[0]);for(;o.hasNext();){const a=o.getNext();if(this.comparator(a.key,t[1])>=0)return;r(a.key)}}forEachWhile(t,r){let o;for(o=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!t(o.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new Gd(this.data.getIterator())}getIteratorFrom(t){return new Gd(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(o=>{r=r.add(o)}),r}isEqual(t){if(!(t instanceof ht)||this.size!==t.size)return!1;const r=this.data.getIterator(),o=t.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,c=o.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new ht(this.comparator);return r.data=t,r}}class Gd{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(t){this.fields=t,t.sort(Ft.comparator)}static empty(){return new xr([])}unionWith(t){let r=new ht(Ft.comparator);for(const o of this.fields)r=r.add(o);for(const o of t)r=r.add(o);return new xr(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return Is(this.fields,t.fields,(r,o)=>r.isEqual(o))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Gp("Invalid base64 string: "+c):c}}(t);return new St(r)}static fromUint8Array(t){const r=function(a){let c="";for(let p=0;p<a.length;++p)c+=String.fromCharCode(a[p]);return c}(t);return new St(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const o=new Uint8Array(r.length);for(let a=0;a<r.length;a++)o[a]=r.charCodeAt(a);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ae(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}St.EMPTY_BYTE_STRING=new St("");const G_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ur(s){if(Ke(!!s),typeof s=="string"){let t=0;const r=G_.exec(s);if(Ke(!!r),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),t=Number(a)}const o=new Date(s);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:et(s.seconds),nanos:et(s.nanos)}}function et(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function zr(s){return typeof s=="string"?St.fromBase64String(s):St.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(s){var t,r;return((r=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function La(s){const t=s.mapValue.fields.__previous_value__;return th(t)?La(t):t}function jo(s){const t=Ur(s.mapValue.fields.__local_write_time__.timestampValue);return new Kt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(t,r,o,a,c,p,g,_,E){this.databaseId=t,this.appId=r,this.persistenceKey=o,this.host=a,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=E}}class $o{constructor(t,r){this.projectId=t,this.database=r||"(default)"}static empty(){return new $o("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof $o&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Br(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?th(s)?4:J_(s)?9007199254740991:Y_(s)?10:11:pe()}function Bn(s,t){if(s===t)return!0;const r=Br(s);if(r!==Br(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return jo(s).isEqual(jo(t));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const p=Ur(a.timestampValue),g=Ur(c.timestampValue);return p.seconds===g.seconds&&p.nanos===g.nanos}(s,t);case 5:return s.stringValue===t.stringValue;case 6:return function(a,c){return zr(a.bytesValue).isEqual(zr(c.bytesValue))}(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return function(a,c){return et(a.geoPointValue.latitude)===et(c.geoPointValue.latitude)&&et(a.geoPointValue.longitude)===et(c.geoPointValue.longitude)}(s,t);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return et(a.integerValue)===et(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const p=et(a.doubleValue),g=et(c.doubleValue);return p===g?Mc(p)===Mc(g):isNaN(p)&&isNaN(g)}return!1}(s,t);case 9:return Is(s.arrayValue.values||[],t.arrayValue.values||[],Bn);case 10:case 11:return function(a,c){const p=a.mapValue.fields||{},g=c.mapValue.fields||{};if(Wd(p)!==Wd(g))return!1;for(const _ in p)if(p.hasOwnProperty(_)&&(g[_]===void 0||!Bn(p[_],g[_])))return!1;return!0}(s,t);default:return pe()}}function qo(s,t){return(s.values||[]).find(r=>Bn(r,t))!==void 0}function As(s,t){if(s===t)return 0;const r=Br(s),o=Br(t);if(r!==o)return Ae(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ae(s.booleanValue,t.booleanValue);case 2:return function(c,p){const g=et(c.integerValue||c.doubleValue),_=et(p.integerValue||p.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(s,t);case 3:return Xd(s.timestampValue,t.timestampValue);case 4:return Xd(jo(s),jo(t));case 5:return Ae(s.stringValue,t.stringValue);case 6:return function(c,p){const g=zr(c),_=zr(p);return g.compareTo(_)}(s.bytesValue,t.bytesValue);case 7:return function(c,p){const g=c.split("/"),_=p.split("/");for(let E=0;E<g.length&&E<_.length;E++){const C=Ae(g[E],_[E]);if(C!==0)return C}return Ae(g.length,_.length)}(s.referenceValue,t.referenceValue);case 8:return function(c,p){const g=Ae(et(c.latitude),et(p.latitude));return g!==0?g:Ae(et(c.longitude),et(p.longitude))}(s.geoPointValue,t.geoPointValue);case 9:return Yd(s.arrayValue,t.arrayValue);case 10:return function(c,p){var g,_,E,C;const M=c.fields||{},z=p.fields||{},H=(g=M.value)===null||g===void 0?void 0:g.arrayValue,te=(_=z.value)===null||_===void 0?void 0:_.arrayValue,Z=Ae(((E=H==null?void 0:H.values)===null||E===void 0?void 0:E.length)||0,((C=te==null?void 0:te.values)===null||C===void 0?void 0:C.length)||0);return Z!==0?Z:Yd(H,te)}(s.mapValue,t.mapValue);case 11:return function(c,p){if(c===fa.mapValue&&p===fa.mapValue)return 0;if(c===fa.mapValue)return 1;if(p===fa.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),E=p.fields||{},C=Object.keys(E);_.sort(),C.sort();for(let M=0;M<_.length&&M<C.length;++M){const z=Ae(_[M],C[M]);if(z!==0)return z;const H=As(g[_[M]],E[C[M]]);if(H!==0)return H}return Ae(_.length,C.length)}(s.mapValue,t.mapValue);default:throw pe()}}function Xd(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Ae(s,t);const r=Ur(s),o=Ur(t),a=Ae(r.seconds,o.seconds);return a!==0?a:Ae(r.nanos,o.nanos)}function Yd(s,t){const r=s.values||[],o=t.values||[];for(let a=0;a<r.length&&a<o.length;++a){const c=As(r[a],o[a]);if(c)return c}return Ae(r.length,o.length)}function Cs(s){return Fc(s)}function Fc(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(r){const o=Ur(r);return`time(${o.seconds},${o.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(r){return zr(r).toBase64()}(s.bytesValue):"referenceValue"in s?function(r){return he.fromName(r).toString()}(s.referenceValue):"geoPointValue"in s?function(r){return`geo(${r.latitude},${r.longitude})`}(s.geoPointValue):"arrayValue"in s?function(r){let o="[",a=!0;for(const c of r.values||[])a?a=!1:o+=",",o+=Fc(c);return o+"]"}(s.arrayValue):"mapValue"in s?function(r){const o=Object.keys(r.fields||{}).sort();let a="{",c=!0;for(const p of o)c?c=!1:a+=",",a+=`${p}:${Fc(r.fields[p])}`;return a+"}"}(s.mapValue):pe()}function ya(s){switch(Br(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=La(s);return t?16+ya(t):16;case 5:return 2*s.stringValue.length;case 6:return zr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(o){return(o.values||[]).reduce((a,c)=>a+ya(c),0)}(s.arrayValue);case 10:case 11:return function(o){let a=0;return bo(o.fields,(c,p)=>{a+=c.length+ya(p)}),a}(s.mapValue);default:throw pe()}}function Uc(s){return!!s&&"integerValue"in s}function nh(s){return!!s&&"arrayValue"in s}function Jd(s){return!!s&&"nullValue"in s}function Zd(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Ic(s){return!!s&&"mapValue"in s}function Y_(s){var t,r;return((r=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Lo(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const t={mapValue:{fields:{}}};return bo(s.mapValue.fields,(r,o)=>t.mapValue.fields[r]=Lo(o)),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(s.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Lo(s.arrayValue.values[r]);return t}return Object.assign({},s)}function J_(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t){this.value=t}static empty(){return new Un({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let o=0;o<t.length-1;++o)if(r=(r.mapValue.fields||{})[t.get(o)],!Ic(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Lo(r)}setAll(t){let r=Ft.emptyPath(),o={},a=[];t.forEach((p,g)=>{if(!r.isImmediateParentOf(g)){const _=this.getFieldsMap(r);this.applyChanges(_,o,a),o={},a=[],r=g.popLast()}p?o[g.lastSegment()]=Lo(p):a.push(g.lastSegment())});const c=this.getFieldsMap(r);this.applyChanges(c,o,a)}delete(t){const r=this.field(t.popLast());Ic(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Bn(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<t.length;++o){let a=r.mapValue.fields[t.get(o)];Ic(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[t.get(o)]=a),r=a}return r.mapValue.fields}applyChanges(t,r,o){bo(r,(a,c)=>t[a]=c);for(const a of o)delete t[a]}clone(){return new Un(Lo(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(t,r,o,a,c,p,g){this.key=t,this.documentType=r,this.version=o,this.readTime=a,this.createTime=c,this.data=p,this.documentState=g}static newInvalidDocument(t){return new Nt(t,0,de.min(),de.min(),de.min(),Un.empty(),0)}static newFoundDocument(t,r,o,a){return new Nt(t,1,r,de.min(),o,a,0)}static newNoDocument(t,r){return new Nt(t,2,r,de.min(),de.min(),Un.empty(),0)}static newUnknownDocument(t,r){return new Nt(t,3,r,de.min(),de.min(),Un.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Nt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Nt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(t,r){this.position=t,this.inclusive=r}}function ep(s,t,r){let o=0;for(let a=0;a<s.position.length;a++){const c=t[a],p=s.position[a];if(c.field.isKeyField()?o=he.comparator(he.fromName(p.referenceValue),r.key):o=As(p,r.data.field(c.field)),c.dir==="desc"&&(o*=-1),o!==0)break}return o}function tp(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let r=0;r<s.position.length;r++)if(!Bn(s.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(t,r="asc"){this.field=t,this.dir=r}}function Z_(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{}class ct extends Xp{constructor(t,r,o){super(),this.field=t,this.op=r,this.value=o}static create(t,r,o){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,o):new tv(t,r,o):r==="array-contains"?new iv(t,o):r==="in"?new sv(t,o):r==="not-in"?new ov(t,o):r==="array-contains-any"?new lv(t,o):new ct(t,r,o)}static createKeyFieldInFilter(t,r,o){return r==="in"?new nv(t,o):new rv(t,o)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(As(r,this.value)):r!==null&&Br(this.value)===Br(r)&&this.matchesComparison(As(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jn extends Xp{constructor(t,r){super(),this.filters=t,this.op=r,this.ae=null}static create(t,r){return new jn(t,r)}matches(t){return Yp(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Yp(s){return s.op==="and"}function Jp(s){return ev(s)&&Yp(s)}function ev(s){for(const t of s.filters)if(t instanceof jn)return!1;return!0}function zc(s){if(s instanceof ct)return s.field.canonicalString()+s.op.toString()+Cs(s.value);if(Jp(s))return s.filters.map(t=>zc(t)).join(",");{const t=s.filters.map(r=>zc(r)).join(",");return`${s.op}(${t})`}}function Zp(s,t){return s instanceof ct?function(o,a){return a instanceof ct&&o.op===a.op&&o.field.isEqual(a.field)&&Bn(o.value,a.value)}(s,t):s instanceof jn?function(o,a){return a instanceof jn&&o.op===a.op&&o.filters.length===a.filters.length?o.filters.reduce((c,p,g)=>c&&Zp(p,a.filters[g]),!0):!1}(s,t):void pe()}function em(s){return s instanceof ct?function(r){return`${r.field.canonicalString()} ${r.op} ${Cs(r.value)}`}(s):s instanceof jn?function(r){return r.op.toString()+" {"+r.getFilters().map(em).join(" ,")+"}"}(s):"Filter"}class tv extends ct{constructor(t,r,o){super(t,r,o),this.key=he.fromName(o.referenceValue)}matches(t){const r=he.comparator(t.key,this.key);return this.matchesComparison(r)}}class nv extends ct{constructor(t,r){super(t,"in",r),this.keys=tm("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class rv extends ct{constructor(t,r){super(t,"not-in",r),this.keys=tm("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function tm(s,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(o=>he.fromName(o.referenceValue))}class iv extends ct{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return nh(r)&&qo(r.arrayValue,this.value)}}class sv extends ct{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&qo(this.value.arrayValue,r)}}class ov extends ct{constructor(t,r){super(t,"not-in",r)}matches(t){if(qo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&!qo(this.value.arrayValue,r)}}class lv extends ct{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!nh(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>qo(this.value.arrayValue,o))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(t,r=null,o=[],a=[],c=null,p=null,g=null){this.path=t,this.collectionGroup=r,this.orderBy=o,this.filters=a,this.limit=c,this.startAt=p,this.endAt=g,this.ue=null}}function np(s,t=null,r=[],o=[],a=null,c=null,p=null){return new av(s,t,r,o,a,c,p)}function rh(s){const t=Ce(s);if(t.ue===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(o=>zc(o)).join(","),r+="|ob:",r+=t.orderBy.map(o=>function(c){return c.field.canonicalString()+c.dir}(o)).join(","),xa(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>Cs(o)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>Cs(o)).join(",")),t.ue=r}return t.ue}function ih(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<s.orderBy.length;r++)if(!Z_(s.orderBy[r],t.orderBy[r]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let r=0;r<s.filters.length;r++)if(!Zp(s.filters[r],t.filters[r]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!tp(s.startAt,t.startAt)&&tp(s.endAt,t.endAt)}function Bc(s){return he.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(t,r=null,o=[],a=[],c=null,p="F",g=null,_=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=a,this.limit=c,this.limitType=p,this.startAt=g,this.endAt=_,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function uv(s,t,r,o,a,c,p,g){return new Oa(s,t,r,o,a,c,p,g)}function nm(s){return new Oa(s)}function rp(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function cv(s){return s.collectionGroup!==null}function Oo(s){const t=Ce(s);if(t.ce===null){t.ce=[];const r=new Set;for(const c of t.explicitOrderBy)t.ce.push(c),r.add(c.field.canonicalString());const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(p){let g=new ht(Ft.comparator);return p.filters.forEach(_=>{_.getFlattenedFilters().forEach(E=>{E.isInequality()&&(g=g.add(E.field))})}),g})(t).forEach(c=>{r.has(c.canonicalString())||c.isKeyField()||t.ce.push(new Aa(c,o))}),r.has(Ft.keyField().canonicalString())||t.ce.push(new Aa(Ft.keyField(),o))}return t.ce}function zn(s){const t=Ce(s);return t.le||(t.le=hv(t,Oo(s))),t.le}function hv(s,t){if(s.limitType==="F")return np(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new Aa(a.field,c)});const r=s.endAt?new Ia(s.endAt.position,s.endAt.inclusive):null,o=s.startAt?new Ia(s.startAt.position,s.startAt.inclusive):null;return np(s.path,s.collectionGroup,t,s.filters,s.limit,r,o)}}function jc(s,t,r){return new Oa(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,r,s.startAt,s.endAt)}function Ma(s,t){return ih(zn(s),zn(t))&&s.limitType===t.limitType}function rm(s){return`${rh(zn(s))}|lt:${s.limitType}`}function gs(s){return`Query(target=${function(r){let o=r.path.canonicalString();return r.collectionGroup!==null&&(o+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(o+=`, filters: [${r.filters.map(a=>em(a)).join(", ")}]`),xa(r.limit)||(o+=", limit: "+r.limit),r.orderBy.length>0&&(o+=`, orderBy: [${r.orderBy.map(a=>function(p){return`${p.field.canonicalString()} (${p.dir})`}(a)).join(", ")}]`),r.startAt&&(o+=", startAt: ",o+=r.startAt.inclusive?"b:":"a:",o+=r.startAt.position.map(a=>Cs(a)).join(",")),r.endAt&&(o+=", endAt: ",o+=r.endAt.inclusive?"a:":"b:",o+=r.endAt.position.map(a=>Cs(a)).join(",")),`Target(${o})`}(zn(s))}; limitType=${s.limitType})`}function Fa(s,t){return t.isFoundDocument()&&function(o,a){const c=a.key.path;return o.collectionGroup!==null?a.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(c):he.isDocumentKey(o.path)?o.path.isEqual(c):o.path.isImmediateParentOf(c)}(s,t)&&function(o,a){for(const c of Oo(o))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(s,t)&&function(o,a){for(const c of o.filters)if(!c.matches(a))return!1;return!0}(s,t)&&function(o,a){return!(o.startAt&&!function(p,g,_){const E=ep(p,g,_);return p.inclusive?E<=0:E<0}(o.startAt,Oo(o),a)||o.endAt&&!function(p,g,_){const E=ep(p,g,_);return p.inclusive?E>=0:E>0}(o.endAt,Oo(o),a))}(s,t)}function fv(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function im(s){return(t,r)=>{let o=!1;for(const a of Oo(s)){const c=dv(a,t,r);if(c!==0)return c;o=o||a.field.isKeyField()}return 0}}function dv(s,t,r){const o=s.field.isKeyField()?he.comparator(t.key,r.key):function(c,p,g){const _=p.data.field(c),E=g.data.field(c);return _!==null&&E!==null?As(_,E):pe()}(s.field,t,r);switch(s.dir){case"asc":return o;case"desc":return-1*o;default:return pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),o=this.inner[r];if(o!==void 0){for(const[a,c]of o)if(this.equalsFn(a,t))return c}}has(t){return this.get(t)!==void 0}set(t,r){const o=this.mapKeyFn(t),a=this.inner[o];if(a===void 0)return this.inner[o]=[[t,r]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],t))return void(a[c]=[t,r]);a.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return!1;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],t))return o.length===1?delete this.inner[r]:o.splice(a,1),this.innerSize--,!0;return!1}forEach(t){bo(this.inner,(r,o)=>{for(const[a,c]of o)t(a,c)})}isEmpty(){return W_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv=new tt(he.comparator);function jr(){return pv}const sm=new tt(he.comparator);function Do(...s){let t=sm;for(const r of s)t=t.insert(r.key,r);return t}function mv(s){let t=sm;return s.forEach((r,o)=>t=t.insert(r,o.overlayedDocument)),t}function yi(){return Mo()}function om(){return Mo()}function Mo(){return new Ti(s=>s.toString(),(s,t)=>s.isEqual(t))}const gv=new ht(he.comparator);function Ve(...s){let t=gv;for(const r of s)t=t.add(r);return t}const yv=new ht(Ae);function _v(){return yv}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mc(t)?"-0":t}}function Ev(s){return{integerValue:""+s}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(){this._=void 0}}function wv(s,t,r){return s instanceof $c?function(a,c){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&th(c)&&(c=La(c)),c&&(p.fields.__previous_value__=c),{mapValue:p}}(r,t):s instanceof Ca?lm(s,t):s instanceof Ra?am(s,t):function(a,c){const p=Sv(a,c),g=ip(p)+ip(a.Pe);return Uc(p)&&Uc(a.Pe)?Ev(g):vv(a.serializer,g)}(s,t)}function Tv(s,t,r){return s instanceof Ca?lm(s,t):s instanceof Ra?am(s,t):r}function Sv(s,t){return s instanceof qc?function(o){return Uc(o)||function(c){return!!c&&"doubleValue"in c}(o)}(t)?t:{integerValue:0}:null}class $c extends Ua{}class Ca extends Ua{constructor(t){super(),this.elements=t}}function lm(s,t){const r=um(t);for(const o of s.elements)r.some(a=>Bn(a,o))||r.push(o);return{arrayValue:{values:r}}}class Ra extends Ua{constructor(t){super(),this.elements=t}}function am(s,t){let r=um(t);for(const o of s.elements)r=r.filter(a=>!Bn(a,o));return{arrayValue:{values:r}}}class qc extends Ua{constructor(t,r){super(),this.serializer=t,this.Pe=r}}function ip(s){return et(s.integerValue||s.doubleValue)}function um(s){return nh(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function Iv(s,t){return s.field.isEqual(t.field)&&function(o,a){return o instanceof Ca&&a instanceof Ca||o instanceof Ra&&a instanceof Ra?Is(o.elements,a.elements,Bn):o instanceof qc&&a instanceof qc?Bn(o.Pe,a.Pe):o instanceof $c&&a instanceof $c}(s.transform,t.transform)}class Ei{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new Ei}static exists(t){return new Ei(void 0,t)}static updateTime(t){return new Ei(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function _a(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class sh{}function cm(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Cv(s.key,Ei.none()):new oh(s.key,s.data,Ei.none());{const r=s.data,o=Un.empty();let a=new ht(Ft.comparator);for(let c of t.fields)if(!a.has(c)){let p=r.field(c);p===null&&c.length>1&&(c=c.popLast(),p=r.field(c)),p===null?o.delete(c):o.set(c,p),a=a.add(c)}return new za(s.key,o,new xr(a.toArray()),Ei.none())}}function Av(s,t,r){s instanceof oh?function(a,c,p){const g=a.value.clone(),_=op(a.fieldTransforms,c,p.transformResults);g.setAll(_),c.convertToFoundDocument(p.version,g).setHasCommittedMutations()}(s,t,r):s instanceof za?function(a,c,p){if(!_a(a.precondition,c))return void c.convertToUnknownDocument(p.version);const g=op(a.fieldTransforms,c,p.transformResults),_=c.data;_.setAll(hm(a)),_.setAll(g),c.convertToFoundDocument(p.version,_).setHasCommittedMutations()}(s,t,r):function(a,c,p){c.convertToNoDocument(p.version).setHasCommittedMutations()}(0,t,r)}function Fo(s,t,r,o){return s instanceof oh?function(c,p,g,_){if(!_a(c.precondition,p))return g;const E=c.value.clone(),C=lp(c.fieldTransforms,_,p);return E.setAll(C),p.convertToFoundDocument(p.version,E).setHasLocalMutations(),null}(s,t,r,o):s instanceof za?function(c,p,g,_){if(!_a(c.precondition,p))return g;const E=lp(c.fieldTransforms,_,p),C=p.data;return C.setAll(hm(c)),C.setAll(E),p.convertToFoundDocument(p.version,C).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(M=>M.field))}(s,t,r,o):function(c,p,g){return _a(c.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):g}(s,t,r)}function sp(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!function(o,a){return o===void 0&&a===void 0||!(!o||!a)&&Is(o,a,(c,p)=>Iv(c,p))}(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class oh extends sh{constructor(t,r,o,a=[]){super(),this.key=t,this.value=r,this.precondition=o,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class za extends sh{constructor(t,r,o,a,c=[]){super(),this.key=t,this.data=r,this.fieldMask=o,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function hm(s){const t=new Map;return s.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=s.data.field(r);t.set(r,o)}}),t}function op(s,t,r){const o=new Map;Ke(s.length===r.length);for(let a=0;a<r.length;a++){const c=s[a],p=c.transform,g=t.data.field(c.field);o.set(c.field,Tv(p,g,r[a]))}return o}function lp(s,t,r){const o=new Map;for(const a of s){const c=a.transform,p=r.data.field(a.field);o.set(a.field,wv(c,p,t))}return o}class Cv extends sh{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(t,r,o,a){this.batchId=t,this.localWriteTime=r,this.baseMutations=o,this.mutations=a}applyToRemoteDocument(t,r){const o=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(t.key)&&Av(c,t,o[a])}}applyToLocalView(t,r){for(const o of this.baseMutations)o.key.isEqual(t.key)&&(r=Fo(o,t,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(t.key)&&(r=Fo(o,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const o=om();return this.mutations.forEach(a=>{const c=t.get(a.key),p=c.overlayedDocument;let g=this.applyToLocalView(p,c.mutatedFields);g=r.has(a.key)?null:g;const _=cm(p,g);_!==null&&o.set(a.key,_),p.isValidDocument()||p.convertToNoDocument(de.min())}),o}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),Ve())}isEqual(t){return this.batchId===t.batchId&&Is(this.mutations,t.mutations,(r,o)=>sp(r,o))&&Is(this.baseMutations,t.baseMutations,(r,o)=>sp(r,o))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it,Se;function fm(s){if(s===void 0)return lr("GRPC error has no .code"),X.UNKNOWN;switch(s){case it.OK:return X.OK;case it.CANCELLED:return X.CANCELLED;case it.UNKNOWN:return X.UNKNOWN;case it.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case it.INTERNAL:return X.INTERNAL;case it.UNAVAILABLE:return X.UNAVAILABLE;case it.UNAUTHENTICATED:return X.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case it.NOT_FOUND:return X.NOT_FOUND;case it.ALREADY_EXISTS:return X.ALREADY_EXISTS;case it.PERMISSION_DENIED:return X.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case it.ABORTED:return X.ABORTED;case it.OUT_OF_RANGE:return X.OUT_OF_RANGE;case it.UNIMPLEMENTED:return X.UNIMPLEMENTED;case it.DATA_LOSS:return X.DATA_LOSS;default:return pe()}}(Se=it||(it={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv=new _i([4294967295,4294967295],0);function ap(s){const t=Vv().encode(s),r=new $p;return r.update(t),new Uint8Array(r.digest())}function up(s){const t=new DataView(s.buffer),r=t.getUint32(0,!0),o=t.getUint32(4,!0),a=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new _i([r,o],0),new _i([a,c],0)]}class lh{constructor(t,r,o){if(this.bitmap=t,this.padding=r,this.hashCount=o,r<0||r>=8)throw new No(`Invalid padding: ${r}`);if(o<0)throw new No(`Invalid hash count: ${o}`);if(t.length>0&&this.hashCount===0)throw new No(`Invalid hash count: ${o}`);if(t.length===0&&r!==0)throw new No(`Invalid padding when bitmap length is 0: ${r}`);this.Te=8*t.length-r,this.Ie=_i.fromNumber(this.Te)}Ee(t,r,o){let a=t.add(r.multiply(_i.fromNumber(o)));return a.compare(Dv)===1&&(a=new _i([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Ie).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const r=ap(t),[o,a]=up(r);for(let c=0;c<this.hashCount;c++){const p=this.Ee(o,a,c);if(!this.de(p))return!1}return!0}static create(t,r,o){const a=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),p=new lh(c,a,r);return o.forEach(g=>p.insert(g)),p}insert(t){if(this.Te===0)return;const r=ap(t),[o,a]=up(r);for(let c=0;c<this.hashCount;c++){const p=this.Ee(o,a,c);this.Ae(p)}}Ae(t){const r=Math.floor(t/8),o=t%8;this.bitmap[r]|=1<<o}}class No extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(t,r,o,a,c){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,r,o){const a=new Map;return a.set(t,Ho.createSynthesizedTargetChangeForCurrentChange(t,r,o)),new Ba(de.min(),a,new tt(Ae),jr(),Ve())}}class Ho{constructor(t,r,o,a,c){this.resumeToken=t,this.current=r,this.addedDocuments=o,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,r,o){return new Ho(o,r,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(t,r,o,a){this.Re=t,this.removedTargetIds=r,this.key=o,this.Ve=a}}class dm{constructor(t,r){this.targetId=t,this.me=r}}class pm{constructor(t,r,o=St.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=r,this.resumeToken=o,this.cause=a}}class cp{constructor(){this.fe=0,this.ge=hp(),this.pe=St.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Ve(),r=Ve(),o=Ve();return this.ge.forEach((a,c)=>{switch(c){case 0:t=t.add(a);break;case 2:r=r.add(a);break;case 1:o=o.add(a);break;default:pe()}}),new Ho(this.pe,this.ye,t,r,o)}Ce(){this.we=!1,this.ge=hp()}Fe(t,r){this.we=!0,this.ge=this.ge.insert(t,r)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Nv{constructor(t){this.Le=t,this.Be=new Map,this.ke=jr(),this.qe=da(),this.Qe=da(),this.Ke=new tt(Ae)}$e(t){for(const r of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.Ue(r,t.Ve):this.We(r,t.key,t.Ve);for(const r of t.removedTargetIds)this.We(r,t.key,t.Ve)}Ge(t){this.forEachTarget(t,r=>{const o=this.ze(r);switch(t.state){case 0:this.je(r)&&o.De(t.resumeToken);break;case 1:o.Oe(),o.Se||o.Ce(),o.De(t.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(r);break;case 3:this.je(r)&&(o.Ne(),o.De(t.resumeToken));break;case 4:this.je(r)&&(this.He(r),o.De(t.resumeToken));break;default:pe()}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.Be.forEach((o,a)=>{this.je(a)&&r(a)})}Je(t){const r=t.targetId,o=t.me.count,a=this.Ye(r);if(a){const c=a.target;if(Bc(c))if(o===0){const p=new he(c.path);this.We(r,p,Nt.newNoDocument(p,de.min()))}else Ke(o===1);else{const p=this.Ze(r);if(p!==o){const g=this.Xe(t),_=g?this.et(g,t,p):1;if(_!==0){this.He(r);const E=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(r,E)}}}}}Xe(t){const r=t.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:o="",padding:a=0},hashCount:c=0}=r;let p,g;try{p=zr(o).toUint8Array()}catch(_){if(_ instanceof Gp)return Ss("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new lh(p,a,c)}catch(_){return Ss(_ instanceof No?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.Te===0?null:g}et(t,r,o){return r.me.count===o-this.rt(t,r.targetId)?0:2}rt(t,r){const o=this.Le.getRemoteKeysForTarget(r);let a=0;return o.forEach(c=>{const p=this.Le.nt(),g=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.We(r,c,null),a++)}),a}it(t){const r=new Map;this.Be.forEach((c,p)=>{const g=this.Ye(p);if(g){if(c.current&&Bc(g.target)){const _=new he(g.target.path);this.st(_).has(p)||this.ot(p,_)||this.We(p,_,Nt.newNoDocument(_,t))}c.be&&(r.set(p,c.ve()),c.Ce())}});let o=Ve();this.Qe.forEach((c,p)=>{let g=!0;p.forEachWhile(_=>{const E=this.Ye(_);return!E||E.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(o=o.add(c))}),this.ke.forEach((c,p)=>p.setReadTime(t));const a=new Ba(t,r,this.Ke,this.ke,o);return this.ke=jr(),this.qe=da(),this.Qe=da(),this.Ke=new tt(Ae),a}Ue(t,r){if(!this.je(t))return;const o=this.ot(t,r.key)?2:0;this.ze(t).Fe(r.key,o),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(t)),this.Qe=this.Qe.insert(r.key,this._t(r.key).add(t))}We(t,r,o){if(!this.je(t))return;const a=this.ze(t);this.ot(t,r)?a.Fe(r,1):a.Me(r),this.Qe=this.Qe.insert(r,this._t(r).delete(t)),this.Qe=this.Qe.insert(r,this._t(r).add(t)),o&&(this.ke=this.ke.insert(r,o))}removeTarget(t){this.Be.delete(t)}Ze(t){const r=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}xe(t){this.ze(t).xe()}ze(t){let r=this.Be.get(t);return r||(r=new cp,this.Be.set(t,r)),r}_t(t){let r=this.Qe.get(t);return r||(r=new ht(Ae),this.Qe=this.Qe.insert(t,r)),r}st(t){let r=this.qe.get(t);return r||(r=new ht(Ae),this.qe=this.qe.insert(t,r)),r}je(t){const r=this.Ye(t)!==null;return r||ee("WatchChangeAggregator","Detected inactive target",t),r}Ye(t){const r=this.Be.get(t);return r&&r.Se?null:this.Le.ut(t)}He(t){this.Be.set(t,new cp),this.Le.getRemoteKeysForTarget(t).forEach(r=>{this.We(t,r,null)})}ot(t,r){return this.Le.getRemoteKeysForTarget(t).has(r)}}function da(){return new tt(he.comparator)}function hp(){return new tt(he.comparator)}const xv={asc:"ASCENDING",desc:"DESCENDING"},Lv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ov={and:"AND",or:"OR"};class Mv{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function bc(s,t){return s.useProto3Json||xa(t)?t:{value:t}}function Fv(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Uv(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function Es(s){return Ke(!!s),de.fromTimestamp(function(r){const o=Ur(r);return new Kt(o.seconds,o.nanos)}(s))}function zv(s,t){return Hc(s,t).canonicalString()}function Hc(s,t){const r=function(a){return new Ge(["projects",a.projectId,"databases",a.database])}(s).child("documents");return t===void 0?r:r.child(t)}function mm(s){const t=Ge.fromString(s);return Ke(Em(t)),t}function Ac(s,t){const r=mm(t);if(r.get(1)!==s.databaseId.projectId)throw new ce(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+s.databaseId.projectId);if(r.get(3)!==s.databaseId.database)throw new ce(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+s.databaseId.database);return new he(ym(r))}function gm(s,t){return zv(s.databaseId,t)}function Bv(s){const t=mm(s);return t.length===4?Ge.emptyPath():ym(t)}function fp(s){return new Ge(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function ym(s){return Ke(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function jv(s,t){let r;if("targetChange"in t){t.targetChange;const o=function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:pe()}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],c=function(E,C){return E.useProto3Json?(Ke(C===void 0||typeof C=="string"),St.fromBase64String(C||"")):(Ke(C===void 0||C instanceof Buffer||C instanceof Uint8Array),St.fromUint8Array(C||new Uint8Array))}(s,t.targetChange.resumeToken),p=t.targetChange.cause,g=p&&function(E){const C=E.code===void 0?X.UNKNOWN:fm(E.code);return new ce(C,E.message||"")}(p);r=new pm(o,a,c,g||null)}else if("documentChange"in t){t.documentChange;const o=t.documentChange;o.document,o.document.name,o.document.updateTime;const a=Ac(s,o.document.name),c=Es(o.document.updateTime),p=o.document.createTime?Es(o.document.createTime):de.min(),g=new Un({mapValue:{fields:o.document.fields}}),_=Nt.newFoundDocument(a,c,p,g),E=o.targetIds||[],C=o.removedTargetIds||[];r=new va(E,C,_.key,_)}else if("documentDelete"in t){t.documentDelete;const o=t.documentDelete;o.document;const a=Ac(s,o.document),c=o.readTime?Es(o.readTime):de.min(),p=Nt.newNoDocument(a,c),g=o.removedTargetIds||[];r=new va([],g,p.key,p)}else if("documentRemove"in t){t.documentRemove;const o=t.documentRemove;o.document;const a=Ac(s,o.document),c=o.removedTargetIds||[];r=new va([],c,a,null)}else{if(!("filter"in t))return pe();{t.filter;const o=t.filter;o.targetId;const{count:a=0,unchangedNames:c}=o,p=new kv(a,c),g=o.targetId;r=new dm(g,p)}}return r}function $v(s,t){return{documents:[gm(s,t.path)]}}function qv(s,t){const r={structuredQuery:{}},o=t.path;let a;t.collectionGroup!==null?(a=o,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=o.popLast(),r.structuredQuery.from=[{collectionId:o.lastSegment()}]),r.parent=gm(s,a);const c=function(E){if(E.length!==0)return vm(jn.create(E,"and"))}(t.filters);c&&(r.structuredQuery.where=c);const p=function(E){if(E.length!==0)return E.map(C=>function(z){return{field:ys(z.field),direction:Qv(z.dir)}}(C))}(t.orderBy);p&&(r.structuredQuery.orderBy=p);const g=bc(s,t.limit);return g!==null&&(r.structuredQuery.limit=g),t.startAt&&(r.structuredQuery.startAt=function(E){return{before:E.inclusive,values:E.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(E){return{before:!E.inclusive,values:E.position}}(t.endAt)),{ct:r,parent:a}}function bv(s){let t=Bv(s.parent);const r=s.structuredQuery,o=r.from?r.from.length:0;let a=null;if(o>0){Ke(o===1);const C=r.from[0];C.allDescendants?a=C.collectionId:t=t.child(C.collectionId)}let c=[];r.where&&(c=function(M){const z=_m(M);return z instanceof jn&&Jp(z)?z.getFilters():[z]}(r.where));let p=[];r.orderBy&&(p=function(M){return M.map(z=>function(te){return new Aa(_s(te.field),function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(te.direction))}(z))}(r.orderBy));let g=null;r.limit&&(g=function(M){let z;return z=typeof M=="object"?M.value:M,xa(z)?null:z}(r.limit));let _=null;r.startAt&&(_=function(M){const z=!!M.before,H=M.values||[];return new Ia(H,z)}(r.startAt));let E=null;return r.endAt&&(E=function(M){const z=!M.before,H=M.values||[];return new Ia(H,z)}(r.endAt)),uv(t,a,p,c,g,"F",_,E)}function Hv(s,t){const r=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe()}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function _m(s){return s.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const o=_s(r.unaryFilter.field);return ct.create(o,"==",{doubleValue:NaN});case"IS_NULL":const a=_s(r.unaryFilter.field);return ct.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=_s(r.unaryFilter.field);return ct.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=_s(r.unaryFilter.field);return ct.create(p,"!=",{nullValue:"NULL_VALUE"});default:return pe()}}(s):s.fieldFilter!==void 0?function(r){return ct.create(_s(r.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pe()}}(r.fieldFilter.op),r.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(r){return jn.create(r.compositeFilter.filters.map(o=>_m(o)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return pe()}}(r.compositeFilter.op))}(s):pe()}function Qv(s){return xv[s]}function Kv(s){return Lv[s]}function Wv(s){return Ov[s]}function ys(s){return{fieldPath:s.canonicalString()}}function _s(s){return Ft.fromServerFormat(s.fieldPath)}function vm(s){return s instanceof ct?function(r){if(r.op==="=="){if(Zd(r.value))return{unaryFilter:{field:ys(r.field),op:"IS_NAN"}};if(Jd(r.value))return{unaryFilter:{field:ys(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Zd(r.value))return{unaryFilter:{field:ys(r.field),op:"IS_NOT_NAN"}};if(Jd(r.value))return{unaryFilter:{field:ys(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ys(r.field),op:Kv(r.op),value:r.value}}}(s):s instanceof jn?function(r){const o=r.getFilters().map(a=>vm(a));return o.length===1?o[0]:{compositeFilter:{op:Wv(r.op),filters:o}}}(s):pe()}function Em(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(t,r,o,a,c=de.min(),p=de.min(),g=St.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=r,this.purpose=o,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(t){return new Lr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(t){this.ht=t}}function Xv(s){const t=bv({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?jc(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(){this.ln=new Jv}addToCollectionParentIndex(t,r){return this.ln.add(r),j.resolve()}getCollectionParents(t,r){return j.resolve(this.ln.getEntries(r))}addFieldIndex(t,r){return j.resolve()}deleteFieldIndex(t,r){return j.resolve()}deleteAllFieldIndexes(t){return j.resolve()}createTargetIndexes(t,r){return j.resolve()}getDocumentsMatchingTarget(t,r){return j.resolve(null)}getIndexType(t,r){return j.resolve(0)}getFieldIndexes(t,r){return j.resolve([])}getNextCollectionGroupToUpdate(t){return j.resolve(null)}getMinOffset(t,r){return j.resolve(Fr.min())}getMinOffsetFromCollectionGroup(t,r){return j.resolve(Fr.min())}updateCollectionGroup(t,r,o){return j.resolve()}updateIndexEntries(t,r){return j.resolve()}}class Jv{constructor(){this.index={}}add(t){const r=t.lastSegment(),o=t.popLast(),a=this.index[r]||new ht(Ge.comparator),c=!a.has(o);return this.index[r]=a.add(o),c}has(t){const r=t.lastSegment(),o=t.popLast(),a=this.index[r];return a&&a.has(o)}getEntries(t){return(this.index[t]||new ht(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Qt{static withCacheSize(t){return new Qt(t,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,o){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qt.DEFAULT_COLLECTION_PERCENTILE=10,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qt.DEFAULT=new Qt(41943040,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qt.DISABLED=new Qt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(t){this.kn=t}next(){return this.kn+=2,this.kn}static qn(){return new Rs(0)}static Qn(){return new Rs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp([s,t],[r,o]){const a=Ae(s,r);return a===0?Ae(t,o):a}class Zv{constructor(t){this.Gn=t,this.buffer=new ht(pp),this.zn=0}jn(){return++this.zn}Hn(t){const r=[t,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();pp(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class eE{constructor(t,r,o){this.garbageCollector=t,this.asyncQueue=r,this.localStore=o,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(t){ee("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Ds(r)?ee("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):await Da(r)}await this.Yn(3e5)})}}class tE{constructor(t,r){this.Zn=t,this.params=r}calculateTargetCount(t,r){return this.Zn.Xn(t).next(o=>Math.floor(r/100*o))}nthSequenceNumber(t,r){if(r===0)return j.resolve(Na.oe);const o=new Zv(r);return this.Zn.forEachTarget(t,a=>o.Hn(a.sequenceNumber)).next(()=>this.Zn.er(t,a=>o.Hn(a))).next(()=>o.maxValue)}removeTargets(t,r,o){return this.Zn.removeTargets(t,r,o)}removeOrphanedDocuments(t,r){return this.Zn.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(ee("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(dp)):this.getCacheSize(t).next(o=>o<this.params.cacheSizeCollectionThreshold?(ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dp):this.tr(t,r))}getCacheSize(t){return this.Zn.getCacheSize(t)}tr(t,r){let o,a,c,p,g,_,E;const C=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),a=this.params.maximumSequenceNumbersToCollect):a=M,p=Date.now(),this.nthSequenceNumber(t,a))).next(M=>(o=M,g=Date.now(),this.removeTargets(t,o,r))).next(M=>(c=M,_=Date.now(),this.removeOrphanedDocuments(t,o))).next(M=>(E=Date.now(),ms()<=Ie.DEBUG&&ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-C}ms
	Determined least recently used ${a} in `+(g-p)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${M} documents in `+(E-_)+`ms
Total Duration: ${E-C}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:M})))}}function nE(s,t){return new tE(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(){this.changes=new Ti(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,Nt.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const o=this.changes.get(r);return o!==void 0?j.resolve(o):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(t,r,o,a){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=a}getDocument(t,r){let o=null;return this.documentOverlayCache.getOverlay(t,r).next(a=>(o=a,this.remoteDocumentCache.getEntry(t,r))).next(a=>(o!==null&&Fo(o.mutation,a,xr.empty(),Kt.now()),a))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(o=>this.getLocalViewOfDocuments(t,o,Ve()).next(()=>o))}getLocalViewOfDocuments(t,r,o=Ve()){const a=yi();return this.populateOverlays(t,a,r).next(()=>this.computeViews(t,r,a,o).next(c=>{let p=Do();return c.forEach((g,_)=>{p=p.insert(g,_.overlayedDocument)}),p}))}getOverlayedDocuments(t,r){const o=yi();return this.populateOverlays(t,o,r).next(()=>this.computeViews(t,r,o,Ve()))}populateOverlays(t,r,o){const a=[];return o.forEach(c=>{r.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(t,a).next(c=>{c.forEach((p,g)=>{r.set(p,g)})})}computeViews(t,r,o,a){let c=jr();const p=Mo(),g=function(){return Mo()}();return r.forEach((_,E)=>{const C=o.get(E.key);a.has(E.key)&&(C===void 0||C.mutation instanceof za)?c=c.insert(E.key,E):C!==void 0?(p.set(E.key,C.mutation.getFieldMask()),Fo(C.mutation,E,C.mutation.getFieldMask(),Kt.now())):p.set(E.key,xr.empty())}),this.recalculateAndSaveOverlays(t,c).next(_=>(_.forEach((E,C)=>p.set(E,C)),r.forEach((E,C)=>{var M;return g.set(E,new iE(C,(M=p.get(E))!==null&&M!==void 0?M:null))}),g))}recalculateAndSaveOverlays(t,r){const o=Mo();let a=new tt((p,g)=>p-g),c=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(p=>{for(const g of p)g.keys().forEach(_=>{const E=r.get(_);if(E===null)return;let C=o.get(_)||xr.empty();C=g.applyToLocalView(E,C),o.set(_,C);const M=(a.get(g.batchId)||Ve()).add(_);a=a.insert(g.batchId,M)})}).next(()=>{const p=[],g=a.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),E=_.key,C=_.value,M=om();C.forEach(z=>{if(!c.has(z)){const H=cm(r.get(z),o.get(z));H!==null&&M.set(z,H),c=c.add(z)}}),p.push(this.documentOverlayCache.saveOverlays(t,E,M))}return j.waitFor(p)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(o=>this.recalculateAndSaveOverlays(t,o))}getDocumentsMatchingQuery(t,r,o,a){return function(p){return he.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):cv(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,o,a):this.getDocumentsMatchingCollectionQuery(t,r,o,a)}getNextDocuments(t,r,o,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,o,a).next(c=>{const p=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,o.largestBatchId,a-c.size):j.resolve(yi());let g=-1,_=c;return p.next(E=>j.forEach(E,(C,M)=>(g<M.largestBatchId&&(g=M.largestBatchId),c.get(C)?j.resolve():this.remoteDocumentCache.getEntry(t,C).next(z=>{_=_.insert(C,z)}))).next(()=>this.populateOverlays(t,E,c)).next(()=>this.computeViews(t,_,E,Ve())).next(C=>({batchId:g,changes:mv(C)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new he(r)).next(o=>{let a=Do();return o.isFoundDocument()&&(a=a.insert(o.key,o)),a})}getDocumentsMatchingCollectionGroupQuery(t,r,o,a){const c=r.collectionGroup;let p=Do();return this.indexManager.getCollectionParents(t,c).next(g=>j.forEach(g,_=>{const E=function(M,z){return new Oa(z,null,M.explicitOrderBy.slice(),M.filters.slice(),M.limit,M.limitType,M.startAt,M.endAt)}(r,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,E,o,a).next(C=>{C.forEach((M,z)=>{p=p.insert(M,z)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(t,r,o,a){let c;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,o.largestBatchId).next(p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,o,c,a))).next(p=>{c.forEach((_,E)=>{const C=E.getKey();p.get(C)===null&&(p=p.insert(C,Nt.newInvalidDocument(C)))});let g=Do();return p.forEach((_,E)=>{const C=c.get(_);C!==void 0&&Fo(C.mutation,E,xr.empty(),Kt.now()),Fa(r,E)&&(g=g.insert(_,E))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(t){this.serializer=t,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(t,r){return j.resolve(this.Tr.get(r))}saveBundleMetadata(t,r){return this.Tr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:Es(a.createTime)}}(r)),j.resolve()}getNamedQuery(t,r){return j.resolve(this.Ir.get(r))}saveNamedQuery(t,r){return this.Ir.set(r.name,function(a){return{name:a.name,query:Xv(a.bundledQuery),readTime:Es(a.readTime)}}(r)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(){this.overlays=new tt(he.comparator),this.Er=new Map}getOverlay(t,r){return j.resolve(this.overlays.get(r))}getOverlays(t,r){const o=yi();return j.forEach(r,a=>this.getOverlay(t,a).next(c=>{c!==null&&o.set(a,c)})).next(()=>o)}saveOverlays(t,r,o){return o.forEach((a,c)=>{this.Tt(t,r,c)}),j.resolve()}removeOverlaysForBatchId(t,r,o){const a=this.Er.get(o);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.Er.delete(o)),j.resolve()}getOverlaysForCollection(t,r,o){const a=yi(),c=r.length+1,p=new he(r.child("")),g=this.overlays.getIteratorFrom(p);for(;g.hasNext();){const _=g.getNext().value,E=_.getKey();if(!r.isPrefixOf(E.path))break;E.path.length===c&&_.largestBatchId>o&&a.set(_.getKey(),_)}return j.resolve(a)}getOverlaysForCollectionGroup(t,r,o,a){let c=new tt((E,C)=>E-C);const p=this.overlays.getIterator();for(;p.hasNext();){const E=p.getNext().value;if(E.getKey().getCollectionGroup()===r&&E.largestBatchId>o){let C=c.get(E.largestBatchId);C===null&&(C=yi(),c=c.insert(E.largestBatchId,C)),C.set(E.getKey(),E)}}const g=yi(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((E,C)=>g.set(E,C)),!(g.size()>=a)););return j.resolve(g)}Tt(t,r,o){const a=this.overlays.get(o.key);if(a!==null){const p=this.Er.get(a.largestBatchId).delete(o.key);this.Er.set(a.largestBatchId,p)}this.overlays=this.overlays.insert(o.key,new Pv(r,o));let c=this.Er.get(r);c===void 0&&(c=Ve(),this.Er.set(r,c)),this.Er.set(r,c.add(o.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(){this.sessionToken=St.EMPTY_BYTE_STRING}getSessionToken(t){return j.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(){this.dr=new ht(yt.Ar),this.Rr=new ht(yt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(t,r){const o=new yt(t,r);this.dr=this.dr.add(o),this.Rr=this.Rr.add(o)}mr(t,r){t.forEach(o=>this.addReference(o,r))}removeReference(t,r){this.gr(new yt(t,r))}pr(t,r){t.forEach(o=>this.removeReference(o,r))}yr(t){const r=new he(new Ge([])),o=new yt(r,t),a=new yt(r,t+1),c=[];return this.Rr.forEachInRange([o,a],p=>{this.gr(p),c.push(p.key)}),c}wr(){this.dr.forEach(t=>this.gr(t))}gr(t){this.dr=this.dr.delete(t),this.Rr=this.Rr.delete(t)}Sr(t){const r=new he(new Ge([])),o=new yt(r,t),a=new yt(r,t+1);let c=Ve();return this.Rr.forEachInRange([o,a],p=>{c=c.add(p.key)}),c}containsKey(t){const r=new yt(t,0),o=this.dr.firstAfterOrEqual(r);return o!==null&&t.isEqual(o.key)}}class yt{constructor(t,r){this.key=t,this.br=r}static Ar(t,r){return he.comparator(t.key,r.key)||Ae(t.br,r.br)}static Vr(t,r){return Ae(t.br,r.br)||he.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Dr=1,this.vr=new ht(yt.Ar)}checkEmpty(t){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,o,a){const c=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new Rv(c,r,o,a);this.mutationQueue.push(p);for(const g of a)this.vr=this.vr.add(new yt(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return j.resolve(p)}lookupMutationBatch(t,r){return j.resolve(this.Cr(r))}getNextMutationBatchAfterBatchId(t,r){const o=r+1,a=this.Fr(o),c=a<0?0:a;return j.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(t){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const o=new yt(r,0),a=new yt(r,Number.POSITIVE_INFINITY),c=[];return this.vr.forEachInRange([o,a],p=>{const g=this.Cr(p.br);c.push(g)}),j.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,r){let o=new ht(Ae);return r.forEach(a=>{const c=new yt(a,0),p=new yt(a,Number.POSITIVE_INFINITY);this.vr.forEachInRange([c,p],g=>{o=o.add(g.br)})}),j.resolve(this.Mr(o))}getAllMutationBatchesAffectingQuery(t,r){const o=r.path,a=o.length+1;let c=o;he.isDocumentKey(c)||(c=c.child(""));const p=new yt(new he(c),0);let g=new ht(Ae);return this.vr.forEachWhile(_=>{const E=_.key.path;return!!o.isPrefixOf(E)&&(E.length===a&&(g=g.add(_.br)),!0)},p),j.resolve(this.Mr(g))}Mr(t){const r=[];return t.forEach(o=>{const a=this.Cr(o);a!==null&&r.push(a)}),r}removeMutationBatch(t,r){Ke(this.Or(r.batchId,"removed")===0),this.mutationQueue.shift();let o=this.vr;return j.forEach(r.mutations,a=>{const c=new yt(a.key,r.batchId);return o=o.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.vr=o})}Ln(t){}containsKey(t,r){const o=new yt(r,0),a=this.vr.firstAfterOrEqual(o);return j.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,j.resolve()}Or(t,r){return this.Fr(t)}Fr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Cr(t){const r=this.Fr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(t){this.Nr=t,this.docs=function(){return new tt(he.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const o=r.key,a=this.docs.get(o),c=a?a.size:0,p=this.Nr(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(t,o.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const o=this.docs.get(r);return j.resolve(o?o.document.mutableCopy():Nt.newInvalidDocument(r))}getEntries(t,r){let o=jr();return r.forEach(a=>{const c=this.docs.get(a);o=o.insert(a,c?c.document.mutableCopy():Nt.newInvalidDocument(a))}),j.resolve(o)}getDocumentsMatchingQuery(t,r,o,a){let c=jr();const p=r.path,g=new he(p.child("")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:E,value:{document:C}}=_.getNext();if(!p.isPrefixOf(E.path))break;E.path.length>p.length+1||$_(j_(C),o)<=0||(a.has(C.key)||Fa(r,C))&&(c=c.insert(C.key,C.mutableCopy()))}return j.resolve(c)}getAllFromCollectionGroup(t,r,o,a){pe()}Lr(t,r){return j.forEach(this.docs,o=>r(o))}newChangeBuffer(t){return new hE(this)}getSize(t){return j.resolve(this.size)}}class hE extends rE{constructor(t){super(),this.hr=t}applyChanges(t){const r=[];return this.changes.forEach((o,a)=>{a.isValidDocument()?r.push(this.hr.addEntry(t,a)):this.hr.removeEntry(o)}),j.waitFor(r)}getFromCache(t,r){return this.hr.getEntry(t,r)}getAllFromCache(t,r){return this.hr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(t){this.persistence=t,this.Br=new Ti(r=>rh(r),ih),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.kr=0,this.qr=new ah,this.targetCount=0,this.Qr=Rs.qn()}forEachTarget(t,r){return this.Br.forEach((o,a)=>r(a)),j.resolve()}getLastRemoteSnapshotVersion(t){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return j.resolve(this.kr)}allocateTargetId(t){return this.highestTargetId=this.Qr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(t,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.kr&&(this.kr=r),j.resolve()}Un(t){this.Br.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.Qr=new Rs(r),this.highestTargetId=r),t.sequenceNumber>this.kr&&(this.kr=t.sequenceNumber)}addTargetData(t,r){return this.Un(r),this.targetCount+=1,j.resolve()}updateTargetData(t,r){return this.Un(r),j.resolve()}removeTargetData(t,r){return this.Br.delete(r.target),this.qr.yr(r.targetId),this.targetCount-=1,j.resolve()}removeTargets(t,r,o){let a=0;const c=[];return this.Br.forEach((p,g)=>{g.sequenceNumber<=r&&o.get(g.targetId)===null&&(this.Br.delete(p),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),a++)}),j.waitFor(c).next(()=>a)}getTargetCount(t){return j.resolve(this.targetCount)}getTargetData(t,r){const o=this.Br.get(r)||null;return j.resolve(o)}addMatchingKeys(t,r,o){return this.qr.mr(r,o),j.resolve()}removeMatchingKeys(t,r,o){this.qr.pr(r,o);const a=this.persistence.referenceDelegate,c=[];return a&&r.forEach(p=>{c.push(a.markPotentiallyOrphaned(t,p))}),j.waitFor(c)}removeMatchingKeysForTargetId(t,r){return this.qr.yr(r),j.resolve()}getMatchingKeysForTargetId(t,r){const o=this.qr.Sr(r);return j.resolve(o)}containsKey(t,r){return j.resolve(this.qr.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(t,r){this.Kr={},this.overlays={},this.$r=new Na(0),this.Ur=!1,this.Ur=!0,this.Wr=new aE,this.referenceDelegate=t(this),this.Gr=new fE(this),this.indexManager=new Yv,this.remoteDocumentCache=function(a){return new cE(a)}(o=>this.referenceDelegate.zr(o)),this.serializer=new Gv(r),this.jr=new oE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new lE,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let o=this.Kr[t.toKey()];return o||(o=new uE(r,this.referenceDelegate),this.Kr[t.toKey()]=o),o}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(t,r,o){ee("MemoryPersistence","Starting transaction:",t);const a=new dE(this.$r.next());return this.referenceDelegate.Hr(),o(a).next(c=>this.referenceDelegate.Jr(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Yr(t,r){return j.or(Object.values(this.Kr).map(o=>()=>o.containsKey(t,r)))}}class dE extends b_{constructor(t){super(),this.currentSequenceNumber=t}}class uh{constructor(t){this.persistence=t,this.Zr=new ah,this.Xr=null}static ei(t){return new uh(t)}get ti(){if(this.Xr)return this.Xr;throw pe()}addReference(t,r,o){return this.Zr.addReference(o,r),this.ti.delete(o.toString()),j.resolve()}removeReference(t,r,o){return this.Zr.removeReference(o,r),this.ti.add(o.toString()),j.resolve()}markPotentiallyOrphaned(t,r){return this.ti.add(r.toString()),j.resolve()}removeTarget(t,r){this.Zr.yr(r.targetId).forEach(a=>this.ti.add(a.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,r.targetId).next(a=>{a.forEach(c=>this.ti.add(c.toString()))}).next(()=>o.removeTargetData(t,r))}Hr(){this.Xr=new Set}Jr(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.ti,o=>{const a=he.fromPath(o);return this.ni(t,a).next(c=>{c||r.removeEntry(a,de.min())})}).next(()=>(this.Xr=null,r.apply(t)))}updateLimboDocument(t,r){return this.ni(t,r).next(o=>{o?this.ti.delete(r.toString()):this.ti.add(r.toString())})}zr(t){return 0}ni(t,r){return j.or([()=>j.resolve(this.Zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Yr(t,r)])}}class Pa{constructor(t,r){this.persistence=t,this.ri=new Ti(o=>Q_(o.path),(o,a)=>o.isEqual(a)),this.garbageCollector=nE(this,r)}static ei(t,r){return new Pa(t,r)}Hr(){}Jr(t){return j.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}Xn(t){const r=this.nr(t);return this.persistence.getTargetCache().getTargetCount(t).next(o=>r.next(a=>o+a))}nr(t){let r=0;return this.er(t,o=>{r++}).next(()=>r)}er(t,r){return j.forEach(this.ri,(o,a)=>this.ir(t,o,a).next(c=>c?j.resolve():r(a)))}removeTargets(t,r,o){return this.persistence.getTargetCache().removeTargets(t,r,o)}removeOrphanedDocuments(t,r){let o=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.Lr(t,p=>this.ir(t,p,r).next(g=>{g||(o++,c.removeEntry(p,de.min()))})).next(()=>c.apply(t)).next(()=>o)}markPotentiallyOrphaned(t,r){return this.ri.set(r,t.currentSequenceNumber),j.resolve()}removeTarget(t,r){const o=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,o)}addReference(t,r,o){return this.ri.set(o,t.currentSequenceNumber),j.resolve()}removeReference(t,r,o){return this.ri.set(o,t.currentSequenceNumber),j.resolve()}updateLimboDocument(t,r){return this.ri.set(r,t.currentSequenceNumber),j.resolve()}zr(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=ya(t.data.value)),r}ir(t,r,o){return j.or([()=>this.persistence.Yr(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const a=this.ri.get(r);return j.resolve(a!==void 0&&a>o)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(t,r,o,a){this.targetId=t,this.fromCache=r,this.Wi=o,this.Gi=a}static zi(t,r){let o=Ve(),a=Ve();for(const c of r.docChanges)switch(c.type){case 0:o=o.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new ch(t,r.fromCache,o,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return dy()?8:H_(hy())>0?6:4}()}initialize(t,r){this.Zi=t,this.indexManager=r,this.ji=!0}getDocumentsMatchingQuery(t,r,o,a){const c={result:null};return this.Xi(t,r).next(p=>{c.result=p}).next(()=>{if(!c.result)return this.es(t,r,a,o).next(p=>{c.result=p})}).next(()=>{if(c.result)return;const p=new pE;return this.ts(t,r,p).next(g=>{if(c.result=g,this.Hi)return this.ns(t,r,p,g.size)})}).next(()=>c.result)}ns(t,r,o,a){return o.documentReadCount<this.Ji?(ms()<=Ie.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",gs(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),j.resolve()):(ms()<=Ie.DEBUG&&ee("QueryEngine","Query:",gs(r),"scans",o.documentReadCount,"local documents and returns",a,"documents as results."),o.documentReadCount>this.Yi*a?(ms()<=Ie.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",gs(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,zn(r))):j.resolve())}Xi(t,r){if(rp(r))return j.resolve(null);let o=zn(r);return this.indexManager.getIndexType(t,o).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=jc(r,null,"F"),o=zn(r)),this.indexManager.getDocumentsMatchingTarget(t,o).next(c=>{const p=Ve(...c);return this.Zi.getDocuments(t,p).next(g=>this.indexManager.getMinOffset(t,o).next(_=>{const E=this.rs(r,g);return this.ss(r,E,p,_.readTime)?this.Xi(t,jc(r,null,"F")):this.os(t,E,r,_)}))})))}es(t,r,o,a){return rp(r)||a.isEqual(de.min())?j.resolve(null):this.Zi.getDocuments(t,o).next(c=>{const p=this.rs(r,c);return this.ss(r,p,o,a)?j.resolve(null):(ms()<=Ie.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),gs(r)),this.os(t,p,r,B_(a,-1)).next(g=>g))})}rs(t,r){let o=new ht(im(t));return r.forEach((a,c)=>{Fa(t,c)&&(o=o.add(c))}),o}ss(t,r,o,a){if(t.limit===null)return!1;if(o.size!==r.size)return!0;const c=t.limitType==="F"?r.last():r.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}ts(t,r,o){return ms()<=Ie.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",gs(r)),this.Zi.getDocumentsMatchingQuery(t,r,Fr.min(),o)}os(t,r,o,a){return this.Zi.getDocumentsMatchingQuery(t,o,a).next(c=>(r.forEach(p=>{c=c.insert(p.key,p)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(t,r,o,a){this.persistence=t,this._s=r,this.serializer=a,this.us=new tt(Ae),this.cs=new Ti(c=>rh(c),ih),this.ls=new Map,this.hs=t.getRemoteDocumentCache(),this.Gr=t.getTargetCache(),this.jr=t.getBundleCache(),this.Ps(o)}Ps(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new sE(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.us))}}function yE(s,t,r,o){return new gE(s,t,r,o)}async function Tm(s,t){const r=Ce(s);return await r.persistence.runTransaction("Handle user change","readonly",o=>{let a;return r.mutationQueue.getAllMutationBatches(o).next(c=>(a=c,r.Ps(t),r.mutationQueue.getAllMutationBatches(o))).next(c=>{const p=[],g=[];let _=Ve();for(const E of a){p.push(E.batchId);for(const C of E.mutations)_=_.add(C.key)}for(const E of c){g.push(E.batchId);for(const C of E.mutations)_=_.add(C.key)}return r.localDocuments.getDocuments(o,_).next(E=>({Ts:E,removedBatchIds:p,addedBatchIds:g}))})})}function Sm(s){const t=Ce(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Gr.getLastRemoteSnapshotVersion(r))}function _E(s,t){const r=Ce(s),o=t.snapshotVersion;let a=r.us;return r.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const p=r.hs.newChangeBuffer({trackRemovals:!0});a=r.us;const g=[];t.targetChanges.forEach((C,M)=>{const z=a.get(M);if(!z)return;g.push(r.Gr.removeMatchingKeys(c,C.removedDocuments,M).next(()=>r.Gr.addMatchingKeys(c,C.addedDocuments,M)));let H=z.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(M)!==null?H=H.withResumeToken(St.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):C.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(C.resumeToken,o)),a=a.insert(M,H),function(Z,K,Ne){return Z.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=3e8?!0:Ne.addedDocuments.size+Ne.modifiedDocuments.size+Ne.removedDocuments.size>0}(z,H,C)&&g.push(r.Gr.updateTargetData(c,H))});let _=jr(),E=Ve();if(t.documentUpdates.forEach(C=>{t.resolvedLimboDocuments.has(C)&&g.push(r.persistence.referenceDelegate.updateLimboDocument(c,C))}),g.push(vE(c,p,t.documentUpdates).next(C=>{_=C.Is,E=C.Es})),!o.isEqual(de.min())){const C=r.Gr.getLastRemoteSnapshotVersion(c).next(M=>r.Gr.setTargetsMetadata(c,c.currentSequenceNumber,o));g.push(C)}return j.waitFor(g).next(()=>p.apply(c)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,_,E)).next(()=>_)}).then(c=>(r.us=a,c))}function vE(s,t,r){let o=Ve(),a=Ve();return r.forEach(c=>o=o.add(c)),t.getEntries(s,o).next(c=>{let p=jr();return r.forEach((g,_)=>{const E=c.get(g);_.isFoundDocument()!==E.isFoundDocument()&&(a=a.add(g)),_.isNoDocument()&&_.version.isEqual(de.min())?(t.removeEntry(g,_.readTime),p=p.insert(g,_)):!E.isValidDocument()||_.version.compareTo(E.version)>0||_.version.compareTo(E.version)===0&&E.hasPendingWrites?(t.addEntry(_),p=p.insert(g,_)):ee("LocalStore","Ignoring outdated watch update for ",g,". Current version:",E.version," Watch version:",_.version)}),{Is:p,Es:a}})}function EE(s,t){const r=Ce(s);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let a;return r.Gr.getTargetData(o,t).next(c=>c?(a=c,j.resolve(a)):r.Gr.allocateTargetId(o).next(p=>(a=new Lr(t,p,"TargetPurposeListen",o.currentSequenceNumber),r.Gr.addTargetData(o,a).next(()=>a))))}).then(o=>{const a=r.us.get(o.targetId);return(a===null||o.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.us=r.us.insert(o.targetId,o),r.cs.set(t,o.targetId)),o})}async function Qc(s,t,r){const o=Ce(s),a=o.us.get(t),c=r?"readwrite":"readwrite-primary";try{r||await o.persistence.runTransaction("Release target",c,p=>o.persistence.referenceDelegate.removeTarget(p,a))}catch(p){if(!Ds(p))throw p;ee("LocalStore",`Failed to update sequence numbers for target ${t}: ${p}`)}o.us=o.us.remove(t),o.cs.delete(a.target)}function mp(s,t,r){const o=Ce(s);let a=de.min(),c=Ve();return o.persistence.runTransaction("Execute query","readwrite",p=>function(_,E,C){const M=Ce(_),z=M.cs.get(C);return z!==void 0?j.resolve(M.us.get(z)):M.Gr.getTargetData(E,C)}(o,p,zn(t)).next(g=>{if(g)return a=g.lastLimboFreeSnapshotVersion,o.Gr.getMatchingKeysForTargetId(p,g.targetId).next(_=>{c=_})}).next(()=>o._s.getDocumentsMatchingQuery(p,t,r?a:de.min(),r?c:Ve())).next(g=>(wE(o,fv(t),g),{documents:g,ds:c})))}function wE(s,t,r){let o=s.ls.get(t)||de.min();r.forEach((a,c)=>{c.readTime.compareTo(o)>0&&(o=c.readTime)}),s.ls.set(t,o)}class gp{constructor(){this.activeTargetIds=_v()}ps(t){this.activeTargetIds=this.activeTargetIds.add(t)}ys(t){this.activeTargetIds=this.activeTargetIds.delete(t)}gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class TE{constructor(){this._o=new gp,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,o){}addLocalQueryTarget(t,r=!0){return r&&this._o.ps(t),this.ao[t]||"not-current"}updateQueryState(t,r,o){this.ao[t]=r}removeLocalQueryTarget(t){this._o.ys(t)}isLocalQueryTarget(t){return this._o.activeTargetIds.has(t)}clearQueryState(t){delete this.ao[t]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(t){return this._o.activeTargetIds.has(t)}start(){return this._o=new gp,Promise.resolve()}handleUserChange(t,r,o){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{uo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(t){this.To.push(t)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.To)t(0)}Po(){ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.To)t(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pa=null;function Cc(){return pa===null?pa=function(){return 268435456+Math.round(2147483648*Math.random())}():pa++,"0x"+pa.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(t){this.Eo=t.Eo,this.Ao=t.Ao}Ro(t){this.Vo=t}mo(t){this.fo=t}po(t){this.yo=t}onMessage(t){this.wo=t}close(){this.Ao()}send(t){this.Eo(t)}So(){this.Vo()}bo(){this.fo()}Do(t){this.yo(t)}vo(t){this.wo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vt="WebChannelConnection";class CE extends class{get Co(){return!1}constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const o=r.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Fo=o+"://"+r.host,this.Mo=`projects/${a}/databases/${c}`,this.xo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${c}`}Oo(r,o,a,c,p){const g=Cc(),_=this.No(r,o.toUriEncodedString());ee("RestConnection",`Sending RPC '${r}' ${g}:`,_,a);const E={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(E,c,p),this.Bo(r,_,E,a).then(C=>(ee("RestConnection",`Received RPC '${r}' ${g}: `,C),C),C=>{throw Ss("RestConnection",`RPC '${r}' ${g} failed with error: `,C,"url: ",_,"request:",a),C})}ko(r,o,a,c,p,g){return this.Oo(r,o,a,c,p)}Lo(r,o,a){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vs}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((c,p)=>r[p]=c),a&&a.headers.forEach((c,p)=>r[p]=c)}No(r,o){const a=IE[r];return`${this.Fo}/v1/${o}:${a}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Bo(t,r,o,a){const c=Cc();return new Promise((p,g)=>{const _=new qp;_.setWithCredentials(!0),_.listenOnce(bp.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case ga.NO_ERROR:const C=_.getResponseJson();ee(Vt,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(C)),p(C);break;case ga.TIMEOUT:ee(Vt,`RPC '${t}' ${c} timed out`),g(new ce(X.DEADLINE_EXCEEDED,"Request time out"));break;case ga.HTTP_ERROR:const M=_.getStatus();if(ee(Vt,`RPC '${t}' ${c} failed with status:`,M,"response text:",_.getResponseText()),M>0){let z=_.getResponseJson();Array.isArray(z)&&(z=z[0]);const H=z==null?void 0:z.error;if(H&&H.status&&H.message){const te=function(K){const Ne=K.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(Ne)>=0?Ne:X.UNKNOWN}(H.status);g(new ce(te,H.message))}else g(new ce(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new ce(X.UNAVAILABLE,"Connection failed."));break;default:pe()}}finally{ee(Vt,`RPC '${t}' ${c} completed.`)}});const E=JSON.stringify(a);ee(Vt,`RPC '${t}' ${c} sending request:`,a),_.send(r,"POST",E,o,15)})}qo(t,r,o){const a=Cc(),c=[this.Fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],p=Kp(),g=Qp(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(_.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Lo(_.initMessageHeaders,r,o),_.encodeInitMessageHeaders=!0;const C=c.join("");ee(Vt,`Creating RPC '${t}' stream ${a}: ${C}`,_);const M=p.createWebChannel(C,_);let z=!1,H=!1;const te=new AE({Eo:K=>{H?ee(Vt,`Not sending because RPC '${t}' stream ${a} is closed:`,K):(z||(ee(Vt,`Opening RPC '${t}' stream ${a} transport.`),M.open(),z=!0),ee(Vt,`RPC '${t}' stream ${a} sending:`,K),M.send(K))},Ao:()=>M.close()}),Z=(K,Ne,Re)=>{K.listen(Ne,_e=>{try{Re(_e)}catch(ve){setTimeout(()=>{throw ve},0)}})};return Z(M,Vo.EventType.OPEN,()=>{H||(ee(Vt,`RPC '${t}' stream ${a} transport opened.`),te.So())}),Z(M,Vo.EventType.CLOSE,()=>{H||(H=!0,ee(Vt,`RPC '${t}' stream ${a} transport closed`),te.Do())}),Z(M,Vo.EventType.ERROR,K=>{H||(H=!0,Ss(Vt,`RPC '${t}' stream ${a} transport errored:`,K),te.Do(new ce(X.UNAVAILABLE,"The operation could not be completed")))}),Z(M,Vo.EventType.MESSAGE,K=>{var Ne;if(!H){const Re=K.data[0];Ke(!!Re);const _e=Re,ve=(_e==null?void 0:_e.error)||((Ne=_e[0])===null||Ne===void 0?void 0:Ne.error);if(ve){ee(Vt,`RPC '${t}' stream ${a} received error:`,ve);const Xe=ve.status;let Pe=function(I){const P=it[I];if(P!==void 0)return fm(P)}(Xe),k=ve.message;Pe===void 0&&(Pe=X.INTERNAL,k="Unknown error status: "+Xe+" with message "+ve.message),H=!0,te.Do(new ce(Pe,k)),M.close()}else ee(Vt,`RPC '${t}' stream ${a} received:`,Re),te.vo(Re)}}),Z(g,Hp.STAT_EVENT,K=>{K.stat===Oc.PROXY?ee(Vt,`RPC '${t}' stream ${a} detected buffering proxy`):K.stat===Oc.NOPROXY&&ee(Vt,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{te.bo()},0),te}}function Rc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(s){return new Mv(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(t,r,o=1e3,a=1.5,c=6e4){this.li=t,this.timerId=r,this.Qo=o,this.Ko=a,this.$o=c,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(t){this.cancel();const r=Math.floor(this.Uo+this.Ho()),o=Math.max(0,Date.now()-this.Go),a=Math.max(0,r-o);a>0&&ee("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Uo} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,a,()=>(this.Go=Date.now(),t())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(t,r,o,a,c,p,g,_){this.li=t,this.Yo=o,this.Zo=a,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Am(t,r)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(t){this.l_(),this.stream.send(t)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(t,r){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,t!==4?this.r_.reset():r&&r.code===X.RESOURCE_EXHAUSTED?(lr(r.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):r&&r.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.po(r)}P_(){}auth(){this.state=1;const t=this.T_(this.Xo),r=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,a])=>{this.Xo===r&&this.I_(o,a)},o=>{t(()=>{const a=new ce(X.UNKNOWN,"Fetching auth token failed: "+o.message);return this.E_(a)})})}I_(t,r){const o=this.T_(this.Xo);this.stream=this.d_(t,r),this.stream.Ro(()=>{o(()=>this.listener.Ro())}),this.stream.mo(()=>{o(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(a=>{o(()=>this.E_(a))}),this.stream.onMessage(a=>{o(()=>++this.n_==1?this.A_(a):this.onNext(a))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(t){return ee("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}T_(t){return r=>{this.li.enqueueAndForget(()=>this.Xo===t?r():(ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class PE extends RE{constructor(t,r,o,a,c,p){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,a,p),this.serializer=c}d_(t,r){return this.connection.qo("Listen",t,r)}A_(t){return this.onNext(t)}onNext(t){this.r_.reset();const r=jv(this.serializer,t),o=function(c){if(!("targetChange"in c))return de.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?de.min():p.readTime?Es(p.readTime):de.min()}(t);return this.listener.R_(r,o)}V_(t){const r={};r.database=fp(this.serializer),r.addTarget=function(c,p){let g;const _=p.target;if(g=Bc(_)?{documents:$v(c,_)}:{query:qv(c,_).ct},g.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){g.resumeToken=Uv(c,p.resumeToken);const E=bc(c,p.expectedCount);E!==null&&(g.expectedCount=E)}else if(p.snapshotVersion.compareTo(de.min())>0){g.readTime=Fv(c,p.snapshotVersion.toTimestamp());const E=bc(c,p.expectedCount);E!==null&&(g.expectedCount=E)}return g}(this.serializer,t);const o=Hv(this.serializer,t);o&&(r.labels=o),this.c_(r)}m_(t){const r={};r.database=fp(this.serializer),r.removeTarget=t,this.c_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE extends class{}{constructor(t,r,o,a){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=o,this.serializer=a,this.S_=!1}b_(){if(this.S_)throw new ce(X.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(t,r,o,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.connection.Oo(t,Hc(r,o),a,c,p)).catch(c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(X.UNKNOWN,c.toString())})}ko(t,r,o,a,c){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,g])=>this.connection.ko(t,Hc(r,o),a,p,g,c)).catch(p=>{throw p.name==="FirebaseError"?(p.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new ce(X.UNKNOWN,p.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class VE{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(t){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.M_("Offline")))}set(t){this.N_(),this.D_=0,t==="Online"&&(this.C_=!1),this.M_(t)}M_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}x_(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(lr(r),this.C_=!1):ee("OnlineStateTracker",r)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(t,r,o,a,c){this.localStore=t,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=c,this.Q_.uo(p=>{o.enqueueAndForget(async()=>{Ko(this)&&(ee("RemoteStore","Restarting streams for network reachability change."),await async function(_){const E=Ce(_);E.k_.add(4),await Qo(E),E.K_.set("Unknown"),E.k_.delete(4),await ja(E)}(this))})}),this.K_=new VE(o,a)}}async function ja(s){if(Ko(s))for(const t of s.q_)await t(!0)}async function Qo(s){for(const t of s.q_)await t(!1)}function Cm(s,t){const r=Ce(s);r.B_.has(t.targetId)||(r.B_.set(t.targetId,t),ph(r)?dh(r):Ns(r).s_()&&fh(r,t))}function hh(s,t){const r=Ce(s),o=Ns(r);r.B_.delete(t),o.s_()&&Rm(r,t),r.B_.size===0&&(o.s_()?o.a_():Ko(r)&&r.K_.set("Unknown"))}function fh(s,t){if(s.U_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(de.min())>0){const r=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Ns(s).V_(t)}function Rm(s,t){s.U_.xe(t),Ns(s).m_(t)}function dh(s){s.U_=new Nv({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>s.B_.get(t)||null,nt:()=>s.datastore.serializer.databaseId}),Ns(s).start(),s.K_.F_()}function ph(s){return Ko(s)&&!Ns(s).i_()&&s.B_.size>0}function Ko(s){return Ce(s).k_.size===0}function Pm(s){s.U_=void 0}async function NE(s){s.K_.set("Online")}async function xE(s){s.B_.forEach((t,r)=>{fh(s,t)})}async function LE(s,t){Pm(s),ph(s)?(s.K_.O_(t),dh(s)):s.K_.set("Unknown")}async function OE(s,t,r){if(s.K_.set("Online"),t instanceof pm&&t.state===2&&t.cause)try{await async function(a,c){const p=c.cause;for(const g of c.targetIds)a.B_.has(g)&&(await a.remoteSyncer.rejectListen(g,p),a.B_.delete(g),a.U_.removeTarget(g))}(s,t)}catch(o){ee("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),o),await _p(s,o)}else if(t instanceof va?s.U_.$e(t):t instanceof dm?s.U_.Je(t):s.U_.Ge(t),!r.isEqual(de.min()))try{const o=await Sm(s.localStore);r.compareTo(o)>=0&&await function(c,p){const g=c.U_.it(p);return g.targetChanges.forEach((_,E)=>{if(_.resumeToken.approximateByteSize()>0){const C=c.B_.get(E);C&&c.B_.set(E,C.withResumeToken(_.resumeToken,p))}}),g.targetMismatches.forEach((_,E)=>{const C=c.B_.get(_);if(!C)return;c.B_.set(_,C.withResumeToken(St.EMPTY_BYTE_STRING,C.snapshotVersion)),Rm(c,_);const M=new Lr(C.target,_,E,C.sequenceNumber);fh(c,M)}),c.remoteSyncer.applyRemoteEvent(g)}(s,r)}catch(o){ee("RemoteStore","Failed to raise snapshot:",o),await _p(s,o)}}async function _p(s,t,r){if(!Ds(t))throw t;s.k_.add(1),await Qo(s),s.K_.set("Offline"),r||(r=()=>Sm(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{ee("RemoteStore","Retrying IndexedDB access"),await r(),s.k_.delete(1),await ja(s)})}async function vp(s,t){const r=Ce(s);r.asyncQueue.verifyOperationInProgress(),ee("RemoteStore","RemoteStore received new credentials");const o=Ko(r);r.k_.add(3),await Qo(r),o&&r.K_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.k_.delete(3),await ja(r)}async function ME(s,t){const r=Ce(s);t?(r.k_.delete(2),await ja(r)):t||(r.k_.add(2),await Qo(r),r.K_.set("Unknown"))}function Ns(s){return s.W_||(s.W_=function(r,o,a){const c=Ce(r);return c.b_(),new PE(o,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(s.datastore,s.asyncQueue,{Ro:NE.bind(null,s),mo:xE.bind(null,s),po:LE.bind(null,s),R_:OE.bind(null,s)}),s.q_.push(async t=>{t?(s.W_.__(),ph(s)?dh(s):s.K_.set("Unknown")):(await s.W_.stop(),Pm(s))})),s.W_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(t,r,o,a,c){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=o,this.op=a,this.removalCallback=c,this.deferred=new vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,o,a,c){const p=Date.now()+o,g=new mh(t,r,p,a,c);return g.start(o),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function km(s,t){if(lr("AsyncQueue",`${t}: ${s}`),Ds(s))return new ce(X.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{static emptySet(t){return new ws(t.comparator)}constructor(t){this.comparator=t?(r,o)=>t(r,o)||he.comparator(r.key,o.key):(r,o)=>he.comparator(r.key,o.key),this.keyedMap=Do(),this.sortedSet=new tt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,o)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof ws)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),o=t.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,c=o.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const o=new ws;return o.comparator=this.comparator,o.keyedMap=t,o.sortedSet=r,o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(){this.z_=new tt(he.comparator)}track(t){const r=t.doc.key,o=this.z_.get(r);o?t.type!==0&&o.type===3?this.z_=this.z_.insert(r,t):t.type===3&&o.type!==1?this.z_=this.z_.insert(r,{type:o.type,doc:t.doc}):t.type===2&&o.type===2?this.z_=this.z_.insert(r,{type:2,doc:t.doc}):t.type===2&&o.type===0?this.z_=this.z_.insert(r,{type:0,doc:t.doc}):t.type===1&&o.type===0?this.z_=this.z_.remove(r):t.type===1&&o.type===2?this.z_=this.z_.insert(r,{type:1,doc:o.doc}):t.type===0&&o.type===1?this.z_=this.z_.insert(r,{type:2,doc:t.doc}):pe():this.z_=this.z_.insert(r,t)}j_(){const t=[];return this.z_.inorderTraversal((r,o)=>{t.push(o)}),t}}class Ps{constructor(t,r,o,a,c,p,g,_,E){this.query=t,this.docs=r,this.oldDocs=o,this.docChanges=a,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=E}static fromInitialDocuments(t,r,o,a,c){const p=[];return r.forEach(g=>{p.push({type:0,doc:g})}),new Ps(t,r,ws.emptySet(r),p,o,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ma(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,o=t.docChanges;if(r.length!==o.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==o[a].type||!r[a].doc.isEqual(o[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(t=>t.Z_())}}class UE{constructor(){this.queries=wp(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(r,o){const a=Ce(r),c=a.queries;a.queries=wp(),c.forEach((p,g)=>{for(const _ of g.J_)_.onError(o)})})(this,new ce(X.ABORTED,"Firestore shutting down"))}}function wp(){return new Ti(s=>rm(s),Ma)}async function zE(s,t){const r=Ce(s);let o=3;const a=t.query;let c=r.queries.get(a);c?!c.Y_()&&t.Z_()&&(o=2):(c=new FE,o=t.Z_()?0:1);try{switch(o){case 0:c.H_=await r.onListen(a,!0);break;case 1:c.H_=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(p){const g=km(p,`Initialization of query '${gs(t.query)}' failed`);return void t.onError(g)}r.queries.set(a,c),c.J_.push(t),t.ea(r.onlineState),c.H_&&t.ta(c.H_)&&gh(r)}async function BE(s,t){const r=Ce(s),o=t.query;let a=3;const c=r.queries.get(o);if(c){const p=c.J_.indexOf(t);p>=0&&(c.J_.splice(p,1),c.J_.length===0?a=t.Z_()?0:1:!c.Y_()&&t.Z_()&&(a=2))}switch(a){case 0:return r.queries.delete(o),r.onUnlisten(o,!0);case 1:return r.queries.delete(o),r.onUnlisten(o,!1);case 2:return r.onLastRemoteStoreUnlisten(o);default:return}}function jE(s,t){const r=Ce(s);let o=!1;for(const a of t){const c=a.query,p=r.queries.get(c);if(p){for(const g of p.J_)g.ta(a)&&(o=!0);p.H_=a}}o&&gh(r)}function $E(s,t,r){const o=Ce(s),a=o.queries.get(t);if(a)for(const c of a.J_)c.onError(r);o.queries.delete(t)}function gh(s){s.X_.forEach(t=>{t.next()})}var Kc,Tp;(Tp=Kc||(Kc={})).na="default",Tp.Cache="cache";class qE{constructor(t,r,o){this.query=t,this.ra=r,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=o||{}}ta(t){if(!this.options.includeMetadataChanges){const o=[];for(const a of t.docChanges)a.type!==3&&o.push(a);t=new Ps(t.query,t.docs,t.oldDocs,o,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.ia?this.oa(t)&&(this.ra.next(t),r=!0):this._a(t,this.onlineState)&&(this.aa(t),r=!0),this.sa=t,r}onError(t){this.ra.error(t)}ea(t){this.onlineState=t;let r=!1;return this.sa&&!this.ia&&this._a(this.sa,t)&&(this.aa(this.sa),r=!0),r}_a(t,r){if(!t.fromCache||!this.Z_())return!0;const o=r!=="Offline";return(!this.options.ua||!o)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}oa(t){if(t.docChanges.length>0)return!0;const r=this.sa&&this.sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}aa(t){t=Ps.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ia=!0,this.ra.next(t)}Z_(){return this.options.source!==Kc.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(t){this.key=t}}class Dm{constructor(t){this.key=t}}class bE{constructor(t,r){this.query=t,this.da=r,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ve(),this.mutatedKeys=Ve(),this.Va=im(t),this.ma=new ws(this.Va)}get fa(){return this.da}ga(t,r){const o=r?r.pa:new Ep,a=r?r.ma:this.ma;let c=r?r.mutatedKeys:this.mutatedKeys,p=a,g=!1;const _=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,E=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((C,M)=>{const z=a.get(C),H=Fa(this.query,M)?M:null,te=!!z&&this.mutatedKeys.has(z.key),Z=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let K=!1;z&&H?z.data.isEqual(H.data)?te!==Z&&(o.track({type:3,doc:H}),K=!0):this.ya(z,H)||(o.track({type:2,doc:H}),K=!0,(_&&this.Va(H,_)>0||E&&this.Va(H,E)<0)&&(g=!0)):!z&&H?(o.track({type:0,doc:H}),K=!0):z&&!H&&(o.track({type:1,doc:z}),K=!0,(_||E)&&(g=!0)),K&&(H?(p=p.add(H),c=Z?c.add(C):c.delete(C)):(p=p.delete(C),c=c.delete(C)))}),this.query.limit!==null)for(;p.size>this.query.limit;){const C=this.query.limitType==="F"?p.last():p.first();p=p.delete(C.key),c=c.delete(C.key),o.track({type:1,doc:C})}return{ma:p,pa:o,ss:g,mutatedKeys:c}}ya(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,o,a){const c=this.ma;this.ma=t.ma,this.mutatedKeys=t.mutatedKeys;const p=t.pa.j_();p.sort((C,M)=>function(H,te){const Z=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe()}};return Z(H)-Z(te)}(C.type,M.type)||this.Va(C.doc,M.doc)),this.wa(o),a=a!=null&&a;const g=r&&!a?this.Sa():[],_=this.Ra.size===0&&this.current&&!a?1:0,E=_!==this.Aa;return this.Aa=_,p.length!==0||E?{snapshot:new Ps(this.query,t.ma,c,p,t.mutatedKeys,_===0,E,!1,!!o&&o.resumeToken.approximateByteSize()>0),ba:g}:{ba:g}}ea(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Ep,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(t){return!this.da.has(t)&&!!this.ma.has(t)&&!this.ma.get(t).hasLocalMutations}wa(t){t&&(t.addedDocuments.forEach(r=>this.da=this.da.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.da=this.da.delete(r)),this.current=t.current)}Sa(){if(!this.current)return[];const t=this.Ra;this.Ra=Ve(),this.ma.forEach(o=>{this.Da(o.key)&&(this.Ra=this.Ra.add(o.key))});const r=[];return t.forEach(o=>{this.Ra.has(o)||r.push(new Dm(o))}),this.Ra.forEach(o=>{t.has(o)||r.push(new Vm(o))}),r}va(t){this.da=t.ds,this.Ra=Ve();const r=this.ga(t.documents);return this.applyChanges(r,!0)}Ca(){return Ps.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class HE{constructor(t,r,o){this.query=t,this.targetId=r,this.view=o}}class QE{constructor(t){this.key=t,this.Fa=!1}}class KE{constructor(t,r,o,a,c,p){this.localStore=t,this.remoteStore=r,this.eventManager=o,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.Ma={},this.xa=new Ti(g=>rm(g),Ma),this.Oa=new Map,this.Na=new Set,this.La=new tt(he.comparator),this.Ba=new Map,this.ka=new ah,this.qa={},this.Qa=new Map,this.Ka=Rs.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function WE(s,t,r=!0){const o=Mm(s);let a;const c=o.xa.get(t);return c?(o.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.Ca()):a=await Nm(o,t,r,!0),a}async function GE(s,t){const r=Mm(s);await Nm(r,t,!0,!1)}async function Nm(s,t,r,o){const a=await EE(s.localStore,zn(t)),c=a.targetId,p=s.sharedClientState.addLocalQueryTarget(c,r);let g;return o&&(g=await XE(s,t,c,p==="current",a.resumeToken)),s.isPrimaryClient&&r&&Cm(s.remoteStore,a),g}async function XE(s,t,r,o,a){s.Ua=(M,z,H)=>async function(Z,K,Ne,Re){let _e=K.view.ga(Ne);_e.ss&&(_e=await mp(Z.localStore,K.query,!1).then(({documents:k})=>K.view.ga(k,_e)));const ve=Re&&Re.targetChanges.get(K.targetId),Xe=Re&&Re.targetMismatches.get(K.targetId)!=null,Pe=K.view.applyChanges(_e,Z.isPrimaryClient,ve,Xe);return Ip(Z,K.targetId,Pe.ba),Pe.snapshot}(s,M,z,H);const c=await mp(s.localStore,t,!0),p=new bE(t,c.ds),g=p.ga(c.documents),_=Ho.createSynthesizedTargetChangeForCurrentChange(r,o&&s.onlineState!=="Offline",a),E=p.applyChanges(g,s.isPrimaryClient,_);Ip(s,r,E.ba);const C=new HE(t,r,p);return s.xa.set(t,C),s.Oa.has(r)?s.Oa.get(r).push(t):s.Oa.set(r,[t]),E.snapshot}async function YE(s,t,r){const o=Ce(s),a=o.xa.get(t),c=o.Oa.get(a.targetId);if(c.length>1)return o.Oa.set(a.targetId,c.filter(p=>!Ma(p,t))),void o.xa.delete(t);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(a.targetId),o.sharedClientState.isActiveQueryTarget(a.targetId)||await Qc(o.localStore,a.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(a.targetId),r&&hh(o.remoteStore,a.targetId),Wc(o,a.targetId)}).catch(Da)):(Wc(o,a.targetId),await Qc(o.localStore,a.targetId,!0))}async function JE(s,t){const r=Ce(s),o=r.xa.get(t),a=r.Oa.get(o.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(o.targetId),hh(r.remoteStore,o.targetId))}async function xm(s,t){const r=Ce(s);try{const o=await _E(r.localStore,t);t.targetChanges.forEach((a,c)=>{const p=r.Ba.get(c);p&&(Ke(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?p.Fa=!0:a.modifiedDocuments.size>0?Ke(p.Fa):a.removedDocuments.size>0&&(Ke(p.Fa),p.Fa=!1))}),await Om(r,o,t)}catch(o){await Da(o)}}function Sp(s,t,r){const o=Ce(s);if(o.isPrimaryClient&&r===0||!o.isPrimaryClient&&r===1){const a=[];o.xa.forEach((c,p)=>{const g=p.view.ea(t);g.snapshot&&a.push(g.snapshot)}),function(p,g){const _=Ce(p);_.onlineState=g;let E=!1;_.queries.forEach((C,M)=>{for(const z of M.J_)z.ea(g)&&(E=!0)}),E&&gh(_)}(o.eventManager,t),a.length&&o.Ma.R_(a),o.onlineState=t,o.isPrimaryClient&&o.sharedClientState.setOnlineState(t)}}async function ZE(s,t,r){const o=Ce(s);o.sharedClientState.updateQueryState(t,"rejected",r);const a=o.Ba.get(t),c=a&&a.key;if(c){let p=new tt(he.comparator);p=p.insert(c,Nt.newNoDocument(c,de.min()));const g=Ve().add(c),_=new Ba(de.min(),new Map,new tt(Ae),p,g);await xm(o,_),o.La=o.La.remove(c),o.Ba.delete(t),yh(o)}else await Qc(o.localStore,t,!1).then(()=>Wc(o,t,r)).catch(Da)}function Wc(s,t,r=null){s.sharedClientState.removeLocalQueryTarget(t);for(const o of s.Oa.get(t))s.xa.delete(o),r&&s.Ma.Wa(o,r);s.Oa.delete(t),s.isPrimaryClient&&s.ka.yr(t).forEach(o=>{s.ka.containsKey(o)||Lm(s,o)})}function Lm(s,t){s.Na.delete(t.path.canonicalString());const r=s.La.get(t);r!==null&&(hh(s.remoteStore,r),s.La=s.La.remove(t),s.Ba.delete(r),yh(s))}function Ip(s,t,r){for(const o of r)o instanceof Vm?(s.ka.addReference(o.key,t),ew(s,o)):o instanceof Dm?(ee("SyncEngine","Document no longer in limbo: "+o.key),s.ka.removeReference(o.key,t),s.ka.containsKey(o.key)||Lm(s,o.key)):pe()}function ew(s,t){const r=t.key,o=r.path.canonicalString();s.La.get(r)||s.Na.has(o)||(ee("SyncEngine","New document in limbo: "+r),s.Na.add(o),yh(s))}function yh(s){for(;s.Na.size>0&&s.La.size<s.maxConcurrentLimboResolutions;){const t=s.Na.values().next().value;s.Na.delete(t);const r=new he(Ge.fromString(t)),o=s.Ka.next();s.Ba.set(o,new QE(r)),s.La=s.La.insert(r,o),Cm(s.remoteStore,new Lr(zn(nm(r.path)),o,"TargetPurposeLimboResolution",Na.oe))}}async function Om(s,t,r){const o=Ce(s),a=[],c=[],p=[];o.xa.isEmpty()||(o.xa.forEach((g,_)=>{p.push(o.Ua(_,t,r).then(E=>{var C;if((E||r)&&o.isPrimaryClient){const M=E?!E.fromCache:(C=r==null?void 0:r.targetChanges.get(_.targetId))===null||C===void 0?void 0:C.current;o.sharedClientState.updateQueryState(_.targetId,M?"current":"not-current")}if(E){a.push(E);const M=ch.zi(_.targetId,E);c.push(M)}}))}),await Promise.all(p),o.Ma.R_(a),await async function(_,E){const C=Ce(_);try{await C.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>j.forEach(E,z=>j.forEach(z.Wi,H=>C.persistence.referenceDelegate.addReference(M,z.targetId,H)).next(()=>j.forEach(z.Gi,H=>C.persistence.referenceDelegate.removeReference(M,z.targetId,H)))))}catch(M){if(!Ds(M))throw M;ee("LocalStore","Failed to update sequence numbers: "+M)}for(const M of E){const z=M.targetId;if(!M.fromCache){const H=C.us.get(z),te=H.snapshotVersion,Z=H.withLastLimboFreeSnapshotVersion(te);C.us=C.us.insert(z,Z)}}}(o.localStore,c))}async function tw(s,t){const r=Ce(s);if(!r.currentUser.isEqual(t)){ee("SyncEngine","User change. New user:",t.toKey());const o=await Tm(r.localStore,t);r.currentUser=t,function(c,p){c.Qa.forEach(g=>{g.forEach(_=>{_.reject(new ce(X.CANCELLED,p))})}),c.Qa.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,o.removedBatchIds,o.addedBatchIds),await Om(r,o.Ts)}}function nw(s,t){const r=Ce(s),o=r.Ba.get(t);if(o&&o.Fa)return Ve().add(o.key);{let a=Ve();const c=r.Oa.get(t);if(!c)return a;for(const p of c){const g=r.xa.get(p);a=a.unionWith(g.view.fa)}return a}}function Mm(s){const t=Ce(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=xm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=nw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ZE.bind(null,t),t.Ma.R_=jE.bind(null,t.eventManager),t.Ma.Wa=$E.bind(null,t.eventManager),t}class ka{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Im(t.databaseInfo.databaseId),this.sharedClientState=this.za(t),this.persistence=this.ja(t),await this.persistence.start(),this.localStore=this.Ha(t),this.gcScheduler=this.Ja(t,this.localStore),this.indexBackfillerScheduler=this.Ya(t,this.localStore)}Ja(t,r){return null}Ya(t,r){return null}Ha(t){return yE(this.persistence,new mE,t.initialUser,this.serializer)}ja(t){return new wm(uh.ei,this.serializer)}za(t){return new TE}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ka.provider={build:()=>new ka};class rw extends ka{constructor(t){super(),this.cacheSizeBytes=t}Ja(t,r){Ke(this.persistence.referenceDelegate instanceof Pa);const o=this.persistence.referenceDelegate.garbageCollector;return new eE(o,t.asyncQueue,r)}ja(t){const r=this.cacheSizeBytes!==void 0?Qt.withCacheSize(this.cacheSizeBytes):Qt.DEFAULT;return new wm(o=>Pa.ei(o,r),this.serializer)}}class Gc{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>Sp(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=tw.bind(null,this.syncEngine),await ME(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new UE}()}createDatastore(t){const r=Im(t.databaseInfo.databaseId),o=function(c){return new CE(c)}(t.databaseInfo);return function(c,p,g,_){return new kE(c,p,g,_)}(t.authCredentials,t.appCheckCredentials,o,r)}createRemoteStore(t){return function(o,a,c,p,g){return new DE(o,a,c,p,g)}(this.localStore,this.datastore,t.asyncQueue,r=>Sp(this.syncEngine,r,0),function(){return yp.p()?new yp:new SE}())}createSyncEngine(t,r){return function(a,c,p,g,_,E,C){const M=new KE(a,c,p,g,_,E);return C&&(M.$a=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(a){const c=Ce(a);ee("RemoteStore","RemoteStore shutting down."),c.k_.add(5),await Qo(c),c.Q_.shutdown(),c.K_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Gc.provider={build:()=>new Gc};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Xa(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Xa(this.observer.error,t):lr("Uncaught Error in snapshot listener:",t.toString()))}eu(){this.muted=!0}Xa(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(t,r,o,a,c){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=a,this.user=Dt.UNAUTHENTICATED,this.clientId=U_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(o,async p=>{ee("FirestoreClient","Received user=",p.uid),await this.authCredentialListener(p),this.user=p}),this.appCheckCredentials.start(o,p=>(ee("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=km(r,"Failed to shutdown persistence");t.reject(o)}}),t.promise}}async function Pc(s,t){s.asyncQueue.verifyOperationInProgress(),ee("FirestoreClient","Initializing OfflineComponentProvider");const r=s.configuration;await t.initialize(r);let o=r.initialUser;s.setCredentialChangeListener(async a=>{o.isEqual(a)||(await Tm(t.localStore,a),o=a)}),t.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=t}async function Ap(s,t){s.asyncQueue.verifyOperationInProgress();const r=await ow(s);ee("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(r,s.configuration),s.setCredentialChangeListener(o=>vp(t.remoteStore,o)),s.setAppCheckTokenChangeListener((o,a)=>vp(t.remoteStore,a)),s._onlineComponents=t}async function ow(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ee("FirestoreClient","Using user provided OfflineComponentProvider");try{await Pc(s,s._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(a){return a.name==="FirebaseError"?a.code===X.FAILED_PRECONDITION||a.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;Ss("Error using user provided cache. Falling back to memory cache: "+r),await Pc(s,new ka)}}else ee("FirestoreClient","Using default OfflineComponentProvider"),await Pc(s,new rw(void 0));return s._offlineComponents}async function lw(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ee("FirestoreClient","Using user provided OnlineComponentProvider"),await Ap(s,s._uninitializedComponentsProvider._online)):(ee("FirestoreClient","Using default OnlineComponentProvider"),await Ap(s,new Gc))),s._onlineComponents}async function aw(s){const t=await lw(s),r=t.eventManager;return r.onListen=WE.bind(null,t.syncEngine),r.onUnlisten=YE.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=GE.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=JE.bind(null,t.syncEngine),r}function uw(s,t,r={}){const o=new vi;return s.asyncQueue.enqueueAndForget(async()=>function(c,p,g,_,E){const C=new iw({next:z=>{C.eu(),p.enqueueAndForget(()=>BE(c,M)),z.fromCache&&_.source==="server"?E.reject(new ce(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(z)},error:z=>E.reject(z)}),M=new qE(g,C,{includeMetadataChanges:!0,ua:!0});return zE(c,M)}(await aw(s),s.asyncQueue,t,r,o)),o.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp=new Map;function cw(s,t,r,o){if(t===!0&&o===!0)throw new ce(X.INVALID_ARGUMENT,`${s} and ${r} cannot be used together.`)}function Rp(s){if(he.isDocumentKey(s))throw new ce(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function hw(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=function(o){return o.constructor?o.constructor.name:null}(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":pe()}function Xc(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ce(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=hw(s);throw new ce(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(t){var r,o;if(t.host===void 0){if(t.ssl!==void 0)throw new ce(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(r=t.ssl)===null||r===void 0||r;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new ce(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}cw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Fm((o=t.experimentalLongPollingOptions)!==null&&o!==void 0?o:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(o,a){return o.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class _h{constructor(t,r,o,a){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=o,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pp({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ce(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pp(t),t.credentials!==void 0&&(this._authCredentials=function(o){if(!o)return new V_;switch(o.type){case"firstParty":return new L_(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new ce(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const o=Cp.get(r);o&&(ee("ComponentProvider","Removing Datastore"),Cp.delete(r),o.terminate())}(this),Promise.resolve()}}function fw(s,t,r,o={}){var a;const c=(s=Xc(s,_h))._getSettings(),p=`${t}:${r}`;if(c.host!=="firestore.googleapis.com"&&c.host!==p&&Ss("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},c),{host:p,ssl:!1})),o.mockUserToken){let g,_;if(typeof o.mockUserToken=="string")g=o.mockUserToken,_=Dt.MOCK_USER;else{g=cy(o.mockUserToken,(a=s._app)===null||a===void 0?void 0:a.options.projectId);const E=o.mockUserToken.sub||o.mockUserToken.user_id;if(!E)throw new ce(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Dt(E)}s._authCredentials=new D_(new Wp(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(t,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=t}withConverter(t){return new $a(this.firestore,t,this._query)}}class xs{constructor(t,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new xs(this.firestore,t,this._key)}}class Ts extends $a{constructor(t,r,o){super(t,r,nm(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new xs(this.firestore,null,new he(t))}withConverter(t){return new Ts(this.firestore,t,this._path)}}function dw(s,t,...r){if(s=vy(s),s instanceof _h){const o=Ge.fromString(t,...r);return Rp(o),new Ts(s,null,o)}{if(!(s instanceof xs||s instanceof Ts))throw new ce(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=s._path.child(Ge.fromString(t,...r));return Rp(o),new Ts(s.firestore,null,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(t=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Am(this,"async_queue_retry"),this.fu=()=>{const o=Rc();o&&ee("AsyncQueue","Visibility state changed to "+o.visibilityState),this.r_.Jo()},this.gu=t;const r=Rc();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.pu(),this.yu(t)}enterRestrictedMode(t){if(!this.Eu){this.Eu=!0,this.Vu=t||!1;const r=Rc();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.fu)}}enqueue(t){if(this.pu(),this.Eu)return new Promise(()=>{});const r=new vi;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Iu.push(t),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(t){if(!Ds(t))throw t;ee("AsyncQueue","Operation failed with retryable error: "+t)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(t){const r=this.gu.then(()=>(this.Ru=!0,t().catch(o=>{this.Au=o,this.Ru=!1;const a=function(p){let g=p.message||"";return p.stack&&(g=p.stack.includes(p.message)?p.stack:p.message+`
`+p.stack),g}(o);throw lr("INTERNAL UNHANDLED ERROR: ",a),o}).then(o=>(this.Ru=!1,o))));return this.gu=r,r}enqueueAfterDelay(t,r,o){this.pu(),this.mu.indexOf(t)>-1&&(r=0);const a=mh.createAndSchedule(this,t,r,o,c=>this.Su(c));return this.du.push(a),a}pu(){this.Au&&pe()}verifyOperationInProgress(){}async bu(){let t;do t=this.gu,await t;while(t!==this.gu)}Du(t){for(const r of this.du)if(r.timerId===t)return!0;return!1}vu(t){return this.bu().then(()=>{this.du.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.du)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.bu()})}Cu(t){this.mu.push(t)}Su(t){const r=this.du.indexOf(t);this.du.splice(r,1)}}class Um extends _h{constructor(t,r,o,a){super(t,r,o,a),this.type="firestore",this._queue=new kp,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new kp(t),this._firestoreClient=void 0,await t}}}function pw(s,t){const r=typeof s=="object"?s:E_(),o=typeof s=="string"?s:"(default)",a=g_(r,"firestore").getImmediate({identifier:o});if(!a._initialized){const c=ay("firestore");c&&fw(a,...c)}return a}function mw(s){if(s._terminated)throw new ce(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||gw(s),s._firestoreClient}function gw(s){var t,r,o;const a=s._freezeSettings(),c=function(g,_,E,C){return new X_(g,_,E,C.host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,Fm(C.experimentalLongPollingOptions),C.useFetchStreams)}(s._databaseId,((t=s._app)===null||t===void 0?void 0:t.options.appId)||"",s._persistenceKey,a);s._componentsProvider||!((r=a.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((o=a.localCache)===null||o===void 0)&&o._onlineComponentProvider)&&(s._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),s._firestoreClient=new sw(s._authCredentials,s._appCheckCredentials,s._queue,c,s._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Va(St.fromBase64String(t))}catch(r){throw new ce(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Va(St.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new ce(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new ce(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new ce(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ae(this._lat,t._lat)||Ae(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(o,a){if(o.length!==a.length)return!1;for(let c=0;c<o.length;++c)if(o[c]!==a[c])return!1;return!0}(this._values,t._values)}}const vw=new RegExp("[~\\*/\\[\\]]");function Ew(s,t,r){if(t.search(vw)>=0)throw Vp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s);try{return new zm(...t.split("."))._internalPath}catch{throw Vp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s)}}function Vp(s,t,r,o,a){let c=`Function ${t}() called with invalid data`;c+=". ";let p="";return new ce(X.INVALID_ARGUMENT,c+s+p)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(t,r,o,a,c){this._firestore=t,this._userDataWriter=r,this._key=o,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new xs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new ww(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(jm("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class ww extends Bm{data(){return super.data()}}function jm(s,t){return typeof t=="string"?Ew(s,t):t instanceof zm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ce(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sw{convertValue(t,r="none"){switch(Br(t)){case 0:return null;case 1:return t.booleanValue;case 2:return et(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(zr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw pe()}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const o={};return bo(t,(a,c)=>{o[a]=this.convertValue(c,r)}),o}convertVectorValue(t){var r,o,a;const c=(a=(o=(r=t.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||o===void 0?void 0:o.values)===null||a===void 0?void 0:a.map(p=>et(p.doubleValue));return new _w(c)}convertGeoPoint(t){return new yw(et(t.latitude),et(t.longitude))}convertArray(t,r){return(t.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(t,r){switch(r){case"previous":const o=La(t);return o==null?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(jo(t));default:return null}}convertTimestamp(t){const r=Ur(t);return new Kt(r.seconds,r.nanos)}convertDocumentKey(t,r){const o=Ge.fromString(t);Ke(Em(o));const a=new $o(o.get(1),o.get(3)),c=new he(o.popFirst(5));return a.isEqual(r)||lr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Iw extends Bm{constructor(t,r,o,a,c,p){super(t,r,o,a,p),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new Ea(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const o=this._document.data.field(jm("DocumentSnapshot.get",t));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class Ea extends Iw{data(t={}){return super.data(t)}}class Aw{constructor(t,r,o,a){this._firestore=t,this._userDataWriter=r,this._snapshot=a,this.metadata=new ma(a.hasPendingWrites,a.fromCache),this.query=o}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(o=>{t.call(r,new Ea(this._firestore,this._userDataWriter,o.key,o,new ma(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ce(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let p=0;return a._snapshot.docChanges.map(g=>{const _=new Ea(a._firestore,a._userDataWriter,g.doc.key,g.doc,new ma(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:p++}})}{let p=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const _=new Ea(a._firestore,a._userDataWriter,g.doc.key,g.doc,new ma(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter);let E=-1,C=-1;return g.type!==0&&(E=p.indexOf(g.doc.key),p=p.delete(g.doc.key)),g.type!==1&&(p=p.add(g.doc),C=p.indexOf(g.doc.key)),{type:Cw(g.type),doc:_,oldIndex:E,newIndex:C}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Cw(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe()}}class Rw extends Sw{constructor(t){super(),this.firestore=t}convertBytes(t){return new Va(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new xs(this.firestore,null,r)}}function Pw(s){s=Xc(s,$a);const t=Xc(s.firestore,Um),r=mw(t),o=new Rw(t);return Tw(s._query),uw(r,s._query).then(a=>new Aw(t,o,s,a))}(function(t,r=!0){(function(a){Vs=a})(v_),Sa(new Uo("firestore",(o,{instanceIdentifier:a,options:c})=>{const p=o.getProvider("app").getImmediate(),g=new Um(new N_(o.getProvider("auth-internal")),new M_(o.getProvider("app-check-internal")),function(E,C){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new ce(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $o(E.options.projectId,C)}(p,a),p);return c=Object.assign({useFetchStreams:r},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),vs(Qd,"4.7.5",t),vs(Qd,"4.7.5","esm2017")})();var kw="firebase",Vw="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vs(kw,Vw,"app");const Dw={apiKey:"AIzaSyC3m93k1YI4by_mmA9E4QQsVIcCa_w5Qng",authDomain:"winter-2025.firebaseapp.com",projectId:"winter-2025",storageBucket:"winter-2025.firebasestorage.app",messagingSenderId:"573011371463",appId:"1:573011371463:web:ad7491d29fda24f10ea5e2"},Nw=zp(Dw),xw=pw(Nw),Lw="contacts";function Ow(){const s=async()=>{await Pw(dw(xw,Lw))};return Dp.useEffect(()=>{s()},[]),xo.jsx(xo.Fragment,{children:xo.jsx("h1",{children:"Hello World!"})})}Jg.createRoot(document.getElementById("root")).render(xo.jsx(Dp.StrictMode,{children:xo.jsx(Ow,{})}));
