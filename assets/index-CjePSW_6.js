(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function Bg(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ih={exports:{}},pa={},Rh={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pm;function Wv(){if(pm)return Ue;pm=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),I=Symbol.iterator;function T(O){return O===null||typeof O!="object"?null:(O=I&&O[I]||O["@@iterator"],typeof O=="function"?O:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,$={};function U(O,Y,Ee){this.props=O,this.context=Y,this.refs=$,this.updater=Ee||C}U.prototype.isReactComponent={},U.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},U.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function H(){}H.prototype=U.prototype;function ee(O,Y,Ee){this.props=O,this.context=Y,this.refs=$,this.updater=Ee||C}var ie=ee.prototype=new H;ie.constructor=ee,M(ie,U.prototype),ie.isPureReactComponent=!0;var pe=Array.isArray,z=Object.prototype.hasOwnProperty,ce={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(O,Y,Ee){var Me,Ne={},ze=null,Je=null;if(Y!=null)for(Me in Y.ref!==void 0&&(Je=Y.ref),Y.key!==void 0&&(ze=""+Y.key),Y)z.call(Y,Me)&&!k.hasOwnProperty(Me)&&(Ne[Me]=Y[Me]);var Ze=arguments.length-2;if(Ze===1)Ne.children=Ee;else if(1<Ze){for(var Fe=Array(Ze),ft=0;ft<Ze;ft++)Fe[ft]=arguments[ft+2];Ne.children=Fe}if(O&&O.defaultProps)for(Me in Ze=O.defaultProps,Ze)Ne[Me]===void 0&&(Ne[Me]=Ze[Me]);return{$$typeof:r,type:O,key:ze,ref:Je,props:Ne,_owner:ce.current}}function R(O,Y){return{$$typeof:r,type:O.type,key:Y,ref:O.ref,props:O.props,_owner:O._owner}}function x(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function N(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(Ee){return Y[Ee]})}var b=/\/+/g;function P(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?N(""+O.key):Y.toString(36)}function ct(O,Y,Ee,Me,Ne){var ze=typeof O;(ze==="undefined"||ze==="boolean")&&(O=null);var Je=!1;if(O===null)Je=!0;else switch(ze){case"string":case"number":Je=!0;break;case"object":switch(O.$$typeof){case r:case e:Je=!0}}if(Je)return Je=O,Ne=Ne(Je),O=Me===""?"."+P(Je,0):Me,pe(Ne)?(Ee="",O!=null&&(Ee=O.replace(b,"$&/")+"/"),ct(Ne,Y,Ee,"",function(ft){return ft})):Ne!=null&&(x(Ne)&&(Ne=R(Ne,Ee+(!Ne.key||Je&&Je.key===Ne.key?"":(""+Ne.key).replace(b,"$&/")+"/")+O)),Y.push(Ne)),1;if(Je=0,Me=Me===""?".":Me+":",pe(O))for(var Ze=0;Ze<O.length;Ze++){ze=O[Ze];var Fe=Me+P(ze,Ze);Je+=ct(ze,Y,Ee,Fe,Ne)}else if(Fe=T(O),typeof Fe=="function")for(O=Fe.call(O),Ze=0;!(ze=O.next()).done;)ze=ze.value,Fe=Me+P(ze,Ze++),Je+=ct(ze,Y,Ee,Fe,Ne);else if(ze==="object")throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Je}function We(O,Y,Ee){if(O==null)return O;var Me=[],Ne=0;return ct(O,Me,"","",function(ze){return Y.call(Ee,ze,Ne++)}),Me}function At(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(Ee){(O._status===0||O._status===-1)&&(O._status=1,O._result=Ee)},function(Ee){(O._status===0||O._status===-1)&&(O._status=2,O._result=Ee)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Qe={current:null},oe={transition:null},Te={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:oe,ReactCurrentOwner:ce};function ue(){throw Error("act(...) is not supported in production builds of React.")}return Ue.Children={map:We,forEach:function(O,Y,Ee){We(O,function(){Y.apply(this,arguments)},Ee)},count:function(O){var Y=0;return We(O,function(){Y++}),Y},toArray:function(O){return We(O,function(Y){return Y})||[]},only:function(O){if(!x(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ue.Component=U,Ue.Fragment=t,Ue.Profiler=o,Ue.PureComponent=ee,Ue.StrictMode=s,Ue.Suspense=g,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Te,Ue.act=ue,Ue.cloneElement=function(O,Y,Ee){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Me=M({},O.props),Ne=O.key,ze=O.ref,Je=O._owner;if(Y!=null){if(Y.ref!==void 0&&(ze=Y.ref,Je=ce.current),Y.key!==void 0&&(Ne=""+Y.key),O.type&&O.type.defaultProps)var Ze=O.type.defaultProps;for(Fe in Y)z.call(Y,Fe)&&!k.hasOwnProperty(Fe)&&(Me[Fe]=Y[Fe]===void 0&&Ze!==void 0?Ze[Fe]:Y[Fe])}var Fe=arguments.length-2;if(Fe===1)Me.children=Ee;else if(1<Fe){Ze=Array(Fe);for(var ft=0;ft<Fe;ft++)Ze[ft]=arguments[ft+2];Me.children=Ze}return{$$typeof:r,type:O.type,key:Ne,ref:ze,props:Me,_owner:Je}},Ue.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:l,_context:O},O.Consumer=O},Ue.createElement=S,Ue.createFactory=function(O){var Y=S.bind(null,O);return Y.type=O,Y},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(O){return{$$typeof:d,render:O}},Ue.isValidElement=x,Ue.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:At}},Ue.memo=function(O,Y){return{$$typeof:y,type:O,compare:Y===void 0?null:Y}},Ue.startTransition=function(O){var Y=oe.transition;oe.transition={};try{O()}finally{oe.transition=Y}},Ue.unstable_act=ue,Ue.useCallback=function(O,Y){return Qe.current.useCallback(O,Y)},Ue.useContext=function(O){return Qe.current.useContext(O)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(O){return Qe.current.useDeferredValue(O)},Ue.useEffect=function(O,Y){return Qe.current.useEffect(O,Y)},Ue.useId=function(){return Qe.current.useId()},Ue.useImperativeHandle=function(O,Y,Ee){return Qe.current.useImperativeHandle(O,Y,Ee)},Ue.useInsertionEffect=function(O,Y){return Qe.current.useInsertionEffect(O,Y)},Ue.useLayoutEffect=function(O,Y){return Qe.current.useLayoutEffect(O,Y)},Ue.useMemo=function(O,Y){return Qe.current.useMemo(O,Y)},Ue.useReducer=function(O,Y,Ee){return Qe.current.useReducer(O,Y,Ee)},Ue.useRef=function(O){return Qe.current.useRef(O)},Ue.useState=function(O){return Qe.current.useState(O)},Ue.useSyncExternalStore=function(O,Y,Ee){return Qe.current.useSyncExternalStore(O,Y,Ee)},Ue.useTransition=function(){return Qe.current.useTransition()},Ue.version="18.3.1",Ue}var mm;function pf(){return mm||(mm=1,Rh.exports=Wv()),Rh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gm;function Qv(){if(gm)return pa;gm=1;var r=pf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(d,g,y){var E,I={},T=null,C=null;y!==void 0&&(T=""+y),g.key!==void 0&&(T=""+g.key),g.ref!==void 0&&(C=g.ref);for(E in g)s.call(g,E)&&!l.hasOwnProperty(E)&&(I[E]=g[E]);if(d&&d.defaultProps)for(E in g=d.defaultProps,g)I[E]===void 0&&(I[E]=g[E]);return{$$typeof:e,type:d,key:T,ref:C,props:I,_owner:o.current}}return pa.Fragment=t,pa.jsx=h,pa.jsxs=h,pa}var ym;function Kv(){return ym||(ym=1,Ih.exports=Qv()),Ih.exports}var ke=Kv(),Q=pf();const Gv=Bg(Q);var tu={},Ah={exports:{}},Cn={},Ch={exports:{}},Ph={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _m;function Yv(){return _m||(_m=1,function(r){function e(oe,Te){var ue=oe.length;oe.push(Te);e:for(;0<ue;){var O=ue-1>>>1,Y=oe[O];if(0<o(Y,Te))oe[O]=Te,oe[ue]=Y,ue=O;else break e}}function t(oe){return oe.length===0?null:oe[0]}function s(oe){if(oe.length===0)return null;var Te=oe[0],ue=oe.pop();if(ue!==Te){oe[0]=ue;e:for(var O=0,Y=oe.length,Ee=Y>>>1;O<Ee;){var Me=2*(O+1)-1,Ne=oe[Me],ze=Me+1,Je=oe[ze];if(0>o(Ne,ue))ze<Y&&0>o(Je,Ne)?(oe[O]=Je,oe[ze]=ue,O=ze):(oe[O]=Ne,oe[Me]=ue,O=Me);else if(ze<Y&&0>o(Je,ue))oe[O]=Je,oe[ze]=ue,O=ze;else break e}}return Te}function o(oe,Te){var ue=oe.sortIndex-Te.sortIndex;return ue!==0?ue:oe.id-Te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var h=Date,d=h.now();r.unstable_now=function(){return h.now()-d}}var g=[],y=[],E=1,I=null,T=3,C=!1,M=!1,$=!1,U=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ie(oe){for(var Te=t(y);Te!==null;){if(Te.callback===null)s(y);else if(Te.startTime<=oe)s(y),Te.sortIndex=Te.expirationTime,e(g,Te);else break;Te=t(y)}}function pe(oe){if($=!1,ie(oe),!M)if(t(g)!==null)M=!0,At(z);else{var Te=t(y);Te!==null&&Qe(pe,Te.startTime-oe)}}function z(oe,Te){M=!1,$&&($=!1,H(S),S=-1),C=!0;var ue=T;try{for(ie(Te),I=t(g);I!==null&&(!(I.expirationTime>Te)||oe&&!N());){var O=I.callback;if(typeof O=="function"){I.callback=null,T=I.priorityLevel;var Y=O(I.expirationTime<=Te);Te=r.unstable_now(),typeof Y=="function"?I.callback=Y:I===t(g)&&s(g),ie(Te)}else s(g);I=t(g)}if(I!==null)var Ee=!0;else{var Me=t(y);Me!==null&&Qe(pe,Me.startTime-Te),Ee=!1}return Ee}finally{I=null,T=ue,C=!1}}var ce=!1,k=null,S=-1,R=5,x=-1;function N(){return!(r.unstable_now()-x<R)}function b(){if(k!==null){var oe=r.unstable_now();x=oe;var Te=!0;try{Te=k(!0,oe)}finally{Te?P():(ce=!1,k=null)}}else ce=!1}var P;if(typeof ee=="function")P=function(){ee(b)};else if(typeof MessageChannel<"u"){var ct=new MessageChannel,We=ct.port2;ct.port1.onmessage=b,P=function(){We.postMessage(null)}}else P=function(){U(b,0)};function At(oe){k=oe,ce||(ce=!0,P())}function Qe(oe,Te){S=U(function(){oe(r.unstable_now())},Te)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(oe){oe.callback=null},r.unstable_continueExecution=function(){M||C||(M=!0,At(z))},r.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<oe?Math.floor(1e3/oe):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_getFirstCallbackNode=function(){return t(g)},r.unstable_next=function(oe){switch(T){case 1:case 2:case 3:var Te=3;break;default:Te=T}var ue=T;T=Te;try{return oe()}finally{T=ue}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(oe,Te){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var ue=T;T=oe;try{return Te()}finally{T=ue}},r.unstable_scheduleCallback=function(oe,Te,ue){var O=r.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?O+ue:O):ue=O,oe){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ue+Y,oe={id:E++,callback:Te,priorityLevel:oe,startTime:ue,expirationTime:Y,sortIndex:-1},ue>O?(oe.sortIndex=ue,e(y,oe),t(g)===null&&oe===t(y)&&($?(H(S),S=-1):$=!0,Qe(pe,ue-O))):(oe.sortIndex=Y,e(g,oe),M||C||(M=!0,At(z))),oe},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(oe){var Te=T;return function(){var ue=T;T=Te;try{return oe.apply(this,arguments)}finally{T=ue}}}}(Ph)),Ph}var vm;function Xv(){return vm||(vm=1,Ch.exports=Yv()),Ch.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em;function Jv(){if(Em)return Cn;Em=1;var r=pf(),e=Xv();function t(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(n,i){h(n,i),h(n+"Capture",i)}function h(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},I={};function T(n){return g.call(I,n)?!0:g.call(E,n)?!1:y.test(n)?I[n]=!0:(E[n]=!0,!1)}function C(n,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function M(n,i,a,c){if(i===null||typeof i>"u"||C(n,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function $(n,i,a,c,f,m,v){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=n,this.type=i,this.sanitizeURL=m,this.removeEmptyString=v}var U={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){U[n]=new $(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];U[i]=new $(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){U[n]=new $(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){U[n]=new $(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){U[n]=new $(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){U[n]=new $(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){U[n]=new $(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){U[n]=new $(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){U[n]=new $(n,5,!1,n.toLowerCase(),null,!1,!1)});var H=/[\-:]([a-z])/g;function ee(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(H,ee);U[i]=new $(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(H,ee);U[i]=new $(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(H,ee);U[i]=new $(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){U[n]=new $(n,1,!1,n.toLowerCase(),null,!1,!1)}),U.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){U[n]=new $(n,1,!1,n.toLowerCase(),null,!0,!0)});function ie(n,i,a,c){var f=U.hasOwnProperty(i)?U[i]:null;(f!==null?f.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(M(i,a,f,c)&&(a=null),c||f===null?T(i)&&(a===null?n.removeAttribute(i):n.setAttribute(i,""+a)):f.mustUseProperty?n[f.propertyName]=a===null?f.type===3?!1:"":a:(i=f.attributeName,c=f.attributeNamespace,a===null?n.removeAttribute(i):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,c?n.setAttributeNS(c,i,a):n.setAttribute(i,a))))}var pe=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),ce=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),N=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),ct=Symbol.for("react.suspense_list"),We=Symbol.for("react.memo"),At=Symbol.for("react.lazy"),Qe=Symbol.for("react.offscreen"),oe=Symbol.iterator;function Te(n){return n===null||typeof n!="object"?null:(n=oe&&n[oe]||n["@@iterator"],typeof n=="function"?n:null)}var ue=Object.assign,O;function Y(n){if(O===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);O=i&&i[1]||""}return`
`+O+n}var Ee=!1;function Me(n,i){if(!n||Ee)return"";Ee=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(W){var c=W}Reflect.construct(n,[],i)}else{try{i.call()}catch(W){c=W}n.call(i.prototype)}else{try{throw Error()}catch(W){c=W}n()}}catch(W){if(W&&c&&typeof W.stack=="string"){for(var f=W.stack.split(`
`),m=c.stack.split(`
`),v=f.length-1,A=m.length-1;1<=v&&0<=A&&f[v]!==m[A];)A--;for(;1<=v&&0<=A;v--,A--)if(f[v]!==m[A]){if(v!==1||A!==1)do if(v--,A--,0>A||f[v]!==m[A]){var D=`
`+f[v].replace(" at new "," at ");return n.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",n.displayName)),D}while(1<=v&&0<=A);break}}}finally{Ee=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?Y(n):""}function Ne(n){switch(n.tag){case 5:return Y(n.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return n=Me(n.type,!1),n;case 11:return n=Me(n.type.render,!1),n;case 1:return n=Me(n.type,!0),n;default:return""}}function ze(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case k:return"Fragment";case ce:return"Portal";case R:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case ct:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case N:return(n.displayName||"Context")+".Consumer";case x:return(n._context.displayName||"Context")+".Provider";case b:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case We:return i=n.displayName||null,i!==null?i:ze(n.type)||"Memo";case At:i=n._payload,n=n._init;try{return ze(n(i))}catch{}}return null}function Je(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ze(i);case 8:return i===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ze(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Fe(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ft(n){var i=Fe(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(v){c=""+v,m.call(this,v)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function jn(n){n._valueTracker||(n._valueTracker=ft(n))}function hi(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return n&&(c=Fe(n)?n.checked?"true":"false":n.value),n=c,n!==a?(i.setValue(n),!0):!1}function tn(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function zr(n,i){var a=i.checked;return ue({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function fi(n,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=Ze(i.value!=null?i.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function di(n,i){i=i.checked,i!=null&&ie(n,"checked",i,!1)}function ns(n,i){di(n,i);var a=Ze(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?pi(n,i.type,a):i.hasOwnProperty("defaultValue")&&pi(n,i.type,Ze(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function Ms(n,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,a||i===n.value||(n.value=i),n.defaultValue=i}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function pi(n,i,a){(i!=="number"||tn(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var Xn=Array.isArray;function qt(n,i,a,c){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Ze(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,c&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function Jn(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return ue({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function jr(n,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(Xn(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}n._wrapperState={initialValue:Ze(a)}}function vr(n,i){var a=Ze(i.value),c=Ze(i.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),i.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function yn(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function at(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function St(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?at(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Dn,rs=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,f){MSApp.execUnsafeLocalFunction(function(){return n(i,a,c,f)})}:n}(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(Dn=Dn||document.createElement("div"),Dn.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Dn.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function Ht(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var Er={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wr=["Webkit","ms","Moz","O"];Object.keys(Er).forEach(function(n){wr.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),Er[i]=Er[n]})});function mi(n,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||Er.hasOwnProperty(n)&&Er[n]?(""+i).trim():i+"px"}function is(n,i){n=n.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,f=mi(a,i[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,f):n[a]=f}}var gi=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tr(n,i){if(i){if(gi[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function yi(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zn=null;function _i(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Br=null,_n=null,Vn=null;function er(n){if(n=Zo(n)){if(typeof Br!="function")throw Error(t(280));var i=n.stateNode;i&&(i=gl(i),Br(n.stateNode,n.type,i))}}function fn(n){_n?Vn?Vn.push(n):Vn=[n]:_n=n}function ss(){if(_n){var n=_n,i=Vn;if(Vn=_n=null,er(n),i)for(n=0;n<i.length;n++)er(i[n])}}function $r(n,i){return n(i)}function V(){}var F=!1;function K(n,i,a){if(F)return n(i,a);F=!0;try{return $r(n,i,a)}finally{F=!1,(_n!==null||Vn!==null)&&(V(),ss())}}function X(n,i){var a=n.stateNode;if(a===null)return null;var c=gl(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var he=!1;if(d)try{var ye={};Object.defineProperty(ye,"passive",{get:function(){he=!0}}),window.addEventListener("test",ye,ye),window.removeEventListener("test",ye,ye)}catch{he=!1}function Ae(n,i,a,c,f,m,v,A,D){var W=Array.prototype.slice.call(arguments,3);try{i.apply(a,W)}catch(ne){this.onError(ne)}}var fe=!1,ve=null,ae=!1,xe=null,be={onError:function(n){fe=!0,ve=n}};function rt(n,i,a,c,f,m,v,A,D){fe=!1,ve=null,Ae.apply(be,arguments)}function It(n,i,a,c,f,m,v,A,D){if(rt.apply(this,arguments),fe){if(fe){var W=ve;fe=!1,ve=null}else throw Error(t(198));ae||(ae=!0,xe=W)}}function Be(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,i.flags&4098&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function et(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function it(n){if(Be(n)!==n)throw Error(t(188))}function tr(n){var i=n.alternate;if(!i){if(i=Be(n),i===null)throw Error(t(188));return i!==n?null:n}for(var a=n,c=i;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return it(f),n;if(m===c)return it(f),i;m=m.sibling}throw Error(t(188))}if(a.return!==c.return)a=f,c=m;else{for(var v=!1,A=f.child;A;){if(A===a){v=!0,a=f,c=m;break}if(A===c){v=!0,c=f,a=m;break}A=A.sibling}if(!v){for(A=m.child;A;){if(A===a){v=!0,a=m,c=f;break}if(A===c){v=!0,c=m,a=f;break}A=A.sibling}if(!v)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:i}function nr(n){return n=tr(n),n!==null?nn(n):null}function nn(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=nn(n);if(i!==null)return i;n=n.sibling}return null}var Wt=e.unstable_scheduleCallback,qr=e.unstable_cancelCallback,Sr=e.unstable_shouldYield,rr=e.unstable_requestPaint,st=e.unstable_now,Hr=e.unstable_getCurrentPriorityLevel,Ke=e.unstable_ImmediatePriority,dt=e.unstable_UserBlockingPriority,Qt=e.unstable_NormalPriority,ir=e.unstable_LowPriority,pt=e.unstable_IdlePriority,vn=null,rn=null;function Os(n){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(vn,n,void 0,(n.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:Ka,Fo=Math.log,Qa=Math.LN2;function Ka(n){return n>>>=0,n===0?32:31-(Fo(n)/Qa|0)|0}var Fs=64,bs=4194304;function vi(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function os(n,i){var a=n.pendingLanes;if(a===0)return 0;var c=0,f=n.suspendedLanes,m=n.pingedLanes,v=a&268435455;if(v!==0){var A=v&~f;A!==0?c=vi(A):(m&=v,m!==0&&(c=vi(m)))}else v=a&~f,v!==0?c=vi(v):m!==0&&(c=vi(m));if(c===0)return 0;if(i!==0&&i!==c&&!(i&f)&&(f=c&-c,m=i&-i,f>=m||f===16&&(m&4194240)!==0))return i;if(c&4&&(c|=a&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=c;0<i;)a=31-dn(i),f=1<<a,c|=n[a],i&=~f;return c}function ec(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wr(n,i){for(var a=n.suspendedLanes,c=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes;0<m;){var v=31-dn(m),A=1<<v,D=f[v];D===-1?(!(A&a)||A&c)&&(f[v]=ec(A,i)):D<=i&&(n.expiredLanes|=A),m&=~A}}function Nn(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function as(){var n=Fs;return Fs<<=1,!(Fs&4194240)&&(Fs=64),n}function Ei(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function wi(n,i,a){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-dn(i),n[i]=a}function ut(n,i){var a=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var f=31-dn(a),m=1<<f;i[f]=0,c[f]=-1,n[f]=-1,a&=~m}}function Ti(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var c=31-dn(a),f=1<<c;f&i|n[c]&i&&(n[c]|=i),a&=~f}}var $e=0;function Si(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Ga,Us,Ya,Xa,Ja,bo=!1,Ir=[],Kt=null,sr=null,or=null,Ii=new Map,Bn=new Map,Rr=[],tc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Za(n,i){switch(n){case"focusin":case"focusout":Kt=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":Ii.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bn.delete(i.pointerId)}}function En(n,i,a,c,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},i!==null&&(i=Zo(i),i!==null&&Us(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function nc(n,i,a,c,f){switch(i){case"focusin":return Kt=En(Kt,n,i,a,c,f),!0;case"dragenter":return sr=En(sr,n,i,a,c,f),!0;case"mouseover":return or=En(or,n,i,a,c,f),!0;case"pointerover":var m=f.pointerId;return Ii.set(m,En(Ii.get(m)||null,n,i,a,c,f)),!0;case"gotpointercapture":return m=f.pointerId,Bn.set(m,En(Bn.get(m)||null,n,i,a,c,f)),!0}return!1}function el(n){var i=fs(n.target);if(i!==null){var a=Be(i);if(a!==null){if(i=a.tag,i===13){if(i=et(a),i!==null){n.blockedOn=i,Ja(n.priority,function(){Ya(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Qr(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=zs(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);Zn=c,a.target.dispatchEvent(c),Zn=null}else return i=Zo(a),i!==null&&Us(i),n.blockedOn=a,!1;i.shift()}return!0}function ls(n,i,a){Qr(n)&&a.delete(i)}function tl(){bo=!1,Kt!==null&&Qr(Kt)&&(Kt=null),sr!==null&&Qr(sr)&&(sr=null),or!==null&&Qr(or)&&(or=null),Ii.forEach(ls),Bn.forEach(ls)}function ar(n,i){n.blockedOn===i&&(n.blockedOn=null,bo||(bo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,tl)))}function lr(n){function i(f){return ar(f,n)}if(0<Ir.length){ar(Ir[0],n);for(var a=1;a<Ir.length;a++){var c=Ir[a];c.blockedOn===n&&(c.blockedOn=null)}}for(Kt!==null&&ar(Kt,n),sr!==null&&ar(sr,n),or!==null&&ar(or,n),Ii.forEach(i),Bn.forEach(i),a=0;a<Rr.length;a++)c=Rr[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<Rr.length&&(a=Rr[0],a.blockedOn===null);)el(a),a.blockedOn===null&&Rr.shift()}var Kr=pe.ReactCurrentBatchConfig,Ri=!0;function _t(n,i,a,c){var f=$e,m=Kr.transition;Kr.transition=null;try{$e=1,Uo(n,i,a,c)}finally{$e=f,Kr.transition=m}}function rc(n,i,a,c){var f=$e,m=Kr.transition;Kr.transition=null;try{$e=4,Uo(n,i,a,c)}finally{$e=f,Kr.transition=m}}function Uo(n,i,a,c){if(Ri){var f=zs(n,i,a,c);if(f===null)pc(n,i,c,us,a),Za(n,c);else if(nc(f,n,i,a,c))c.stopPropagation();else if(Za(n,c),i&4&&-1<tc.indexOf(n)){for(;f!==null;){var m=Zo(f);if(m!==null&&Ga(m),m=zs(n,i,a,c),m===null&&pc(n,i,c,us,a),m===f)break;f=m}f!==null&&c.stopPropagation()}else pc(n,i,c,null,a)}}var us=null;function zs(n,i,a,c){if(us=null,n=_i(c),n=fs(n),n!==null)if(i=Be(n),i===null)n=null;else if(a=i.tag,a===13){if(n=et(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return us=n,null}function zo(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hr()){case Ke:return 1;case dt:return 4;case Qt:case ir:return 16;case pt:return 536870912;default:return 16}default:return 16}}var Ln=null,js=null,wn=null;function jo(){if(wn)return wn;var n,i=js,a=i.length,c,f="value"in Ln?Ln.value:Ln.textContent,m=f.length;for(n=0;n<a&&i[n]===f[n];n++);var v=a-n;for(c=1;c<=v&&i[a-c]===f[m-c];c++);return wn=f.slice(n,1<c?1-c:void 0)}function Bs(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Ar(){return!0}function Bo(){return!1}function Gt(n){function i(a,c,f,m,v){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(a=n[A],this[A]=a?a(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ar:Bo,this.isPropagationStopped=Bo,this}return ue(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ar)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ar)},persist:function(){},isPersistent:Ar}),i}var ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$s=Gt(ur),Cr=ue({},ur,{view:0,detail:0}),ic=Gt(Cr),qs,Gr,Ai,cs=ue({},Cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ai&&(Ai&&n.type==="mousemove"?(qs=n.screenX-Ai.screenX,Gr=n.screenY-Ai.screenY):Gr=qs=0,Ai=n),qs)},movementY:function(n){return"movementY"in n?n.movementY:Gr}}),Hs=Gt(cs),$o=ue({},cs,{dataTransfer:0}),nl=Gt($o),Ws=ue({},Cr,{relatedTarget:0}),Qs=Gt(Ws),rl=ue({},ur,{animationName:0,elapsedTime:0,pseudoElement:0}),Yr=Gt(rl),il=ue({},ur,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),sl=Gt(il),ol=ue({},ur,{data:0}),qo=Gt(ol),Ks={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},al={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ll(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=al[n])?!!i[n]:!1}function Pr(){return ll}var u=ue({},Cr,{key:function(n){if(n.key){var i=Ks[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Bs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?pn[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pr,charCode:function(n){return n.type==="keypress"?Bs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Bs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),p=Gt(u),_=ue({},cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w=Gt(_),j=ue({},Cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pr}),G=Gt(j),le=ue({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),lt=Gt(le),Nt=ue({},cs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ge=Gt(Nt),bt=[9,13,27,32],kt=d&&"CompositionEvent"in window,$n=null;d&&"documentMode"in document&&($n=document.documentMode);var Mn=d&&"TextEvent"in window&&!$n,hs=d&&(!kt||$n&&8<$n&&11>=$n),Gs=" ",ld=!1;function ud(n,i){switch(n){case"keyup":return bt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cd(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ys=!1;function q_(n,i){switch(n){case"compositionend":return cd(i);case"keypress":return i.which!==32?null:(ld=!0,Gs);case"textInput":return n=i.data,n===Gs&&ld?null:n;default:return null}}function H_(n,i){if(Ys)return n==="compositionend"||!kt&&ud(n,i)?(n=jo(),wn=js=Ln=null,Ys=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return hs&&i.locale!=="ko"?null:i.data;default:return null}}var W_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!W_[n.type]:i==="textarea"}function fd(n,i,a,c){fn(c),i=dl(i,"onChange"),0<i.length&&(a=new $s("onChange","change",null,a,c),n.push({event:a,listeners:i}))}var Ho=null,Wo=null;function Q_(n){xd(n,0)}function ul(n){var i=to(n);if(hi(i))return n}function K_(n,i){if(n==="change")return i}var dd=!1;if(d){var sc;if(d){var oc="oninput"in document;if(!oc){var pd=document.createElement("div");pd.setAttribute("oninput","return;"),oc=typeof pd.oninput=="function"}sc=oc}else sc=!1;dd=sc&&(!document.documentMode||9<document.documentMode)}function md(){Ho&&(Ho.detachEvent("onpropertychange",gd),Wo=Ho=null)}function gd(n){if(n.propertyName==="value"&&ul(Wo)){var i=[];fd(i,Wo,n,_i(n)),K(Q_,i)}}function G_(n,i,a){n==="focusin"?(md(),Ho=i,Wo=a,Ho.attachEvent("onpropertychange",gd)):n==="focusout"&&md()}function Y_(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ul(Wo)}function X_(n,i){if(n==="click")return ul(i)}function J_(n,i){if(n==="input"||n==="change")return ul(i)}function Z_(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var cr=typeof Object.is=="function"?Object.is:Z_;function Qo(n,i){if(cr(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!g.call(i,f)||!cr(n[f],i[f]))return!1}return!0}function yd(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function _d(n,i){var a=yd(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=i&&c>=i)return{node:a,offset:i-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=yd(a)}}function vd(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?vd(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Ed(){for(var n=window,i=tn();i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=tn(n.document)}return i}function ac(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function ev(n){var i=Ed(),a=n.focusedElem,c=n.selectionRange;if(i!==a&&a&&a.ownerDocument&&vd(a.ownerDocument.documentElement,a)){if(c!==null&&ac(a)){if(i=c.start,n=c.end,n===void 0&&(n=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(n,a.value.length);else if(n=(i=a.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var f=a.textContent.length,m=Math.min(c.start,f);c=c.end===void 0?m:Math.min(c.end,f),!n.extend&&m>c&&(f=c,c=m,m=f),f=_d(a,m);var v=_d(a,c);f&&v&&(n.rangeCount!==1||n.anchorNode!==f.node||n.anchorOffset!==f.offset||n.focusNode!==v.node||n.focusOffset!==v.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),n.removeAllRanges(),m>c?(n.addRange(i),n.extend(v.node,v.offset)):(i.setEnd(v.node,v.offset),n.addRange(i)))}}for(i=[],n=a;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)n=i[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var tv=d&&"documentMode"in document&&11>=document.documentMode,Xs=null,lc=null,Ko=null,uc=!1;function wd(n,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;uc||Xs==null||Xs!==tn(c)||(c=Xs,"selectionStart"in c&&ac(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ko&&Qo(Ko,c)||(Ko=c,c=dl(lc,"onSelect"),0<c.length&&(i=new $s("onSelect","select",null,i,a),n.push({event:i,listeners:c}),i.target=Xs)))}function cl(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Js={animationend:cl("Animation","AnimationEnd"),animationiteration:cl("Animation","AnimationIteration"),animationstart:cl("Animation","AnimationStart"),transitionend:cl("Transition","TransitionEnd")},cc={},Td={};d&&(Td=document.createElement("div").style,"AnimationEvent"in window||(delete Js.animationend.animation,delete Js.animationiteration.animation,delete Js.animationstart.animation),"TransitionEvent"in window||delete Js.transitionend.transition);function hl(n){if(cc[n])return cc[n];if(!Js[n])return n;var i=Js[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in Td)return cc[n]=i[a];return n}var Sd=hl("animationend"),Id=hl("animationiteration"),Rd=hl("animationstart"),Ad=hl("transitionend"),Cd=new Map,Pd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ci(n,i){Cd.set(n,i),l(i,[n])}for(var hc=0;hc<Pd.length;hc++){var fc=Pd[hc],nv=fc.toLowerCase(),rv=fc[0].toUpperCase()+fc.slice(1);Ci(nv,"on"+rv)}Ci(Sd,"onAnimationEnd"),Ci(Id,"onAnimationIteration"),Ci(Rd,"onAnimationStart"),Ci("dblclick","onDoubleClick"),Ci("focusin","onFocus"),Ci("focusout","onBlur"),Ci(Ad,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Go));function kd(n,i,a){var c=n.type||"unknown-event";n.currentTarget=a,It(c,i,void 0,n),n.currentTarget=null}function xd(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],f=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var v=c.length-1;0<=v;v--){var A=c[v],D=A.instance,W=A.currentTarget;if(A=A.listener,D!==m&&f.isPropagationStopped())break e;kd(f,A,W),m=D}else for(v=0;v<c.length;v++){if(A=c[v],D=A.instance,W=A.currentTarget,A=A.listener,D!==m&&f.isPropagationStopped())break e;kd(f,A,W),m=D}}}if(ae)throw n=xe,ae=!1,xe=null,n}function mt(n,i){var a=i[Ec];a===void 0&&(a=i[Ec]=new Set);var c=n+"__bubble";a.has(c)||(Dd(i,n,2,!1),a.add(c))}function dc(n,i,a){var c=0;i&&(c|=4),Dd(a,n,c,i)}var fl="_reactListening"+Math.random().toString(36).slice(2);function Yo(n){if(!n[fl]){n[fl]=!0,s.forEach(function(a){a!=="selectionchange"&&(iv.has(a)||dc(a,!1,n),dc(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[fl]||(i[fl]=!0,dc("selectionchange",!1,i))}}function Dd(n,i,a,c){switch(zo(i)){case 1:var f=_t;break;case 4:f=rc;break;default:f=Uo}a=f.bind(null,i,a,n),f=void 0,!he||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),c?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function pc(n,i,a,c,f){var m=c;if(!(i&1)&&!(i&2)&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var A=c.stateNode.containerInfo;if(A===f||A.nodeType===8&&A.parentNode===f)break;if(v===4)for(v=c.return;v!==null;){var D=v.tag;if((D===3||D===4)&&(D=v.stateNode.containerInfo,D===f||D.nodeType===8&&D.parentNode===f))return;v=v.return}for(;A!==null;){if(v=fs(A),v===null)return;if(D=v.tag,D===5||D===6){c=m=v;continue e}A=A.parentNode}}c=c.return}K(function(){var W=m,ne=_i(a),re=[];e:{var te=Cd.get(n);if(te!==void 0){var de=$s,we=n;switch(n){case"keypress":if(Bs(a)===0)break e;case"keydown":case"keyup":de=p;break;case"focusin":we="focus",de=Qs;break;case"focusout":we="blur",de=Qs;break;case"beforeblur":case"afterblur":de=Qs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Hs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=nl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=G;break;case Sd:case Id:case Rd:de=Yr;break;case Ad:de=lt;break;case"scroll":de=ic;break;case"wheel":de=Ge;break;case"copy":case"cut":case"paste":de=sl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=w}var Se=(i&4)!==0,Ct=!Se&&n==="scroll",B=Se?te!==null?te+"Capture":null:te;Se=[];for(var L=W,q;L!==null;){q=L;var se=q.stateNode;if(q.tag===5&&se!==null&&(q=se,B!==null&&(se=X(L,B),se!=null&&Se.push(Xo(L,se,q)))),Ct)break;L=L.return}0<Se.length&&(te=new de(te,we,null,a,ne),re.push({event:te,listeners:Se}))}}if(!(i&7)){e:{if(te=n==="mouseover"||n==="pointerover",de=n==="mouseout"||n==="pointerout",te&&a!==Zn&&(we=a.relatedTarget||a.fromElement)&&(fs(we)||we[Xr]))break e;if((de||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,de?(we=a.relatedTarget||a.toElement,de=W,we=we?fs(we):null,we!==null&&(Ct=Be(we),we!==Ct||we.tag!==5&&we.tag!==6)&&(we=null)):(de=null,we=W),de!==we)){if(Se=Hs,se="onMouseLeave",B="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(Se=w,se="onPointerLeave",B="onPointerEnter",L="pointer"),Ct=de==null?te:to(de),q=we==null?te:to(we),te=new Se(se,L+"leave",de,a,ne),te.target=Ct,te.relatedTarget=q,se=null,fs(ne)===W&&(Se=new Se(B,L+"enter",we,a,ne),Se.target=q,Se.relatedTarget=Ct,se=Se),Ct=se,de&&we)t:{for(Se=de,B=we,L=0,q=Se;q;q=Zs(q))L++;for(q=0,se=B;se;se=Zs(se))q++;for(;0<L-q;)Se=Zs(Se),L--;for(;0<q-L;)B=Zs(B),q--;for(;L--;){if(Se===B||B!==null&&Se===B.alternate)break t;Se=Zs(Se),B=Zs(B)}Se=null}else Se=null;de!==null&&Vd(re,te,de,Se,!1),we!==null&&Ct!==null&&Vd(re,Ct,we,Se,!0)}}e:{if(te=W?to(W):window,de=te.nodeName&&te.nodeName.toLowerCase(),de==="select"||de==="input"&&te.type==="file")var Ie=K_;else if(hd(te))if(dd)Ie=J_;else{Ie=Y_;var Ce=G_}else(de=te.nodeName)&&de.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(Ie=X_);if(Ie&&(Ie=Ie(n,W))){fd(re,Ie,a,ne);break e}Ce&&Ce(n,te,W),n==="focusout"&&(Ce=te._wrapperState)&&Ce.controlled&&te.type==="number"&&pi(te,"number",te.value)}switch(Ce=W?to(W):window,n){case"focusin":(hd(Ce)||Ce.contentEditable==="true")&&(Xs=Ce,lc=W,Ko=null);break;case"focusout":Ko=lc=Xs=null;break;case"mousedown":uc=!0;break;case"contextmenu":case"mouseup":case"dragend":uc=!1,wd(re,a,ne);break;case"selectionchange":if(tv)break;case"keydown":case"keyup":wd(re,a,ne)}var Pe;if(kt)e:{switch(n){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else Ys?ud(n,a)&&(De="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(De="onCompositionStart");De&&(hs&&a.locale!=="ko"&&(Ys||De!=="onCompositionStart"?De==="onCompositionEnd"&&Ys&&(Pe=jo()):(Ln=ne,js="value"in Ln?Ln.value:Ln.textContent,Ys=!0)),Ce=dl(W,De),0<Ce.length&&(De=new qo(De,n,null,a,ne),re.push({event:De,listeners:Ce}),Pe?De.data=Pe:(Pe=cd(a),Pe!==null&&(De.data=Pe)))),(Pe=Mn?q_(n,a):H_(n,a))&&(W=dl(W,"onBeforeInput"),0<W.length&&(ne=new qo("onBeforeInput","beforeinput",null,a,ne),re.push({event:ne,listeners:W}),ne.data=Pe))}xd(re,i)})}function Xo(n,i,a){return{instance:n,listener:i,currentTarget:a}}function dl(n,i){for(var a=i+"Capture",c=[];n!==null;){var f=n,m=f.stateNode;f.tag===5&&m!==null&&(f=m,m=X(n,a),m!=null&&c.unshift(Xo(n,m,f)),m=X(n,i),m!=null&&c.push(Xo(n,m,f))),n=n.return}return c}function Zs(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Vd(n,i,a,c,f){for(var m=i._reactName,v=[];a!==null&&a!==c;){var A=a,D=A.alternate,W=A.stateNode;if(D!==null&&D===c)break;A.tag===5&&W!==null&&(A=W,f?(D=X(a,m),D!=null&&v.unshift(Xo(a,D,A))):f||(D=X(a,m),D!=null&&v.push(Xo(a,D,A)))),a=a.return}v.length!==0&&n.push({event:i,listeners:v})}var sv=/\r\n?/g,ov=/\u0000|\uFFFD/g;function Nd(n){return(typeof n=="string"?n:""+n).replace(sv,`
`).replace(ov,"")}function pl(n,i,a){if(i=Nd(i),Nd(n)!==i&&a)throw Error(t(425))}function ml(){}var mc=null,gc=null;function yc(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var _c=typeof setTimeout=="function"?setTimeout:void 0,av=typeof clearTimeout=="function"?clearTimeout:void 0,Ld=typeof Promise=="function"?Promise:void 0,lv=typeof queueMicrotask=="function"?queueMicrotask:typeof Ld<"u"?function(n){return Ld.resolve(null).then(n).catch(uv)}:_c;function uv(n){setTimeout(function(){throw n})}function vc(n,i){var a=i,c=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(c===0){n.removeChild(f),lr(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=f}while(a);lr(i)}function Pi(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function Md(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}var eo=Math.random().toString(36).slice(2),kr="__reactFiber$"+eo,Jo="__reactProps$"+eo,Xr="__reactContainer$"+eo,Ec="__reactEvents$"+eo,cv="__reactListeners$"+eo,hv="__reactHandles$"+eo;function fs(n){var i=n[kr];if(i)return i;for(var a=n.parentNode;a;){if(i=a[Xr]||a[kr]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=Md(n);n!==null;){if(a=n[kr])return a;n=Md(n)}return i}n=a,a=n.parentNode}return null}function Zo(n){return n=n[kr]||n[Xr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function to(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function gl(n){return n[Jo]||null}var wc=[],no=-1;function ki(n){return{current:n}}function gt(n){0>no||(n.current=wc[no],wc[no]=null,no--)}function ht(n,i){no++,wc[no]=n.current,n.current=i}var xi={},sn=ki(xi),Tn=ki(!1),ds=xi;function ro(n,i){var a=n.type.contextTypes;if(!a)return xi;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var f={},m;for(m in a)f[m]=i[m];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=f),f}function Sn(n){return n=n.childContextTypes,n!=null}function yl(){gt(Tn),gt(sn)}function Od(n,i,a){if(sn.current!==xi)throw Error(t(168));ht(sn,i),ht(Tn,a)}function Fd(n,i,a){var c=n.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var f in c)if(!(f in i))throw Error(t(108,Je(n)||"Unknown",f));return ue({},a,c)}function _l(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||xi,ds=sn.current,ht(sn,n),ht(Tn,Tn.current),!0}function bd(n,i,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=Fd(n,i,ds),c.__reactInternalMemoizedMergedChildContext=n,gt(Tn),gt(sn),ht(sn,n)):gt(Tn),ht(Tn,a)}var Jr=null,vl=!1,Tc=!1;function Ud(n){Jr===null?Jr=[n]:Jr.push(n)}function fv(n){vl=!0,Ud(n)}function Di(){if(!Tc&&Jr!==null){Tc=!0;var n=0,i=$e;try{var a=Jr;for($e=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}Jr=null,vl=!1}catch(f){throw Jr!==null&&(Jr=Jr.slice(n+1)),Wt(Ke,Di),f}finally{$e=i,Tc=!1}}return null}var io=[],so=0,El=null,wl=0,qn=[],Hn=0,ps=null,Zr=1,ei="";function ms(n,i){io[so++]=wl,io[so++]=El,El=n,wl=i}function zd(n,i,a){qn[Hn++]=Zr,qn[Hn++]=ei,qn[Hn++]=ps,ps=n;var c=Zr;n=ei;var f=32-dn(c)-1;c&=~(1<<f),a+=1;var m=32-dn(i)+f;if(30<m){var v=f-f%5;m=(c&(1<<v)-1).toString(32),c>>=v,f-=v,Zr=1<<32-dn(i)+f|a<<f|c,ei=m+n}else Zr=1<<m|a<<f|c,ei=n}function Sc(n){n.return!==null&&(ms(n,1),zd(n,1,0))}function Ic(n){for(;n===El;)El=io[--so],io[so]=null,wl=io[--so],io[so]=null;for(;n===ps;)ps=qn[--Hn],qn[Hn]=null,ei=qn[--Hn],qn[Hn]=null,Zr=qn[--Hn],qn[Hn]=null}var On=null,Fn=null,vt=!1,hr=null;function jd(n,i){var a=Gn(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=n,i=n.deletions,i===null?(n.deletions=[a],n.flags|=16):i.push(a)}function Bd(n,i){switch(n.tag){case 5:var a=n.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,On=n,Fn=Pi(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,On=n,Fn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=ps!==null?{id:Zr,overflow:ei}:null,n.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=Gn(18,null,null,0),a.stateNode=i,a.return=n,n.child=a,On=n,Fn=null,!0):!1;default:return!1}}function Rc(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Ac(n){if(vt){var i=Fn;if(i){var a=i;if(!Bd(n,i)){if(Rc(n))throw Error(t(418));i=Pi(a.nextSibling);var c=On;i&&Bd(n,i)?jd(c,a):(n.flags=n.flags&-4097|2,vt=!1,On=n)}}else{if(Rc(n))throw Error(t(418));n.flags=n.flags&-4097|2,vt=!1,On=n}}}function $d(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;On=n}function Tl(n){if(n!==On)return!1;if(!vt)return $d(n),vt=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!yc(n.type,n.memoizedProps)),i&&(i=Fn)){if(Rc(n))throw qd(),Error(t(418));for(;i;)jd(n,i),i=Pi(i.nextSibling)}if($d(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(i===0){Fn=Pi(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}n=n.nextSibling}Fn=null}}else Fn=On?Pi(n.stateNode.nextSibling):null;return!0}function qd(){for(var n=Fn;n;)n=Pi(n.nextSibling)}function oo(){Fn=On=null,vt=!1}function Cc(n){hr===null?hr=[n]:hr.push(n)}var dv=pe.ReactCurrentBatchConfig;function ea(n,i,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var f=c,m=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===m?i.ref:(i=function(v){var A=f.refs;v===null?delete A[m]:A[m]=v},i._stringRef=m,i)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function Sl(n,i){throw n=Object.prototype.toString.call(i),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function Hd(n){var i=n._init;return i(n._payload)}function Wd(n){function i(B,L){if(n){var q=B.deletions;q===null?(B.deletions=[L],B.flags|=16):q.push(L)}}function a(B,L){if(!n)return null;for(;L!==null;)i(B,L),L=L.sibling;return null}function c(B,L){for(B=new Map;L!==null;)L.key!==null?B.set(L.key,L):B.set(L.index,L),L=L.sibling;return B}function f(B,L){return B=Ui(B,L),B.index=0,B.sibling=null,B}function m(B,L,q){return B.index=q,n?(q=B.alternate,q!==null?(q=q.index,q<L?(B.flags|=2,L):q):(B.flags|=2,L)):(B.flags|=1048576,L)}function v(B){return n&&B.alternate===null&&(B.flags|=2),B}function A(B,L,q,se){return L===null||L.tag!==6?(L=_h(q,B.mode,se),L.return=B,L):(L=f(L,q),L.return=B,L)}function D(B,L,q,se){var Ie=q.type;return Ie===k?ne(B,L,q.props.children,se,q.key):L!==null&&(L.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===At&&Hd(Ie)===L.type)?(se=f(L,q.props),se.ref=ea(B,L,q),se.return=B,se):(se=Ql(q.type,q.key,q.props,null,B.mode,se),se.ref=ea(B,L,q),se.return=B,se)}function W(B,L,q,se){return L===null||L.tag!==4||L.stateNode.containerInfo!==q.containerInfo||L.stateNode.implementation!==q.implementation?(L=vh(q,B.mode,se),L.return=B,L):(L=f(L,q.children||[]),L.return=B,L)}function ne(B,L,q,se,Ie){return L===null||L.tag!==7?(L=Ss(q,B.mode,se,Ie),L.return=B,L):(L=f(L,q),L.return=B,L)}function re(B,L,q){if(typeof L=="string"&&L!==""||typeof L=="number")return L=_h(""+L,B.mode,q),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case z:return q=Ql(L.type,L.key,L.props,null,B.mode,q),q.ref=ea(B,null,L),q.return=B,q;case ce:return L=vh(L,B.mode,q),L.return=B,L;case At:var se=L._init;return re(B,se(L._payload),q)}if(Xn(L)||Te(L))return L=Ss(L,B.mode,q,null),L.return=B,L;Sl(B,L)}return null}function te(B,L,q,se){var Ie=L!==null?L.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return Ie!==null?null:A(B,L,""+q,se);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case z:return q.key===Ie?D(B,L,q,se):null;case ce:return q.key===Ie?W(B,L,q,se):null;case At:return Ie=q._init,te(B,L,Ie(q._payload),se)}if(Xn(q)||Te(q))return Ie!==null?null:ne(B,L,q,se,null);Sl(B,q)}return null}function de(B,L,q,se,Ie){if(typeof se=="string"&&se!==""||typeof se=="number")return B=B.get(q)||null,A(L,B,""+se,Ie);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case z:return B=B.get(se.key===null?q:se.key)||null,D(L,B,se,Ie);case ce:return B=B.get(se.key===null?q:se.key)||null,W(L,B,se,Ie);case At:var Ce=se._init;return de(B,L,q,Ce(se._payload),Ie)}if(Xn(se)||Te(se))return B=B.get(q)||null,ne(L,B,se,Ie,null);Sl(L,se)}return null}function we(B,L,q,se){for(var Ie=null,Ce=null,Pe=L,De=L=0,jt=null;Pe!==null&&De<q.length;De++){Pe.index>De?(jt=Pe,Pe=null):jt=Pe.sibling;var nt=te(B,Pe,q[De],se);if(nt===null){Pe===null&&(Pe=jt);break}n&&Pe&&nt.alternate===null&&i(B,Pe),L=m(nt,L,De),Ce===null?Ie=nt:Ce.sibling=nt,Ce=nt,Pe=jt}if(De===q.length)return a(B,Pe),vt&&ms(B,De),Ie;if(Pe===null){for(;De<q.length;De++)Pe=re(B,q[De],se),Pe!==null&&(L=m(Pe,L,De),Ce===null?Ie=Pe:Ce.sibling=Pe,Ce=Pe);return vt&&ms(B,De),Ie}for(Pe=c(B,Pe);De<q.length;De++)jt=de(Pe,B,De,q[De],se),jt!==null&&(n&&jt.alternate!==null&&Pe.delete(jt.key===null?De:jt.key),L=m(jt,L,De),Ce===null?Ie=jt:Ce.sibling=jt,Ce=jt);return n&&Pe.forEach(function(zi){return i(B,zi)}),vt&&ms(B,De),Ie}function Se(B,L,q,se){var Ie=Te(q);if(typeof Ie!="function")throw Error(t(150));if(q=Ie.call(q),q==null)throw Error(t(151));for(var Ce=Ie=null,Pe=L,De=L=0,jt=null,nt=q.next();Pe!==null&&!nt.done;De++,nt=q.next()){Pe.index>De?(jt=Pe,Pe=null):jt=Pe.sibling;var zi=te(B,Pe,nt.value,se);if(zi===null){Pe===null&&(Pe=jt);break}n&&Pe&&zi.alternate===null&&i(B,Pe),L=m(zi,L,De),Ce===null?Ie=zi:Ce.sibling=zi,Ce=zi,Pe=jt}if(nt.done)return a(B,Pe),vt&&ms(B,De),Ie;if(Pe===null){for(;!nt.done;De++,nt=q.next())nt=re(B,nt.value,se),nt!==null&&(L=m(nt,L,De),Ce===null?Ie=nt:Ce.sibling=nt,Ce=nt);return vt&&ms(B,De),Ie}for(Pe=c(B,Pe);!nt.done;De++,nt=q.next())nt=de(Pe,B,De,nt.value,se),nt!==null&&(n&&nt.alternate!==null&&Pe.delete(nt.key===null?De:nt.key),L=m(nt,L,De),Ce===null?Ie=nt:Ce.sibling=nt,Ce=nt);return n&&Pe.forEach(function(Hv){return i(B,Hv)}),vt&&ms(B,De),Ie}function Ct(B,L,q,se){if(typeof q=="object"&&q!==null&&q.type===k&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case z:e:{for(var Ie=q.key,Ce=L;Ce!==null;){if(Ce.key===Ie){if(Ie=q.type,Ie===k){if(Ce.tag===7){a(B,Ce.sibling),L=f(Ce,q.props.children),L.return=B,B=L;break e}}else if(Ce.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===At&&Hd(Ie)===Ce.type){a(B,Ce.sibling),L=f(Ce,q.props),L.ref=ea(B,Ce,q),L.return=B,B=L;break e}a(B,Ce);break}else i(B,Ce);Ce=Ce.sibling}q.type===k?(L=Ss(q.props.children,B.mode,se,q.key),L.return=B,B=L):(se=Ql(q.type,q.key,q.props,null,B.mode,se),se.ref=ea(B,L,q),se.return=B,B=se)}return v(B);case ce:e:{for(Ce=q.key;L!==null;){if(L.key===Ce)if(L.tag===4&&L.stateNode.containerInfo===q.containerInfo&&L.stateNode.implementation===q.implementation){a(B,L.sibling),L=f(L,q.children||[]),L.return=B,B=L;break e}else{a(B,L);break}else i(B,L);L=L.sibling}L=vh(q,B.mode,se),L.return=B,B=L}return v(B);case At:return Ce=q._init,Ct(B,L,Ce(q._payload),se)}if(Xn(q))return we(B,L,q,se);if(Te(q))return Se(B,L,q,se);Sl(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,L!==null&&L.tag===6?(a(B,L.sibling),L=f(L,q),L.return=B,B=L):(a(B,L),L=_h(q,B.mode,se),L.return=B,B=L),v(B)):a(B,L)}return Ct}var ao=Wd(!0),Qd=Wd(!1),Il=ki(null),Rl=null,lo=null,Pc=null;function kc(){Pc=lo=Rl=null}function xc(n){var i=Il.current;gt(Il),n._currentValue=i}function Dc(n,i,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===a)break;n=n.return}}function uo(n,i){Rl=n,Pc=lo=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&i&&(In=!0),n.firstContext=null)}function Wn(n){var i=n._currentValue;if(Pc!==n)if(n={context:n,memoizedValue:i,next:null},lo===null){if(Rl===null)throw Error(t(308));lo=n,Rl.dependencies={lanes:0,firstContext:n}}else lo=lo.next=n;return i}var gs=null;function Vc(n){gs===null?gs=[n]:gs.push(n)}function Kd(n,i,a,c){var f=i.interleaved;return f===null?(a.next=a,Vc(i)):(a.next=f.next,f.next=a),i.interleaved=a,ti(n,c)}function ti(n,i){n.lanes|=i;var a=n.alternate;for(a!==null&&(a.lanes|=i),a=n,n=n.return;n!==null;)n.childLanes|=i,a=n.alternate,a!==null&&(a.childLanes|=i),a=n,n=n.return;return a.tag===3?a.stateNode:null}var Vi=!1;function Nc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gd(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ni(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function Ni(n,i,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,tt&2){var f=c.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),c.pending=i,ti(n,a)}return f=c.interleaved,f===null?(i.next=i,Vc(c)):(i.next=f.next,f.next=i),c.interleaved=i,ti(n,a)}function Al(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,Ti(n,a)}}function Yd(n,i){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var v={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?f=m=v:m=m.next=v,a=a.next}while(a!==null);m===null?f=m=i:m=m.next=i}else f=m=i;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}function Cl(n,i,a,c){var f=n.updateQueue;Vi=!1;var m=f.firstBaseUpdate,v=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var D=A,W=D.next;D.next=null,v===null?m=W:v.next=W,v=D;var ne=n.alternate;ne!==null&&(ne=ne.updateQueue,A=ne.lastBaseUpdate,A!==v&&(A===null?ne.firstBaseUpdate=W:A.next=W,ne.lastBaseUpdate=D))}if(m!==null){var re=f.baseState;v=0,ne=W=D=null,A=m;do{var te=A.lane,de=A.eventTime;if((c&te)===te){ne!==null&&(ne=ne.next={eventTime:de,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var we=n,Se=A;switch(te=i,de=a,Se.tag){case 1:if(we=Se.payload,typeof we=="function"){re=we.call(de,re,te);break e}re=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Se.payload,te=typeof we=="function"?we.call(de,re,te):we,te==null)break e;re=ue({},re,te);break e;case 2:Vi=!0}}A.callback!==null&&A.lane!==0&&(n.flags|=64,te=f.effects,te===null?f.effects=[A]:te.push(A))}else de={eventTime:de,lane:te,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ne===null?(W=ne=de,D=re):ne=ne.next=de,v|=te;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;te=A,A=te.next,te.next=null,f.lastBaseUpdate=te,f.shared.pending=null}}while(!0);if(ne===null&&(D=re),f.baseState=D,f.firstBaseUpdate=W,f.lastBaseUpdate=ne,i=f.shared.interleaved,i!==null){f=i;do v|=f.lane,f=f.next;while(f!==i)}else m===null&&(f.shared.lanes=0);vs|=v,n.lanes=v,n.memoizedState=re}}function Xd(n,i,a){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var c=n[i],f=c.callback;if(f!==null){if(c.callback=null,c=a,typeof f!="function")throw Error(t(191,f));f.call(c)}}}var ta={},xr=ki(ta),na=ki(ta),ra=ki(ta);function ys(n){if(n===ta)throw Error(t(174));return n}function Lc(n,i){switch(ht(ra,i),ht(na,n),ht(xr,ta),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:St(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=St(i,n)}gt(xr),ht(xr,i)}function co(){gt(xr),gt(na),gt(ra)}function Jd(n){ys(ra.current);var i=ys(xr.current),a=St(i,n.type);i!==a&&(ht(na,n),ht(xr,a))}function Mc(n){na.current===n&&(gt(xr),gt(na))}var Et=ki(0);function Pl(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Oc=[];function Fc(){for(var n=0;n<Oc.length;n++)Oc[n]._workInProgressVersionPrimary=null;Oc.length=0}var kl=pe.ReactCurrentDispatcher,bc=pe.ReactCurrentBatchConfig,_s=0,wt=null,Lt=null,Ut=null,xl=!1,ia=!1,sa=0,pv=0;function on(){throw Error(t(321))}function Uc(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!cr(n[a],i[a]))return!1;return!0}function zc(n,i,a,c,f,m){if(_s=m,wt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,kl.current=n===null||n.memoizedState===null?_v:vv,n=a(c,f),ia){m=0;do{if(ia=!1,sa=0,25<=m)throw Error(t(301));m+=1,Ut=Lt=null,i.updateQueue=null,kl.current=Ev,n=a(c,f)}while(ia)}if(kl.current=Nl,i=Lt!==null&&Lt.next!==null,_s=0,Ut=Lt=wt=null,xl=!1,i)throw Error(t(300));return n}function jc(){var n=sa!==0;return sa=0,n}function Dr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?wt.memoizedState=Ut=n:Ut=Ut.next=n,Ut}function Qn(){if(Lt===null){var n=wt.alternate;n=n!==null?n.memoizedState:null}else n=Lt.next;var i=Ut===null?wt.memoizedState:Ut.next;if(i!==null)Ut=i,Lt=n;else{if(n===null)throw Error(t(310));Lt=n,n={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Ut===null?wt.memoizedState=Ut=n:Ut=Ut.next=n}return Ut}function oa(n,i){return typeof i=="function"?i(n):i}function Bc(n){var i=Qn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=Lt,f=c.baseQueue,m=a.pending;if(m!==null){if(f!==null){var v=f.next;f.next=m.next,m.next=v}c.baseQueue=f=m,a.pending=null}if(f!==null){m=f.next,c=c.baseState;var A=v=null,D=null,W=m;do{var ne=W.lane;if((_s&ne)===ne)D!==null&&(D=D.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),c=W.hasEagerState?W.eagerState:n(c,W.action);else{var re={lane:ne,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};D===null?(A=D=re,v=c):D=D.next=re,wt.lanes|=ne,vs|=ne}W=W.next}while(W!==null&&W!==m);D===null?v=c:D.next=A,cr(c,i.memoizedState)||(In=!0),i.memoizedState=c,i.baseState=v,i.baseQueue=D,a.lastRenderedState=c}if(n=a.interleaved,n!==null){f=n;do m=f.lane,wt.lanes|=m,vs|=m,f=f.next;while(f!==n)}else f===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function $c(n){var i=Qn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,f=a.pending,m=i.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do m=n(m,v.action),v=v.next;while(v!==f);cr(m,i.memoizedState)||(In=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,c]}function Zd(){}function ep(n,i){var a=wt,c=Qn(),f=i(),m=!cr(c.memoizedState,f);if(m&&(c.memoizedState=f,In=!0),c=c.queue,qc(rp.bind(null,a,c,n),[n]),c.getSnapshot!==i||m||Ut!==null&&Ut.memoizedState.tag&1){if(a.flags|=2048,aa(9,np.bind(null,a,c,f,i),void 0,null),zt===null)throw Error(t(349));_s&30||tp(a,i,f)}return f}function tp(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=wt.updateQueue,i===null?(i={lastEffect:null,stores:null},wt.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function np(n,i,a,c){i.value=a,i.getSnapshot=c,ip(i)&&sp(n)}function rp(n,i,a){return a(function(){ip(i)&&sp(n)})}function ip(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!cr(n,a)}catch{return!0}}function sp(n){var i=ti(n,1);i!==null&&mr(i,n,1,-1)}function op(n){var i=Dr();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:n},i.queue=n,n=n.dispatch=yv.bind(null,wt,n),[i.memoizedState,n]}function aa(n,i,a,c){return n={tag:n,create:i,destroy:a,deps:c,next:null},i=wt.updateQueue,i===null?(i={lastEffect:null,stores:null},wt.updateQueue=i,i.lastEffect=n.next=n):(a=i.lastEffect,a===null?i.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,i.lastEffect=n)),n}function ap(){return Qn().memoizedState}function Dl(n,i,a,c){var f=Dr();wt.flags|=n,f.memoizedState=aa(1|i,a,void 0,c===void 0?null:c)}function Vl(n,i,a,c){var f=Qn();c=c===void 0?null:c;var m=void 0;if(Lt!==null){var v=Lt.memoizedState;if(m=v.destroy,c!==null&&Uc(c,v.deps)){f.memoizedState=aa(i,a,m,c);return}}wt.flags|=n,f.memoizedState=aa(1|i,a,m,c)}function lp(n,i){return Dl(8390656,8,n,i)}function qc(n,i){return Vl(2048,8,n,i)}function up(n,i){return Vl(4,2,n,i)}function cp(n,i){return Vl(4,4,n,i)}function hp(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function fp(n,i,a){return a=a!=null?a.concat([n]):null,Vl(4,4,hp.bind(null,i,n),a)}function Hc(){}function dp(n,i){var a=Qn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Uc(i,c[1])?c[0]:(a.memoizedState=[n,i],n)}function pp(n,i){var a=Qn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Uc(i,c[1])?c[0]:(n=n(),a.memoizedState=[n,i],n)}function mp(n,i,a){return _s&21?(cr(a,i)||(a=as(),wt.lanes|=a,vs|=a,n.baseState=!0),i):(n.baseState&&(n.baseState=!1,In=!0),n.memoizedState=a)}function mv(n,i){var a=$e;$e=a!==0&&4>a?a:4,n(!0);var c=bc.transition;bc.transition={};try{n(!1),i()}finally{$e=a,bc.transition=c}}function gp(){return Qn().memoizedState}function gv(n,i,a){var c=Fi(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},yp(n))_p(i,a);else if(a=Kd(n,i,a,c),a!==null){var f=gn();mr(a,n,c,f),vp(a,i,c)}}function yv(n,i,a){var c=Fi(n),f={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(yp(n))_p(i,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var v=i.lastRenderedState,A=m(v,a);if(f.hasEagerState=!0,f.eagerState=A,cr(A,v)){var D=i.interleaved;D===null?(f.next=f,Vc(i)):(f.next=D.next,D.next=f),i.interleaved=f;return}}catch{}finally{}a=Kd(n,i,f,c),a!==null&&(f=gn(),mr(a,n,c,f),vp(a,i,c))}}function yp(n){var i=n.alternate;return n===wt||i!==null&&i===wt}function _p(n,i){ia=xl=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function vp(n,i,a){if(a&4194240){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,Ti(n,a)}}var Nl={readContext:Wn,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},_v={readContext:Wn,useCallback:function(n,i){return Dr().memoizedState=[n,i===void 0?null:i],n},useContext:Wn,useEffect:lp,useImperativeHandle:function(n,i,a){return a=a!=null?a.concat([n]):null,Dl(4194308,4,hp.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Dl(4194308,4,n,i)},useInsertionEffect:function(n,i){return Dl(4,2,n,i)},useMemo:function(n,i){var a=Dr();return i=i===void 0?null:i,n=n(),a.memoizedState=[n,i],n},useReducer:function(n,i,a){var c=Dr();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},c.queue=n,n=n.dispatch=gv.bind(null,wt,n),[c.memoizedState,n]},useRef:function(n){var i=Dr();return n={current:n},i.memoizedState=n},useState:op,useDebugValue:Hc,useDeferredValue:function(n){return Dr().memoizedState=n},useTransition:function(){var n=op(!1),i=n[0];return n=mv.bind(null,n[1]),Dr().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,a){var c=wt,f=Dr();if(vt){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),zt===null)throw Error(t(349));_s&30||tp(c,i,a)}f.memoizedState=a;var m={value:a,getSnapshot:i};return f.queue=m,lp(rp.bind(null,c,m,n),[n]),c.flags|=2048,aa(9,np.bind(null,c,m,a,i),void 0,null),a},useId:function(){var n=Dr(),i=zt.identifierPrefix;if(vt){var a=ei,c=Zr;a=(c&~(1<<32-dn(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=sa++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=pv++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},vv={readContext:Wn,useCallback:dp,useContext:Wn,useEffect:qc,useImperativeHandle:fp,useInsertionEffect:up,useLayoutEffect:cp,useMemo:pp,useReducer:Bc,useRef:ap,useState:function(){return Bc(oa)},useDebugValue:Hc,useDeferredValue:function(n){var i=Qn();return mp(i,Lt.memoizedState,n)},useTransition:function(){var n=Bc(oa)[0],i=Qn().memoizedState;return[n,i]},useMutableSource:Zd,useSyncExternalStore:ep,useId:gp,unstable_isNewReconciler:!1},Ev={readContext:Wn,useCallback:dp,useContext:Wn,useEffect:qc,useImperativeHandle:fp,useInsertionEffect:up,useLayoutEffect:cp,useMemo:pp,useReducer:$c,useRef:ap,useState:function(){return $c(oa)},useDebugValue:Hc,useDeferredValue:function(n){var i=Qn();return Lt===null?i.memoizedState=n:mp(i,Lt.memoizedState,n)},useTransition:function(){var n=$c(oa)[0],i=Qn().memoizedState;return[n,i]},useMutableSource:Zd,useSyncExternalStore:ep,useId:gp,unstable_isNewReconciler:!1};function fr(n,i){if(n&&n.defaultProps){i=ue({},i),n=n.defaultProps;for(var a in n)i[a]===void 0&&(i[a]=n[a]);return i}return i}function Wc(n,i,a,c){i=n.memoizedState,a=a(c,i),a=a==null?i:ue({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Ll={isMounted:function(n){return(n=n._reactInternals)?Be(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var c=gn(),f=Fi(n),m=ni(c,f);m.payload=i,a!=null&&(m.callback=a),i=Ni(n,m,f),i!==null&&(mr(i,n,f,c),Al(i,n,f))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var c=gn(),f=Fi(n),m=ni(c,f);m.tag=1,m.payload=i,a!=null&&(m.callback=a),i=Ni(n,m,f),i!==null&&(mr(i,n,f,c),Al(i,n,f))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=gn(),c=Fi(n),f=ni(a,c);f.tag=2,i!=null&&(f.callback=i),i=Ni(n,f,c),i!==null&&(mr(i,n,c,a),Al(i,n,c))}};function Ep(n,i,a,c,f,m,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,v):i.prototype&&i.prototype.isPureReactComponent?!Qo(a,c)||!Qo(f,m):!0}function wp(n,i,a){var c=!1,f=xi,m=i.contextType;return typeof m=="object"&&m!==null?m=Wn(m):(f=Sn(i)?ds:sn.current,c=i.contextTypes,m=(c=c!=null)?ro(n,f):xi),i=new i(a,m),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ll,n.stateNode=i,i._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=f,n.__reactInternalMemoizedMaskedChildContext=m),i}function Tp(n,i,a,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==n&&Ll.enqueueReplaceState(i,i.state,null)}function Qc(n,i,a,c){var f=n.stateNode;f.props=a,f.state=n.memoizedState,f.refs={},Nc(n);var m=i.contextType;typeof m=="object"&&m!==null?f.context=Wn(m):(m=Sn(i)?ds:sn.current,f.context=ro(n,m)),f.state=n.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(Wc(n,i,m,a),f.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(i=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),i!==f.state&&Ll.enqueueReplaceState(f,f.state,null),Cl(n,a,f,c),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308)}function ho(n,i){try{var a="",c=i;do a+=Ne(c),c=c.return;while(c);var f=a}catch(m){f=`
Error generating stack: `+m.message+`
`+m.stack}return{value:n,source:i,stack:f,digest:null}}function Kc(n,i,a){return{value:n,source:null,stack:a??null,digest:i??null}}function Gc(n,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var wv=typeof WeakMap=="function"?WeakMap:Map;function Sp(n,i,a){a=ni(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){jl||(jl=!0,ch=c),Gc(n,i)},a}function Ip(n,i,a){a=ni(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var f=i.value;a.payload=function(){return c(f)},a.callback=function(){Gc(n,i)}}var m=n.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){Gc(n,i),typeof c!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var v=i.stack;this.componentDidCatch(i.value,{componentStack:v!==null?v:""})}),a}function Rp(n,i,a){var c=n.pingCache;if(c===null){c=n.pingCache=new wv;var f=new Set;c.set(i,f)}else f=c.get(i),f===void 0&&(f=new Set,c.set(i,f));f.has(a)||(f.add(a),n=Mv.bind(null,n,i,a),i.then(n,n))}function Ap(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function Cp(n,i,a,c,f){return n.mode&1?(n.flags|=65536,n.lanes=f,n):(n===i?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=ni(-1,1),i.tag=2,Ni(a,i,1))),a.lanes|=1),n)}var Tv=pe.ReactCurrentOwner,In=!1;function mn(n,i,a,c){i.child=n===null?Qd(i,null,a,c):ao(i,n.child,a,c)}function Pp(n,i,a,c,f){a=a.render;var m=i.ref;return uo(i,f),c=zc(n,i,a,c,m,f),a=jc(),n!==null&&!In?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~f,ri(n,i,f)):(vt&&a&&Sc(i),i.flags|=1,mn(n,i,c,f),i.child)}function kp(n,i,a,c,f){if(n===null){var m=a.type;return typeof m=="function"&&!yh(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=m,xp(n,i,m,c,f)):(n=Ql(a.type,null,c,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!(n.lanes&f)){var v=m.memoizedProps;if(a=a.compare,a=a!==null?a:Qo,a(v,c)&&n.ref===i.ref)return ri(n,i,f)}return i.flags|=1,n=Ui(m,c),n.ref=i.ref,n.return=i,i.child=n}function xp(n,i,a,c,f){if(n!==null){var m=n.memoizedProps;if(Qo(m,c)&&n.ref===i.ref)if(In=!1,i.pendingProps=c=m,(n.lanes&f)!==0)n.flags&131072&&(In=!0);else return i.lanes=n.lanes,ri(n,i,f)}return Yc(n,i,a,c,f)}function Dp(n,i,a){var c=i.pendingProps,f=c.children,m=n!==null?n.memoizedState:null;if(c.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(po,bn),bn|=a;else{if(!(a&1073741824))return n=m!==null?m.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,ht(po,bn),bn|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,ht(po,bn),bn|=c}else m!==null?(c=m.baseLanes|a,i.memoizedState=null):c=a,ht(po,bn),bn|=c;return mn(n,i,f,a),i.child}function Vp(n,i){var a=i.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function Yc(n,i,a,c,f){var m=Sn(a)?ds:sn.current;return m=ro(i,m),uo(i,f),a=zc(n,i,a,c,m,f),c=jc(),n!==null&&!In?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~f,ri(n,i,f)):(vt&&c&&Sc(i),i.flags|=1,mn(n,i,a,f),i.child)}function Np(n,i,a,c,f){if(Sn(a)){var m=!0;_l(i)}else m=!1;if(uo(i,f),i.stateNode===null)Ol(n,i),wp(i,a,c),Qc(i,a,c,f),c=!0;else if(n===null){var v=i.stateNode,A=i.memoizedProps;v.props=A;var D=v.context,W=a.contextType;typeof W=="object"&&W!==null?W=Wn(W):(W=Sn(a)?ds:sn.current,W=ro(i,W));var ne=a.getDerivedStateFromProps,re=typeof ne=="function"||typeof v.getSnapshotBeforeUpdate=="function";re||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(A!==c||D!==W)&&Tp(i,v,c,W),Vi=!1;var te=i.memoizedState;v.state=te,Cl(i,c,v,f),D=i.memoizedState,A!==c||te!==D||Tn.current||Vi?(typeof ne=="function"&&(Wc(i,a,ne,c),D=i.memoizedState),(A=Vi||Ep(i,a,A,c,te,D,W))?(re||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=D),v.props=c,v.state=D,v.context=W,c=A):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{v=i.stateNode,Gd(n,i),A=i.memoizedProps,W=i.type===i.elementType?A:fr(i.type,A),v.props=W,re=i.pendingProps,te=v.context,D=a.contextType,typeof D=="object"&&D!==null?D=Wn(D):(D=Sn(a)?ds:sn.current,D=ro(i,D));var de=a.getDerivedStateFromProps;(ne=typeof de=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(A!==re||te!==D)&&Tp(i,v,c,D),Vi=!1,te=i.memoizedState,v.state=te,Cl(i,c,v,f);var we=i.memoizedState;A!==re||te!==we||Tn.current||Vi?(typeof de=="function"&&(Wc(i,a,de,c),we=i.memoizedState),(W=Vi||Ep(i,a,W,c,te,we,D)||!1)?(ne||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,we,D),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,we,D)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||A===n.memoizedProps&&te===n.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&te===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=we),v.props=c,v.state=we,v.context=D,c=W):(typeof v.componentDidUpdate!="function"||A===n.memoizedProps&&te===n.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&te===n.memoizedState||(i.flags|=1024),c=!1)}return Xc(n,i,a,c,m,f)}function Xc(n,i,a,c,f,m){Vp(n,i);var v=(i.flags&128)!==0;if(!c&&!v)return f&&bd(i,a,!1),ri(n,i,m);c=i.stateNode,Tv.current=i;var A=v&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,n!==null&&v?(i.child=ao(i,n.child,null,m),i.child=ao(i,null,A,m)):mn(n,i,A,m),i.memoizedState=c.state,f&&bd(i,a,!0),i.child}function Lp(n){var i=n.stateNode;i.pendingContext?Od(n,i.pendingContext,i.pendingContext!==i.context):i.context&&Od(n,i.context,!1),Lc(n,i.containerInfo)}function Mp(n,i,a,c,f){return oo(),Cc(f),i.flags|=256,mn(n,i,a,c),i.child}var Jc={dehydrated:null,treeContext:null,retryLane:0};function Zc(n){return{baseLanes:n,cachePool:null,transitions:null}}function Op(n,i,a){var c=i.pendingProps,f=Et.current,m=!1,v=(i.flags&128)!==0,A;if((A=v)||(A=n!==null&&n.memoizedState===null?!1:(f&2)!==0),A?(m=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(f|=1),ht(Et,f&1),n===null)return Ac(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(i.mode&1?n.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(v=c.children,n=c.fallback,m?(c=i.mode,m=i.child,v={mode:"hidden",children:v},!(c&1)&&m!==null?(m.childLanes=0,m.pendingProps=v):m=Kl(v,c,0,null),n=Ss(n,c,a,null),m.return=i,n.return=i,m.sibling=n,i.child=m,i.child.memoizedState=Zc(a),i.memoizedState=Jc,n):eh(i,v));if(f=n.memoizedState,f!==null&&(A=f.dehydrated,A!==null))return Sv(n,i,v,c,A,f,a);if(m){m=c.fallback,v=i.mode,f=n.child,A=f.sibling;var D={mode:"hidden",children:c.children};return!(v&1)&&i.child!==f?(c=i.child,c.childLanes=0,c.pendingProps=D,i.deletions=null):(c=Ui(f,D),c.subtreeFlags=f.subtreeFlags&14680064),A!==null?m=Ui(A,m):(m=Ss(m,v,a,null),m.flags|=2),m.return=i,c.return=i,c.sibling=m,i.child=c,c=m,m=i.child,v=n.child.memoizedState,v=v===null?Zc(a):{baseLanes:v.baseLanes|a,cachePool:null,transitions:v.transitions},m.memoizedState=v,m.childLanes=n.childLanes&~a,i.memoizedState=Jc,c}return m=n.child,n=m.sibling,c=Ui(m,{mode:"visible",children:c.children}),!(i.mode&1)&&(c.lanes=a),c.return=i,c.sibling=null,n!==null&&(a=i.deletions,a===null?(i.deletions=[n],i.flags|=16):a.push(n)),i.child=c,i.memoizedState=null,c}function eh(n,i){return i=Kl({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function Ml(n,i,a,c){return c!==null&&Cc(c),ao(i,n.child,null,a),n=eh(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Sv(n,i,a,c,f,m,v){if(a)return i.flags&256?(i.flags&=-257,c=Kc(Error(t(422))),Ml(n,i,v,c)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(m=c.fallback,f=i.mode,c=Kl({mode:"visible",children:c.children},f,0,null),m=Ss(m,f,v,null),m.flags|=2,c.return=i,m.return=i,c.sibling=m,i.child=c,i.mode&1&&ao(i,n.child,null,v),i.child.memoizedState=Zc(v),i.memoizedState=Jc,m);if(!(i.mode&1))return Ml(n,i,v,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var A=c.dgst;return c=A,m=Error(t(419)),c=Kc(m,c,void 0),Ml(n,i,v,c)}if(A=(v&n.childLanes)!==0,In||A){if(c=zt,c!==null){switch(v&-v){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(c.suspendedLanes|v)?0:f,f!==0&&f!==m.retryLane&&(m.retryLane=f,ti(n,f),mr(c,n,f,-1))}return gh(),c=Kc(Error(t(421))),Ml(n,i,v,c)}return f.data==="$?"?(i.flags|=128,i.child=n.child,i=Ov.bind(null,n),f._reactRetry=i,null):(n=m.treeContext,Fn=Pi(f.nextSibling),On=i,vt=!0,hr=null,n!==null&&(qn[Hn++]=Zr,qn[Hn++]=ei,qn[Hn++]=ps,Zr=n.id,ei=n.overflow,ps=i),i=eh(i,c.children),i.flags|=4096,i)}function Fp(n,i,a){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),Dc(n.return,i,a)}function th(n,i,a,c,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=f)}function bp(n,i,a){var c=i.pendingProps,f=c.revealOrder,m=c.tail;if(mn(n,i,c.children,a),c=Et.current,c&2)c=c&1|2,i.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Fp(n,a,i);else if(n.tag===19)Fp(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(ht(Et,c),!(i.mode&1))i.memoizedState=null;else switch(f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&Pl(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),th(i,!1,f,a,m);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Pl(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}th(i,!0,a,null,m);break;case"together":th(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ol(n,i){!(i.mode&1)&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function ri(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),vs|=i.lanes,!(a&i.childLanes))return null;if(n!==null&&i.child!==n.child)throw Error(t(153));if(i.child!==null){for(n=i.child,a=Ui(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Ui(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Iv(n,i,a){switch(i.tag){case 3:Lp(i),oo();break;case 5:Jd(i);break;case 1:Sn(i.type)&&_l(i);break;case 4:Lc(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,f=i.memoizedProps.value;ht(Il,c._currentValue),c._currentValue=f;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(ht(Et,Et.current&1),i.flags|=128,null):a&i.child.childLanes?Op(n,i,a):(ht(Et,Et.current&1),n=ri(n,i,a),n!==null?n.sibling:null);ht(Et,Et.current&1);break;case 19:if(c=(a&i.childLanes)!==0,n.flags&128){if(c)return bp(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ht(Et,Et.current),c)break;return null;case 22:case 23:return i.lanes=0,Dp(n,i,a)}return ri(n,i,a)}var Up,nh,zp,jp;Up=function(n,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},nh=function(){},zp=function(n,i,a,c){var f=n.memoizedProps;if(f!==c){n=i.stateNode,ys(xr.current);var m=null;switch(a){case"input":f=zr(n,f),c=zr(n,c),m=[];break;case"select":f=ue({},f,{value:void 0}),c=ue({},c,{value:void 0}),m=[];break;case"textarea":f=Jn(n,f),c=Jn(n,c),m=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=ml)}Tr(a,c);var v;a=null;for(W in f)if(!c.hasOwnProperty(W)&&f.hasOwnProperty(W)&&f[W]!=null)if(W==="style"){var A=f[W];for(v in A)A.hasOwnProperty(v)&&(a||(a={}),a[v]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(o.hasOwnProperty(W)?m||(m=[]):(m=m||[]).push(W,null));for(W in c){var D=c[W];if(A=f!=null?f[W]:void 0,c.hasOwnProperty(W)&&D!==A&&(D!=null||A!=null))if(W==="style")if(A){for(v in A)!A.hasOwnProperty(v)||D&&D.hasOwnProperty(v)||(a||(a={}),a[v]="");for(v in D)D.hasOwnProperty(v)&&A[v]!==D[v]&&(a||(a={}),a[v]=D[v])}else a||(m||(m=[]),m.push(W,a)),a=D;else W==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,A=A?A.__html:void 0,D!=null&&A!==D&&(m=m||[]).push(W,D)):W==="children"?typeof D!="string"&&typeof D!="number"||(m=m||[]).push(W,""+D):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(o.hasOwnProperty(W)?(D!=null&&W==="onScroll"&&mt("scroll",n),m||A===D||(m=[])):(m=m||[]).push(W,D))}a&&(m=m||[]).push("style",a);var W=m;(i.updateQueue=W)&&(i.flags|=4)}},jp=function(n,i,a,c){a!==c&&(i.flags|=4)};function la(n,i){if(!vt)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function an(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=c,n.childLanes=a,i}function Rv(n,i,a){var c=i.pendingProps;switch(Ic(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(i),null;case 1:return Sn(i.type)&&yl(),an(i),null;case 3:return c=i.stateNode,co(),gt(Tn),gt(sn),Fc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(Tl(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,hr!==null&&(dh(hr),hr=null))),nh(n,i),an(i),null;case 5:Mc(i);var f=ys(ra.current);if(a=i.type,n!==null&&i.stateNode!=null)zp(n,i,a,c,f),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(t(166));return an(i),null}if(n=ys(xr.current),Tl(i)){c=i.stateNode,a=i.type;var m=i.memoizedProps;switch(c[kr]=i,c[Jo]=m,n=(i.mode&1)!==0,a){case"dialog":mt("cancel",c),mt("close",c);break;case"iframe":case"object":case"embed":mt("load",c);break;case"video":case"audio":for(f=0;f<Go.length;f++)mt(Go[f],c);break;case"source":mt("error",c);break;case"img":case"image":case"link":mt("error",c),mt("load",c);break;case"details":mt("toggle",c);break;case"input":fi(c,m),mt("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},mt("invalid",c);break;case"textarea":jr(c,m),mt("invalid",c)}Tr(a,m),f=null;for(var v in m)if(m.hasOwnProperty(v)){var A=m[v];v==="children"?typeof A=="string"?c.textContent!==A&&(m.suppressHydrationWarning!==!0&&pl(c.textContent,A,n),f=["children",A]):typeof A=="number"&&c.textContent!==""+A&&(m.suppressHydrationWarning!==!0&&pl(c.textContent,A,n),f=["children",""+A]):o.hasOwnProperty(v)&&A!=null&&v==="onScroll"&&mt("scroll",c)}switch(a){case"input":jn(c),Ms(c,m,!0);break;case"textarea":jn(c),yn(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=ml)}c=f,i.updateQueue=c,c!==null&&(i.flags|=4)}else{v=f.nodeType===9?f:f.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=at(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=v.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=v.createElement(a,{is:c.is}):(n=v.createElement(a),a==="select"&&(v=n,c.multiple?v.multiple=!0:c.size&&(v.size=c.size))):n=v.createElementNS(n,a),n[kr]=i,n[Jo]=c,Up(n,i,!1,!1),i.stateNode=n;e:{switch(v=yi(a,c),a){case"dialog":mt("cancel",n),mt("close",n),f=c;break;case"iframe":case"object":case"embed":mt("load",n),f=c;break;case"video":case"audio":for(f=0;f<Go.length;f++)mt(Go[f],n);f=c;break;case"source":mt("error",n),f=c;break;case"img":case"image":case"link":mt("error",n),mt("load",n),f=c;break;case"details":mt("toggle",n),f=c;break;case"input":fi(n,c),f=zr(n,c),mt("invalid",n);break;case"option":f=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},f=ue({},c,{value:void 0}),mt("invalid",n);break;case"textarea":jr(n,c),f=Jn(n,c),mt("invalid",n);break;default:f=c}Tr(a,f),A=f;for(m in A)if(A.hasOwnProperty(m)){var D=A[m];m==="style"?is(n,D):m==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&rs(n,D)):m==="children"?typeof D=="string"?(a!=="textarea"||D!=="")&&Ht(n,D):typeof D=="number"&&Ht(n,""+D):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?D!=null&&m==="onScroll"&&mt("scroll",n):D!=null&&ie(n,m,D,v))}switch(a){case"input":jn(n),Ms(n,c,!1);break;case"textarea":jn(n),yn(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Ze(c.value));break;case"select":n.multiple=!!c.multiple,m=c.value,m!=null?qt(n,!!c.multiple,m,!1):c.defaultValue!=null&&qt(n,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(n.onclick=ml)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return an(i),null;case 6:if(n&&i.stateNode!=null)jp(n,i,n.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(t(166));if(a=ys(ra.current),ys(xr.current),Tl(i)){if(c=i.stateNode,a=i.memoizedProps,c[kr]=i,(m=c.nodeValue!==a)&&(n=On,n!==null))switch(n.tag){case 3:pl(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&pl(c.nodeValue,a,(n.mode&1)!==0)}m&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[kr]=i,i.stateNode=c}return an(i),null;case 13:if(gt(Et),c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(vt&&Fn!==null&&i.mode&1&&!(i.flags&128))qd(),oo(),i.flags|=98560,m=!1;else if(m=Tl(i),c!==null&&c.dehydrated!==null){if(n===null){if(!m)throw Error(t(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(t(317));m[kr]=i}else oo(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;an(i),m=!1}else hr!==null&&(dh(hr),hr=null),m=!0;if(!m)return i.flags&65536?i:null}return i.flags&128?(i.lanes=a,i):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(i.child.flags|=8192,i.mode&1&&(n===null||Et.current&1?Mt===0&&(Mt=3):gh())),i.updateQueue!==null&&(i.flags|=4),an(i),null);case 4:return co(),nh(n,i),n===null&&Yo(i.stateNode.containerInfo),an(i),null;case 10:return xc(i.type._context),an(i),null;case 17:return Sn(i.type)&&yl(),an(i),null;case 19:if(gt(Et),m=i.memoizedState,m===null)return an(i),null;if(c=(i.flags&128)!==0,v=m.rendering,v===null)if(c)la(m,!1);else{if(Mt!==0||n!==null&&n.flags&128)for(n=i.child;n!==null;){if(v=Pl(n),v!==null){for(i.flags|=128,la(m,!1),c=v.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)m=a,n=c,m.flags&=14680066,v=m.alternate,v===null?(m.childLanes=0,m.lanes=n,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=v.childLanes,m.lanes=v.lanes,m.child=v.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=v.memoizedProps,m.memoizedState=v.memoizedState,m.updateQueue=v.updateQueue,m.type=v.type,n=v.dependencies,m.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return ht(Et,Et.current&1|2),i.child}n=n.sibling}m.tail!==null&&st()>mo&&(i.flags|=128,c=!0,la(m,!1),i.lanes=4194304)}else{if(!c)if(n=Pl(v),n!==null){if(i.flags|=128,c=!0,a=n.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),la(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!vt)return an(i),null}else 2*st()-m.renderingStartTime>mo&&a!==1073741824&&(i.flags|=128,c=!0,la(m,!1),i.lanes=4194304);m.isBackwards?(v.sibling=i.child,i.child=v):(a=m.last,a!==null?a.sibling=v:i.child=v,m.last=v)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=st(),i.sibling=null,a=Et.current,ht(Et,c?a&1|2:a&1),i):(an(i),null);case 22:case 23:return mh(),c=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(i.flags|=8192),c&&i.mode&1?bn&1073741824&&(an(i),i.subtreeFlags&6&&(i.flags|=8192)):an(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function Av(n,i){switch(Ic(i),i.tag){case 1:return Sn(i.type)&&yl(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return co(),gt(Tn),gt(sn),Fc(),n=i.flags,n&65536&&!(n&128)?(i.flags=n&-65537|128,i):null;case 5:return Mc(i),null;case 13:if(gt(Et),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(t(340));oo()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return gt(Et),null;case 4:return co(),null;case 10:return xc(i.type._context),null;case 22:case 23:return mh(),null;case 24:return null;default:return null}}var Fl=!1,ln=!1,Cv=typeof WeakSet=="function"?WeakSet:Set,_e=null;function fo(n,i){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){Rt(n,i,c)}else a.current=null}function rh(n,i,a){try{a()}catch(c){Rt(n,i,c)}}var Bp=!1;function Pv(n,i){if(mc=Ri,n=Ed(),ac(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var v=0,A=-1,D=-1,W=0,ne=0,re=n,te=null;t:for(;;){for(var de;re!==a||f!==0&&re.nodeType!==3||(A=v+f),re!==m||c!==0&&re.nodeType!==3||(D=v+c),re.nodeType===3&&(v+=re.nodeValue.length),(de=re.firstChild)!==null;)te=re,re=de;for(;;){if(re===n)break t;if(te===a&&++W===f&&(A=v),te===m&&++ne===c&&(D=v),(de=re.nextSibling)!==null)break;re=te,te=re.parentNode}re=de}a=A===-1||D===-1?null:{start:A,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(gc={focusedElem:n,selectionRange:a},Ri=!1,_e=i;_e!==null;)if(i=_e,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,_e=n;else for(;_e!==null;){i=_e;try{var we=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var Se=we.memoizedProps,Ct=we.memoizedState,B=i.stateNode,L=B.getSnapshotBeforeUpdate(i.elementType===i.type?Se:fr(i.type,Se),Ct);B.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var q=i.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){Rt(i,i.return,se)}if(n=i.sibling,n!==null){n.return=i.return,_e=n;break}_e=i.return}return we=Bp,Bp=!1,we}function ua(n,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&n)===n){var m=f.destroy;f.destroy=void 0,m!==void 0&&rh(i,a,m)}f=f.next}while(f!==c)}}function bl(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function ih(n){var i=n.ref;if(i!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof i=="function"?i(n):i.current=n}}function $p(n){var i=n.alternate;i!==null&&(n.alternate=null,$p(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[kr],delete i[Jo],delete i[Ec],delete i[cv],delete i[hv])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function qp(n){return n.tag===5||n.tag===3||n.tag===4}function Hp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||qp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function sh(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ml));else if(c!==4&&(n=n.child,n!==null))for(sh(n,i,a),n=n.sibling;n!==null;)sh(n,i,a),n=n.sibling}function oh(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(oh(n,i,a),n=n.sibling;n!==null;)oh(n,i,a),n=n.sibling}var Yt=null,dr=!1;function Li(n,i,a){for(a=a.child;a!==null;)Wp(n,i,a),a=a.sibling}function Wp(n,i,a){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(vn,a)}catch{}switch(a.tag){case 5:ln||fo(a,i);case 6:var c=Yt,f=dr;Yt=null,Li(n,i,a),Yt=c,dr=f,Yt!==null&&(dr?(n=Yt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):Yt.removeChild(a.stateNode));break;case 18:Yt!==null&&(dr?(n=Yt,a=a.stateNode,n.nodeType===8?vc(n.parentNode,a):n.nodeType===1&&vc(n,a),lr(n)):vc(Yt,a.stateNode));break;case 4:c=Yt,f=dr,Yt=a.stateNode.containerInfo,dr=!0,Li(n,i,a),Yt=c,dr=f;break;case 0:case 11:case 14:case 15:if(!ln&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var m=f,v=m.destroy;m=m.tag,v!==void 0&&(m&2||m&4)&&rh(a,i,v),f=f.next}while(f!==c)}Li(n,i,a);break;case 1:if(!ln&&(fo(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(A){Rt(a,i,A)}Li(n,i,a);break;case 21:Li(n,i,a);break;case 22:a.mode&1?(ln=(c=ln)||a.memoizedState!==null,Li(n,i,a),ln=c):Li(n,i,a);break;default:Li(n,i,a)}}function Qp(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new Cv),i.forEach(function(c){var f=Fv.bind(null,n,c);a.has(c)||(a.add(c),c.then(f,f))})}}function pr(n,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];try{var m=n,v=i,A=v;e:for(;A!==null;){switch(A.tag){case 5:Yt=A.stateNode,dr=!1;break e;case 3:Yt=A.stateNode.containerInfo,dr=!0;break e;case 4:Yt=A.stateNode.containerInfo,dr=!0;break e}A=A.return}if(Yt===null)throw Error(t(160));Wp(m,v,f),Yt=null,dr=!1;var D=f.alternate;D!==null&&(D.return=null),f.return=null}catch(W){Rt(f,i,W)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Kp(i,n),i=i.sibling}function Kp(n,i){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(pr(i,n),Vr(n),c&4){try{ua(3,n,n.return),bl(3,n)}catch(Se){Rt(n,n.return,Se)}try{ua(5,n,n.return)}catch(Se){Rt(n,n.return,Se)}}break;case 1:pr(i,n),Vr(n),c&512&&a!==null&&fo(a,a.return);break;case 5:if(pr(i,n),Vr(n),c&512&&a!==null&&fo(a,a.return),n.flags&32){var f=n.stateNode;try{Ht(f,"")}catch(Se){Rt(n,n.return,Se)}}if(c&4&&(f=n.stateNode,f!=null)){var m=n.memoizedProps,v=a!==null?a.memoizedProps:m,A=n.type,D=n.updateQueue;if(n.updateQueue=null,D!==null)try{A==="input"&&m.type==="radio"&&m.name!=null&&di(f,m),yi(A,v);var W=yi(A,m);for(v=0;v<D.length;v+=2){var ne=D[v],re=D[v+1];ne==="style"?is(f,re):ne==="dangerouslySetInnerHTML"?rs(f,re):ne==="children"?Ht(f,re):ie(f,ne,re,W)}switch(A){case"input":ns(f,m);break;case"textarea":vr(f,m);break;case"select":var te=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!m.multiple;var de=m.value;de!=null?qt(f,!!m.multiple,de,!1):te!==!!m.multiple&&(m.defaultValue!=null?qt(f,!!m.multiple,m.defaultValue,!0):qt(f,!!m.multiple,m.multiple?[]:"",!1))}f[Jo]=m}catch(Se){Rt(n,n.return,Se)}}break;case 6:if(pr(i,n),Vr(n),c&4){if(n.stateNode===null)throw Error(t(162));f=n.stateNode,m=n.memoizedProps;try{f.nodeValue=m}catch(Se){Rt(n,n.return,Se)}}break;case 3:if(pr(i,n),Vr(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{lr(i.containerInfo)}catch(Se){Rt(n,n.return,Se)}break;case 4:pr(i,n),Vr(n);break;case 13:pr(i,n),Vr(n),f=n.child,f.flags&8192&&(m=f.memoizedState!==null,f.stateNode.isHidden=m,!m||f.alternate!==null&&f.alternate.memoizedState!==null||(uh=st())),c&4&&Qp(n);break;case 22:if(ne=a!==null&&a.memoizedState!==null,n.mode&1?(ln=(W=ln)||ne,pr(i,n),ln=W):pr(i,n),Vr(n),c&8192){if(W=n.memoizedState!==null,(n.stateNode.isHidden=W)&&!ne&&n.mode&1)for(_e=n,ne=n.child;ne!==null;){for(re=_e=ne;_e!==null;){switch(te=_e,de=te.child,te.tag){case 0:case 11:case 14:case 15:ua(4,te,te.return);break;case 1:fo(te,te.return);var we=te.stateNode;if(typeof we.componentWillUnmount=="function"){c=te,a=te.return;try{i=c,we.props=i.memoizedProps,we.state=i.memoizedState,we.componentWillUnmount()}catch(Se){Rt(c,a,Se)}}break;case 5:fo(te,te.return);break;case 22:if(te.memoizedState!==null){Xp(re);continue}}de!==null?(de.return=te,_e=de):Xp(re)}ne=ne.sibling}e:for(ne=null,re=n;;){if(re.tag===5){if(ne===null){ne=re;try{f=re.stateNode,W?(m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(A=re.stateNode,D=re.memoizedProps.style,v=D!=null&&D.hasOwnProperty("display")?D.display:null,A.style.display=mi("display",v))}catch(Se){Rt(n,n.return,Se)}}}else if(re.tag===6){if(ne===null)try{re.stateNode.nodeValue=W?"":re.memoizedProps}catch(Se){Rt(n,n.return,Se)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===n)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===n)break e;for(;re.sibling===null;){if(re.return===null||re.return===n)break e;ne===re&&(ne=null),re=re.return}ne===re&&(ne=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:pr(i,n),Vr(n),c&4&&Qp(n);break;case 21:break;default:pr(i,n),Vr(n)}}function Vr(n){var i=n.flags;if(i&2){try{e:{for(var a=n.return;a!==null;){if(qp(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(Ht(f,""),c.flags&=-33);var m=Hp(n);oh(n,m,f);break;case 3:case 4:var v=c.stateNode.containerInfo,A=Hp(n);sh(n,A,v);break;default:throw Error(t(161))}}catch(D){Rt(n,n.return,D)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function kv(n,i,a){_e=n,Gp(n)}function Gp(n,i,a){for(var c=(n.mode&1)!==0;_e!==null;){var f=_e,m=f.child;if(f.tag===22&&c){var v=f.memoizedState!==null||Fl;if(!v){var A=f.alternate,D=A!==null&&A.memoizedState!==null||ln;A=Fl;var W=ln;if(Fl=v,(ln=D)&&!W)for(_e=f;_e!==null;)v=_e,D=v.child,v.tag===22&&v.memoizedState!==null?Jp(f):D!==null?(D.return=v,_e=D):Jp(f);for(;m!==null;)_e=m,Gp(m),m=m.sibling;_e=f,Fl=A,ln=W}Yp(n)}else f.subtreeFlags&8772&&m!==null?(m.return=f,_e=m):Yp(n)}}function Yp(n){for(;_e!==null;){var i=_e;if(i.flags&8772){var a=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:ln||bl(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!ln)if(a===null)c.componentDidMount();else{var f=i.elementType===i.type?a.memoizedProps:fr(i.type,a.memoizedProps);c.componentDidUpdate(f,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=i.updateQueue;m!==null&&Xd(i,m,c);break;case 3:var v=i.updateQueue;if(v!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}Xd(i,v,a)}break;case 5:var A=i.stateNode;if(a===null&&i.flags&4){a=A;var D=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&a.focus();break;case"img":D.src&&(a.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var W=i.alternate;if(W!==null){var ne=W.memoizedState;if(ne!==null){var re=ne.dehydrated;re!==null&&lr(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ln||i.flags&512&&ih(i)}catch(te){Rt(i,i.return,te)}}if(i===n){_e=null;break}if(a=i.sibling,a!==null){a.return=i.return,_e=a;break}_e=i.return}}function Xp(n){for(;_e!==null;){var i=_e;if(i===n){_e=null;break}var a=i.sibling;if(a!==null){a.return=i.return,_e=a;break}_e=i.return}}function Jp(n){for(;_e!==null;){var i=_e;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{bl(4,i)}catch(D){Rt(i,a,D)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var f=i.return;try{c.componentDidMount()}catch(D){Rt(i,f,D)}}var m=i.return;try{ih(i)}catch(D){Rt(i,m,D)}break;case 5:var v=i.return;try{ih(i)}catch(D){Rt(i,v,D)}}}catch(D){Rt(i,i.return,D)}if(i===n){_e=null;break}var A=i.sibling;if(A!==null){A.return=i.return,_e=A;break}_e=i.return}}var xv=Math.ceil,Ul=pe.ReactCurrentDispatcher,ah=pe.ReactCurrentOwner,Kn=pe.ReactCurrentBatchConfig,tt=0,zt=null,xt=null,Xt=0,bn=0,po=ki(0),Mt=0,ca=null,vs=0,zl=0,lh=0,ha=null,Rn=null,uh=0,mo=1/0,ii=null,jl=!1,ch=null,Mi=null,Bl=!1,Oi=null,$l=0,fa=0,hh=null,ql=-1,Hl=0;function gn(){return tt&6?st():ql!==-1?ql:ql=st()}function Fi(n){return n.mode&1?tt&2&&Xt!==0?Xt&-Xt:dv.transition!==null?(Hl===0&&(Hl=as()),Hl):(n=$e,n!==0||(n=window.event,n=n===void 0?16:zo(n.type)),n):1}function mr(n,i,a,c){if(50<fa)throw fa=0,hh=null,Error(t(185));wi(n,a,c),(!(tt&2)||n!==zt)&&(n===zt&&(!(tt&2)&&(zl|=a),Mt===4&&bi(n,Xt)),An(n,c),a===1&&tt===0&&!(i.mode&1)&&(mo=st()+500,vl&&Di()))}function An(n,i){var a=n.callbackNode;Wr(n,i);var c=os(n,n===zt?Xt:0);if(c===0)a!==null&&qr(a),n.callbackNode=null,n.callbackPriority=0;else if(i=c&-c,n.callbackPriority!==i){if(a!=null&&qr(a),i===1)n.tag===0?fv(em.bind(null,n)):Ud(em.bind(null,n)),lv(function(){!(tt&6)&&Di()}),a=null;else{switch(Si(c)){case 1:a=Ke;break;case 4:a=dt;break;case 16:a=Qt;break;case 536870912:a=pt;break;default:a=Qt}a=lm(a,Zp.bind(null,n))}n.callbackPriority=i,n.callbackNode=a}}function Zp(n,i){if(ql=-1,Hl=0,tt&6)throw Error(t(327));var a=n.callbackNode;if(go()&&n.callbackNode!==a)return null;var c=os(n,n===zt?Xt:0);if(c===0)return null;if(c&30||c&n.expiredLanes||i)i=Wl(n,c);else{i=c;var f=tt;tt|=2;var m=nm();(zt!==n||Xt!==i)&&(ii=null,mo=st()+500,ws(n,i));do try{Nv();break}catch(A){tm(n,A)}while(!0);kc(),Ul.current=m,tt=f,xt!==null?i=0:(zt=null,Xt=0,i=Mt)}if(i!==0){if(i===2&&(f=Nn(n),f!==0&&(c=f,i=fh(n,f))),i===1)throw a=ca,ws(n,0),bi(n,c),An(n,st()),a;if(i===6)bi(n,c);else{if(f=n.current.alternate,!(c&30)&&!Dv(f)&&(i=Wl(n,c),i===2&&(m=Nn(n),m!==0&&(c=m,i=fh(n,m))),i===1))throw a=ca,ws(n,0),bi(n,c),An(n,st()),a;switch(n.finishedWork=f,n.finishedLanes=c,i){case 0:case 1:throw Error(t(345));case 2:Ts(n,Rn,ii);break;case 3:if(bi(n,c),(c&130023424)===c&&(i=uh+500-st(),10<i)){if(os(n,0)!==0)break;if(f=n.suspendedLanes,(f&c)!==c){gn(),n.pingedLanes|=n.suspendedLanes&f;break}n.timeoutHandle=_c(Ts.bind(null,n,Rn,ii),i);break}Ts(n,Rn,ii);break;case 4:if(bi(n,c),(c&4194240)===c)break;for(i=n.eventTimes,f=-1;0<c;){var v=31-dn(c);m=1<<v,v=i[v],v>f&&(f=v),c&=~m}if(c=f,c=st()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*xv(c/1960))-c,10<c){n.timeoutHandle=_c(Ts.bind(null,n,Rn,ii),c);break}Ts(n,Rn,ii);break;case 5:Ts(n,Rn,ii);break;default:throw Error(t(329))}}}return An(n,st()),n.callbackNode===a?Zp.bind(null,n):null}function fh(n,i){var a=ha;return n.current.memoizedState.isDehydrated&&(ws(n,i).flags|=256),n=Wl(n,i),n!==2&&(i=Rn,Rn=a,i!==null&&dh(i)),n}function dh(n){Rn===null?Rn=n:Rn.push.apply(Rn,n)}function Dv(n){for(var i=n;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var f=a[c],m=f.getSnapshot;f=f.value;try{if(!cr(m(),f))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function bi(n,i){for(i&=~lh,i&=~zl,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var a=31-dn(i),c=1<<a;n[a]=-1,i&=~c}}function em(n){if(tt&6)throw Error(t(327));go();var i=os(n,0);if(!(i&1))return An(n,st()),null;var a=Wl(n,i);if(n.tag!==0&&a===2){var c=Nn(n);c!==0&&(i=c,a=fh(n,c))}if(a===1)throw a=ca,ws(n,0),bi(n,i),An(n,st()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,Ts(n,Rn,ii),An(n,st()),null}function ph(n,i){var a=tt;tt|=1;try{return n(i)}finally{tt=a,tt===0&&(mo=st()+500,vl&&Di())}}function Es(n){Oi!==null&&Oi.tag===0&&!(tt&6)&&go();var i=tt;tt|=1;var a=Kn.transition,c=$e;try{if(Kn.transition=null,$e=1,n)return n()}finally{$e=c,Kn.transition=a,tt=i,!(tt&6)&&Di()}}function mh(){bn=po.current,gt(po)}function ws(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,av(a)),xt!==null)for(a=xt.return;a!==null;){var c=a;switch(Ic(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&yl();break;case 3:co(),gt(Tn),gt(sn),Fc();break;case 5:Mc(c);break;case 4:co();break;case 13:gt(Et);break;case 19:gt(Et);break;case 10:xc(c.type._context);break;case 22:case 23:mh()}a=a.return}if(zt=n,xt=n=Ui(n.current,null),Xt=bn=i,Mt=0,ca=null,lh=zl=vs=0,Rn=ha=null,gs!==null){for(i=0;i<gs.length;i++)if(a=gs[i],c=a.interleaved,c!==null){a.interleaved=null;var f=c.next,m=a.pending;if(m!==null){var v=m.next;m.next=f,c.next=v}a.pending=c}gs=null}return n}function tm(n,i){do{var a=xt;try{if(kc(),kl.current=Nl,xl){for(var c=wt.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}xl=!1}if(_s=0,Ut=Lt=wt=null,ia=!1,sa=0,ah.current=null,a===null||a.return===null){Mt=1,ca=i,xt=null;break}e:{var m=n,v=a.return,A=a,D=i;if(i=Xt,A.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=D,ne=A,re=ne.tag;if(!(ne.mode&1)&&(re===0||re===11||re===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var de=Ap(v);if(de!==null){de.flags&=-257,Cp(de,v,A,m,i),de.mode&1&&Rp(m,W,i),i=de,D=W;var we=i.updateQueue;if(we===null){var Se=new Set;Se.add(D),i.updateQueue=Se}else we.add(D);break e}else{if(!(i&1)){Rp(m,W,i),gh();break e}D=Error(t(426))}}else if(vt&&A.mode&1){var Ct=Ap(v);if(Ct!==null){!(Ct.flags&65536)&&(Ct.flags|=256),Cp(Ct,v,A,m,i),Cc(ho(D,A));break e}}m=D=ho(D,A),Mt!==4&&(Mt=2),ha===null?ha=[m]:ha.push(m),m=v;do{switch(m.tag){case 3:m.flags|=65536,i&=-i,m.lanes|=i;var B=Sp(m,D,i);Yd(m,B);break e;case 1:A=D;var L=m.type,q=m.stateNode;if(!(m.flags&128)&&(typeof L.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Mi===null||!Mi.has(q)))){m.flags|=65536,i&=-i,m.lanes|=i;var se=Ip(m,A,i);Yd(m,se);break e}}m=m.return}while(m!==null)}im(a)}catch(Ie){i=Ie,xt===a&&a!==null&&(xt=a=a.return);continue}break}while(!0)}function nm(){var n=Ul.current;return Ul.current=Nl,n===null?Nl:n}function gh(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),zt===null||!(vs&268435455)&&!(zl&268435455)||bi(zt,Xt)}function Wl(n,i){var a=tt;tt|=2;var c=nm();(zt!==n||Xt!==i)&&(ii=null,ws(n,i));do try{Vv();break}catch(f){tm(n,f)}while(!0);if(kc(),tt=a,Ul.current=c,xt!==null)throw Error(t(261));return zt=null,Xt=0,Mt}function Vv(){for(;xt!==null;)rm(xt)}function Nv(){for(;xt!==null&&!Sr();)rm(xt)}function rm(n){var i=am(n.alternate,n,bn);n.memoizedProps=n.pendingProps,i===null?im(n):xt=i,ah.current=null}function im(n){var i=n;do{var a=i.alternate;if(n=i.return,i.flags&32768){if(a=Av(a,i),a!==null){a.flags&=32767,xt=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Mt=6,xt=null;return}}else if(a=Rv(a,i,bn),a!==null){xt=a;return}if(i=i.sibling,i!==null){xt=i;return}xt=i=n}while(i!==null);Mt===0&&(Mt=5)}function Ts(n,i,a){var c=$e,f=Kn.transition;try{Kn.transition=null,$e=1,Lv(n,i,a,c)}finally{Kn.transition=f,$e=c}return null}function Lv(n,i,a,c){do go();while(Oi!==null);if(tt&6)throw Error(t(327));a=n.finishedWork;var f=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var m=a.lanes|a.childLanes;if(ut(n,m),n===zt&&(xt=zt=null,Xt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Bl||(Bl=!0,lm(Qt,function(){return go(),null})),m=(a.flags&15990)!==0,a.subtreeFlags&15990||m){m=Kn.transition,Kn.transition=null;var v=$e;$e=1;var A=tt;tt|=4,ah.current=null,Pv(n,a),Kp(a,n),ev(gc),Ri=!!mc,gc=mc=null,n.current=a,kv(a),rr(),tt=A,$e=v,Kn.transition=m}else n.current=a;if(Bl&&(Bl=!1,Oi=n,$l=f),m=n.pendingLanes,m===0&&(Mi=null),Os(a.stateNode),An(n,st()),i!==null)for(c=n.onRecoverableError,a=0;a<i.length;a++)f=i[a],c(f.value,{componentStack:f.stack,digest:f.digest});if(jl)throw jl=!1,n=ch,ch=null,n;return $l&1&&n.tag!==0&&go(),m=n.pendingLanes,m&1?n===hh?fa++:(fa=0,hh=n):fa=0,Di(),null}function go(){if(Oi!==null){var n=Si($l),i=Kn.transition,a=$e;try{if(Kn.transition=null,$e=16>n?16:n,Oi===null)var c=!1;else{if(n=Oi,Oi=null,$l=0,tt&6)throw Error(t(331));var f=tt;for(tt|=4,_e=n.current;_e!==null;){var m=_e,v=m.child;if(_e.flags&16){var A=m.deletions;if(A!==null){for(var D=0;D<A.length;D++){var W=A[D];for(_e=W;_e!==null;){var ne=_e;switch(ne.tag){case 0:case 11:case 15:ua(8,ne,m)}var re=ne.child;if(re!==null)re.return=ne,_e=re;else for(;_e!==null;){ne=_e;var te=ne.sibling,de=ne.return;if($p(ne),ne===W){_e=null;break}if(te!==null){te.return=de,_e=te;break}_e=de}}}var we=m.alternate;if(we!==null){var Se=we.child;if(Se!==null){we.child=null;do{var Ct=Se.sibling;Se.sibling=null,Se=Ct}while(Se!==null)}}_e=m}}if(m.subtreeFlags&2064&&v!==null)v.return=m,_e=v;else e:for(;_e!==null;){if(m=_e,m.flags&2048)switch(m.tag){case 0:case 11:case 15:ua(9,m,m.return)}var B=m.sibling;if(B!==null){B.return=m.return,_e=B;break e}_e=m.return}}var L=n.current;for(_e=L;_e!==null;){v=_e;var q=v.child;if(v.subtreeFlags&2064&&q!==null)q.return=v,_e=q;else e:for(v=L;_e!==null;){if(A=_e,A.flags&2048)try{switch(A.tag){case 0:case 11:case 15:bl(9,A)}}catch(Ie){Rt(A,A.return,Ie)}if(A===v){_e=null;break e}var se=A.sibling;if(se!==null){se.return=A.return,_e=se;break e}_e=A.return}}if(tt=f,Di(),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(vn,n)}catch{}c=!0}return c}finally{$e=a,Kn.transition=i}}return!1}function sm(n,i,a){i=ho(a,i),i=Sp(n,i,1),n=Ni(n,i,1),i=gn(),n!==null&&(wi(n,1,i),An(n,i))}function Rt(n,i,a){if(n.tag===3)sm(n,n,a);else for(;i!==null;){if(i.tag===3){sm(i,n,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Mi===null||!Mi.has(c))){n=ho(a,n),n=Ip(i,n,1),i=Ni(i,n,1),n=gn(),i!==null&&(wi(i,1,n),An(i,n));break}}i=i.return}}function Mv(n,i,a){var c=n.pingCache;c!==null&&c.delete(i),i=gn(),n.pingedLanes|=n.suspendedLanes&a,zt===n&&(Xt&a)===a&&(Mt===4||Mt===3&&(Xt&130023424)===Xt&&500>st()-uh?ws(n,0):lh|=a),An(n,i)}function om(n,i){i===0&&(n.mode&1?(i=bs,bs<<=1,!(bs&130023424)&&(bs=4194304)):i=1);var a=gn();n=ti(n,i),n!==null&&(wi(n,i,a),An(n,a))}function Ov(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),om(n,a)}function Fv(n,i){var a=0;switch(n.tag){case 13:var c=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(i),om(n,a)}var am;am=function(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps||Tn.current)In=!0;else{if(!(n.lanes&a)&&!(i.flags&128))return In=!1,Iv(n,i,a);In=!!(n.flags&131072)}else In=!1,vt&&i.flags&1048576&&zd(i,wl,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;Ol(n,i),n=i.pendingProps;var f=ro(i,sn.current);uo(i,a),f=zc(null,i,c,n,f,a);var m=jc();return i.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Sn(c)?(m=!0,_l(i)):m=!1,i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Nc(i),f.updater=Ll,i.stateNode=f,f._reactInternals=i,Qc(i,c,n,a),i=Xc(null,i,c,!0,m,a)):(i.tag=0,vt&&m&&Sc(i),mn(null,i,f,a),i=i.child),i;case 16:c=i.elementType;e:{switch(Ol(n,i),n=i.pendingProps,f=c._init,c=f(c._payload),i.type=c,f=i.tag=Uv(c),n=fr(c,n),f){case 0:i=Yc(null,i,c,n,a);break e;case 1:i=Np(null,i,c,n,a);break e;case 11:i=Pp(null,i,c,n,a);break e;case 14:i=kp(null,i,c,fr(c.type,n),a);break e}throw Error(t(306,c,""))}return i;case 0:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:fr(c,f),Yc(n,i,c,f,a);case 1:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:fr(c,f),Np(n,i,c,f,a);case 3:e:{if(Lp(i),n===null)throw Error(t(387));c=i.pendingProps,m=i.memoizedState,f=m.element,Gd(n,i),Cl(i,c,null,a);var v=i.memoizedState;if(c=v.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){f=ho(Error(t(423)),i),i=Mp(n,i,c,a,f);break e}else if(c!==f){f=ho(Error(t(424)),i),i=Mp(n,i,c,a,f);break e}else for(Fn=Pi(i.stateNode.containerInfo.firstChild),On=i,vt=!0,hr=null,a=Qd(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(oo(),c===f){i=ri(n,i,a);break e}mn(n,i,c,a)}i=i.child}return i;case 5:return Jd(i),n===null&&Ac(i),c=i.type,f=i.pendingProps,m=n!==null?n.memoizedProps:null,v=f.children,yc(c,f)?v=null:m!==null&&yc(c,m)&&(i.flags|=32),Vp(n,i),mn(n,i,v,a),i.child;case 6:return n===null&&Ac(i),null;case 13:return Op(n,i,a);case 4:return Lc(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=ao(i,null,c,a):mn(n,i,c,a),i.child;case 11:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:fr(c,f),Pp(n,i,c,f,a);case 7:return mn(n,i,i.pendingProps,a),i.child;case 8:return mn(n,i,i.pendingProps.children,a),i.child;case 12:return mn(n,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,f=i.pendingProps,m=i.memoizedProps,v=f.value,ht(Il,c._currentValue),c._currentValue=v,m!==null)if(cr(m.value,v)){if(m.children===f.children&&!Tn.current){i=ri(n,i,a);break e}}else for(m=i.child,m!==null&&(m.return=i);m!==null;){var A=m.dependencies;if(A!==null){v=m.child;for(var D=A.firstContext;D!==null;){if(D.context===c){if(m.tag===1){D=ni(-1,a&-a),D.tag=2;var W=m.updateQueue;if(W!==null){W=W.shared;var ne=W.pending;ne===null?D.next=D:(D.next=ne.next,ne.next=D),W.pending=D}}m.lanes|=a,D=m.alternate,D!==null&&(D.lanes|=a),Dc(m.return,a,i),A.lanes|=a;break}D=D.next}}else if(m.tag===10)v=m.type===i.type?null:m.child;else if(m.tag===18){if(v=m.return,v===null)throw Error(t(341));v.lanes|=a,A=v.alternate,A!==null&&(A.lanes|=a),Dc(v,a,i),v=m.sibling}else v=m.child;if(v!==null)v.return=m;else for(v=m;v!==null;){if(v===i){v=null;break}if(m=v.sibling,m!==null){m.return=v.return,v=m;break}v=v.return}m=v}mn(n,i,f.children,a),i=i.child}return i;case 9:return f=i.type,c=i.pendingProps.children,uo(i,a),f=Wn(f),c=c(f),i.flags|=1,mn(n,i,c,a),i.child;case 14:return c=i.type,f=fr(c,i.pendingProps),f=fr(c.type,f),kp(n,i,c,f,a);case 15:return xp(n,i,i.type,i.pendingProps,a);case 17:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:fr(c,f),Ol(n,i),i.tag=1,Sn(c)?(n=!0,_l(i)):n=!1,uo(i,a),wp(i,c,f),Qc(i,c,f,a),Xc(null,i,c,!0,n,a);case 19:return bp(n,i,a);case 22:return Dp(n,i,a)}throw Error(t(156,i.tag))};function lm(n,i){return Wt(n,i)}function bv(n,i,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(n,i,a,c){return new bv(n,i,a,c)}function yh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Uv(n){if(typeof n=="function")return yh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===b)return 11;if(n===We)return 14}return 2}function Ui(n,i){var a=n.alternate;return a===null?(a=Gn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function Ql(n,i,a,c,f,m){var v=2;if(c=n,typeof n=="function")yh(n)&&(v=1);else if(typeof n=="string")v=5;else e:switch(n){case k:return Ss(a.children,f,m,i);case S:v=8,f|=8;break;case R:return n=Gn(12,a,i,f|2),n.elementType=R,n.lanes=m,n;case P:return n=Gn(13,a,i,f),n.elementType=P,n.lanes=m,n;case ct:return n=Gn(19,a,i,f),n.elementType=ct,n.lanes=m,n;case Qe:return Kl(a,f,m,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case x:v=10;break e;case N:v=9;break e;case b:v=11;break e;case We:v=14;break e;case At:v=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return i=Gn(v,a,i,f),i.elementType=n,i.type=c,i.lanes=m,i}function Ss(n,i,a,c){return n=Gn(7,n,c,i),n.lanes=a,n}function Kl(n,i,a,c){return n=Gn(22,n,c,i),n.elementType=Qe,n.lanes=a,n.stateNode={isHidden:!1},n}function _h(n,i,a){return n=Gn(6,n,null,i),n.lanes=a,n}function vh(n,i,a){return i=Gn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function zv(n,i,a,c,f){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ei(0),this.expirationTimes=Ei(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Eh(n,i,a,c,f,m,v,A,D){return n=new zv(n,i,a,A,D),i===1?(i=1,m===!0&&(i|=8)):i=0,m=Gn(3,null,null,i),n.current=m,m.stateNode=n,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nc(m),n}function jv(n,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ce,key:c==null?null:""+c,children:n,containerInfo:i,implementation:a}}function um(n){if(!n)return xi;n=n._reactInternals;e:{if(Be(n)!==n||n.tag!==1)throw Error(t(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Sn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Sn(a))return Fd(n,a,i)}return i}function cm(n,i,a,c,f,m,v,A,D){return n=Eh(a,c,!0,n,f,m,v,A,D),n.context=um(null),a=n.current,c=gn(),f=Fi(a),m=ni(c,f),m.callback=i??null,Ni(a,m,f),n.current.lanes=f,wi(n,f,c),An(n,c),n}function Gl(n,i,a,c){var f=i.current,m=gn(),v=Fi(f);return a=um(a),i.context===null?i.context=a:i.pendingContext=a,i=ni(m,v),i.payload={element:n},c=c===void 0?null:c,c!==null&&(i.callback=c),n=Ni(f,i,v),n!==null&&(mr(n,f,v,m),Al(n,f,v)),v}function Yl(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function hm(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function wh(n,i){hm(n,i),(n=n.alternate)&&hm(n,i)}var fm=typeof reportError=="function"?reportError:function(n){console.error(n)};function Th(n){this._internalRoot=n}Xl.prototype.render=Th.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(t(409));Gl(n,i,null,null)},Xl.prototype.unmount=Th.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Es(function(){Gl(null,n,null,null)}),i[Xr]=null}};function Xl(n){this._internalRoot=n}Xl.prototype.unstable_scheduleHydration=function(n){if(n){var i=Xa();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Rr.length&&i!==0&&i<Rr[a].priority;a++);Rr.splice(a,0,n),a===0&&el(n)}};function Sh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Jl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function dm(){}function Bv(n,i,a,c,f){if(f){if(typeof c=="function"){var m=c;c=function(){var W=Yl(v);m.call(W)}}var v=cm(i,c,n,0,null,!1,!1,"",dm);return n._reactRootContainer=v,n[Xr]=v.current,Yo(n.nodeType===8?n.parentNode:n),Es(),v}for(;f=n.lastChild;)n.removeChild(f);if(typeof c=="function"){var A=c;c=function(){var W=Yl(D);A.call(W)}}var D=Eh(n,0,!1,null,null,!1,!1,"",dm);return n._reactRootContainer=D,n[Xr]=D.current,Yo(n.nodeType===8?n.parentNode:n),Es(function(){Gl(i,D,a,c)}),D}function Zl(n,i,a,c,f){var m=a._reactRootContainer;if(m){var v=m;if(typeof f=="function"){var A=f;f=function(){var D=Yl(v);A.call(D)}}Gl(i,v,n,f)}else v=Bv(a,i,n,f,c);return Yl(v)}Ga=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var a=vi(i.pendingLanes);a!==0&&(Ti(i,a|1),An(i,st()),!(tt&6)&&(mo=st()+500,Di()))}break;case 13:Es(function(){var c=ti(n,1);if(c!==null){var f=gn();mr(c,n,1,f)}}),wh(n,1)}},Us=function(n){if(n.tag===13){var i=ti(n,134217728);if(i!==null){var a=gn();mr(i,n,134217728,a)}wh(n,134217728)}},Ya=function(n){if(n.tag===13){var i=Fi(n),a=ti(n,i);if(a!==null){var c=gn();mr(a,n,i,c)}wh(n,i)}},Xa=function(){return $e},Ja=function(n,i){var a=$e;try{return $e=n,i()}finally{$e=a}},Br=function(n,i,a){switch(i){case"input":if(ns(n,a),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==n&&c.form===n.form){var f=gl(c);if(!f)throw Error(t(90));hi(c),ns(c,f)}}}break;case"textarea":vr(n,a);break;case"select":i=a.value,i!=null&&qt(n,!!a.multiple,i,!1)}},$r=ph,V=Es;var $v={usingClientEntryPoint:!1,Events:[Zo,to,gl,fn,ss,ph]},da={findFiberByHostInstance:fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qv={bundleType:da.bundleType,version:da.version,rendererPackageName:da.rendererPackageName,rendererConfig:da.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pe.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=nr(n),n===null?null:n.stateNode},findFiberByHostInstance:da.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eu.isDisabled&&eu.supportsFiber)try{vn=eu.inject(qv),rn=eu}catch{}}return Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$v,Cn.createPortal=function(n,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sh(i))throw Error(t(200));return jv(n,i,null,a)},Cn.createRoot=function(n,i){if(!Sh(n))throw Error(t(299));var a=!1,c="",f=fm;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),i=Eh(n,1,!1,null,null,a,!1,c,f),n[Xr]=i.current,Yo(n.nodeType===8?n.parentNode:n),new Th(i)},Cn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=nr(i),n=n===null?null:n.stateNode,n},Cn.flushSync=function(n){return Es(n)},Cn.hydrate=function(n,i,a){if(!Jl(i))throw Error(t(200));return Zl(null,n,i,!0,a)},Cn.hydrateRoot=function(n,i,a){if(!Sh(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,f=!1,m="",v=fm;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),i=cm(i,null,n,1,a??null,f,!1,m,v),n[Xr]=i.current,Yo(n),c)for(n=0;n<c.length;n++)a=c[n],f=a._getVersion,f=f(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,f]:i.mutableSourceEagerHydrationData.push(a,f);return new Xl(i)},Cn.render=function(n,i,a){if(!Jl(i))throw Error(t(200));return Zl(null,n,i,!1,a)},Cn.unmountComponentAtNode=function(n){if(!Jl(n))throw Error(t(40));return n._reactRootContainer?(Es(function(){Zl(null,null,n,!1,function(){n._reactRootContainer=null,n[Xr]=null})}),!0):!1},Cn.unstable_batchedUpdates=ph,Cn.unstable_renderSubtreeIntoContainer=function(n,i,a,c){if(!Jl(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Zl(n,i,a,!1,c)},Cn.version="18.3.1-next-f1338f8080-20240426",Cn}var wm;function $g(){if(wm)return Ah.exports;wm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Ah.exports=Jv(),Ah.exports}var Tm;function Zv(){if(Tm)return tu;Tm=1;var r=$g();return tu.createRoot=r.createRoot,tu.hydrateRoot=r.hydrateRoot,tu}var eE=Zv();const tE=Bg(eE);var Sm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},nE=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],h=r[t++],d=r[t++],g=((o&7)<<18|(l&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const l=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},Hg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const l=r[o],h=o+1<r.length,d=h?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=l>>2,I=(l&3)<<4|d>>4;let T=(d&15)<<2|y>>6,C=y&63;g||(C=64,h||(T=64)),s.push(t[E],t[I],t[T],t[C])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(qg(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):nE(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],d=o<r.length?t[r.charAt(o)]:0;++o;const y=o<r.length?t[r.charAt(o)]:64;++o;const I=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||d==null||y==null||I==null)throw new rE;const T=l<<2|d>>4;if(s.push(T),y!==64){const C=d<<4&240|y>>2;if(s.push(C),I!==64){const M=y<<6&192|I;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class rE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iE=function(r){const e=qg(r);return Hg.encodeByteArray(e,!0)},_u=function(r){return iE(r).replace(/\./g,"")},sE=function(r){try{return Hg.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=()=>oE().__FIREBASE_DEFAULTS__,lE=()=>{if(typeof process>"u"||typeof Sm>"u")return;const r=Sm.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},uE=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&sE(r[1]);return e&&JSON.parse(e)},mf=()=>{try{return aE()||lE()||uE()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},cE=r=>{var e,t;return(t=(e=mf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},hE=r=>{const e=cE(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Wg=()=>{var r;return(r=mf())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fE=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[_u(JSON.stringify(t)),_u(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mE(){var r;const e=(r=mf())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gE(){return!mE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yE(){try{return typeof indexedDB=="object"}catch{return!1}}function _E(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="FirebaseError";class Do extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=vE,Object.setPrototypeOf(this,Do.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qg.prototype.create)}}class Qg{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?EE(l,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new Do(o,d,s)}}function EE(r,e){return r.replace(wE,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const wE=/\{\$([^}]+)}/g;function jh(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=r[o],h=e[o];if(Im(l)&&Im(h)){if(!jh(l,h))return!1}else if(l!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Im(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(r){return r&&r._delegate?r._delegate:r}class Pa{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new fE;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IE(e))try{this.getOrInitializeService({instanceIdentifier:Is})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=Is){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Is){return this.instances.has(e)}getOptions(e=Is){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:SE(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Is){return this.component?this.component.multipleInstances?e:Is:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SE(r){return r===Is?void 0:r}function IE(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new TE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Xe||(Xe={}));const AE={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},CE=Xe.INFO,PE={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},kE=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=PE[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kg{constructor(e){this.name=e,this._logLevel=CE,this._logHandler=kE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const xE=(r,e)=>e.some(t=>r instanceof t);let Rm,Am;function DE(){return Rm||(Rm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VE(){return Am||(Am=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Gg=new WeakMap,Bh=new WeakMap,Yg=new WeakMap,kh=new WeakMap,gf=new WeakMap;function NE(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",h)},l=()=>{t(qi(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&Gg.set(t,r)}).catch(()=>{}),gf.set(e,r),e}function LE(r){if(Bh.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",h),r.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",h),r.addEventListener("abort",h)});Bh.set(r,e)}let $h={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Bh.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Yg.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return qi(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function ME(r){$h=r($h)}function OE(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(xh(this),e,...t);return Yg.set(s,e.sort?e.sort():[e]),qi(s)}:VE().includes(r)?function(...e){return r.apply(xh(this),e),qi(Gg.get(this))}:function(...e){return qi(r.apply(xh(this),e))}}function FE(r){return typeof r=="function"?OE(r):(r instanceof IDBTransaction&&LE(r),xE(r,DE())?new Proxy(r,$h):r)}function qi(r){if(r instanceof IDBRequest)return NE(r);if(kh.has(r))return kh.get(r);const e=FE(r);return e!==r&&(kh.set(r,e),gf.set(e,r)),e}const xh=r=>gf.get(r);function bE(r,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const h=indexedDB.open(r,e),d=qi(h);return s&&h.addEventListener("upgradeneeded",g=>{s(qi(h.result),g.oldVersion,g.newVersion,qi(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),d.then(g=>{l&&g.addEventListener("close",()=>l()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const UE=["get","getKey","getAll","getAllKeys","count"],zE=["put","add","delete","clear"],Dh=new Map;function Cm(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Dh.get(e))return Dh.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=zE.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||UE.includes(t)))return;const l=async function(h,...d){const g=this.transaction(h,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),o&&g.done]))[0]};return Dh.set(e,l),l}ME(r=>({...r,get:(e,t,s)=>Cm(e,t)||r.get(e,t,s),has:(e,t)=>!!Cm(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(BE(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function BE(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qh="@firebase/app",Pm="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai=new Kg("@firebase/app"),$E="@firebase/app-compat",qE="@firebase/analytics-compat",HE="@firebase/analytics",WE="@firebase/app-check-compat",QE="@firebase/app-check",KE="@firebase/auth",GE="@firebase/auth-compat",YE="@firebase/database",XE="@firebase/data-connect",JE="@firebase/database-compat",ZE="@firebase/functions",ew="@firebase/functions-compat",tw="@firebase/installations",nw="@firebase/installations-compat",rw="@firebase/messaging",iw="@firebase/messaging-compat",sw="@firebase/performance",ow="@firebase/performance-compat",aw="@firebase/remote-config",lw="@firebase/remote-config-compat",uw="@firebase/storage",cw="@firebase/storage-compat",hw="@firebase/firestore",fw="@firebase/vertexai",dw="@firebase/firestore-compat",pw="firebase",mw="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh="[DEFAULT]",gw={[qh]:"fire-core",[$E]:"fire-core-compat",[HE]:"fire-analytics",[qE]:"fire-analytics-compat",[QE]:"fire-app-check",[WE]:"fire-app-check-compat",[KE]:"fire-auth",[GE]:"fire-auth-compat",[YE]:"fire-rtdb",[XE]:"fire-data-connect",[JE]:"fire-rtdb-compat",[ZE]:"fire-fn",[ew]:"fire-fn-compat",[tw]:"fire-iid",[nw]:"fire-iid-compat",[rw]:"fire-fcm",[iw]:"fire-fcm-compat",[sw]:"fire-perf",[ow]:"fire-perf-compat",[aw]:"fire-rc",[lw]:"fire-rc-compat",[uw]:"fire-gcs",[cw]:"fire-gcs-compat",[hw]:"fire-fst",[dw]:"fire-fst-compat",[fw]:"fire-vertex","fire-js":"fire-js",[pw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=new Map,yw=new Map,Wh=new Map;function km(r,e){try{r.container.addComponent(e)}catch(t){ai.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Eu(r){const e=r.name;if(Wh.has(e))return ai.debug(`There were multiple attempts to register component ${e}.`),!1;Wh.set(e,r);for(const t of vu.values())km(t,r);for(const t of yw.values())km(t,r);return!0}function _w(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hi=new Qg("app","Firebase",vw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Pa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=mw;function Xg(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Hh,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Hi.create("bad-app-name",{appName:String(o)});if(t||(t=Wg()),!t)throw Hi.create("no-options");const l=vu.get(o);if(l){if(jh(t,l.options)&&jh(s,l.config))return l;throw Hi.create("duplicate-app",{appName:o})}const h=new RE(o);for(const g of Wh.values())h.addComponent(g);const d=new Ew(t,s,h);return vu.set(o,d),d}function Tw(r=Hh){const e=vu.get(r);if(!e&&r===Hh&&Wg())return Xg();if(!e)throw Hi.create("no-app",{appName:r});return e}function To(r,e,t){var s;let o=(s=gw[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ai.warn(d.join(" "));return}Eu(new Pa(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="firebase-heartbeat-database",Iw=1,ka="firebase-heartbeat-store";let Vh=null;function Jg(){return Vh||(Vh=bE(Sw,Iw,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ka)}catch(t){console.warn(t)}}}}).catch(r=>{throw Hi.create("idb-open",{originalErrorMessage:r.message})})),Vh}async function Rw(r){try{const t=(await Jg()).transaction(ka),s=await t.objectStore(ka).get(Zg(r));return await t.done,s}catch(e){if(e instanceof Do)ai.warn(e.message);else{const t=Hi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ai.warn(t.message)}}}async function xm(r,e){try{const s=(await Jg()).transaction(ka,"readwrite");await s.objectStore(ka).put(e,Zg(r)),await s.done}catch(t){if(t instanceof Do)ai.warn(t.message);else{const s=Hi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ai.warn(s.message)}}}function Zg(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=1024,Cw=30*24*60*60*1e3;class Pw{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new xw(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Dm();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const d=new Date(h.date).valueOf();return Date.now()-d<=Cw}),this._storage.overwrite(this._heartbeatsCache))}catch(s){ai.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Dm(),{heartbeatsToSend:s,unsentEntries:o}=kw(this._heartbeatsCache.heartbeats),l=_u(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ai.warn(t),""}}}function Dm(){return new Date().toISOString().substring(0,10)}function kw(r,e=Aw){const t=[];let s=r.slice();for(const o of r){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),Vm(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Vm(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class xw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yE()?_E().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Rw(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return xm(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return xm(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Vm(r){return _u(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(r){Eu(new Pa("platform-logger",e=>new jE(e),"PRIVATE")),Eu(new Pa("heartbeat",e=>new Pw(e),"PRIVATE")),To(qh,Pm,r),To(qh,Pm,"esm2017"),To("fire-js","")}Dw("");var Nm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ps,ey;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,S){function R(){}R.prototype=S.prototype,k.D=S.prototype,k.prototype=new R,k.prototype.constructor=k,k.C=function(x,N,b){for(var P=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)P[ct-2]=arguments[ct];return S.prototype[N].apply(x,P)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,S,R){R||(R=0);var x=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)x[N]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(N=0;16>N;++N)x[N]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=k.g[0],R=k.g[1],N=k.g[2];var b=k.g[3],P=S+(b^R&(N^b))+x[0]+3614090360&4294967295;S=R+(P<<7&4294967295|P>>>25),P=b+(N^S&(R^N))+x[1]+3905402710&4294967295,b=S+(P<<12&4294967295|P>>>20),P=N+(R^b&(S^R))+x[2]+606105819&4294967295,N=b+(P<<17&4294967295|P>>>15),P=R+(S^N&(b^S))+x[3]+3250441966&4294967295,R=N+(P<<22&4294967295|P>>>10),P=S+(b^R&(N^b))+x[4]+4118548399&4294967295,S=R+(P<<7&4294967295|P>>>25),P=b+(N^S&(R^N))+x[5]+1200080426&4294967295,b=S+(P<<12&4294967295|P>>>20),P=N+(R^b&(S^R))+x[6]+2821735955&4294967295,N=b+(P<<17&4294967295|P>>>15),P=R+(S^N&(b^S))+x[7]+4249261313&4294967295,R=N+(P<<22&4294967295|P>>>10),P=S+(b^R&(N^b))+x[8]+1770035416&4294967295,S=R+(P<<7&4294967295|P>>>25),P=b+(N^S&(R^N))+x[9]+2336552879&4294967295,b=S+(P<<12&4294967295|P>>>20),P=N+(R^b&(S^R))+x[10]+4294925233&4294967295,N=b+(P<<17&4294967295|P>>>15),P=R+(S^N&(b^S))+x[11]+2304563134&4294967295,R=N+(P<<22&4294967295|P>>>10),P=S+(b^R&(N^b))+x[12]+1804603682&4294967295,S=R+(P<<7&4294967295|P>>>25),P=b+(N^S&(R^N))+x[13]+4254626195&4294967295,b=S+(P<<12&4294967295|P>>>20),P=N+(R^b&(S^R))+x[14]+2792965006&4294967295,N=b+(P<<17&4294967295|P>>>15),P=R+(S^N&(b^S))+x[15]+1236535329&4294967295,R=N+(P<<22&4294967295|P>>>10),P=S+(N^b&(R^N))+x[1]+4129170786&4294967295,S=R+(P<<5&4294967295|P>>>27),P=b+(R^N&(S^R))+x[6]+3225465664&4294967295,b=S+(P<<9&4294967295|P>>>23),P=N+(S^R&(b^S))+x[11]+643717713&4294967295,N=b+(P<<14&4294967295|P>>>18),P=R+(b^S&(N^b))+x[0]+3921069994&4294967295,R=N+(P<<20&4294967295|P>>>12),P=S+(N^b&(R^N))+x[5]+3593408605&4294967295,S=R+(P<<5&4294967295|P>>>27),P=b+(R^N&(S^R))+x[10]+38016083&4294967295,b=S+(P<<9&4294967295|P>>>23),P=N+(S^R&(b^S))+x[15]+3634488961&4294967295,N=b+(P<<14&4294967295|P>>>18),P=R+(b^S&(N^b))+x[4]+3889429448&4294967295,R=N+(P<<20&4294967295|P>>>12),P=S+(N^b&(R^N))+x[9]+568446438&4294967295,S=R+(P<<5&4294967295|P>>>27),P=b+(R^N&(S^R))+x[14]+3275163606&4294967295,b=S+(P<<9&4294967295|P>>>23),P=N+(S^R&(b^S))+x[3]+4107603335&4294967295,N=b+(P<<14&4294967295|P>>>18),P=R+(b^S&(N^b))+x[8]+1163531501&4294967295,R=N+(P<<20&4294967295|P>>>12),P=S+(N^b&(R^N))+x[13]+2850285829&4294967295,S=R+(P<<5&4294967295|P>>>27),P=b+(R^N&(S^R))+x[2]+4243563512&4294967295,b=S+(P<<9&4294967295|P>>>23),P=N+(S^R&(b^S))+x[7]+1735328473&4294967295,N=b+(P<<14&4294967295|P>>>18),P=R+(b^S&(N^b))+x[12]+2368359562&4294967295,R=N+(P<<20&4294967295|P>>>12),P=S+(R^N^b)+x[5]+4294588738&4294967295,S=R+(P<<4&4294967295|P>>>28),P=b+(S^R^N)+x[8]+2272392833&4294967295,b=S+(P<<11&4294967295|P>>>21),P=N+(b^S^R)+x[11]+1839030562&4294967295,N=b+(P<<16&4294967295|P>>>16),P=R+(N^b^S)+x[14]+4259657740&4294967295,R=N+(P<<23&4294967295|P>>>9),P=S+(R^N^b)+x[1]+2763975236&4294967295,S=R+(P<<4&4294967295|P>>>28),P=b+(S^R^N)+x[4]+1272893353&4294967295,b=S+(P<<11&4294967295|P>>>21),P=N+(b^S^R)+x[7]+4139469664&4294967295,N=b+(P<<16&4294967295|P>>>16),P=R+(N^b^S)+x[10]+3200236656&4294967295,R=N+(P<<23&4294967295|P>>>9),P=S+(R^N^b)+x[13]+681279174&4294967295,S=R+(P<<4&4294967295|P>>>28),P=b+(S^R^N)+x[0]+3936430074&4294967295,b=S+(P<<11&4294967295|P>>>21),P=N+(b^S^R)+x[3]+3572445317&4294967295,N=b+(P<<16&4294967295|P>>>16),P=R+(N^b^S)+x[6]+76029189&4294967295,R=N+(P<<23&4294967295|P>>>9),P=S+(R^N^b)+x[9]+3654602809&4294967295,S=R+(P<<4&4294967295|P>>>28),P=b+(S^R^N)+x[12]+3873151461&4294967295,b=S+(P<<11&4294967295|P>>>21),P=N+(b^S^R)+x[15]+530742520&4294967295,N=b+(P<<16&4294967295|P>>>16),P=R+(N^b^S)+x[2]+3299628645&4294967295,R=N+(P<<23&4294967295|P>>>9),P=S+(N^(R|~b))+x[0]+4096336452&4294967295,S=R+(P<<6&4294967295|P>>>26),P=b+(R^(S|~N))+x[7]+1126891415&4294967295,b=S+(P<<10&4294967295|P>>>22),P=N+(S^(b|~R))+x[14]+2878612391&4294967295,N=b+(P<<15&4294967295|P>>>17),P=R+(b^(N|~S))+x[5]+4237533241&4294967295,R=N+(P<<21&4294967295|P>>>11),P=S+(N^(R|~b))+x[12]+1700485571&4294967295,S=R+(P<<6&4294967295|P>>>26),P=b+(R^(S|~N))+x[3]+2399980690&4294967295,b=S+(P<<10&4294967295|P>>>22),P=N+(S^(b|~R))+x[10]+4293915773&4294967295,N=b+(P<<15&4294967295|P>>>17),P=R+(b^(N|~S))+x[1]+2240044497&4294967295,R=N+(P<<21&4294967295|P>>>11),P=S+(N^(R|~b))+x[8]+1873313359&4294967295,S=R+(P<<6&4294967295|P>>>26),P=b+(R^(S|~N))+x[15]+4264355552&4294967295,b=S+(P<<10&4294967295|P>>>22),P=N+(S^(b|~R))+x[6]+2734768916&4294967295,N=b+(P<<15&4294967295|P>>>17),P=R+(b^(N|~S))+x[13]+1309151649&4294967295,R=N+(P<<21&4294967295|P>>>11),P=S+(N^(R|~b))+x[4]+4149444226&4294967295,S=R+(P<<6&4294967295|P>>>26),P=b+(R^(S|~N))+x[11]+3174756917&4294967295,b=S+(P<<10&4294967295|P>>>22),P=N+(S^(b|~R))+x[2]+718787259&4294967295,N=b+(P<<15&4294967295|P>>>17),P=R+(b^(N|~S))+x[9]+3951481745&4294967295,k.g[0]=k.g[0]+S&4294967295,k.g[1]=k.g[1]+(N+(P<<21&4294967295|P>>>11))&4294967295,k.g[2]=k.g[2]+N&4294967295,k.g[3]=k.g[3]+b&4294967295}s.prototype.u=function(k,S){S===void 0&&(S=k.length);for(var R=S-this.blockSize,x=this.B,N=this.h,b=0;b<S;){if(N==0)for(;b<=R;)o(this,k,b),b+=this.blockSize;if(typeof k=="string"){for(;b<S;)if(x[N++]=k.charCodeAt(b++),N==this.blockSize){o(this,x),N=0;break}}else for(;b<S;)if(x[N++]=k[b++],N==this.blockSize){o(this,x),N=0;break}}this.h=N,this.o+=S},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var S=1;S<k.length-8;++S)k[S]=0;var R=8*this.o;for(S=k.length-8;S<k.length;++S)k[S]=R&255,R/=256;for(this.u(k),k=Array(16),S=R=0;4>S;++S)for(var x=0;32>x;x+=8)k[R++]=this.g[S]>>>x&255;return k};function l(k,S){var R=d;return Object.prototype.hasOwnProperty.call(R,k)?R[k]:R[k]=S(k)}function h(k,S){this.h=S;for(var R=[],x=!0,N=k.length-1;0<=N;N--){var b=k[N]|0;x&&b==S||(R[N]=b,x=!1)}this.g=R}var d={};function g(k){return-128<=k&&128>k?l(k,function(S){return new h([S|0],0>S?-1:0)}):new h([k|0],0>k?-1:0)}function y(k){if(isNaN(k)||!isFinite(k))return I;if(0>k)return U(y(-k));for(var S=[],R=1,x=0;k>=R;x++)S[x]=k/R|0,R*=4294967296;return new h(S,0)}function E(k,S){if(k.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(k.charAt(0)=="-")return U(E(k.substring(1),S));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(S,8)),x=I,N=0;N<k.length;N+=8){var b=Math.min(8,k.length-N),P=parseInt(k.substring(N,N+b),S);8>b?(b=y(Math.pow(S,b)),x=x.j(b).add(y(P))):(x=x.j(R),x=x.add(y(P)))}return x}var I=g(0),T=g(1),C=g(16777216);r=h.prototype,r.m=function(){if($(this))return-U(this).m();for(var k=0,S=1,R=0;R<this.g.length;R++){var x=this.i(R);k+=(0<=x?x:4294967296+x)*S,S*=4294967296}return k},r.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(M(this))return"0";if($(this))return"-"+U(this).toString(k);for(var S=y(Math.pow(k,6)),R=this,x="";;){var N=pe(R,S).g;R=H(R,N.j(S));var b=((0<R.g.length?R.g[0]:R.h)>>>0).toString(k);if(R=N,M(R))return b+x;for(;6>b.length;)b="0"+b;x=b+x}},r.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function M(k){if(k.h!=0)return!1;for(var S=0;S<k.g.length;S++)if(k.g[S]!=0)return!1;return!0}function $(k){return k.h==-1}r.l=function(k){return k=H(this,k),$(k)?-1:M(k)?0:1};function U(k){for(var S=k.g.length,R=[],x=0;x<S;x++)R[x]=~k.g[x];return new h(R,~k.h).add(T)}r.abs=function(){return $(this)?U(this):this},r.add=function(k){for(var S=Math.max(this.g.length,k.g.length),R=[],x=0,N=0;N<=S;N++){var b=x+(this.i(N)&65535)+(k.i(N)&65535),P=(b>>>16)+(this.i(N)>>>16)+(k.i(N)>>>16);x=P>>>16,b&=65535,P&=65535,R[N]=P<<16|b}return new h(R,R[R.length-1]&-2147483648?-1:0)};function H(k,S){return k.add(U(S))}r.j=function(k){if(M(this)||M(k))return I;if($(this))return $(k)?U(this).j(U(k)):U(U(this).j(k));if($(k))return U(this.j(U(k)));if(0>this.l(C)&&0>k.l(C))return y(this.m()*k.m());for(var S=this.g.length+k.g.length,R=[],x=0;x<2*S;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var N=0;N<k.g.length;N++){var b=this.i(x)>>>16,P=this.i(x)&65535,ct=k.i(N)>>>16,We=k.i(N)&65535;R[2*x+2*N]+=P*We,ee(R,2*x+2*N),R[2*x+2*N+1]+=b*We,ee(R,2*x+2*N+1),R[2*x+2*N+1]+=P*ct,ee(R,2*x+2*N+1),R[2*x+2*N+2]+=b*ct,ee(R,2*x+2*N+2)}for(x=0;x<S;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=S;x<2*S;x++)R[x]=0;return new h(R,0)};function ee(k,S){for(;(k[S]&65535)!=k[S];)k[S+1]+=k[S]>>>16,k[S]&=65535,S++}function ie(k,S){this.g=k,this.h=S}function pe(k,S){if(M(S))throw Error("division by zero");if(M(k))return new ie(I,I);if($(k))return S=pe(U(k),S),new ie(U(S.g),U(S.h));if($(S))return S=pe(k,U(S)),new ie(U(S.g),S.h);if(30<k.g.length){if($(k)||$(S))throw Error("slowDivide_ only works with positive integers.");for(var R=T,x=S;0>=x.l(k);)R=z(R),x=z(x);var N=ce(R,1),b=ce(x,1);for(x=ce(x,2),R=ce(R,2);!M(x);){var P=b.add(x);0>=P.l(k)&&(N=N.add(R),b=P),x=ce(x,1),R=ce(R,1)}return S=H(k,N.j(S)),new ie(N,S)}for(N=I;0<=k.l(S);){for(R=Math.max(1,Math.floor(k.m()/S.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),b=y(R),P=b.j(S);$(P)||0<P.l(k);)R-=x,b=y(R),P=b.j(S);M(b)&&(b=T),N=N.add(b),k=H(k,P)}return new ie(N,k)}r.A=function(k){return pe(this,k).h},r.and=function(k){for(var S=Math.max(this.g.length,k.g.length),R=[],x=0;x<S;x++)R[x]=this.i(x)&k.i(x);return new h(R,this.h&k.h)},r.or=function(k){for(var S=Math.max(this.g.length,k.g.length),R=[],x=0;x<S;x++)R[x]=this.i(x)|k.i(x);return new h(R,this.h|k.h)},r.xor=function(k){for(var S=Math.max(this.g.length,k.g.length),R=[],x=0;x<S;x++)R[x]=this.i(x)^k.i(x);return new h(R,this.h^k.h)};function z(k){for(var S=k.g.length+1,R=[],x=0;x<S;x++)R[x]=k.i(x)<<1|k.i(x-1)>>>31;return new h(R,k.h)}function ce(k,S){var R=S>>5;S%=32;for(var x=k.g.length-R,N=[],b=0;b<x;b++)N[b]=0<S?k.i(b+R)>>>S|k.i(b+R+1)<<32-S:k.i(b+R);return new h(N,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,ey=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=E,Ps=h}).apply(typeof Nm<"u"?Nm:typeof self<"u"?self:typeof window<"u"?window:{});var nu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ty,va,ny,uu,Qh,ry,iy,sy;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,_){return u==Array.prototype||u==Object.prototype||(u[p]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof nu=="object"&&nu];for(var p=0;p<u.length;++p){var _=u[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(u,p){if(p)e:{var _=s;u=u.split(".");for(var w=0;w<u.length-1;w++){var j=u[w];if(!(j in _))break e;_=_[j]}u=u[u.length-1],w=_[u],p=p(w),p!=w&&p!=null&&e(_,u,{configurable:!0,writable:!0,value:p})}}function l(u,p){u instanceof String&&(u+="");var _=0,w=!1,j={next:function(){if(!w&&_<u.length){var G=_++;return{value:p(G,u[G]),done:!1}}return w=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(u){return u||function(){return l(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function g(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function y(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function E(u,p,_){return u.call.apply(u.bind,arguments)}function I(u,p,_){if(!u)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,w),u.apply(p,j)}}return function(){return u.apply(p,arguments)}}function T(u,p,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:I,T.apply(null,arguments)}function C(u,p){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function M(u,p){function _(){}_.prototype=p.prototype,u.aa=p.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(w,j,G){for(var le=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)le[lt-2]=arguments[lt];return p.prototype[j].apply(w,le)}}function $(u){const p=u.length;if(0<p){const _=Array(p);for(let w=0;w<p;w++)_[w]=u[w];return _}return[]}function U(u,p){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(g(w)){const j=u.length||0,G=w.length||0;u.length=j+G;for(let le=0;le<G;le++)u[j+le]=w[le]}else u.push(w)}}class H{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function ee(u){return/^[\s\xa0]*$/.test(u)}function ie(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function pe(u){return pe[" "](u),u}pe[" "]=function(){};var z=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function ce(u,p,_){for(const w in u)p.call(_,u[w],w,u)}function k(u,p){for(const _ in u)p.call(void 0,u[_],_,u)}function S(u){const p={};for(const _ in u)p[_]=u[_];return p}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(u,p){let _,w;for(let j=1;j<arguments.length;j++){w=arguments[j];for(_ in w)u[_]=w[_];for(let G=0;G<R.length;G++)_=R[G],Object.prototype.hasOwnProperty.call(w,_)&&(u[_]=w[_])}}function N(u){var p=1;u=u.split(":");const _=[];for(;0<p&&u.length;)_.push(u.shift()),p--;return u.length&&_.push(u.join(":")),_}function b(u){d.setTimeout(()=>{throw u},0)}function P(){var u=Te;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class ct{constructor(){this.h=this.g=null}add(p,_){const w=We.get();w.set(p,_),this.h?this.h.next=w:this.g=w,this.h=w}}var We=new H(()=>new At,u=>u.reset());class At{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Qe,oe=!1,Te=new ct,ue=()=>{const u=d.Promise.resolve(void 0);Qe=()=>{u.then(O)}};var O=()=>{for(var u;u=P();){try{u.h.call(u.g)}catch(_){b(_)}var p=We;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}oe=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ee(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}Ee.prototype.h=function(){this.defaultPrevented=!0};var Me=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,p),d.removeEventListener("test",_,p)}catch{}return u}();function Ne(u,p){if(Ee.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(z){e:{try{pe(p.nodeName);var j=!0;break e}catch{}j=!1}j||(p=null)}}else _=="mouseover"?p=u.fromElement:_=="mouseout"&&(p=u.toElement);this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ze[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ne.aa.h.call(this)}}M(Ne,Ee);var ze={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Je="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function Fe(u,p,_,w,j){this.listener=u,this.proxy=null,this.src=p,this.type=_,this.capture=!!w,this.ha=j,this.key=++Ze,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function jn(u){this.src=u,this.g={},this.h=0}jn.prototype.add=function(u,p,_,w,j){var G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);var le=tn(u,p,w,j);return-1<le?(p=u[le],_||(p.fa=!1)):(p=new Fe(p,this.src,G,!!w,j),p.fa=_,u.push(p)),p};function hi(u,p){var _=p.type;if(_ in u.g){var w=u.g[_],j=Array.prototype.indexOf.call(w,p,void 0),G;(G=0<=j)&&Array.prototype.splice.call(w,j,1),G&&(ft(p),u.g[_].length==0&&(delete u.g[_],u.h--))}}function tn(u,p,_,w){for(var j=0;j<u.length;++j){var G=u[j];if(!G.da&&G.listener==p&&G.capture==!!_&&G.ha==w)return j}return-1}var zr="closure_lm_"+(1e6*Math.random()|0),fi={};function di(u,p,_,w,j){if(Array.isArray(p)){for(var G=0;G<p.length;G++)di(u,p[G],_,w,j);return null}return _=yn(_),u&&u[Je]?u.K(p,_,y(w)?!!w.capture:!1,j):ns(u,p,_,!1,w,j)}function ns(u,p,_,w,j,G){if(!p)throw Error("Invalid event type");var le=y(j)?!!j.capture:!!j,lt=jr(u);if(lt||(u[zr]=lt=new jn(u)),_=lt.add(p,_,w,le,G),_.proxy)return _;if(w=Ms(),_.proxy=w,w.src=u,w.listener=_,u.addEventListener)Me||(j=le),j===void 0&&(j=!1),u.addEventListener(p.toString(),w,j);else if(u.attachEvent)u.attachEvent(qt(p.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ms(){function u(_){return p.call(u.src,u.listener,_)}const p=Jn;return u}function pi(u,p,_,w,j){if(Array.isArray(p))for(var G=0;G<p.length;G++)pi(u,p[G],_,w,j);else w=y(w)?!!w.capture:!!w,_=yn(_),u&&u[Je]?(u=u.i,p=String(p).toString(),p in u.g&&(G=u.g[p],_=tn(G,_,w,j),-1<_&&(ft(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete u.g[p],u.h--)))):u&&(u=jr(u))&&(p=u.g[p.toString()],u=-1,p&&(u=tn(p,_,w,j)),(_=-1<u?p[u]:null)&&Xn(_))}function Xn(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Je])hi(p.i,u);else{var _=u.type,w=u.proxy;p.removeEventListener?p.removeEventListener(_,w,u.capture):p.detachEvent?p.detachEvent(qt(_),w):p.addListener&&p.removeListener&&p.removeListener(w),(_=jr(p))?(hi(_,u),_.h==0&&(_.src=null,p[zr]=null)):ft(u)}}}function qt(u){return u in fi?fi[u]:fi[u]="on"+u}function Jn(u,p){if(u.da)u=!0;else{p=new Ne(p,this);var _=u.listener,w=u.ha||u.src;u.fa&&Xn(u),u=_.call(w,p)}return u}function jr(u){return u=u[zr],u instanceof jn?u:null}var vr="__closure_events_fn_"+(1e9*Math.random()>>>0);function yn(u){return typeof u=="function"?u:(u[vr]||(u[vr]=function(p){return u.handleEvent(p)}),u[vr])}function at(){Y.call(this),this.i=new jn(this),this.M=this,this.F=null}M(at,Y),at.prototype[Je]=!0,at.prototype.removeEventListener=function(u,p,_,w){pi(this,u,p,_,w)};function St(u,p){var _,w=u.F;if(w)for(_=[];w;w=w.F)_.push(w);if(u=u.M,w=p.type||p,typeof p=="string")p=new Ee(p,u);else if(p instanceof Ee)p.target=p.target||u;else{var j=p;p=new Ee(w,u),x(p,j)}if(j=!0,_)for(var G=_.length-1;0<=G;G--){var le=p.g=_[G];j=Dn(le,w,!0,p)&&j}if(le=p.g=u,j=Dn(le,w,!0,p)&&j,j=Dn(le,w,!1,p)&&j,_)for(G=0;G<_.length;G++)le=p.g=_[G],j=Dn(le,w,!1,p)&&j}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var _=u.g[p],w=0;w<_.length;w++)ft(_[w]);delete u.g[p],u.h--}}this.F=null},at.prototype.K=function(u,p,_,w){return this.i.add(String(u),p,!1,_,w)},at.prototype.L=function(u,p,_,w){return this.i.add(String(u),p,!0,_,w)};function Dn(u,p,_,w){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var j=!0,G=0;G<p.length;++G){var le=p[G];if(le&&!le.da&&le.capture==_){var lt=le.listener,Nt=le.ha||le.src;le.fa&&hi(u.i,le),j=lt.call(Nt,w)!==!1&&j}}return j&&!w.defaultPrevented}function rs(u,p,_){if(typeof u=="function")_&&(u=T(u,_));else if(u&&typeof u.handleEvent=="function")u=T(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:d.setTimeout(u,p||0)}function Ht(u){u.g=rs(()=>{u.g=null,u.i&&(u.i=!1,Ht(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Er extends Y{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Ht(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wr(u){Y.call(this),this.h=u,this.g={}}M(wr,Y);var mi=[];function is(u){ce(u.g,function(p,_){this.g.hasOwnProperty(_)&&Xn(p)},u),u.g={}}wr.prototype.N=function(){wr.aa.N.call(this),is(this)},wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gi=d.JSON.stringify,Tr=d.JSON.parse,yi=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Zn(){}Zn.prototype.h=null;function _i(u){return u.h||(u.h=u.i())}function Br(){}var _n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vn(){Ee.call(this,"d")}M(Vn,Ee);function er(){Ee.call(this,"c")}M(er,Ee);var fn={},ss=null;function $r(){return ss=ss||new at}fn.La="serverreachability";function V(u){Ee.call(this,fn.La,u)}M(V,Ee);function F(u){const p=$r();St(p,new V(p))}fn.STAT_EVENT="statevent";function K(u,p){Ee.call(this,fn.STAT_EVENT,u),this.stat=p}M(K,Ee);function X(u){const p=$r();St(p,new K(p,u))}fn.Ma="timingevent";function he(u,p){Ee.call(this,fn.Ma,u),this.size=p}M(he,Ee);function ye(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},p)}function Ae(){this.g=!0}Ae.prototype.xa=function(){this.g=!1};function fe(u,p,_,w,j,G){u.info(function(){if(u.g)if(G)for(var le="",lt=G.split("&"),Nt=0;Nt<lt.length;Nt++){var Ge=lt[Nt].split("=");if(1<Ge.length){var bt=Ge[0];Ge=Ge[1];var kt=bt.split("_");le=2<=kt.length&&kt[1]=="type"?le+(bt+"="+Ge+"&"):le+(bt+"=redacted&")}}else le=null;else le=G;return"XMLHTTP REQ ("+w+") [attempt "+j+"]: "+p+`
`+_+`
`+le})}function ve(u,p,_,w,j,G,le){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+j+"]: "+p+`
`+_+`
`+G+" "+le})}function ae(u,p,_,w){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+be(u,_)+(w?" "+w:"")})}function xe(u,p){u.info(function(){return"TIMEOUT: "+p})}Ae.prototype.info=function(){};function be(u,p){if(!u.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var w=_[u];if(!(2>w.length)){var j=w[1];if(Array.isArray(j)&&!(1>j.length)){var G=j[0];if(G!="noop"&&G!="stop"&&G!="close")for(var le=1;le<j.length;le++)j[le]=""}}}}return gi(_)}catch{return p}}var rt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},It={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Be;function et(){}M(et,Zn),et.prototype.g=function(){return new XMLHttpRequest},et.prototype.i=function(){return{}},Be=new et;function it(u,p,_,w){this.j=u,this.i=p,this.l=_,this.R=w||1,this.U=new wr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tr}function tr(){this.i=null,this.g="",this.h=!1}var nr={},nn={};function Wt(u,p,_){u.L=1,u.v=Ti(Nn(p)),u.m=_,u.P=!0,qr(u,null)}function qr(u,p){u.F=Date.now(),st(u),u.A=Nn(u.v);var _=u.A,w=u.R;Array.isArray(w)||(w=[String(w)]),Ii(_.i,"t",w),u.C=0,_=u.j.J,u.h=new tr,u.g=ol(u.j,_?p:null,!u.m),0<u.O&&(u.M=new Er(T(u.Y,u,u.g),u.O)),p=u.U,_=u.g,w=u.ca;var j="readystatechange";Array.isArray(j)||(j&&(mi[0]=j.toString()),j=mi);for(var G=0;G<j.length;G++){var le=di(_,j[G],w||p.handleEvent,!1,p.h||p);if(!le)break;p.g[le.key]=le}p=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),F(),fe(u.i,u.u,u.A,u.l,u.R,u.m)}it.prototype.ca=function(u){u=u.target;const p=this.M;p&&wn(u)==3?p.j():this.Y(u)},it.prototype.Y=function(u){try{if(u==this.g)e:{const kt=wn(this.g);var p=this.g.Ba();const $n=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||jo(this.g)))){this.J||kt!=4||p==7||(p==8||0>=$n?F(3):F(2)),Ke(this);var _=this.g.Z();this.X=_;t:if(Sr(this)){var w=jo(this.g);u="";var j=w.length,G=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qt(this),dt(this);var le="";break t}this.h.i=new d.TextDecoder}for(p=0;p<j;p++)this.h.h=!0,u+=this.h.i.decode(w[p],{stream:!(G&&p==j-1)});w.length=0,this.h.g+=u,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=_==200,ve(this.i,this.u,this.A,this.l,this.R,kt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var lt,Nt=this.g;if((lt=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(lt)){var Ge=lt;break t}}Ge=null}if(_=Ge)ae(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ir(this,_);else{this.o=!1,this.s=3,X(12),Qt(this),dt(this);break e}}if(this.P){_=!0;let Mn;for(;!this.J&&this.C<le.length;)if(Mn=rr(this,le),Mn==nn){kt==4&&(this.s=4,X(14),_=!1),ae(this.i,this.l,null,"[Incomplete Response]");break}else if(Mn==nr){this.s=4,X(15),ae(this.i,this.l,le,"[Invalid Chunk]"),_=!1;break}else ae(this.i,this.l,Mn,null),ir(this,Mn);if(Sr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||le.length!=0||this.h.h||(this.s=1,X(16),_=!1),this.o=this.o&&_,!_)ae(this.i,this.l,le,"[Invalid Chunked Response]"),Qt(this),dt(this);else if(0<le.length&&!this.W){this.W=!0;var bt=this.j;bt.g==this&&bt.ba&&!bt.M&&(bt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),$o(bt),bt.M=!0,X(11))}}else ae(this.i,this.l,le,null),ir(this,le);kt==4&&Qt(this),this.o&&!this.J&&(kt==4?Qs(this.j,this):(this.o=!1,st(this)))}else Bs(this.g),_==400&&0<le.indexOf("Unknown SID")?(this.s=3,X(12)):(this.s=0,X(13)),Qt(this),dt(this)}}}catch{}finally{}};function Sr(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function rr(u,p){var _=u.C,w=p.indexOf(`
`,_);return w==-1?nn:(_=Number(p.substring(_,w)),isNaN(_)?nr:(w+=1,w+_>p.length?nn:(p=p.slice(w,w+_),u.C=w+_,p)))}it.prototype.cancel=function(){this.J=!0,Qt(this)};function st(u){u.S=Date.now()+u.I,Hr(u,u.I)}function Hr(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ye(T(u.ba,u),p)}function Ke(u){u.B&&(d.clearTimeout(u.B),u.B=null)}it.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(xe(this.i,this.A),this.L!=2&&(F(),X(17)),Qt(this),this.s=2,dt(this)):Hr(this,this.S-u)};function dt(u){u.j.G==0||u.J||Qs(u.j,u)}function Qt(u){Ke(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,is(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function ir(u,p){try{var _=u.j;if(_.G!=0&&(_.g==u||dn(_.h,u))){if(!u.K&&dn(_.h,u)&&_.G==3){try{var w=_.Da.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var j=w;if(j[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Ws(_),ur(_);else break e;Hs(_),X(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=ye(T(_.Za,_),6e3));if(1>=Os(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Yr(_,11)}else if((u.K||_.g==u)&&Ws(_),!ee(p))for(j=_.Da.g.parse(p),p=0;p<j.length;p++){let Ge=j[p];if(_.T=Ge[0],Ge=Ge[1],_.G==2)if(Ge[0]=="c"){_.K=Ge[1],_.ia=Ge[2];const bt=Ge[3];bt!=null&&(_.la=bt,_.j.info("VER="+_.la));const kt=Ge[4];kt!=null&&(_.Aa=kt,_.j.info("SVER="+_.Aa));const $n=Ge[5];$n!=null&&typeof $n=="number"&&0<$n&&(w=1.5*$n,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const Mn=u.g;if(Mn){const hs=Mn.g?Mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hs){var G=w.h;G.g||hs.indexOf("spdy")==-1&&hs.indexOf("quic")==-1&&hs.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Fo(G,G.h),G.h=null))}if(w.D){const Gs=Mn.g?Mn.g.getResponseHeader("X-HTTP-Session-Id"):null;Gs&&(w.ya=Gs,ut(w.I,w.D,Gs))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var le=u;if(w.qa=sl(w,w.J?w.ia:null,w.W),le.K){Qa(w.h,le);var lt=le,Nt=w.L;Nt&&(lt.I=Nt),lt.B&&(Ke(lt),st(lt)),w.g=le}else cs(w);0<_.i.length&&Cr(_)}else Ge[0]!="stop"&&Ge[0]!="close"||Yr(_,7);else _.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Yr(_,7):Gt(_):Ge[0]!="noop"&&_.l&&_.l.ta(Ge),_.v=0)}}F(4)}catch{}}var pt=class{constructor(u,p){this.g=u,this.map=p}};function vn(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Os(u){return u.h?1:u.g?u.g.size:0}function dn(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Fo(u,p){u.g?u.g.add(p):u.h=p}function Qa(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}vn.prototype.cancel=function(){if(this.i=Ka(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ka(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const _ of u.g.values())p=p.concat(_.D);return p}return $(u.i)}function Fs(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var p=[],_=u.length,w=0;w<_;w++)p.push(u[w]);return p}p=[],_=0;for(w in u)p[_++]=u[w];return p}function bs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var p=[];u=u.length;for(var _=0;_<u;_++)p.push(_);return p}p=[],_=0;for(const w in u)p[_++]=w;return p}}}function vi(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var _=bs(u),w=Fs(u),j=w.length,G=0;G<j;G++)p.call(void 0,w[G],_&&_[G],u)}var os=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ec(u,p){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var w=u[_].indexOf("="),j=null;if(0<=w){var G=u[_].substring(0,w);j=u[_].substring(w+1)}else G=u[_];p(G,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Wr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Wr){this.h=u.h,as(this,u.j),this.o=u.o,this.g=u.g,Ei(this,u.s),this.l=u.l;var p=u.i,_=new Ir;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),wi(this,_),this.m=u.m}else u&&(p=String(u).match(os))?(this.h=!1,as(this,p[1]||"",!0),this.o=$e(p[2]||""),this.g=$e(p[3]||"",!0),Ei(this,p[4]),this.l=$e(p[5]||"",!0),wi(this,p[6]||"",!0),this.m=$e(p[7]||"")):(this.h=!1,this.i=new Ir(null,this.h))}Wr.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Si(p,Us,!0),":");var _=this.g;return(_||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Si(p,Us,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Si(_,_.charAt(0)=="/"?Xa:Ya,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Si(_,bo)),u.join("")};function Nn(u){return new Wr(u)}function as(u,p,_){u.j=_?$e(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Ei(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function wi(u,p,_){p instanceof Ir?(u.i=p,Rr(u.i,u.h)):(_||(p=Si(p,Ja)),u.i=new Ir(p,u.h))}function ut(u,p,_){u.i.set(p,_)}function Ti(u){return ut(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function $e(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Si(u,p,_){return typeof u=="string"?(u=encodeURI(u).replace(p,Ga),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ga(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Us=/[#\/\?@]/g,Ya=/[#\?:]/g,Xa=/[#\?]/g,Ja=/[#\?@]/g,bo=/#/g;function Ir(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Kt(u){u.g||(u.g=new Map,u.h=0,u.i&&ec(u.i,function(p,_){u.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}r=Ir.prototype,r.add=function(u,p){Kt(this),this.i=null,u=Bn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(p),this.h+=1,this};function sr(u,p){Kt(u),p=Bn(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function or(u,p){return Kt(u),p=Bn(u,p),u.g.has(p)}r.forEach=function(u,p){Kt(this),this.g.forEach(function(_,w){_.forEach(function(j){u.call(p,j,w,this)},this)},this)},r.na=function(){Kt(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let w=0;w<p.length;w++){const j=u[w];for(let G=0;G<j.length;G++)_.push(p[w])}return _},r.V=function(u){Kt(this);let p=[];if(typeof u=="string")or(this,u)&&(p=p.concat(this.g.get(Bn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)p=p.concat(u[_])}return p},r.set=function(u,p){return Kt(this),this.i=null,u=Bn(this,u),or(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},r.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function Ii(u,p,_){sr(u,p),0<_.length&&(u.i=null,u.g.set(Bn(u,p),$(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var w=p[_];const G=encodeURIComponent(String(w)),le=this.V(w);for(w=0;w<le.length;w++){var j=G;le[w]!==""&&(j+="="+encodeURIComponent(String(le[w]))),u.push(j)}}return this.i=u.join("&")};function Bn(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Rr(u,p){p&&!u.j&&(Kt(u),u.i=null,u.g.forEach(function(_,w){var j=w.toLowerCase();w!=j&&(sr(this,w),Ii(this,j,_))},u)),u.j=p}function tc(u,p){const _=new Ae;if(d.Image){const w=new Image;w.onload=C(En,_,"TestLoadImage: loaded",!0,p,w),w.onerror=C(En,_,"TestLoadImage: error",!1,p,w),w.onabort=C(En,_,"TestLoadImage: abort",!1,p,w),w.ontimeout=C(En,_,"TestLoadImage: timeout",!1,p,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else p(!1)}function Za(u,p){const _=new Ae,w=new AbortController,j=setTimeout(()=>{w.abort(),En(_,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:w.signal}).then(G=>{clearTimeout(j),G.ok?En(_,"TestPingServer: ok",!0,p):En(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(j),En(_,"TestPingServer: error",!1,p)})}function En(u,p,_,w,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),w(_)}catch{}}function nc(){this.g=new yi}function el(u,p,_){const w=_||"";try{vi(u,function(j,G){let le=j;y(j)&&(le=gi(j)),p.push(w+G+"="+encodeURIComponent(le))})}catch(j){throw p.push(w+"type="+encodeURIComponent("_badmap")),j}}function Qr(u){this.l=u.Ub||null,this.j=u.eb||!1}M(Qr,Zn),Qr.prototype.g=function(){return new ls(this.l,this.j)},Qr.prototype.i=function(u){return function(){return u}}({});function ls(u,p){at.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(ls,at),r=ls.prototype,r.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,lr(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||d).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ar(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,lr(this)),this.g&&(this.readyState=3,lr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function tl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?ar(this):lr(this),this.readyState==3&&tl(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,ar(this))},r.Qa=function(u){this.g&&(this.response=u,ar(this))},r.ga=function(){this.g&&ar(this)};function ar(u){u.readyState=4,u.l=null,u.j=null,u.v=null,lr(u)}r.setRequestHeader=function(u,p){this.u.append(u,p)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=p.next();return u.join(`\r
`)};function lr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ls.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Kr(u){let p="";return ce(u,function(_,w){p+=w,p+=":",p+=_,p+=`\r
`}),p}function Ri(u,p,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=Kr(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):ut(u,p,_))}function _t(u){at.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(_t,at);var rc=/^https?$/i,Uo=["POST","PUT"];r=_t.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,p,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Be.g(),this.v=this.o?_i(this.o):_i(Be),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(G){us(this,G);return}if(u=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var j in w)_.set(j,w[j]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const G of w.keys())_.set(G,w.get(G));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),j=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Uo,p,void 0))||w||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,le]of _)this.g.setRequestHeader(G,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{js(this),this.u=!0,this.g.send(u),this.u=!1}catch(G){us(this,G)}};function us(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,zs(u),Ln(u)}function zs(u){u.A||(u.A=!0,St(u,"complete"),St(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,St(this,"complete"),St(this,"abort"),Ln(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ln(this,!0)),_t.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?zo(this):this.bb())},r.bb=function(){zo(this)};function zo(u){if(u.h&&typeof h<"u"&&(!u.v[1]||wn(u)!=4||u.Z()!=2)){if(u.u&&wn(u)==4)rs(u.Ea,0,u);else if(St(u,"readystatechange"),wn(u)==4){u.h=!1;try{const le=u.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var w;if(w=le===0){var j=String(u.D).match(os)[1]||null;!j&&d.self&&d.self.location&&(j=d.self.location.protocol.slice(0,-1)),w=!rc.test(j?j.toLowerCase():"")}_=w}if(_)St(u,"complete"),St(u,"success");else{u.m=6;try{var G=2<wn(u)?u.g.statusText:""}catch{G=""}u.l=G+" ["+u.Z()+"]",zs(u)}}finally{Ln(u)}}}}function Ln(u,p){if(u.g){js(u);const _=u.g,w=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||St(u,"ready");try{_.onreadystatechange=w}catch{}}}function js(u){u.I&&(d.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function wn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Tr(p)}};function jo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Bs(u){const p={};u=(u.g&&2<=wn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(ee(u[w]))continue;var _=N(u[w]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=p[j]||[];p[j]=G,G.push(_)}k(p,function(w){return w.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ar(u,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||p}function Bo(u){this.Aa=0,this.i=[],this.j=new Ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ar("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ar("baseRetryDelayMs",5e3,u),this.cb=Ar("retryDelaySeedMs",1e4,u),this.Wa=Ar("forwardChannelMaxRetries",2,u),this.wa=Ar("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new vn(u&&u.concurrentRequestLimit),this.Da=new nc,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Bo.prototype,r.la=8,r.G=1,r.connect=function(u,p,_,w){X(0),this.W=u,this.H=p||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=sl(this,null,this.W),Cr(this)};function Gt(u){if($s(u),u.G==3){var p=u.U++,_=Nn(u.I);if(ut(_,"SID",u.K),ut(_,"RID",p),ut(_,"TYPE","terminate"),Gr(u,_),p=new it(u,u.j,p),p.L=2,p.v=Ti(Nn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=p.v,_=!0),_||(p.g=ol(p.j,null),p.g.ea(p.v)),p.F=Date.now(),st(p)}il(u)}function ur(u){u.g&&($o(u),u.g.cancel(),u.g=null)}function $s(u){ur(u),u.u&&(d.clearTimeout(u.u),u.u=null),Ws(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function Cr(u){if(!rn(u.h)&&!u.s){u.s=!0;var p=u.Ga;Qe||ue(),oe||(Qe(),oe=!0),Te.add(p,u),u.B=0}}function ic(u,p){return Os(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ye(T(u.Ga,u,p),rl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const j=new it(this,this.j,u);let G=this.o;if(this.S&&(G?(G=S(G),x(G,this.S)):G=this.S),this.m!==null||this.O||(j.H=G,G=null),this.P)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,4096<p){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=Ai(this,j,p),_=Nn(this.I),ut(_,"RID",u),ut(_,"CVER",22),this.D&&ut(_,"X-HTTP-Session-Id",this.D),Gr(this,_),G&&(this.O?p="headers="+encodeURIComponent(String(Kr(G)))+"&"+p:this.m&&Ri(_,this.m,G)),Fo(this.h,j),this.Ua&&ut(_,"TYPE","init"),this.P?(ut(_,"$req",p),ut(_,"SID","null"),j.T=!0,Wt(j,_,null)):Wt(j,_,p),this.G=2}}else this.G==3&&(u?qs(this,u):this.i.length==0||rn(this.h)||qs(this))};function qs(u,p){var _;p?_=p.l:_=u.U++;const w=Nn(u.I);ut(w,"SID",u.K),ut(w,"RID",_),ut(w,"AID",u.T),Gr(u,w),u.m&&u.o&&Ri(w,u.m,u.o),_=new it(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Ai(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Fo(u.h,_),Wt(_,w,p)}function Gr(u,p){u.H&&ce(u.H,function(_,w){ut(p,w,_)}),u.l&&vi({},function(_,w){ut(p,w,_)})}function Ai(u,p,_){_=Math.min(u.i.length,_);var w=u.l?T(u.l.Na,u.l,u):null;e:{var j=u.i;let G=-1;for(;;){const le=["count="+_];G==-1?0<_?(G=j[0].g,le.push("ofs="+G)):G=0:le.push("ofs="+G);let lt=!0;for(let Nt=0;Nt<_;Nt++){let Ge=j[Nt].g;const bt=j[Nt].map;if(Ge-=G,0>Ge)G=Math.max(0,j[Nt].g-100),lt=!1;else try{el(bt,le,"req"+Ge+"_")}catch{w&&w(bt)}}if(lt){w=le.join("&");break e}}}return u=u.i.splice(0,_),p.D=u,w}function cs(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;Qe||ue(),oe||(Qe(),oe=!0),Te.add(p,u),u.v=0}}function Hs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ye(T(u.Fa,u),rl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,nl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ye(T(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,X(10),ur(this),nl(this))};function $o(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function nl(u){u.g=new it(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=Nn(u.qa);ut(p,"RID","rpc"),ut(p,"SID",u.K),ut(p,"AID",u.T),ut(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&ut(p,"TO",u.ja),ut(p,"TYPE","xmlhttp"),Gr(u,p),u.m&&u.o&&Ri(p,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Ti(Nn(p)),_.m=null,_.P=!0,qr(_,u)}r.Za=function(){this.C!=null&&(this.C=null,ur(this),Hs(this),X(19))};function Ws(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Qs(u,p){var _=null;if(u.g==p){Ws(u),$o(u),u.g=null;var w=2}else if(dn(u.h,p))_=p.D,Qa(u.h,p),w=1;else return;if(u.G!=0){if(p.o)if(w==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var j=u.B;w=$r(),St(w,new he(w,_)),Cr(u)}else cs(u);else if(j=p.s,j==3||j==0&&0<p.X||!(w==1&&ic(u,p)||w==2&&Hs(u)))switch(_&&0<_.length&&(p=u.h,p.i=p.i.concat(_)),j){case 1:Yr(u,5);break;case 4:Yr(u,10);break;case 3:Yr(u,6);break;default:Yr(u,2)}}}function rl(u,p){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*p}function Yr(u,p){if(u.j.info("Error code "+p),p==2){var _=T(u.fb,u),w=u.Xa;const j=!w;w=new Wr(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||as(w,"https"),Ti(w),j?tc(w.toString(),_):Za(w.toString(),_)}else X(2);u.G=0,u.l&&u.l.sa(p),il(u),$s(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),X(2)):(this.j.info("Failed to ping google.com"),X(1))};function il(u){if(u.G=0,u.ka=[],u.l){const p=Ka(u.h);(p.length!=0||u.i.length!=0)&&(U(u.ka,p),U(u.ka,u.i),u.h.i.length=0,$(u.i),u.i.length=0),u.l.ra()}}function sl(u,p,_){var w=_ instanceof Wr?Nn(_):new Wr(_);if(w.g!="")p&&(w.g=p+"."+w.g),Ei(w,w.s);else{var j=d.location;w=j.protocol,p=p?p+"."+j.hostname:j.hostname,j=+j.port;var G=new Wr(null);w&&as(G,w),p&&(G.g=p),j&&Ei(G,j),_&&(G.l=_),w=G}return _=u.D,p=u.ya,_&&p&&ut(w,_,p),ut(w,"VER",u.la),Gr(u,w),w}function ol(u,p,_){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new _t(new Qr({eb:_})):new _t(u.pa),p.Ha(u.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function qo(){}r=qo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ks(){}Ks.prototype.g=function(u,p){return new pn(u,p)};function pn(u,p){at.call(this),this.g=new Bo(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!ee(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!ee(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Pr(this)}M(pn,at),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Gt(this.g)},pn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=gi(u),u=_);p.i.push(new pt(p.Ya++,u)),p.G==3&&Cr(p)},pn.prototype.N=function(){this.g.l=null,delete this.j,Gt(this.g),delete this.g,pn.aa.N.call(this)};function al(u){Vn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const _ in p){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}M(al,Vn);function ll(){er.call(this),this.status=1}M(ll,er);function Pr(u){this.g=u}M(Pr,qo),Pr.prototype.ua=function(){St(this.g,"a")},Pr.prototype.ta=function(u){St(this.g,new al(u))},Pr.prototype.sa=function(u){St(this.g,new ll)},Pr.prototype.ra=function(){St(this.g,"b")},Ks.prototype.createWebChannel=Ks.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,sy=function(){return new Ks},iy=function(){return $r()},ry=fn,Qh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rt.NO_ERROR=0,rt.TIMEOUT=8,rt.HTTP_ERROR=6,uu=rt,It.COMPLETE="complete",ny=It,Br.EventType=_n,_n.OPEN="a",_n.CLOSE="b",_n.ERROR="c",_n.MESSAGE="d",at.prototype.listen=at.prototype.K,va=Br,_t.prototype.listenOnce=_t.prototype.L,_t.prototype.getLastError=_t.prototype.Ka,_t.prototype.getLastErrorCode=_t.prototype.Ba,_t.prototype.getStatus=_t.prototype.Z,_t.prototype.getResponseJson=_t.prototype.Oa,_t.prototype.getResponseText=_t.prototype.oa,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Ha,ty=_t}).apply(typeof nu<"u"?nu:typeof self<"u"?self:typeof window<"u"?window:{});const Lm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vo="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new Kg("@firebase/firestore");function _o(){return ks.logLevel}function me(r,...e){if(ks.logLevel<=Xe.DEBUG){const t=e.map(yf);ks.debug(`Firestore (${Vo}): ${r}`,...t)}}function li(r,...e){if(ks.logLevel<=Xe.ERROR){const t=e.map(yf);ks.error(`Firestore (${Vo}): ${r}`,...t)}}function Io(r,...e){if(ks.logLevel<=Xe.WARN){const t=e.map(yf);ks.warn(`Firestore (${Vo}): ${r}`,...t)}}function yf(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(r="Unexpected state"){const e=`FIRESTORE (${Vo}) INTERNAL ASSERTION FAILED: `+r;throw li(e),new Error(e)}function ot(r,e){r||Ve()}function Oe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Do{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Vw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(cn.UNAUTHENTICATED))}shutdown(){}}class Nw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Lw{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ot(this.o===void 0);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let l=new si;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new si,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const g=l;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},d=g=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>d(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?d(g):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new si)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ot(typeof s.accessToken=="string"),new oy(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string"),new cn(e)}}class Mw{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Ow{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new Mw(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bw{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){ot(this.o===void 0);const s=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,me("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const o=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ot(typeof t.token=="string"),this.R=t.token,new Fw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=Uw(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%e.length))}return s}}function qe(r,e){return r<e?-1:r>e?1:0}function Ro(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Ot(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ge(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new Ot(0,0))}static max(){return new Le(new Ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ve(),s===void 0?s=e.length-t:s>e.length-t&&Ve(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return xa.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof xa?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=e.get(o),h=t.get(o);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class yt extends xa{construct(e,t,s){return new yt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new yt(t)}static emptyPath(){return new yt([])}}const zw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends xa{construct(e,t,s){return new Zt(e,t,s)}static isValidIdentifier(e){return zw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Zt(["__name__"])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new ge(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ge(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ge(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(l(),o++)}if(l(),h)throw new ge(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(t)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(yt.fromString(e))}static fromName(e){return new Re(yt.fromString(e).popFirst(5))}static empty(){return new Re(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return yt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new yt(e.slice()))}}function jw(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Le.fromTimestamp(s===1e9?new Ot(t+1,0):new Ot(t,s));return new Qi(o,Re.empty(),e)}function Bw(r){return new Qi(r.readTime,r.key,-1)}class Qi{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Qi(Le.min(),Re.empty(),-1)}static max(){return new Qi(Le.max(),Re.empty(),-1)}}function $w(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Re.comparator(r.documentKey,e.documentKey),t!==0?t:qe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Hw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==qw)throw r;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.reject(t)}static resolve(e){return new Z((t,s)=>{t(e)})}static reject(e){return new Z((t,s)=>{s(e)})}static waitFor(e){return new Z((t,s)=>{let o=0,l=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++l,h&&l===o&&t()},g=>s(g))}),h=!0,l===o&&t()})}static or(e){let t=Z.resolve(!1);for(const s of e)t=t.next(o=>o?Z.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,l)=>{s.push(t.call(this,o,l))}),this.waitFor(s)}static mapArray(e,t){return new Z((s,o)=>{const l=e.length,h=new Array(l);let d=0;for(let g=0;g<l;g++){const y=g;t(e[y]).next(E=>{h[y]=E,++d,d===l&&s(h)},E=>o(E))}})}static doWhile(e,t){return new Z((s,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):s()};l()})}}function Ww(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Lo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ie(s),this.se=s=>t.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Ou.oe=-1;function Fu(r){return r==null}function wu(r){return r===0&&1/r==-1/0}function Qw(r){return typeof r=="number"&&Number.isInteger(r)&&!wu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Mm(e)),e=Gw(r.get(t),e);return Mm(e)}function Gw(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function Mm(r){return r+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function es(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function ly(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,t){this.comparator=e,this.root=t||Jt.EMPTY}insert(e,t){return new Tt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ru(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ru(this.root,e,this.comparator,!1)}getReverseIterator(){return new ru(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ru(this.root,e,this.comparator,!0)}}class ru{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??Jt.RED,this.left=o??Jt.EMPTY,this.right=l??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new Jt(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Jt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ve();const e=this.left.check();if(e!==this.right.check())throw Ve();return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve()}get value(){throw Ve()}get color(){throw Ve()}get left(){throw Ve()}get right(){throw Ve()}copy(e,t,s,o,l){return this}insert(e,t,s){return new Jt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Fm(this.data.getIterator())}getIteratorFrom(e){return new Fm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ft(this.comparator);return t.data=e,t}}class Fm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new zn([])}unionWith(e){let t=new Ft(Zt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new zn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ro(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new uy("Invalid base64 string: "+l):l}}(e);return new en(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new en(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const Yw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ki(r){if(ot(!!r),typeof r=="string"){let e=0;const t=Yw.exec(r);if(ot(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Pt(r.seconds),nanos:Pt(r.nanos)}}function Pt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Gi(r){return typeof r=="string"?en.fromBase64String(r):en.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function bu(r){const e=r.mapValue.fields.__previous_value__;return _f(e)?bu(e):e}function Da(r){const e=Ki(r.mapValue.fields.__local_write_time__.timestampValue);return new Ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,t,s,o,l,h,d,g,y){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=g,this.useFetchStreams=y}}class Va{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Va("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Va&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Yi(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?_f(r)?4:Zw(r)?9007199254740991:Jw(r)?10:11:Ve()}function Fr(r,e){if(r===e)return!0;const t=Yi(r);if(t!==Yi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Da(r).isEqual(Da(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=Ki(o.timestampValue),d=Ki(l.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,l){return Gi(o.bytesValue).isEqual(Gi(l.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,l){return Pt(o.geoPointValue.latitude)===Pt(l.geoPointValue.latitude)&&Pt(o.geoPointValue.longitude)===Pt(l.geoPointValue.longitude)}(r,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Pt(o.integerValue)===Pt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=Pt(o.doubleValue),d=Pt(l.doubleValue);return h===d?wu(h)===wu(d):isNaN(h)&&isNaN(d)}return!1}(r,e);case 9:return Ro(r.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},d=l.mapValue.fields||{};if(Om(h)!==Om(d))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(d[g]===void 0||!Fr(h[g],d[g])))return!1;return!0}(r,e);default:return Ve()}}function Na(r,e){return(r.values||[]).find(t=>Fr(t,e))!==void 0}function Ao(r,e){if(r===e)return 0;const t=Yi(r),s=Yi(e);if(t!==s)return qe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return qe(r.booleanValue,e.booleanValue);case 2:return function(l,h){const d=Pt(l.integerValue||l.doubleValue),g=Pt(h.integerValue||h.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(r,e);case 3:return bm(r.timestampValue,e.timestampValue);case 4:return bm(Da(r),Da(e));case 5:return qe(r.stringValue,e.stringValue);case 6:return function(l,h){const d=Gi(l),g=Gi(h);return d.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(l,h){const d=l.split("/"),g=h.split("/");for(let y=0;y<d.length&&y<g.length;y++){const E=qe(d[y],g[y]);if(E!==0)return E}return qe(d.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,h){const d=qe(Pt(l.latitude),Pt(h.latitude));return d!==0?d:qe(Pt(l.longitude),Pt(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Um(r.arrayValue,e.arrayValue);case 10:return function(l,h){var d,g,y,E;const I=l.fields||{},T=h.fields||{},C=(d=I.value)===null||d===void 0?void 0:d.arrayValue,M=(g=T.value)===null||g===void 0?void 0:g.arrayValue,$=qe(((y=C==null?void 0:C.values)===null||y===void 0?void 0:y.length)||0,((E=M==null?void 0:M.values)===null||E===void 0?void 0:E.length)||0);return $!==0?$:Um(C,M)}(r.mapValue,e.mapValue);case 11:return function(l,h){if(l===iu.mapValue&&h===iu.mapValue)return 0;if(l===iu.mapValue)return 1;if(h===iu.mapValue)return-1;const d=l.fields||{},g=Object.keys(d),y=h.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let I=0;I<g.length&&I<E.length;++I){const T=qe(g[I],E[I]);if(T!==0)return T;const C=Ao(d[g[I]],y[E[I]]);if(C!==0)return C}return qe(g.length,E.length)}(r.mapValue,e.mapValue);default:throw Ve()}}function bm(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return qe(r,e);const t=Ki(r),s=Ki(e),o=qe(t.seconds,s.seconds);return o!==0?o:qe(t.nanos,s.nanos)}function Um(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=Ao(t[o],s[o]);if(l)return l}return qe(t.length,s.length)}function Co(r){return Kh(r)}function Kh(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=Ki(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Gi(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Re.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=Kh(l);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of s)l?l=!1:o+=",",o+=`${h}:${Kh(t.fields[h])}`;return o+"}"}(r.mapValue):Ve()}function cu(r){switch(Yi(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bu(r);return e?16+cu(e):16;case 5:return 2*r.stringValue.length;case 6:return Gi(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+cu(l),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return es(s.fields,(l,h)=>{o+=l.length+cu(h)}),o}(r.mapValue);default:throw Ve()}}function zm(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Gh(r){return!!r&&"integerValue"in r}function vf(r){return!!r&&"arrayValue"in r}function jm(r){return!!r&&"nullValue"in r}function Bm(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function hu(r){return!!r&&"mapValue"in r}function Jw(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ia(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return es(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Ia(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ia(r.arrayValue.values[t]);return e}return Object.assign({},r)}function Zw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!hu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ia(t)}setAll(e){let t=Zt.emptyPath(),s={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=d.popLast()}h?s[d.lastSegment()]=Ia(h):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());hu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];hu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){es(t,(o,l)=>e[o]=l);for(const o of s)delete e[o]}clone(){return new kn(Ia(this.value))}}function cy(r){const e=[];return es(r.fields,(t,s)=>{const o=new Zt([t]);if(hu(s)){const l=cy(s.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,t,s,o,l,h,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=h,this.documentState=d}static newInvalidDocument(e){return new hn(e,0,Le.min(),Le.min(),Le.min(),kn.empty(),0)}static newFoundDocument(e,t,s,o){return new hn(e,1,t,Le.min(),s,o,0)}static newNoDocument(e,t){return new hn(e,2,t,Le.min(),Le.min(),kn.empty(),0)}static newUnknownDocument(e,t){return new hn(e,3,t,Le.min(),Le.min(),kn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,t){this.position=e,this.inclusive=t}}function $m(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const l=e[o],h=r.position[o];if(l.field.isKeyField()?s=Re.comparator(Re.fromName(h.referenceValue),t.key):s=Ao(h,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function qm(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Fr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,t="asc"){this.field=e,this.dir=t}}function eT(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{}class Vt extends hy{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new nT(e,t,s):t==="array-contains"?new sT(e,s):t==="in"?new oT(e,s):t==="not-in"?new aT(e,s):t==="array-contains-any"?new lT(e,s):new Vt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new rT(e,s):new iT(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ao(t,this.value)):t!==null&&Yi(this.value)===Yi(t)&&this.matchesComparison(Ao(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yr extends hy{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new yr(e,t)}matches(e){return fy(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function fy(r){return r.op==="and"}function dy(r){return tT(r)&&fy(r)}function tT(r){for(const e of r.filters)if(e instanceof yr)return!1;return!0}function Yh(r){if(r instanceof Vt)return r.field.canonicalString()+r.op.toString()+Co(r.value);if(dy(r))return r.filters.map(e=>Yh(e)).join(",");{const e=r.filters.map(t=>Yh(t)).join(",");return`${r.op}(${e})`}}function py(r,e){return r instanceof Vt?function(s,o){return o instanceof Vt&&s.op===o.op&&s.field.isEqual(o.field)&&Fr(s.value,o.value)}(r,e):r instanceof yr?function(s,o){return o instanceof yr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,h,d)=>l&&py(h,o.filters[d]),!0):!1}(r,e):void Ve()}function my(r){return r instanceof Vt?function(t){return`${t.field.canonicalString()} ${t.op} ${Co(t.value)}`}(r):r instanceof yr?function(t){return t.op.toString()+" {"+t.getFilters().map(my).join(" ,")+"}"}(r):"Filter"}class nT extends Vt{constructor(e,t,s){super(e,t,s),this.key=Re.fromName(s.referenceValue)}matches(e){const t=Re.comparator(e.key,this.key);return this.matchesComparison(t)}}class rT extends Vt{constructor(e,t){super(e,"in",t),this.keys=gy("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class iT extends Vt{constructor(e,t){super(e,"not-in",t),this.keys=gy("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function gy(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>Re.fromName(s.referenceValue))}class sT extends Vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return vf(t)&&Na(t.arrayValue,this.value)}}class oT extends Vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Na(this.value.arrayValue,t)}}class aT extends Vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Na(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Na(this.value.arrayValue,t)}}class lT extends Vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!vf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Na(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,t=null,s=[],o=[],l=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=h,this.endAt=d,this.ue=null}}function Hm(r,e=null,t=[],s=[],o=null,l=null,h=null){return new uT(r,e,t,s,o,l,h)}function Ef(r){const e=Oe(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Yh(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),Fu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Co(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Co(s)).join(",")),e.ue=t}return e.ue}function wf(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!eT(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!py(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!qm(r.startAt,e.startAt)&&qm(r.endAt,e.endAt)}function Xh(r){return Re.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,t=null,s=[],o=[],l=null,h="F",d=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=h,this.startAt=d,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function cT(r,e,t,s,o,l,h,d){return new Mo(r,e,t,s,o,l,h,d)}function Tf(r){return new Mo(r)}function Wm(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function yy(r){return r.collectionGroup!==null}function Ra(r){const e=Oe(r);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Ft(Zt.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(d=d.add(y.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new La(l,s))}),t.has(Zt.keyField().canonicalString())||e.ce.push(new La(Zt.keyField(),s))}return e.ce}function Nr(r){const e=Oe(r);return e.le||(e.le=hT(e,Ra(r))),e.le}function hT(r,e){if(r.limitType==="F")return Hm(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new La(o.field,l)});const t=r.endAt?new Tu(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Tu(r.startAt.position,r.startAt.inclusive):null;return Hm(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function Jh(r,e){const t=r.filters.concat([e]);return new Mo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Zh(r,e,t){return new Mo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Uu(r,e){return wf(Nr(r),Nr(e))&&r.limitType===e.limitType}function _y(r){return`${Ef(Nr(r))}|lt:${r.limitType}`}function vo(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>my(o)).join(", ")}]`),Fu(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Co(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Co(o)).join(",")),`Target(${s})`}(Nr(r))}; limitType=${r.limitType})`}function zu(r,e){return e.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Re.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(r,e)&&function(s,o){for(const l of Ra(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,d,g){const y=$m(h,d,g);return h.inclusive?y<=0:y<0}(s.startAt,Ra(s),o)||s.endAt&&!function(h,d,g){const y=$m(h,d,g);return h.inclusive?y>=0:y>0}(s.endAt,Ra(s),o))}(r,e)}function fT(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function vy(r){return(e,t)=>{let s=!1;for(const o of Ra(r)){const l=dT(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function dT(r,e,t){const s=r.field.isKeyField()?Re.comparator(e.key,t.key):function(l,h,d){const g=h.data.field(l),y=d.data.field(l);return g!==null&&y!==null?Ao(g,y):Ve()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){es(this.inner,(t,s)=>{for(const[o,l]of s)e(o,l)})}isEmpty(){return ly(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT=new Tt(Re.comparator);function ui(){return pT}const Ey=new Tt(Re.comparator);function Ea(...r){let e=Ey;for(const t of r)e=e.insert(t.key,t);return e}function wy(r){let e=Ey;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function As(){return Aa()}function Ty(){return Aa()}function Aa(){return new xs(r=>r.toString(),(r,e)=>r.isEqual(e))}const mT=new Tt(Re.comparator),gT=new Ft(Re.comparator);function je(...r){let e=gT;for(const t of r)e=e.add(t);return e}const yT=new Ft(qe);function _T(){return yT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wu(e)?"-0":e}}function Sy(r){return{integerValue:""+r}}function vT(r,e){return Qw(e)?Sy(e):Sf(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(){this._=void 0}}function ET(r,e,t){return r instanceof Su?function(o,l){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&_f(l)&&(l=bu(l)),l&&(h.fields.__previous_value__=l),{mapValue:h}}(t,e):r instanceof Ma?Ry(r,e):r instanceof Oa?Ay(r,e):function(o,l){const h=Iy(o,l),d=Qm(h)+Qm(o.Pe);return Gh(h)&&Gh(o.Pe)?Sy(d):Sf(o.serializer,d)}(r,e)}function wT(r,e,t){return r instanceof Ma?Ry(r,e):r instanceof Oa?Ay(r,e):t}function Iy(r,e){return r instanceof Iu?function(s){return Gh(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class Su extends ju{}class Ma extends ju{constructor(e){super(),this.elements=e}}function Ry(r,e){const t=Cy(e);for(const s of r.elements)t.some(o=>Fr(o,s))||t.push(s);return{arrayValue:{values:t}}}class Oa extends ju{constructor(e){super(),this.elements=e}}function Ay(r,e){let t=Cy(e);for(const s of r.elements)t=t.filter(o=>!Fr(o,s));return{arrayValue:{values:t}}}class Iu extends ju{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Qm(r){return Pt(r.integerValue||r.doubleValue)}function Cy(r){return vf(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function TT(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Ma&&o instanceof Ma||s instanceof Oa&&o instanceof Oa?Ro(s.elements,o.elements,Fr):s instanceof Iu&&o instanceof Iu?Fr(s.Pe,o.Pe):s instanceof Su&&o instanceof Su}(r.transform,e.transform)}class ST{constructor(e,t){this.version=e,this.transformResults=t}}class Lr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Lr}static exists(e){return new Lr(void 0,e)}static updateTime(e){return new Lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Bu{}function Py(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new xy(r.key,Lr.none()):new ba(r.key,r.data,Lr.none());{const t=r.data,s=kn.empty();let o=new Ft(Zt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?s.delete(l):s.set(l,h),o=o.add(l)}return new ts(r.key,s,new zn(o.toArray()),Lr.none())}}function IT(r,e,t){r instanceof ba?function(o,l,h){const d=o.value.clone(),g=Gm(o.fieldTransforms,l,h.transformResults);d.setAll(g),l.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(r,e,t):r instanceof ts?function(o,l,h){if(!fu(o.precondition,l))return void l.convertToUnknownDocument(h.version);const d=Gm(o.fieldTransforms,l,h.transformResults),g=l.data;g.setAll(ky(o)),g.setAll(d),l.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(r,e,t):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Ca(r,e,t,s){return r instanceof ba?function(l,h,d,g){if(!fu(l.precondition,h))return d;const y=l.value.clone(),E=Ym(l.fieldTransforms,g,h);return y.setAll(E),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(r,e,t,s):r instanceof ts?function(l,h,d,g){if(!fu(l.precondition,h))return d;const y=Ym(l.fieldTransforms,g,h),E=h.data;return E.setAll(ky(l)),E.setAll(y),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(I=>I.field))}(r,e,t,s):function(l,h,d){return fu(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(r,e,t)}function RT(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),l=Iy(s.transform,o||null);l!=null&&(t===null&&(t=kn.empty()),t.set(s.field,l))}return t||null}function Km(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ro(s,o,(l,h)=>TT(l,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ba extends Bu{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ts extends Bu{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function ky(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function Gm(r,e,t){const s=new Map;ot(r.length===t.length);for(let o=0;o<t.length;o++){const l=r[o],h=l.transform,d=e.data.field(l.field);s.set(l.field,wT(h,d,t[o]))}return s}function Ym(r,e,t){const s=new Map;for(const o of r){const l=o.transform,h=t.data.field(o.field);s.set(o.field,ET(l,h,e))}return s}class xy extends Bu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AT extends Bu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&IT(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Ca(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Ca(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Ty();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let d=this.applyToLocalView(h,l.mutatedFields);d=t.has(o.key)?null:d;const g=Py(h,d);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Le.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),je())}isEqual(e){return this.batchId===e.batchId&&Ro(this.mutations,e.mutations,(t,s)=>Km(t,s))&&Ro(this.baseMutations,e.baseMutations,(t,s)=>Km(t,s))}}class If{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){ot(e.mutations.length===s.length);let o=function(){return mT}();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,s[h].version);return new If(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,Ye;function xT(r){switch(r){default:return Ve();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function Dy(r){if(r===void 0)return li("GRPC error has no .code"),J.UNKNOWN;switch(r){case Dt.OK:return J.OK;case Dt.CANCELLED:return J.CANCELLED;case Dt.UNKNOWN:return J.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return J.INTERNAL;case Dt.UNAVAILABLE:return J.UNAVAILABLE;case Dt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Dt.NOT_FOUND:return J.NOT_FOUND;case Dt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Dt.ABORTED:return J.ABORTED;case Dt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Dt.DATA_LOSS:return J.DATA_LOSS;default:return Ve()}}(Ye=Dt||(Dt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=new Ps([4294967295,4294967295],0);function Xm(r){const e=DT().encode(r),t=new ey;return t.update(e),new Uint8Array(t.digest())}function Jm(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ps([t,s],0),new Ps([o,l],0)]}class Rf{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new wa(`Invalid padding: ${t}`);if(s<0)throw new wa(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new wa(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new wa(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Ps.fromNumber(this.Te)}Ee(e,t,s){let o=e.add(t.multiply(Ps.fromNumber(s)));return o.compare(VT)===1&&(o=new Ps([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Xm(e),[s,o]=Jm(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(s,o,l);if(!this.de(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new Rf(l,o,t);return s.forEach(d=>h.insert(d)),h}insert(e){if(this.Te===0)return;const t=Xm(e),[s,o]=Jm(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(s,o,l);this.Ae(h)}}Ae(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class wa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Ua.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new $u(Le.min(),o,new Tt(qe),ui(),je())}}class Ua{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Ua(s,t,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,t,s,o){this.Re=e,this.removedTargetIds=t,this.key=s,this.Ve=o}}class Vy{constructor(e,t){this.targetId=e,this.me=t}}class Ny{constructor(e,t,s=en.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class Zm{constructor(){this.fe=0,this.ge=eg(),this.pe=en.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=je(),t=je(),s=je();return this.ge.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ve()}}),new Ua(this.pe,this.ye,e,t,s)}Ce(){this.we=!1,this.ge=eg()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ot(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class NT{constructor(e){this.Le=e,this.Be=new Map,this.ke=ui(),this.qe=su(),this.Qe=su(),this.Ke=new Tt(qe)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const s=this.ze(t);switch(e.state){case 0:this.je(t)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(t);break;case 3:this.je(t)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),s.De(e.resumeToken));break;default:Ve()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((s,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,s=e.me.count,o=this.Ye(t);if(o){const l=o.target;if(Xh(l))if(s===0){const h=new Re(l.path);this.We(t,h,hn.newNoDocument(h,Le.min()))}else ot(s===1);else{const h=this.Ze(t);if(h!==s){const d=this.Xe(e),g=d?this.et(d,e,h):1;if(g!==0){this.He(t);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let h,d;try{h=Gi(s).toUint8Array()}catch(g){if(g instanceof uy)return Io("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{d=new Rf(h,o,l)}catch(g){return Io(g instanceof wa?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return d.Te===0?null:d}et(e,t,s){return t.me.count===s-this.rt(e,t.targetId)?0:2}rt(e,t){const s=this.Le.getRemoteKeysForTarget(t);let o=0;return s.forEach(l=>{const h=this.Le.nt(),d=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.We(t,l,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((l,h)=>{const d=this.Ye(h);if(d){if(l.current&&Xh(d.target)){const g=new Re(d.target.path);this.st(g).has(h)||this.ot(h,g)||this.We(h,g,hn.newNoDocument(g,e))}l.be&&(t.set(h,l.ve()),l.Ce())}});let s=je();this.Qe.forEach((l,h)=>{let d=!0;h.forEachWhile(g=>{const y=this.Ye(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(l))}),this.ke.forEach((l,h)=>h.setReadTime(e));const o=new $u(e,t,this.Ke,this.ke,s);return this.ke=ui(),this.qe=su(),this.Qe=su(),this.Ke=new Tt(qe),o}Ue(e,t){if(!this.je(e))return;const s=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,s),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,s){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),s&&(this.ke=this.ke.insert(t,s))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Zm,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Ft(qe),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Ft(qe),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Zm),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function su(){return new Tt(Re.comparator)}function eg(){return new Tt(Re.comparator)}const LT={asc:"ASCENDING",desc:"DESCENDING"},MT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OT={and:"AND",or:"OR"};class FT{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ef(r,e){return r.useProto3Json||Fu(e)?e:{value:e}}function Ru(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ly(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function bT(r,e){return Ru(r,e.toTimestamp())}function Mr(r){return ot(!!r),Le.fromTimestamp(function(t){const s=Ki(t);return new Ot(s.seconds,s.nanos)}(r))}function Af(r,e){return tf(r,e).canonicalString()}function tf(r,e){const t=function(o){return new yt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function My(r){const e=yt.fromString(r);return ot(zy(e)),e}function nf(r,e){return Af(r.databaseId,e.path)}function Nh(r,e){const t=My(e);if(t.get(1)!==r.databaseId.projectId)throw new ge(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ge(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Re(Fy(t))}function Oy(r,e){return Af(r.databaseId,e)}function UT(r){const e=My(r);return e.length===4?yt.emptyPath():Fy(e)}function rf(r){return new yt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Fy(r){return ot(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function tg(r,e,t){return{name:nf(r,e),fields:t.value.mapValue.fields}}function zT(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,E){return y.useProto3Json?(ot(E===void 0||typeof E=="string"),en.fromBase64String(E||"")):(ot(E===void 0||E instanceof Buffer||E instanceof Uint8Array),en.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(y){const E=y.code===void 0?J.UNKNOWN:Dy(y.code);return new ge(E,y.message||"")}(h);t=new Ny(s,o,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Nh(r,s.document.name),l=Mr(s.document.updateTime),h=s.document.createTime?Mr(s.document.createTime):Le.min(),d=new kn({mapValue:{fields:s.document.fields}}),g=hn.newFoundDocument(o,l,h,d),y=s.targetIds||[],E=s.removedTargetIds||[];t=new du(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Nh(r,s.document),l=s.readTime?Mr(s.readTime):Le.min(),h=hn.newNoDocument(o,l),d=s.removedTargetIds||[];t=new du([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Nh(r,s.document),l=s.removedTargetIds||[];t=new du([],l,o,null)}else{if(!("filter"in e))return Ve();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,h=new kT(o,l),d=s.targetId;t=new Vy(d,h)}}return t}function jT(r,e){let t;if(e instanceof ba)t={update:tg(r,e.key,e.value)};else if(e instanceof xy)t={delete:nf(r,e.key)};else if(e instanceof ts)t={update:tg(r,e.key,e.data),updateMask:YT(e.fieldMask)};else{if(!(e instanceof AT))return Ve();t={verify:nf(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,h){const d=h.transform;if(d instanceof Su)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ma)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Oa)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Iu)return{fieldPath:h.field.canonicalString(),increment:d.Pe};throw Ve()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:bT(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ve()}(r,e.precondition)),t}function BT(r,e){return r&&r.length>0?(ot(e!==void 0),r.map(t=>function(o,l){let h=o.updateTime?Mr(o.updateTime):Mr(l);return h.isEqual(Le.min())&&(h=Mr(l)),new ST(h,o.transformResults||[])}(t,e))):[]}function $T(r,e){return{documents:[Oy(r,e.path)]}}function qT(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Oy(r,o);const l=function(y){if(y.length!==0)return Uy(yr.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(y){if(y.length!==0)return y.map(E=>function(T){return{field:Eo(T.field),direction:QT(T.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=ef(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:o}}function HT(r){let e=UT(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){ot(s===1);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let l=[];t.where&&(l=function(I){const T=by(I);return T instanceof yr&&dy(T)?T.getFilters():[T]}(t.where));let h=[];t.orderBy&&(h=function(I){return I.map(T=>function(M){return new La(wo(M.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(T))}(t.orderBy));let d=null;t.limit&&(d=function(I){let T;return T=typeof I=="object"?I.value:I,Fu(T)?null:T}(t.limit));let g=null;t.startAt&&(g=function(I){const T=!!I.before,C=I.values||[];return new Tu(C,T)}(t.startAt));let y=null;return t.endAt&&(y=function(I){const T=!I.before,C=I.values||[];return new Tu(C,T)}(t.endAt)),cT(e,o,h,l,d,"F",g,y)}function WT(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function by(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=wo(t.unaryFilter.field);return Vt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=wo(t.unaryFilter.field);return Vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=wo(t.unaryFilter.field);return Vt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=wo(t.unaryFilter.field);return Vt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Ve()}}(r):r.fieldFilter!==void 0?function(t){return Vt.create(wo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ve()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return yr.create(t.compositeFilter.filters.map(s=>by(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ve()}}(t.compositeFilter.op))}(r):Ve()}function QT(r){return LT[r]}function KT(r){return MT[r]}function GT(r){return OT[r]}function Eo(r){return{fieldPath:r.canonicalString()}}function wo(r){return Zt.fromServerFormat(r.fieldPath)}function Uy(r){return r instanceof Vt?function(t){if(t.op==="=="){if(Bm(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NAN"}};if(jm(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Bm(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NOT_NAN"}};if(jm(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eo(t.field),op:KT(t.op),value:t.value}}}(r):r instanceof yr?function(t){const s=t.getFilters().map(o=>Uy(o));return s.length===1?s[0]:{compositeFilter:{op:GT(t.op),filters:s}}}(r):Ve()}function YT(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function zy(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,t,s,o,l=Le.min(),h=Le.min(),d=en.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=g}withSequenceNumber(e){return new $i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e){this.ht=e}}function JT(r){const e=HT({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Zh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(){this.ln=new e0}addToCollectionParentIndex(e,t){return this.ln.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(Qi.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(Qi.min())}updateCollectionGroup(e,t,s){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class e0{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Ft(yt.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ft(yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Pn{static withCacheSize(e){return new Pn(e,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(41943040,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Po(0)}static Qn(){return new Po(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg([r,e],[t,s]){const o=qe(r,t);return o===0?qe(e,s):o}class t0{constructor(e){this.Gn=e,this.buffer=new Ft(rg),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();rg(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class n0{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){me("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Lo(t)?me("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await No(t)}await this.Yn(3e5)})}}class r0{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(Ou.oe);const s=new t0(t);return this.Zn.forEachTarget(e,o=>s.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>s.Hn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Zn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(ng)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ng):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let s,o,l,h,d,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,h=Date.now(),this.nthSequenceNumber(e,o))).next(I=>(s=I,d=Date.now(),this.removeTargets(e,s,t))).next(I=>(l=I,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(I=>(y=Date.now(),_o()<=Xe.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${l} targets in `+(g-d)+`ms
	Removed ${I} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:I})))}}function i0(r,e){return new r0(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(){this.changes=new xs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Z.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Ca(s.mutation,o,zn.empty(),Ot.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,je()).next(()=>s))}getLocalViewOfDocuments(e,t,s=je()){const o=As();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(l=>{let h=Ea();return l.forEach((d,g)=>{h=h.insert(d,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=As();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,je()))}populateOverlays(e,t,s){const o=[];return s.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,s,o){let l=ui();const h=Aa(),d=function(){return Aa()}();return t.forEach((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof ts)?l=l.insert(y.key,y):E!==void 0?(h.set(y.key,E.mutation.getFieldMask()),Ca(E.mutation,y,E.mutation.getFieldMask(),Ot.now())):h.set(y.key,zn.empty())}),this.recalculateAndSaveOverlays(e,l).next(g=>(g.forEach((y,E)=>h.set(y,E)),t.forEach((y,E)=>{var I;return d.set(y,new o0(E,(I=h.get(y))!==null&&I!==void 0?I:null))}),d))}recalculateAndSaveOverlays(e,t){const s=Aa();let o=new Tt((h,d)=>h-d),l=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(g=>{const y=t.get(g);if(y===null)return;let E=s.get(g)||zn.empty();E=d.applyToLocalView(y,E),s.set(g,E);const I=(o.get(d.batchId)||je()).add(g);o=o.insert(d.batchId,I)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const g=d.getNext(),y=g.key,E=g.value,I=Ty();E.forEach(T=>{if(!l.has(T)){const C=Py(t.get(T),s.get(T));C!==null&&I.set(T,C),l=l.add(T)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,I))}return Z.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return Re.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):yy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):Z.resolve(As());let d=-1,g=l;return h.next(y=>Z.forEach(y,(E,I)=>(d<I.largestBatchId&&(d=I.largestBatchId),l.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(e,E).next(T=>{g=g.insert(E,T)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,g,y,je())).next(E=>({batchId:d,changes:wy(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Re(t)).next(s=>{let o=Ea();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let h=Ea();return this.indexManager.getCollectionParents(e,l).next(d=>Z.forEach(d,g=>{const y=function(I,T){return new Mo(T,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((I,T)=>{h=h.insert(I,T)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o))).next(h=>{l.forEach((g,y)=>{const E=y.getKey();h.get(E)===null&&(h=h.insert(E,hn.newInvalidDocument(E)))});let d=Ea();return h.forEach((g,y)=>{const E=l.get(g);E!==void 0&&Ca(E.mutation,y,zn.empty(),Ot.now()),zu(t,y)&&(d=d.insert(g,y))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return Z.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Mr(o.createTime)}}(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:JT(o.bundledQuery),readTime:Mr(o.readTime)}}(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(){this.overlays=new Tt(Re.comparator),this.Er=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const s=As();return Z.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,l)=>{this.Tt(e,t,l)}),Z.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Er.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Er.delete(s)),Z.resolve()}getOverlaysForCollection(e,t,s){const o=As(),l=t.length+1,h=new Re(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const g=d.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&g.largestBatchId>s&&o.set(g.getKey(),g)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new Tt((y,E)=>y-E);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let E=l.get(y.largestBatchId);E===null&&(E=As(),l=l.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const d=As(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,E)=>d.set(y,E)),!(d.size()>=o)););return Z.resolve(d)}Tt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Er.get(o.largestBatchId).delete(s.key);this.Er.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new PT(t,s));let l=this.Er.get(t);l===void 0&&(l=je(),this.Er.set(t,l)),this.Er.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(){this.dr=new Ft(Bt.Ar),this.Rr=new Ft(Bt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const s=new Bt(e,t);this.dr=this.dr.add(s),this.Rr=this.Rr.add(s)}mr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.gr(new Bt(e,t))}pr(e,t){e.forEach(s=>this.removeReference(s,t))}yr(e){const t=new Re(new yt([])),s=new Bt(t,e),o=new Bt(t,e+1),l=[];return this.Rr.forEachInRange([s,o],h=>{this.gr(h),l.push(h.key)}),l}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Re(new yt([])),s=new Bt(t,e),o=new Bt(t,e+1);let l=je();return this.Rr.forEachInRange([s,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new Bt(e,0),s=this.dr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Re.comparator(e.key,t.key)||qe(e.br,t.br)}static Vr(e,t){return qe(e.br,t.br)||Re.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Ft(Bt.Ar)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new CT(l,t,s,o);this.mutationQueue.push(h);for(const d of o)this.vr=this.vr.add(new Bt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Z.resolve(h)}lookupMutationBatch(e,t){return Z.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Fr(s),l=o<0?0:o;return Z.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Bt(t,0),o=new Bt(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([s,o],h=>{const d=this.Cr(h.br);l.push(d)}),Z.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ft(qe);return t.forEach(o=>{const l=new Bt(o,0),h=new Bt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,h],d=>{s=s.add(d.br)})}),Z.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;Re.isDocumentKey(l)||(l=l.child(""));const h=new Bt(new Re(l),0);let d=new Ft(qe);return this.vr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(d=d.add(g.br)),!0)},h),Z.resolve(this.Mr(d))}Mr(e){const t=[];return e.forEach(s=>{const o=this.Cr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){ot(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return Z.forEach(t.mutations,o=>{const l=new Bt(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=s})}Ln(e){}containsKey(e,t){const s=new Bt(t,0),o=this.vr.firstAfterOrEqual(s);return Z.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e){this.Nr=e,this.docs=function(){return new Tt(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,h=this.Nr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Z.resolve(s?s.document.mutableCopy():hn.newInvalidDocument(t))}getEntries(e,t){let s=ui();return t.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():hn.newInvalidDocument(o))}),Z.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=ui();const h=t.path,d=new Re(h.child("")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||$w(Bw(E),s)<=0||(o.has(E.key)||zu(t,E))&&(l=l.insert(E.key,E.mutableCopy()))}return Z.resolve(l)}getAllFromCollectionGroup(e,t,s,o){Ve()}Lr(e,t){return Z.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new d0(this)}getSize(e){return Z.resolve(this.size)}}class d0 extends s0{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(s)}),Z.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e){this.persistence=e,this.Br=new xs(t=>Ef(t),wf),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.kr=0,this.qr=new Cf,this.targetCount=0,this.Qr=Po.qn()}forEachTarget(e,t){return this.Br.forEach((s,o)=>t(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.kr&&(this.kr=t),Z.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Po(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.Un(t),Z.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.Br.forEach((h,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.Br.delete(h),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),Z.waitFor(l).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const s=this.Br.get(t)||null;return Z.resolve(s)}addMatchingKeys(e,t,s){return this.qr.mr(t,s),Z.resolve()}removeMatchingKeys(e,t,s){this.qr.pr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),Z.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const s=this.qr.Sr(t);return Z.resolve(s)}containsKey(e,t){return Z.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Ou(0),this.Ur=!1,this.Ur=!0,this.Wr=new c0,this.referenceDelegate=e(this),this.Gr=new p0(this),this.indexManager=new ZT,this.remoteDocumentCache=function(o){return new f0(o)}(s=>this.referenceDelegate.zr(s)),this.serializer=new XT(t),this.jr=new l0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new u0,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Kr[e.toKey()];return s||(s=new h0(t,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,s){me("MemoryPersistence","Starting transaction:",e);const o=new m0(this.$r.next());return this.referenceDelegate.Hr(),s(o).next(l=>this.referenceDelegate.Jr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Yr(e,t){return Z.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,t)))}}class m0 extends Hw{constructor(e){super(),this.currentSequenceNumber=e}}class Pf{constructor(e){this.persistence=e,this.Zr=new Cf,this.Xr=null}static ei(e){return new Pf(e)}get ti(){if(this.Xr)return this.Xr;throw Ve()}addReference(e,t,s){return this.Zr.addReference(s,t),this.ti.delete(s.toString()),Z.resolve()}removeReference(e,t,s){return this.Zr.removeReference(s,t),this.ti.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),Z.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ti.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ti,s=>{const o=Re.fromPath(s);return this.ni(e,o).next(l=>{l||t.removeEntry(o,Le.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(s=>{s?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return Z.or([()=>Z.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Au{constructor(e,t){this.persistence=e,this.ri=new xs(s=>Kw(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=i0(this,t)}static ei(e,t){return new Au(e,t)}Hr(){}Jr(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}nr(e){let t=0;return this.er(e,s=>{t++}).next(()=>t)}er(e,t){return Z.forEach(this.ri,(s,o)=>this.ir(e,s,o).next(l=>l?Z.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Lr(e,h=>this.ir(e,h,t).next(d=>{d||(s++,l.removeEntry(h,Le.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.ri.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,s){return this.ri.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),Z.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=cu(e.data.value)),t}ir(e,t,s){return Z.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Wi=s,this.Gi=o}static zi(e,t){let s=je(),o=je();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new kf(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return gE()?8:Ww(pE())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.Xi(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.es(e,t,o,s).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new g0;return this.ts(e,t,h).next(d=>{if(l.result=d,this.Hi)return this.ns(e,t,h,d.size)})}).next(()=>l.result)}ns(e,t,s,o){return s.documentReadCount<this.Ji?(_o()<=Xe.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",vo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Z.resolve()):(_o()<=Xe.DEBUG&&me("QueryEngine","Query:",vo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Yi*o?(_o()<=Xe.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",vo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nr(t))):Z.resolve())}Xi(e,t){if(Wm(t))return Z.resolve(null);let s=Nr(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Zh(t,null,"F"),s=Nr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const h=je(...l);return this.Zi.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,s).next(g=>{const y=this.rs(t,d);return this.ss(t,y,h,g.readTime)?this.Xi(e,Zh(t,null,"F")):this.os(e,y,t,g)}))})))}es(e,t,s,o){return Wm(t)||o.isEqual(Le.min())?Z.resolve(null):this.Zi.getDocuments(e,s).next(l=>{const h=this.rs(t,l);return this.ss(t,h,s,o)?Z.resolve(null):(_o()<=Xe.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),vo(t)),this.os(e,h,t,jw(o,-1)).next(d=>d))})}rs(e,t){let s=new Ft(vy(e));return t.forEach((o,l)=>{zu(e,l)&&(s=s.add(l))}),s}ss(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ts(e,t,s){return _o()<=Xe.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",vo(t)),this.Zi.getDocumentsMatchingQuery(e,t,Qi.min(),s)}os(e,t,s,o){return this.Zi.getDocumentsMatchingQuery(e,s,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,t,s,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new Tt(qe),this.cs=new xs(l=>Ef(l),wf),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new a0(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function v0(r,e,t,s){return new _0(r,e,t,s)}async function By(r,e){const t=Oe(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const h=[],d=[];let g=je();for(const y of o){h.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of l){d.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return t.localDocuments.getDocuments(s,g).next(y=>({Ts:y,removedBatchIds:h,addedBatchIds:d}))})})}function E0(r,e){const t=Oe(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),l=t.hs.newChangeBuffer({trackRemovals:!0});return function(d,g,y,E){const I=y.batch,T=I.keys();let C=Z.resolve();return T.forEach(M=>{C=C.next(()=>E.getEntry(g,M)).next($=>{const U=y.docVersions.get(M);ot(U!==null),$.version.compareTo(U)<0&&(I.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),E.addEntry($)))})}),C.next(()=>d.mutationQueue.removeMutationBatch(g,I))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let g=je();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(g=g.add(d.batch.mutations[y].key));return g}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function $y(r){const e=Oe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function w0(r,e){const t=Oe(r),s=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const d=[];e.targetChanges.forEach((E,I)=>{const T=o.get(I);if(!T)return;d.push(t.Gr.removeMatchingKeys(l,E.removedDocuments,I).next(()=>t.Gr.addMatchingKeys(l,E.addedDocuments,I)));let C=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(I)!==null?C=C.withResumeToken(en.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):E.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(E.resumeToken,s)),o=o.insert(I,C),function($,U,H){return $.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(T,C,E)&&d.push(t.Gr.updateTargetData(l,C))});let g=ui(),y=je();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,E))}),d.push(T0(l,h,e.documentUpdates).next(E=>{g=E.Is,y=E.Es})),!s.isEqual(Le.min())){const E=t.Gr.getLastRemoteSnapshotVersion(l).next(I=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,s));d.push(E)}return Z.waitFor(d).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,g,y)).next(()=>g)}).then(l=>(t.us=o,l))}function T0(r,e,t){let s=je(),o=je();return t.forEach(l=>s=s.add(l)),e.getEntries(r,s).next(l=>{let h=ui();return t.forEach((d,g)=>{const y=l.get(d);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),g.isNoDocument()&&g.version.isEqual(Le.min())?(e.removeEntry(d,g.readTime),h=h.insert(d,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(d,g)):me("LocalStore","Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",g.version)}),{Is:h,Es:o}})}function S0(r,e){const t=Oe(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function I0(r,e){const t=Oe(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Gr.getTargetData(s,e).next(l=>l?(o=l,Z.resolve(o)):t.Gr.allocateTargetId(s).next(h=>(o=new $i(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Gr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.us.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(s.targetId,s),t.cs.set(e,s.targetId)),s})}async function sf(r,e,t){const s=Oe(r),o=s.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Lo(h))throw h;me("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.us=s.us.remove(e),s.cs.delete(o.target)}function ig(r,e,t){const s=Oe(r);let o=Le.min(),l=je();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,y,E){const I=Oe(g),T=I.cs.get(E);return T!==void 0?Z.resolve(I.us.get(T)):I.Gr.getTargetData(y,E)}(s,h,Nr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(h,d.targetId).next(g=>{l=g})}).next(()=>s._s.getDocumentsMatchingQuery(h,e,t?o:Le.min(),t?l:je())).next(d=>(R0(s,fT(e),d),{documents:d,ds:l})))}function R0(r,e,t){let s=r.ls.get(e)||Le.min();t.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),r.ls.set(e,s)}class sg{constructor(){this.activeTargetIds=_T()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class A0{constructor(){this._o=new sg,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,s){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new sg,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ou=null;function Lh(){return ou===null?ou=function(){return 268435456+Math.round(2147483648*Math.random())}():ou++,"0x"+ou.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class x0 extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const s=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+t.host,this.Mo=`projects/${o}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}Oo(t,s,o,l,h){const d=Lh(),g=this.No(t,s.toUriEncodedString());me("RestConnection",`Sending RPC '${t}' ${d}:`,g,o);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(y,l,h),this.Bo(t,g,y,o).then(E=>(me("RestConnection",`Received RPC '${t}' ${d}: `,E),E),E=>{throw Io("RestConnection",`RPC '${t}' ${d} failed with error: `,E,"url: ",g,"request:",o),E})}ko(t,s,o,l,h,d){return this.Oo(t,s,o,l,h)}Lo(t,s,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((l,h)=>t[h]=l),o&&o.headers.forEach((l,h)=>t[h]=l)}No(t,s){const o=P0[t];return`${this.Fo}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,s,o){const l=Lh();return new Promise((h,d)=>{const g=new ty;g.setWithCredentials(!0),g.listenOnce(ny.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case uu.NO_ERROR:const E=g.getResponseJson();me(un,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(E)),h(E);break;case uu.TIMEOUT:me(un,`RPC '${e}' ${l} timed out`),d(new ge(J.DEADLINE_EXCEEDED,"Request time out"));break;case uu.HTTP_ERROR:const I=g.getStatus();if(me(un,`RPC '${e}' ${l} failed with status:`,I,"response text:",g.getResponseText()),I>0){let T=g.getResponseJson();Array.isArray(T)&&(T=T[0]);const C=T==null?void 0:T.error;if(C&&C.status&&C.message){const M=function(U){const H=U.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(H)>=0?H:J.UNKNOWN}(C.status);d(new ge(M,C.message))}else d(new ge(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new ge(J.UNAVAILABLE,"Connection failed."));break;default:Ve()}}finally{me(un,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(o);me(un,`RPC '${e}' ${l} sending request:`,o),g.send(t,"POST",y,s,15)})}qo(e,t,s){const o=Lh(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=sy(),d=iy(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Lo(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const E=l.join("");me(un,`Creating RPC '${e}' stream ${o}: ${E}`,g);const I=h.createWebChannel(E,g);let T=!1,C=!1;const M=new k0({Eo:U=>{C?me(un,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(T||(me(un,`Opening RPC '${e}' stream ${o} transport.`),I.open(),T=!0),me(un,`RPC '${e}' stream ${o} sending:`,U),I.send(U))},Ao:()=>I.close()}),$=(U,H,ee)=>{U.listen(H,ie=>{try{ee(ie)}catch(pe){setTimeout(()=>{throw pe},0)}})};return $(I,va.EventType.OPEN,()=>{C||(me(un,`RPC '${e}' stream ${o} transport opened.`),M.So())}),$(I,va.EventType.CLOSE,()=>{C||(C=!0,me(un,`RPC '${e}' stream ${o} transport closed`),M.Do())}),$(I,va.EventType.ERROR,U=>{C||(C=!0,Io(un,`RPC '${e}' stream ${o} transport errored:`,U),M.Do(new ge(J.UNAVAILABLE,"The operation could not be completed")))}),$(I,va.EventType.MESSAGE,U=>{var H;if(!C){const ee=U.data[0];ot(!!ee);const ie=ee,pe=(ie==null?void 0:ie.error)||((H=ie[0])===null||H===void 0?void 0:H.error);if(pe){me(un,`RPC '${e}' stream ${o} received error:`,pe);const z=pe.status;let ce=function(R){const x=Dt[R];if(x!==void 0)return Dy(x)}(z),k=pe.message;ce===void 0&&(ce=J.INTERNAL,k="Unknown error status: "+z+" with message "+pe.message),C=!0,M.Do(new ge(ce,k)),I.close()}else me(un,`RPC '${e}' stream ${o} received:`,ee),M.vo(ee)}}),$(d,ry.STAT_EVENT,U=>{U.stat===Qh.PROXY?me(un,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===Qh.NOPROXY&&me(un,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.bo()},0),M}}function Mh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(r){return new FT(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,t,s=1e3,o=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=s,this.Ko=o,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-s);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e,t,s,o,l,h,d,g){this.li=e,this.Yo=s,this.Zo=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=g,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new qy(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(li(t.toString()),li("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.Xo===t&&this.I_(s,o)},s=>{e(()=>{const o=new ge(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.E_(o)})})}I_(e,t){const s=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{s(()=>this.E_(o))}),this.stream.onMessage(o=>{s(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return me("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class D0 extends Hy{constructor(e,t,s,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=zT(this.serializer,e),s=function(l){if(!("targetChange"in l))return Le.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Le.min():h.readTime?Mr(h.readTime):Le.min()}(e);return this.listener.R_(t,s)}V_(e){const t={};t.database=rf(this.serializer),t.addTarget=function(l,h){let d;const g=h.target;if(d=Xh(g)?{documents:$T(l,g)}:{query:qT(l,g).ct},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=Ly(l,h.resumeToken);const y=ef(l,h.expectedCount);y!==null&&(d.expectedCount=y)}else if(h.snapshotVersion.compareTo(Le.min())>0){d.readTime=Ru(l,h.snapshotVersion.toTimestamp());const y=ef(l,h.expectedCount);y!==null&&(d.expectedCount=y)}return d}(this.serializer,e);const s=WT(this.serializer,e);s&&(t.labels=s),this.c_(t)}m_(e){const t={};t.database=rf(this.serializer),t.removeTarget=e,this.c_(t)}}class V0 extends Hy{constructor(e,t,s,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return ot(!!e.streamToken),this.lastStreamToken=e.streamToken,ot(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){ot(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=BT(e.writeResults,e.commitTime),s=Mr(e.commitTime);return this.listener.y_(s,t)}w_(){const e={};e.database=rf(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>jT(this.serializer,s))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0 extends class{}{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new ge(J.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,s,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Oo(e,tf(t,s),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(J.UNKNOWN,l.toString())})}ko(e,t,s,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.ko(e,tf(t,s),o,h,d,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ge(J.UNKNOWN,h.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class L0{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(li(t),this.C_=!1):me("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(h=>{s.enqueueAndForget(async()=>{Ds(this)&&(me("RemoteStore","Restarting streams for network reachability change."),await async function(g){const y=Oe(g);y.k_.add(4),await za(y),y.K_.set("Unknown"),y.k_.delete(4),await Hu(y)}(this))})}),this.K_=new L0(s,o)}}async function Hu(r){if(Ds(r))for(const e of r.q_)await e(!0)}async function za(r){for(const e of r.q_)await e(!1)}function Wy(r,e){const t=Oe(r);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),Nf(t)?Vf(t):Oo(t).s_()&&Df(t,e))}function xf(r,e){const t=Oe(r),s=Oo(t);t.B_.delete(e),s.s_()&&Qy(t,e),t.B_.size===0&&(s.s_()?s.a_():Ds(t)&&t.K_.set("Unknown"))}function Df(r,e){if(r.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Oo(r).V_(e)}function Qy(r,e){r.U_.xe(e),Oo(r).m_(e)}function Vf(r){r.U_=new NT({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>r.B_.get(e)||null,nt:()=>r.datastore.serializer.databaseId}),Oo(r).start(),r.K_.F_()}function Nf(r){return Ds(r)&&!Oo(r).i_()&&r.B_.size>0}function Ds(r){return Oe(r).k_.size===0}function Ky(r){r.U_=void 0}async function O0(r){r.K_.set("Online")}async function F0(r){r.B_.forEach((e,t)=>{Df(r,e)})}async function b0(r,e){Ky(r),Nf(r)?(r.K_.O_(e),Vf(r)):r.K_.set("Unknown")}async function U0(r,e,t){if(r.K_.set("Online"),e instanceof Ny&&e.state===2&&e.cause)try{await async function(o,l){const h=l.cause;for(const d of l.targetIds)o.B_.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.B_.delete(d),o.U_.removeTarget(d))}(r,e)}catch(s){me("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Cu(r,s)}else if(e instanceof du?r.U_.$e(e):e instanceof Vy?r.U_.Je(e):r.U_.Ge(e),!t.isEqual(Le.min()))try{const s=await $y(r.localStore);t.compareTo(s)>=0&&await function(l,h){const d=l.U_.it(h);return d.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=l.B_.get(y);E&&l.B_.set(y,E.withResumeToken(g.resumeToken,h))}}),d.targetMismatches.forEach((g,y)=>{const E=l.B_.get(g);if(!E)return;l.B_.set(g,E.withResumeToken(en.EMPTY_BYTE_STRING,E.snapshotVersion)),Qy(l,g);const I=new $i(E.target,g,y,E.sequenceNumber);Df(l,I)}),l.remoteSyncer.applyRemoteEvent(d)}(r,t)}catch(s){me("RemoteStore","Failed to raise snapshot:",s),await Cu(r,s)}}async function Cu(r,e,t){if(!Lo(e))throw e;r.k_.add(1),await za(r),r.K_.set("Offline"),t||(t=()=>$y(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{me("RemoteStore","Retrying IndexedDB access"),await t(),r.k_.delete(1),await Hu(r)})}function Gy(r,e){return e().catch(t=>Cu(r,t,e))}async function Wu(r){const e=Oe(r),t=Xi(e);let s=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;z0(e);)try{const o=await S0(e.localStore,s);if(o===null){e.L_.length===0&&t.a_();break}s=o.batchId,j0(e,o)}catch(o){await Cu(e,o)}Yy(e)&&Xy(e)}function z0(r){return Ds(r)&&r.L_.length<10}function j0(r,e){r.L_.push(e);const t=Xi(r);t.s_()&&t.f_&&t.g_(e.mutations)}function Yy(r){return Ds(r)&&!Xi(r).i_()&&r.L_.length>0}function Xy(r){Xi(r).start()}async function B0(r){Xi(r).w_()}async function $0(r){const e=Xi(r);for(const t of r.L_)e.g_(t.mutations)}async function q0(r,e,t){const s=r.L_.shift(),o=If.from(s,e,t);await Gy(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Wu(r)}async function H0(r,e){e&&Xi(r).f_&&await async function(s,o){if(function(h){return xT(h)&&h!==J.ABORTED}(o.code)){const l=s.L_.shift();Xi(s).__(),await Gy(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Wu(s)}}(r,e),Yy(r)&&Xy(r)}async function ag(r,e){const t=Oe(r);t.asyncQueue.verifyOperationInProgress(),me("RemoteStore","RemoteStore received new credentials");const s=Ds(t);t.k_.add(3),await za(t),s&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Hu(t)}async function W0(r,e){const t=Oe(r);e?(t.k_.delete(2),await Hu(t)):e||(t.k_.add(2),await za(t),t.K_.set("Unknown"))}function Oo(r){return r.W_||(r.W_=function(t,s,o){const l=Oe(t);return l.b_(),new D0(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{Ro:O0.bind(null,r),mo:F0.bind(null,r),po:b0.bind(null,r),R_:U0.bind(null,r)}),r.q_.push(async e=>{e?(r.W_.__(),Nf(r)?Vf(r):r.K_.set("Unknown")):(await r.W_.stop(),Ky(r))})),r.W_}function Xi(r){return r.G_||(r.G_=function(t,s,o){const l=Oe(t);return l.b_(),new V0(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{Ro:()=>Promise.resolve(),mo:B0.bind(null,r),po:H0.bind(null,r),p_:$0.bind(null,r),y_:q0.bind(null,r)}),r.q_.push(async e=>{e?(r.G_.__(),await Wu(r)):(await r.G_.stop(),r.L_.length>0&&(me("RemoteStore",`Stopping write stream with ${r.L_.length} pending writes`),r.L_=[]))})),r.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const h=Date.now()+s,d=new Lf(e,t,h,o,l);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mf(r,e){if(li("AsyncQueue",`${e}: ${r}`),Lo(r))return new ge(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{static emptySet(e){return new So(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Re.comparator(t.key,s.key):(t,s)=>Re.comparator(t.key,s.key),this.keyedMap=Ea(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof So)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new So;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(){this.z_=new Tt(Re.comparator)}track(e){const t=e.doc.key,s=this.z_.get(t);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(t,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(t):e.type===1&&s.type===2?this.z_=this.z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Ve():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class ko{constructor(e,t,s,o,l,h,d,g,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,o,l){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new ko(e,t,So.emptySet(t),h,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class K0{constructor(){this.queries=ug(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,s){const o=Oe(t),l=o.queries;o.queries=ug(),l.forEach((h,d)=>{for(const g of d.J_)g.onError(s)})})(this,new ge(J.ABORTED,"Firestore shutting down"))}}function ug(){return new xs(r=>_y(r),Uu)}async function Jy(r,e){const t=Oe(r);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.Y_()&&e.Z_()&&(s=2):(l=new Q0,s=e.Z_()?0:1);try{switch(s){case 0:l.H_=await t.onListen(o,!0);break;case 1:l.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=Mf(h,`Initialization of query '${vo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&Of(t)}async function Zy(r,e){const t=Oe(r),s=e.query;let o=3;const l=t.queries.get(s);if(l){const h=l.J_.indexOf(e);h>=0&&(l.J_.splice(h,1),l.J_.length===0?o=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function G0(r,e){const t=Oe(r);let s=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const d of h.J_)d.ta(o)&&(s=!0);h.H_=o}}s&&Of(t)}function Y0(r,e,t){const s=Oe(r),o=s.queries.get(e);if(o)for(const l of o.J_)l.onError(t);s.queries.delete(e)}function Of(r){r.X_.forEach(e=>{e.next()})}var of,cg;(cg=of||(of={})).na="default",cg.Cache="cache";class e_{constructor(e,t,s){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ko(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const s=t!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==of.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e){this.key=e}}class n_{constructor(e){this.key=e}}class X0{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=je(),this.mutatedKeys=je(),this.Va=vy(e),this.ma=new So(this.Va)}get fa(){return this.da}ga(e,t){const s=t?t.pa:new lg,o=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,I)=>{const T=o.get(E),C=zu(this.query,I)?I:null,M=!!T&&this.mutatedKeys.has(T.key),$=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let U=!1;T&&C?T.data.isEqual(C.data)?M!==$&&(s.track({type:3,doc:C}),U=!0):this.ya(T,C)||(s.track({type:2,doc:C}),U=!0,(g&&this.Va(C,g)>0||y&&this.Va(C,y)<0)&&(d=!0)):!T&&C?(s.track({type:0,doc:C}),U=!0):T&&!C&&(s.track({type:1,doc:T}),U=!0,(g||y)&&(d=!0)),U&&(C?(h=h.add(C),l=$?l.add(E):l.delete(E)):(h=h.delete(E),l=l.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),l=l.delete(E.key),s.track({type:1,doc:E})}return{ma:h,pa:s,ss:d,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const h=e.pa.j_();h.sort((E,I)=>function(C,M){const $=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve()}};return $(C)-$(M)}(E.type,I.type)||this.Va(E.doc,I.doc)),this.wa(s),o=o!=null&&o;const d=t&&!o?this.Sa():[],g=this.Ra.size===0&&this.current&&!o?1:0,y=g!==this.Aa;return this.Aa=g,h.length!==0||y?{snapshot:new ko(this.query,e.ma,l,h,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new lg,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=je(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const t=[];return e.forEach(s=>{this.Ra.has(s)||t.push(new n_(s))}),this.Ra.forEach(s=>{e.has(s)||t.push(new t_(s))}),t}va(e){this.da=e.ds,this.Ra=je();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return ko.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class J0{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Z0{constructor(e){this.key=e,this.Fa=!1}}class eS{constructor(e,t,s,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Ma={},this.xa=new xs(d=>_y(d),Uu),this.Oa=new Map,this.Na=new Set,this.La=new Tt(Re.comparator),this.Ba=new Map,this.ka=new Cf,this.qa={},this.Qa=new Map,this.Ka=Po.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function tS(r,e,t=!0){const s=l_(r);let o;const l=s.xa.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Ca()):o=await r_(s,e,t,!0),o}async function nS(r,e){const t=l_(r);await r_(t,e,!0,!1)}async function r_(r,e,t,s){const o=await I0(r.localStore,Nr(e)),l=o.targetId,h=r.sharedClientState.addLocalQueryTarget(l,t);let d;return s&&(d=await rS(r,e,l,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&Wy(r.remoteStore,o),d}async function rS(r,e,t,s,o){r.Ua=(I,T,C)=>async function($,U,H,ee){let ie=U.view.ga(H);ie.ss&&(ie=await ig($.localStore,U.query,!1).then(({documents:k})=>U.view.ga(k,ie)));const pe=ee&&ee.targetChanges.get(U.targetId),z=ee&&ee.targetMismatches.get(U.targetId)!=null,ce=U.view.applyChanges(ie,$.isPrimaryClient,pe,z);return fg($,U.targetId,ce.ba),ce.snapshot}(r,I,T,C);const l=await ig(r.localStore,e,!0),h=new X0(e,l.ds),d=h.ga(l.documents),g=Ua.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),y=h.applyChanges(d,r.isPrimaryClient,g);fg(r,t,y.ba);const E=new J0(e,t,h);return r.xa.set(e,E),r.Oa.has(t)?r.Oa.get(t).push(e):r.Oa.set(t,[e]),y.snapshot}async function iS(r,e,t){const s=Oe(r),o=s.xa.get(e),l=s.Oa.get(o.targetId);if(l.length>1)return s.Oa.set(o.targetId,l.filter(h=>!Uu(h,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await sf(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&xf(s.remoteStore,o.targetId),af(s,o.targetId)}).catch(No)):(af(s,o.targetId),await sf(s.localStore,o.targetId,!0))}async function sS(r,e){const t=Oe(r),s=t.xa.get(e),o=t.Oa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),xf(t.remoteStore,s.targetId))}async function oS(r,e,t){const s=dS(r);try{const o=await function(h,d){const g=Oe(h),y=Ot.now(),E=d.reduce((C,M)=>C.add(M.key),je());let I,T;return g.persistence.runTransaction("Locally write mutations","readwrite",C=>{let M=ui(),$=je();return g.hs.getEntries(C,E).next(U=>{M=U,M.forEach((H,ee)=>{ee.isValidDocument()||($=$.add(H))})}).next(()=>g.localDocuments.getOverlayedDocuments(C,M)).next(U=>{I=U;const H=[];for(const ee of d){const ie=RT(ee,I.get(ee.key).overlayedDocument);ie!=null&&H.push(new ts(ee.key,ie,cy(ie.value.mapValue),Lr.exists(!0)))}return g.mutationQueue.addMutationBatch(C,y,H,d)}).next(U=>{T=U;const H=U.applyToLocalDocumentSet(I,$);return g.documentOverlayCache.saveOverlays(C,U.batchId,H)})}).then(()=>({batchId:T.batchId,changes:wy(I)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,d,g){let y=h.qa[h.currentUser.toKey()];y||(y=new Tt(qe)),y=y.insert(d,g),h.qa[h.currentUser.toKey()]=y}(s,o.batchId,t),await ja(s,o.changes),await Wu(s.remoteStore)}catch(o){const l=Mf(o,"Failed to persist write");t.reject(l)}}async function i_(r,e){const t=Oe(r);try{const s=await w0(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Ba.get(l);h&&(ot(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Fa=!0:o.modifiedDocuments.size>0?ot(h.Fa):o.removedDocuments.size>0&&(ot(h.Fa),h.Fa=!1))}),await ja(t,s,e)}catch(s){await No(s)}}function hg(r,e,t){const s=Oe(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.xa.forEach((l,h)=>{const d=h.view.ea(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const g=Oe(h);g.onlineState=d;let y=!1;g.queries.forEach((E,I)=>{for(const T of I.J_)T.ea(d)&&(y=!0)}),y&&Of(g)}(s.eventManager,e),o.length&&s.Ma.R_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function aS(r,e,t){const s=Oe(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ba.get(e),l=o&&o.key;if(l){let h=new Tt(Re.comparator);h=h.insert(l,hn.newNoDocument(l,Le.min()));const d=je().add(l),g=new $u(Le.min(),new Map,new Tt(qe),h,d);await i_(s,g),s.La=s.La.remove(l),s.Ba.delete(e),Ff(s)}else await sf(s.localStore,e,!1).then(()=>af(s,e,t)).catch(No)}async function lS(r,e){const t=Oe(r),s=e.batch.batchId;try{const o=await E0(t.localStore,e);o_(t,s,null),s_(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await ja(t,o)}catch(o){await No(o)}}async function uS(r,e,t){const s=Oe(r);try{const o=await function(h,d){const g=Oe(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return g.mutationQueue.lookupMutationBatch(y,d).next(I=>(ot(I!==null),E=I.keys(),g.mutationQueue.removeMutationBatch(y,I))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,d)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>g.localDocuments.getDocuments(y,E))})}(s.localStore,e);o_(s,e,t),s_(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await ja(s,o)}catch(o){await No(o)}}function s_(r,e){(r.Qa.get(e)||[]).forEach(t=>{t.resolve()}),r.Qa.delete(e)}function o_(r,e,t){const s=Oe(r);let o=s.qa[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.qa[s.currentUser.toKey()]=o}}function af(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Oa.get(e))r.xa.delete(s),t&&r.Ma.Wa(s,t);r.Oa.delete(e),r.isPrimaryClient&&r.ka.yr(e).forEach(s=>{r.ka.containsKey(s)||a_(r,s)})}function a_(r,e){r.Na.delete(e.path.canonicalString());const t=r.La.get(e);t!==null&&(xf(r.remoteStore,t),r.La=r.La.remove(e),r.Ba.delete(t),Ff(r))}function fg(r,e,t){for(const s of t)s instanceof t_?(r.ka.addReference(s.key,e),cS(r,s)):s instanceof n_?(me("SyncEngine","Document no longer in limbo: "+s.key),r.ka.removeReference(s.key,e),r.ka.containsKey(s.key)||a_(r,s.key)):Ve()}function cS(r,e){const t=e.key,s=t.path.canonicalString();r.La.get(t)||r.Na.has(s)||(me("SyncEngine","New document in limbo: "+t),r.Na.add(s),Ff(r))}function Ff(r){for(;r.Na.size>0&&r.La.size<r.maxConcurrentLimboResolutions;){const e=r.Na.values().next().value;r.Na.delete(e);const t=new Re(yt.fromString(e)),s=r.Ka.next();r.Ba.set(s,new Z0(t)),r.La=r.La.insert(t,s),Wy(r.remoteStore,new $i(Nr(Tf(t.path)),s,"TargetPurposeLimboResolution",Ou.oe))}}async function ja(r,e,t){const s=Oe(r),o=[],l=[],h=[];s.xa.isEmpty()||(s.xa.forEach((d,g)=>{h.push(s.Ua(g,e,t).then(y=>{var E;if((y||t)&&s.isPrimaryClient){const I=y?!y.fromCache:(E=t==null?void 0:t.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,I?"current":"not-current")}if(y){o.push(y);const I=kf.zi(g.targetId,y);l.push(I)}}))}),await Promise.all(h),s.Ma.R_(o),await async function(g,y){const E=Oe(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>Z.forEach(y,T=>Z.forEach(T.Wi,C=>E.persistence.referenceDelegate.addReference(I,T.targetId,C)).next(()=>Z.forEach(T.Gi,C=>E.persistence.referenceDelegate.removeReference(I,T.targetId,C)))))}catch(I){if(!Lo(I))throw I;me("LocalStore","Failed to update sequence numbers: "+I)}for(const I of y){const T=I.targetId;if(!I.fromCache){const C=E.us.get(T),M=C.snapshotVersion,$=C.withLastLimboFreeSnapshotVersion(M);E.us=E.us.insert(T,$)}}}(s.localStore,l))}async function hS(r,e){const t=Oe(r);if(!t.currentUser.isEqual(e)){me("SyncEngine","User change. New user:",e.toKey());const s=await By(t.localStore,e);t.currentUser=e,function(l,h){l.Qa.forEach(d=>{d.forEach(g=>{g.reject(new ge(J.CANCELLED,h))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ja(t,s.Ts)}}function fS(r,e){const t=Oe(r),s=t.Ba.get(e);if(s&&s.Fa)return je().add(s.key);{let o=je();const l=t.Oa.get(e);if(!l)return o;for(const h of l){const d=t.xa.get(h);o=o.unionWith(d.view.fa)}return o}}function l_(r){const e=Oe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=i_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aS.bind(null,e),e.Ma.R_=G0.bind(null,e.eventManager),e.Ma.Wa=Y0.bind(null,e.eventManager),e}function dS(r){const e=Oe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uS.bind(null,e),e}class Pu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qu(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return v0(this.persistence,new y0,e.initialUser,this.serializer)}ja(e){return new jy(Pf.ei,this.serializer)}za(e){return new A0}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pu.provider={build:()=>new Pu};class pS extends Pu{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){ot(this.persistence.referenceDelegate instanceof Au);const s=this.persistence.referenceDelegate.garbageCollector;return new n0(s,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new jy(s=>Au.ei(s,t),this.serializer)}}class lf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>hg(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=hS.bind(null,this.syncEngine),await W0(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new K0}()}createDatastore(e){const t=qu(e.databaseInfo.databaseId),s=function(l){return new x0(l)}(e.databaseInfo);return function(l,h,d,g){return new N0(l,h,d,g)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,l,h,d){return new M0(s,o,l,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>hg(this.syncEngine,t,0),function(){return og.p()?new og:new C0}())}createSyncEngine(e,t){return function(o,l,h,d,g,y,E){const I=new eS(o,l,h,d,g,y);return E&&(I.$a=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Oe(o);me("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await za(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}lf.provider={build:()=>new lf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):li("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=ay.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async h=>{me("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(me("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Mf(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Oh(r,e){r.asyncQueue.verifyOperationInProgress(),me("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await By(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function dg(r,e){r.asyncQueue.verifyOperationInProgress();const t=await gS(r);me("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>ag(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>ag(e.remoteStore,o)),r._onlineComponents=e}async function gS(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){me("FirestoreClient","Using user provided OfflineComponentProvider");try{await Oh(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Io("Error using user provided cache. Falling back to memory cache: "+t),await Oh(r,new Pu)}}else me("FirestoreClient","Using default OfflineComponentProvider"),await Oh(r,new pS(void 0));return r._offlineComponents}async function c_(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(me("FirestoreClient","Using user provided OnlineComponentProvider"),await dg(r,r._uninitializedComponentsProvider._online)):(me("FirestoreClient","Using default OnlineComponentProvider"),await dg(r,new lf))),r._onlineComponents}function yS(r){return c_(r).then(e=>e.syncEngine)}async function h_(r){const e=await c_(r),t=e.eventManager;return t.onListen=tS.bind(null,e.syncEngine),t.onUnlisten=iS.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=nS.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=sS.bind(null,e.syncEngine),t}function _S(r,e,t={}){const s=new si;return r.asyncQueue.enqueueAndForget(async()=>function(l,h,d,g,y){const E=new u_({next:T=>{E.eu(),h.enqueueAndForget(()=>Zy(l,I));const C=T.docs.has(d);!C&&T.fromCache?y.reject(new ge(J.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&T.fromCache&&g&&g.source==="server"?y.reject(new ge(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(T)},error:T=>y.reject(T)}),I=new e_(Tf(d.path),E,{includeMetadataChanges:!0,ua:!0});return Jy(l,I)}(await h_(r),r.asyncQueue,e,t,s)),s.promise}function vS(r,e,t={}){const s=new si;return r.asyncQueue.enqueueAndForget(async()=>function(l,h,d,g,y){const E=new u_({next:T=>{E.eu(),h.enqueueAndForget(()=>Zy(l,I)),T.fromCache&&g.source==="server"?y.reject(new ge(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(T)},error:T=>y.reject(T)}),I=new e_(d,E,{includeMetadataChanges:!0,ua:!0});return Jy(l,I)}(await h_(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_(r,e,t){if(!t)throw new ge(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function ES(r,e,t,s){if(e===!0&&s===!0)throw new ge(J.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function mg(r){if(!Re.isDocumentKey(r))throw new ge(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function gg(r){if(Re.isDocumentKey(r))throw new ge(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Qu(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ve()}function Ji(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ge(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Qu(r);throw new ge(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ge(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ES("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=f_((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ge(J.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ge(J.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ge(J.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ku{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yg(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Vw;switch(s.type){case"firstParty":return new Ow(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=pg.get(t);s&&(me("ComponentProvider","Removing Datastore"),pg.delete(t),s.terminate())}(this),Promise.resolve()}}function wS(r,e,t,s={}){var o;const l=(r=Ji(r,Ku))._getSettings(),h=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==h&&Io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},l),{host:h,ssl:!1})),s.mockUserToken){let d,g;if(typeof s.mockUserToken=="string")d=s.mockUserToken,g=cn.MOCK_USER;else{d=dE(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new ge(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new cn(y)}r._authCredentials=new Nw(new oy(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Vs(this.firestore,e,this._query)}}class xn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xn(this.firestore,e,this._key)}}class Wi extends Vs{constructor(e,t,s){super(e,t,Tf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xn(this.firestore,null,new Re(e))}withConverter(e){return new Wi(this.firestore,e,this._path)}}function p_(r,e,...t){if(r=oi(r),d_("collection","path",e),r instanceof Ku){const s=yt.fromString(e,...t);return gg(s),new Wi(r,null,s)}{if(!(r instanceof xn||r instanceof Wi))throw new ge(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(yt.fromString(e,...t));return gg(s),new Wi(r.firestore,null,s)}}function uf(r,e,...t){if(r=oi(r),arguments.length===1&&(e=ay.newId()),d_("doc","path",e),r instanceof Ku){const s=yt.fromString(e,...t);return mg(s),new xn(r,null,new Re(s))}{if(!(r instanceof xn||r instanceof Wi))throw new ge(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(yt.fromString(e,...t));return mg(s),new xn(r.firestore,r instanceof Wi?r.converter:null,new Re(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new qy(this,"async_queue_retry"),this.fu=()=>{const s=Mh();s&&me("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const t=Mh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Mh();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new si;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Lo(e))throw e;me("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const o=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(s);throw li("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.Ru=!1,s))));return this.gu=t,t}enqueueAfterDelay(e,t,s){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=Lf.createAndSchedule(this,e,t,s,l=>this.Su(l));return this.du.push(o),o}pu(){this.Au&&Ve()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class Ba extends Ku{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new _g,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _g(e),this._firestoreClient=void 0,await e}}}function TS(r,e){const t=typeof r=="object"?r:Tw(),s=typeof r=="string"?r:"(default)",o=_w(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=hE("firestore");l&&wS(o,...l)}return o}function bf(r){if(r._terminated)throw new ge(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||SS(r),r._firestoreClient}function SS(r){var e,t,s;const o=r._freezeSettings(),l=function(d,g,y,E){return new Xw(d,g,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,f_(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new mS(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&function(d){const g=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xo(en.fromBase64String(e))}catch(t){throw new ge(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new xo(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=/^__.*__$/;class RS{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ts(e,this.data,this.fieldMask,t,this.fieldTransforms):new ba(e,this.data,t,this.fieldTransforms)}}class m_{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ts(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function g_(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve()}}class Bf{constructor(e,t,s,o,l,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Bf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:s,Nu:!1});return o.Lu(e),o}Bu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:s,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return ku(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(g_(this.Mu)&&IS.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class AS{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||qu(e)}$u(e,t,s,o=!1){return new Bf({Mu:e,methodName:t,Ku:s,path:Zt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $f(r){const e=r._freezeSettings(),t=qu(r._databaseId);return new AS(r._databaseId,!!e.ignoreUndefinedProperties,t)}function CS(r,e,t,s,o,l={}){const h=r.$u(l.merge||l.mergeFields?2:0,e,t,o);qf("Data must be an object, but it was:",h,s);const d=y_(s,h);let g,y;if(l.merge)g=new zn(h.fieldMask),y=h.fieldTransforms;else if(l.mergeFields){const E=[];for(const I of l.mergeFields){const T=cf(e,I,t);if(!h.contains(T))throw new ge(J.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);v_(E,T)||E.push(T)}g=new zn(E),y=h.fieldTransforms.filter(I=>g.covers(I.field))}else g=null,y=h.fieldTransforms;return new RS(new kn(d),g,y)}class Yu extends Uf{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yu}}function PS(r,e,t,s){const o=r.$u(1,e,t);qf("Data must be an object, but it was:",o,s);const l=[],h=kn.empty();es(s,(g,y)=>{const E=Hf(e,g,t);y=oi(y);const I=o.Bu(E);if(y instanceof Yu)l.push(E);else{const T=$a(y,I);T!=null&&(l.push(E),h.set(E,T))}});const d=new zn(l);return new m_(h,d,o.fieldTransforms)}function kS(r,e,t,s,o,l){const h=r.$u(1,e,t),d=[cf(e,s,t)],g=[o];if(l.length%2!=0)throw new ge(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)d.push(cf(e,l[T])),g.push(l[T+1]);const y=[],E=kn.empty();for(let T=d.length-1;T>=0;--T)if(!v_(y,d[T])){const C=d[T];let M=g[T];M=oi(M);const $=h.Bu(C);if(M instanceof Yu)y.push(C);else{const U=$a(M,$);U!=null&&(y.push(C),E.set(C,U))}}const I=new zn(y);return new m_(E,I,h.fieldTransforms)}function xS(r,e,t,s=!1){return $a(t,r.$u(s?4:3,e))}function $a(r,e){if(__(r=oi(r)))return qf("Unsupported field value:",e,r),y_(r,e);if(r instanceof Uf)return function(s,o){if(!g_(o.Mu))throw o.qu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,o){const l=[];let h=0;for(const d of s){let g=$a(d,o.ku(h));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),h++}return{arrayValue:{values:l}}}(r,e)}return function(s,o){if((s=oi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return vT(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Ot.fromDate(s);return{timestampValue:Ru(o.serializer,l)}}if(s instanceof Ot){const l=new Ot(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ru(o.serializer,l)}}if(s instanceof zf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof xo)return{bytesValue:Ly(o.serializer,s._byteString)};if(s instanceof xn){const l=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw o.qu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Af(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof jf)return function(h,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.qu("VectorValues must only contain numeric values.");return Sf(d.serializer,g)})}}}}}}(s,o);throw o.qu(`Unsupported field value: ${Qu(s)}`)}(r,e)}function y_(r,e){const t={};return ly(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):es(r,(s,o)=>{const l=$a(o,e.Ou(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function __(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ot||r instanceof zf||r instanceof xo||r instanceof xn||r instanceof Uf||r instanceof jf)}function qf(r,e,t){if(!__(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=Qu(t);throw s==="an object"?e.qu(r+" a custom object"):e.qu(r+" "+s)}}function cf(r,e,t){if((e=oi(e))instanceof Gu)return e._internalPath;if(typeof e=="string")return Hf(r,e);throw ku("Field path arguments must be of type string or ",r,!1,void 0,t)}const DS=new RegExp("[~\\*/\\[\\]]");function Hf(r,e,t){if(e.search(DS)>=0)throw ku(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Gu(...e.split("."))._internalPath}catch{throw ku(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function ku(r,e,t,s,o){const l=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let g="";return(l||h)&&(g+=" (found",l&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new ge(J.INVALID_ARGUMENT,d+r+g)}function v_(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Wf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class VS extends E_{data(){return super.data()}}function Wf(r,e){return typeof e=="string"?Hf(r,e):e instanceof Gu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ge(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qf{}class w_ extends Qf{}function LS(r,e,...t){let s=[];e instanceof Qf&&s.push(e),s=s.concat(t),function(l){const h=l.filter(g=>g instanceof Gf).length,d=l.filter(g=>g instanceof Kf).length;if(h>1||h>0&&d>0)throw new ge(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Kf extends w_{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Kf(e,t,s)}_apply(e){const t=this._parse(e);return T_(e._query,t),new Vs(e.firestore,e.converter,Jh(e._query,t))}_parse(e){const t=$f(e.firestore);return function(l,h,d,g,y,E,I){let T;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ge(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Eg(I,E);const C=[];for(const M of I)C.push(vg(g,l,M));T={arrayValue:{values:C}}}else T=vg(g,l,I)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Eg(I,E),T=xS(d,h,I,E==="in"||E==="not-in");return Vt.create(y,E,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Gf extends Qf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Gf(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:yr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let h=o;const d=l.getFlattenedFilters();for(const g of d)T_(h,g),h=Jh(h,g)}(e._query,t),new Vs(e.firestore,e.converter,Jh(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Yf extends w_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Yf(e,t)}_apply(e){const t=function(o,l,h){if(o.startAt!==null)throw new ge(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ge(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new La(l,h)}(e._query,this._field,this._direction);return new Vs(e.firestore,e.converter,function(o,l){const h=o.explicitOrderBy.concat([l]);return new Mo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function MS(r,e="asc"){const t=e,s=Wf("orderBy",r);return Yf._create(s,t)}function vg(r,e,t){if(typeof(t=oi(t))=="string"){if(t==="")throw new ge(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yy(e)&&t.indexOf("/")!==-1)throw new ge(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(yt.fromString(t));if(!Re.isDocumentKey(s))throw new ge(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return zm(r,new Re(s))}if(t instanceof xn)return zm(r,t._key);throw new ge(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qu(t)}.`)}function Eg(r,e){if(!Array.isArray(r)||r.length===0)throw new ge(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function T_(r,e){const t=function(o,l){for(const h of o)for(const d of h.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ge(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class OS{convertValue(e,t="none"){switch(Yi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return es(e,(o,l)=>{s[o]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,o;const l=(o=(s=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>Pt(h.doubleValue));return new jf(l)}convertGeoPoint(e){return new zf(Pt(e.latitude),Pt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=bu(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Da(e));default:return null}}convertTimestamp(e){const t=Ki(e);return new Ot(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=yt.fromString(e);ot(zy(s));const o=new Va(s.get(1),s.get(3)),l=new Re(s.popFirst(5));return o.isEqual(t)||li(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(r,e,t){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class S_ extends E_{constructor(e,t,s,o,l,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new pu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Wf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class pu extends S_{data(e={}){return super.data(e)}}class bS{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ta(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new pu(this._firestore,this._userDataWriter,s.key,s,new Ta(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const g=new pu(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Ta(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const g=new pu(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Ta(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return d.type!==0&&(y=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),E=h.indexOf(d.doc.key)),{type:US(d.type),doc:g,oldIndex:y,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function US(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(r){r=Ji(r,xn);const e=Ji(r.firestore,Ba);return _S(bf(e),r._key).then(t=>qS(e,r,t))}class I_ extends OS{constructor(e){super(),this.firestore=e}convertBytes(e){return new xo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,t)}}function jS(r){r=Ji(r,Vs);const e=Ji(r.firestore,Ba),t=bf(e),s=new I_(e);return NS(r._query),vS(t,r._query).then(o=>new bS(e,s,r,o))}function BS(r,e,t,...s){r=Ji(r,xn);const o=Ji(r.firestore,Ba),l=$f(o);let h;return h=typeof(e=oi(e))=="string"||e instanceof Gu?kS(l,"updateDoc",r._key,e,t,s):PS(l,"updateDoc",r._key,e),R_(o,[h.toMutation(r._key,Lr.exists(!0))])}function $S(r,e){const t=Ji(r.firestore,Ba),s=uf(r),o=FS(r.converter,e);return R_(t,[CS($f(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Lr.exists(!1))]).then(()=>s)}function R_(r,e){return function(s,o){const l=new si;return s.asyncQueue.enqueueAndForget(async()=>oS(await yS(s),o,l)),l.promise}(bf(r),e)}function qS(r,e,t){const s=t.docs.get(e._key),o=new I_(r);return new S_(r,o,e._key,s,new Ta(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Vo=o})(ww),Eu(new Pa("firestore",(s,{instanceIdentifier:o,options:l})=>{const h=s.getProvider("app").getImmediate(),d=new Ba(new Lw(s.getProvider("auth-internal")),new bw(s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ge(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Va(y.options.projectId,E)}(h,o),h);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),To(Lm,"4.7.5",e),To(Lm,"4.7.5","esm2017")})();var HS="firebase",WS="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */To(HS,WS,"app");const QS={apiKey:"AIzaSyCuCV84v-eIJT0LTMPC_-EvMAnmue3uxbI",authDomain:"fir-summer-2024-ce6f0.firebaseapp.com",projectId:"fir-summer-2024-ce6f0",storageBucket:"fir-summer-2024-ce6f0.firebasestorage.app",messagingSenderId:"380846268982",appId:"1:380846268982:web:67f2671be55eeefd306e97"},KS=Xg(QS),xu=TS(KS),Du="contacts";var ma={},wg;function GS(){if(wg)return ma;wg=1,Object.defineProperty(ma,"__esModule",{value:!0}),ma.parse=h,ma.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function h(T,C){const M=new l,$=T.length;if($<2)return M;const U=(C==null?void 0:C.decode)||E;let H=0;do{const ee=T.indexOf("=",H);if(ee===-1)break;const ie=T.indexOf(";",H),pe=ie===-1?$:ie;if(ee>pe){H=T.lastIndexOf(";",ee-1)+1;continue}const z=d(T,H,ee),ce=g(T,ee,z),k=T.slice(z,ce);if(M[k]===void 0){let S=d(T,ee+1,pe),R=g(T,pe,S);const x=U(T.slice(S,R));M[k]=x}H=pe+1}while(H<$);return M}function d(T,C,M){do{const $=T.charCodeAt(C);if($!==32&&$!==9)return C}while(++C<M);return M}function g(T,C,M){for(;C>M;){const $=T.charCodeAt(--C);if($!==32&&$!==9)return C+1}return M}function y(T,C,M){const $=(M==null?void 0:M.encode)||encodeURIComponent;if(!r.test(T))throw new TypeError(`argument name is invalid: ${T}`);const U=$(C);if(!e.test(U))throw new TypeError(`argument val is invalid: ${C}`);let H=T+"="+U;if(!M)return H;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);H+="; Max-Age="+M.maxAge}if(M.domain){if(!t.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);H+="; Domain="+M.domain}if(M.path){if(!s.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);H+="; Path="+M.path}if(M.expires){if(!I(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);H+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(H+="; HttpOnly"),M.secure&&(H+="; Secure"),M.partitioned&&(H+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return H}function E(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function I(T){return o.call(T)==="[object Date]"}return ma}GS();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Tg="popstate";function YS(r={}){function e(o,l){let{pathname:h="/",search:d="",hash:g=""}=ci(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Fa("",{pathname:h,search:d,hash:g},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let h=o.document.querySelector("base"),d="";if(h&&h.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");d=y===-1?g:g.slice(0,y)}return d+"#"+(typeof l=="string"?l:Zi(l))}function s(o,l){$t(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return JS(e,t,s,r)}function He(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function $t(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function XS(){return Math.random().toString(36).substring(2,10)}function Sg(r,e){return{usr:r.state,key:r.key,idx:e}}function Fa(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ci(e):e,state:t,key:e&&e.key||s||XS()}}function Zi({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function ci(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function JS(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,h=o.history,d="POP",g=null,y=E();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function E(){return(h.state||{idx:null}).idx}function I(){d="POP";let U=E(),H=U==null?null:U-y;y=U,g&&g({action:d,location:$.location,delta:H})}function T(U,H){d="PUSH";let ee=Fa($.location,U,H);t(ee,U),y=E()+1;let ie=Sg(ee,y),pe=$.createHref(ee);try{h.pushState(ie,"",pe)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;o.location.assign(pe)}l&&g&&g({action:d,location:$.location,delta:1})}function C(U,H){d="REPLACE";let ee=Fa($.location,U,H);t(ee,U),y=E();let ie=Sg(ee,y),pe=$.createHref(ee);h.replaceState(ie,"",pe),l&&g&&g({action:d,location:$.location,delta:0})}function M(U){let H=o.location.origin!=="null"?o.location.origin:o.location.href,ee=typeof U=="string"?U:Zi(U);return ee=ee.replace(/ $/,"%20"),He(H,`No window.location.(origin|href) available to create URL for href: ${ee}`),new URL(ee,H)}let $={get action(){return d},get location(){return r(o,h)},listen(U){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Tg,I),g=U,()=>{o.removeEventListener(Tg,I),g=null}},createHref(U){return e(o,U)},createURL:M,encodeLocation(U){let H=M(U);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:T,replace:C,go(U){return h.go(U)}};return $}var ZS=new Set(["lazy","caseSensitive","path","id","index","children"]);function eI(r){return r.index===!0}function Vu(r,e,t=[],s={}){return r.map((o,l)=>{let h=[...t,String(l)],d=typeof o.id=="string"?o.id:h.join("-");if(He(o.index!==!0||!o.children,"Cannot specify children on an index route"),He(!s[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),eI(o)){let g={...o,...e(o),id:d};return s[d]=g,g}else{let g={...o,...e(o),id:d,children:void 0};return s[d]=g,o.children&&(g.children=Vu(o.children,e,h,s)),g}})}function Bi(r,e,t="/"){return mu(r,e,t,!1)}function mu(r,e,t,s){let o=typeof e=="string"?ci(e):e,l=_r(o.pathname||"/",t);if(l==null)return null;let h=A_(r);nI(h);let d=null;for(let g=0;d==null&&g<h.length;++g){let y=dI(l);d=hI(h[g],y,s)}return d}function tI(r,e){let{route:t,pathname:s,params:o}=r;return{id:t.id,pathname:s,params:o,data:e[t.id],handle:t.handle}}function A_(r,e=[],t=[],s=""){let o=(l,h,d)=>{let g={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};g.relativePath.startsWith("/")&&(He(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let y=Or([s,g.relativePath]),E=t.concat(g);l.children&&l.children.length>0&&(He(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),A_(l.children,e,E,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:uI(y,l.index),routesMeta:E})};return r.forEach((l,h)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,h);else for(let g of C_(l.path))o(l,h,g)}),e}function C_(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let h=C_(s.join("/")),d=[];return d.push(...h.map(g=>g===""?l:[l,g].join("/"))),o&&d.push(...h),d.map(g=>r.startsWith("/")&&g===""?"/":g)}function nI(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:cI(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var rI=/^:[\w-]+$/,iI=3,sI=2,oI=1,aI=10,lI=-2,Ig=r=>r==="*";function uI(r,e){let t=r.split("/"),s=t.length;return t.some(Ig)&&(s+=lI),e&&(s+=sI),t.filter(o=>!Ig(o)).reduce((o,l)=>o+(rI.test(l)?iI:l===""?oI:aI),s)}function cI(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function hI(r,e,t=!1){let{routesMeta:s}=r,o={},l="/",h=[];for(let d=0;d<s.length;++d){let g=s[d],y=d===s.length-1,E=l==="/"?e:e.slice(l.length)||"/",I=Nu({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),T=g.route;if(!I&&y&&t&&!s[s.length-1].route.index&&(I=Nu({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!I)return null;Object.assign(o,I.params),h.push({params:o,pathname:Or([l,I.pathname]),pathnameBase:gI(Or([l,I.pathnameBase])),route:T}),I.pathnameBase!=="/"&&(l=Or([l,I.pathnameBase]))}return h}function Nu(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=fI(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:I},T)=>{if(E==="*"){let M=d[T]||"";h=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const C=d[T];return I&&!C?y[E]=void 0:y[E]=(C||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:h,pattern:r}}function fI(r,e=!1,t=!0){$t(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,g)=>(s.push({paramName:d,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function dI(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $t(!1,`The URL path "${r}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function _r(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function pI(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?ci(r):r;return{pathname:t?t.startsWith("/")?t:mI(t,e):e,search:yI(s),hash:_I(o)}}function mI(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Fh(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function P_(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Xf(r){let e=P_(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Jf(r,e,t,s=!1){let o;typeof r=="string"?o=ci(r):(o={...r},He(!o.pathname||!o.pathname.includes("?"),Fh("?","pathname","search",o)),He(!o.pathname||!o.pathname.includes("#"),Fh("#","pathname","hash",o)),He(!o.search||!o.search.includes("#"),Fh("#","search","hash",o)));let l=r===""||o.pathname==="",h=l?"/":o.pathname,d;if(h==null)d=t;else{let I=e.length-1;if(!s&&h.startsWith("..")){let T=h.split("/");for(;T[0]==="..";)T.shift(),I-=1;o.pathname=T.join("/")}d=I>=0?e[I]:"/"}let g=pI(o,d),y=h&&h!=="/"&&h.endsWith("/"),E=(l||h===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var Or=r=>r.join("/").replace(/\/\/+/g,"/"),gI=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),yI=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,_I=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Lu=class{constructor(r,e,t,s=!1){this.status=r,this.statusText=e||"",this.internal=s,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Xu(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var k_=["POST","PUT","PATCH","DELETE"],vI=new Set(k_),EI=["GET",...k_],wI=new Set(EI),TI=new Set([301,302,303,307,308]),SI=new Set([307,308]),bh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},II={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ga={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Zf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,RI=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),x_="remix-router-transitions",D_=Symbol("ResetLoaderData");function AI(r){const e=r.window?r.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";He(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=r.mapRouteProperties||RI,o={},l=Vu(r.routes,s,void 0,o),h,d=r.basename||"/",g=r.dataStrategy||DI,y=r.patchRoutesOnNavigation,E={...r.future},I=null,T=new Set,C=null,M=null,$=null,U=r.hydrationData!=null,H=Bi(l,r.history.location,d),ee=null;if(H==null&&!y){let V=Yn(404,{pathname:r.history.location.pathname}),{matches:F,route:K}=Mg(l);H=F,ee={[K.id]:V}}H&&!r.hydrationData&&er(H,l,r.history.location.pathname).active&&(H=null);let ie;if(H)if(H.some(V=>V.route.lazy))ie=!1;else if(!H.some(V=>V.route.loader))ie=!0;else{let V=r.hydrationData?r.hydrationData.loaderData:null,F=r.hydrationData?r.hydrationData.errors:null;if(F){let K=H.findIndex(X=>F[X.route.id]!==void 0);ie=H.slice(0,K+1).every(X=>!ff(X.route,V,F))}else ie=H.every(K=>!ff(K.route,V,F))}else{ie=!1,H=[];let V=er(null,l,r.history.location.pathname);V.active&&V.matches&&(H=V.matches)}let pe,z={historyAction:r.history.action,location:r.history.location,matches:H,initialized:ie,navigation:bh,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||ee,fetchers:new Map,blockers:new Map},ce="POP",k=!1,S,R=!1,x=new Map,N=null,b=!1,P=!1,ct=new Set,We=new Map,At=0,Qe=-1,oe=new Map,Te=new Set,ue=new Map,O=new Map,Y=new Set,Ee=new Map,Me,Ne=null;function ze(){if(I=r.history.listen(({action:V,location:F,delta:K})=>{if(Me){Me(),Me=void 0;return}$t(Ee.size===0||K!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let X=yi({currentLocation:z.location,nextLocation:F,historyAction:V});if(X&&K!=null){let he=new Promise(ye=>{Me=ye});r.history.go(K*-1),Tr(X,{state:"blocked",location:F,proceed(){Tr(X,{state:"proceeding",proceed:void 0,reset:void 0,location:F}),he.then(()=>r.history.go(K))},reset(){let ye=new Map(z.blockers);ye.set(X,ga),Fe({blockers:ye})}});return}return tn(V,F)}),t){BI(e,x);let V=()=>$I(e,x);e.addEventListener("pagehide",V),N=()=>e.removeEventListener("pagehide",V)}return z.initialized||tn("POP",z.location,{initialHydration:!0}),pe}function Je(){I&&I(),N&&N(),T.clear(),S&&S.abort(),z.fetchers.forEach((V,F)=>Dn(F)),z.blockers.forEach((V,F)=>gi(F))}function Ze(V){return T.add(V),()=>T.delete(V)}function Fe(V,F={}){z={...z,...V};let K=[],X=[];z.fetchers.forEach((he,ye)=>{he.state==="idle"&&(Y.has(ye)?K.push(ye):X.push(ye))}),[...T].forEach(he=>he(z,{deletedFetchers:K,viewTransitionOpts:F.viewTransitionOpts,flushSync:F.flushSync===!0})),K.forEach(he=>Dn(he)),X.forEach(he=>z.fetchers.delete(he))}function ft(V,F,{flushSync:K}={}){var ae,xe;let X=z.actionData!=null&&z.navigation.formMethod!=null&&gr(z.navigation.formMethod)&&z.navigation.state==="loading"&&((ae=V.state)==null?void 0:ae._isRedirect)!==!0,he;F.actionData?Object.keys(F.actionData).length>0?he=F.actionData:he=null:X?he=z.actionData:he=null;let ye=F.loaderData?Ng(z.loaderData,F.loaderData,F.matches||[],F.errors):z.loaderData,Ae=z.blockers;Ae.size>0&&(Ae=new Map(Ae),Ae.forEach((be,rt)=>Ae.set(rt,ga)));let fe=k===!0||z.navigation.formMethod!=null&&gr(z.navigation.formMethod)&&((xe=V.state)==null?void 0:xe._isRedirect)!==!0;h&&(l=h,h=void 0),b||ce==="POP"||(ce==="PUSH"?r.history.push(V,V.state):ce==="REPLACE"&&r.history.replace(V,V.state));let ve;if(ce==="POP"){let be=x.get(z.location.pathname);be&&be.has(V.pathname)?ve={currentLocation:z.location,nextLocation:V}:x.has(V.pathname)&&(ve={currentLocation:V,nextLocation:z.location})}else if(R){let be=x.get(z.location.pathname);be?be.add(V.pathname):(be=new Set([V.pathname]),x.set(z.location.pathname,be)),ve={currentLocation:z.location,nextLocation:V}}Fe({...F,actionData:he,loaderData:ye,historyAction:ce,location:V,initialized:!0,navigation:bh,revalidation:"idle",restoreScrollPosition:Vn(V,F.matches||z.matches),preventScrollReset:fe,blockers:Ae},{viewTransitionOpts:ve,flushSync:K===!0}),ce="POP",k=!1,R=!1,b=!1,P=!1,Ne==null||Ne.resolve(),Ne=null}async function jn(V,F){if(typeof V=="number"){r.history.go(V);return}let K=hf(z.location,z.matches,d,V,F==null?void 0:F.fromRouteId,F==null?void 0:F.relative),{path:X,submission:he,error:ye}=Rg(!1,K,F),Ae=z.location,fe=Fa(z.location,X,F&&F.state);fe={...fe,...r.history.encodeLocation(fe)};let ve=F&&F.replace!=null?F.replace:void 0,ae="PUSH";ve===!0?ae="REPLACE":ve===!1||he!=null&&gr(he.formMethod)&&he.formAction===z.location.pathname+z.location.search&&(ae="REPLACE");let xe=F&&"preventScrollReset"in F?F.preventScrollReset===!0:void 0,be=(F&&F.flushSync)===!0,rt=yi({currentLocation:Ae,nextLocation:fe,historyAction:ae});if(rt){Tr(rt,{state:"blocked",location:fe,proceed(){Tr(rt,{state:"proceeding",proceed:void 0,reset:void 0,location:fe}),jn(V,F)},reset(){let It=new Map(z.blockers);It.set(rt,ga),Fe({blockers:It})}});return}await tn(ae,fe,{submission:he,pendingError:ye,preventScrollReset:xe,replace:F&&F.replace,enableViewTransition:F&&F.viewTransition,flushSync:be})}function hi(){Ne||(Ne=qI()),vr(),Fe({revalidation:"loading"});let V=Ne.promise;return z.navigation.state==="submitting"?V:z.navigation.state==="idle"?(tn(z.historyAction,z.location,{startUninterruptedRevalidation:!0}),V):(tn(ce||z.historyAction,z.navigation.location,{overrideNavigation:z.navigation,enableViewTransition:R===!0}),V)}async function tn(V,F,K){S&&S.abort(),S=null,ce=V,b=(K&&K.startUninterruptedRevalidation)===!0,_n(z.location,z.matches),k=(K&&K.preventScrollReset)===!0,R=(K&&K.enableViewTransition)===!0;let X=h||l,he=K&&K.overrideNavigation,ye=Bi(X,F,d),Ae=(K&&K.flushSync)===!0,fe=er(ye,X,F.pathname);if(fe.active&&fe.matches&&(ye=fe.matches),!ye){let{error:Be,notFoundMatches:et,route:it}=Zn(F.pathname);ft(F,{matches:et,loaderData:{},errors:{[it.id]:Be}},{flushSync:Ae});return}if(z.initialized&&!P&&FI(z.location,F)&&!(K&&K.submission&&gr(K.submission.formMethod))){ft(F,{matches:ye},{flushSync:Ae});return}S=new AbortController;let ve=yo(r.history,F,S.signal,K&&K.submission),ae;if(K&&K.pendingError)ae=[Rs(ye).route.id,{type:"error",error:K.pendingError}];else if(K&&K.submission&&gr(K.submission.formMethod)){let Be=await zr(ve,F,K.submission,ye,fe.active,{replace:K.replace,flushSync:Ae});if(Be.shortCircuited)return;if(Be.pendingActionResult){let[et,it]=Be.pendingActionResult;if(Un(it)&&Xu(it.error)&&it.error.status===404){S=null,ft(F,{matches:Be.matches,loaderData:{},errors:{[et]:it.error}});return}}ye=Be.matches||ye,ae=Be.pendingActionResult,he=Uh(F,K.submission),Ae=!1,fe.active=!1,ve=yo(r.history,ve.url,ve.signal)}let{shortCircuited:xe,matches:be,loaderData:rt,errors:It}=await fi(ve,F,ye,fe.active,he,K&&K.submission,K&&K.fetcherSubmission,K&&K.replace,K&&K.initialHydration===!0,Ae,ae);xe||(S=null,ft(F,{matches:be||ye,...Lg(ae),loaderData:rt,errors:It}))}async function zr(V,F,K,X,he,ye={}){vr();let Ae=zI(F,K);if(Fe({navigation:Ae},{flushSync:ye.flushSync===!0}),he){let ae=await fn(X,F.pathname,V.signal);if(ae.type==="aborted")return{shortCircuited:!0};if(ae.type==="error"){let xe=Rs(ae.partialMatches).route.id;return{matches:ae.partialMatches,pendingActionResult:[xe,{type:"error",error:ae.error}]}}else if(ae.matches)X=ae.matches;else{let{notFoundMatches:xe,error:be,route:rt}=Zn(F.pathname);return{matches:xe,pendingActionResult:[rt.id,{type:"error",error:be}]}}}let fe,ve=Sa(X,F);if(!ve.route.action&&!ve.route.lazy)fe={type:"error",error:Yn(405,{method:V.method,pathname:F.pathname,routeId:ve.route.id})};else if(fe=(await Jn("action",z,V,[ve],X,null))[ve.route.id],V.signal.aborted)return{shortCircuited:!0};if(Cs(fe)){let ae;return ye&&ye.replace!=null?ae=ye.replace:ae=xg(fe.response.headers.get("Location"),new URL(V.url),d)===z.location.pathname+z.location.search,await qt(V,fe,!0,{submission:K,replace:ae}),{shortCircuited:!0}}if(Un(fe)){let ae=Rs(X,ve.route.id);return(ye&&ye.replace)!==!0&&(ce="PUSH"),{matches:X,pendingActionResult:[ae.route.id,fe]}}return{matches:X,pendingActionResult:[ve.route.id,fe]}}async function fi(V,F,K,X,he,ye,Ae,fe,ve,ae,xe){let be=he||Uh(F,ye),rt=ye||Ae||Fg(be),It=!b&&!ve;if(X){if(It){let dt=di(xe);Fe({navigation:be,...dt!==void 0?{actionData:dt}:{}},{flushSync:ae})}let Ke=await fn(K,F.pathname,V.signal);if(Ke.type==="aborted")return{shortCircuited:!0};if(Ke.type==="error"){let dt=Rs(Ke.partialMatches).route.id;return{matches:Ke.partialMatches,loaderData:{},errors:{[dt]:Ke.error}}}else if(Ke.matches)K=Ke.matches;else{let{error:dt,notFoundMatches:Qt,route:ir}=Zn(F.pathname);return{matches:Qt,loaderData:{},errors:{[ir.id]:dt}}}}let Be=h||l,[et,it]=Cg(r.history,z,K,rt,F,ve===!0,P,ct,Y,ue,Te,Be,d,xe);if(Qe=++At,et.length===0&&it.length===0){let Ke=wr();return ft(F,{matches:K,loaderData:{},errors:xe&&Un(xe[1])?{[xe[0]]:xe[1].error}:null,...Lg(xe),...Ke?{fetchers:new Map(z.fetchers)}:{}},{flushSync:ae}),{shortCircuited:!0}}if(It){let Ke={};if(!X){Ke.navigation=be;let dt=di(xe);dt!==void 0&&(Ke.actionData=dt)}it.length>0&&(Ke.fetchers=ns(it)),Fe(Ke,{flushSync:ae})}it.forEach(Ke=>{Ht(Ke.key),Ke.controller&&We.set(Ke.key,Ke.controller)});let tr=()=>it.forEach(Ke=>Ht(Ke.key));S&&S.signal.addEventListener("abort",tr);let{loaderResults:nr,fetcherResults:nn}=await jr(z,K,et,it,V);if(V.signal.aborted)return{shortCircuited:!0};S&&S.signal.removeEventListener("abort",tr),it.forEach(Ke=>We.delete(Ke.key));let Wt=au(nr);if(Wt)return await qt(V,Wt.result,!0,{replace:fe}),{shortCircuited:!0};if(Wt=au(nn),Wt)return Te.add(Wt.key),await qt(V,Wt.result,!0,{replace:fe}),{shortCircuited:!0};let{loaderData:qr,errors:Sr}=Vg(z,K,nr,xe,it,nn);ve&&z.errors&&(Sr={...z.errors,...Sr});let rr=wr(),st=mi(Qe),Hr=rr||st||it.length>0;return{matches:K,loaderData:qr,errors:Sr,...Hr?{fetchers:new Map(z.fetchers)}:{}}}function di(V){if(V&&!Un(V[1]))return{[V[0]]:V[1].data};if(z.actionData)return Object.keys(z.actionData).length===0?null:z.actionData}function ns(V){return V.forEach(F=>{let K=z.fetchers.get(F.key),X=ya(void 0,K?K.data:void 0);z.fetchers.set(F.key,X)}),new Map(z.fetchers)}async function Ms(V,F,K,X){Ht(V);let he=(X&&X.flushSync)===!0,ye=h||l,Ae=hf(z.location,z.matches,d,K,F,X==null?void 0:X.relative),fe=Bi(ye,Ae,d),ve=er(fe,ye,Ae);if(ve.active&&ve.matches&&(fe=ve.matches),!fe){at(V,F,Yn(404,{pathname:Ae}),{flushSync:he});return}let{path:ae,submission:xe,error:be}=Rg(!0,Ae,X);if(be){at(V,F,be,{flushSync:he});return}let rt=Sa(fe,ae),It=(X&&X.preventScrollReset)===!0;if(xe&&gr(xe.formMethod)){await pi(V,F,ae,rt,fe,ve.active,he,It,xe);return}ue.set(V,{routeId:F,path:ae}),await Xn(V,F,ae,rt,fe,ve.active,he,It,xe)}async function pi(V,F,K,X,he,ye,Ae,fe,ve){vr(),ue.delete(V);function ae(pt){if(!pt.route.action&&!pt.route.lazy){let vn=Yn(405,{method:ve.formMethod,pathname:K,routeId:F});return at(V,F,vn,{flushSync:Ae}),!0}return!1}if(!ye&&ae(X))return;let xe=z.fetchers.get(V);yn(V,jI(ve,xe),{flushSync:Ae});let be=new AbortController,rt=yo(r.history,K,be.signal,ve);if(ye){let pt=await fn(he,K,rt.signal);if(pt.type==="aborted")return;if(pt.type==="error"){at(V,F,pt.error,{flushSync:Ae});return}else if(pt.matches){if(he=pt.matches,X=Sa(he,K),ae(X))return}else{at(V,F,Yn(404,{pathname:K}),{flushSync:Ae});return}}We.set(V,be);let It=At,et=(await Jn("action",z,rt,[X],he,V))[X.route.id];if(rt.signal.aborted){We.get(V)===be&&We.delete(V);return}if(Y.has(V)){if(Cs(et)||Un(et)){yn(V,ji(void 0));return}}else{if(Cs(et))if(We.delete(V),Qe>It){yn(V,ji(void 0));return}else return Te.add(V),yn(V,ya(ve)),qt(rt,et,!1,{fetcherSubmission:ve,preventScrollReset:fe});if(Un(et)){at(V,F,et.error);return}}let it=z.navigation.location||z.location,tr=yo(r.history,it,be.signal),nr=h||l,nn=z.navigation.state!=="idle"?Bi(nr,z.navigation.location,d):z.matches;He(nn,"Didn't find any matches after fetcher action");let Wt=++At;oe.set(V,Wt);let qr=ya(ve,et.data);z.fetchers.set(V,qr);let[Sr,rr]=Cg(r.history,z,nn,ve,it,!1,P,ct,Y,ue,Te,nr,d,[X.route.id,et]);rr.filter(pt=>pt.key!==V).forEach(pt=>{let vn=pt.key,rn=z.fetchers.get(vn),Os=ya(void 0,rn?rn.data:void 0);z.fetchers.set(vn,Os),Ht(vn),pt.controller&&We.set(vn,pt.controller)}),Fe({fetchers:new Map(z.fetchers)});let st=()=>rr.forEach(pt=>Ht(pt.key));be.signal.addEventListener("abort",st);let{loaderResults:Hr,fetcherResults:Ke}=await jr(z,nn,Sr,rr,tr);if(be.signal.aborted)return;be.signal.removeEventListener("abort",st),oe.delete(V),We.delete(V),rr.forEach(pt=>We.delete(pt.key));let dt=au(Hr);if(dt)return qt(tr,dt.result,!1,{preventScrollReset:fe});if(dt=au(Ke),dt)return Te.add(dt.key),qt(tr,dt.result,!1,{preventScrollReset:fe});let{loaderData:Qt,errors:ir}=Vg(z,nn,Hr,void 0,rr,Ke);if(z.fetchers.has(V)){let pt=ji(et.data);z.fetchers.set(V,pt)}mi(Wt),z.navigation.state==="loading"&&Wt>Qe?(He(ce,"Expected pending action"),S&&S.abort(),ft(z.navigation.location,{matches:nn,loaderData:Qt,errors:ir,fetchers:new Map(z.fetchers)})):(Fe({errors:ir,loaderData:Ng(z.loaderData,Qt,nn,ir),fetchers:new Map(z.fetchers)}),P=!1)}async function Xn(V,F,K,X,he,ye,Ae,fe,ve){let ae=z.fetchers.get(V);yn(V,ya(ve,ae?ae.data:void 0),{flushSync:Ae});let xe=new AbortController,be=yo(r.history,K,xe.signal);if(ye){let et=await fn(he,K,be.signal);if(et.type==="aborted")return;if(et.type==="error"){at(V,F,et.error,{flushSync:Ae});return}else if(et.matches)he=et.matches,X=Sa(he,K);else{at(V,F,Yn(404,{pathname:K}),{flushSync:Ae});return}}We.set(V,xe);let rt=At,Be=(await Jn("loader",z,be,[X],he,V))[X.route.id];if(We.get(V)===xe&&We.delete(V),!be.signal.aborted){if(Y.has(V)){yn(V,ji(void 0));return}if(Cs(Be))if(Qe>rt){yn(V,ji(void 0));return}else{Te.add(V),await qt(be,Be,!1,{preventScrollReset:fe});return}if(Un(Be)){at(V,F,Be.error);return}yn(V,ji(Be.data))}}async function qt(V,F,K,{submission:X,fetcherSubmission:he,preventScrollReset:ye,replace:Ae}={}){F.response.headers.has("X-Remix-Revalidate")&&(P=!0);let fe=F.response.headers.get("Location");He(fe,"Expected a Location header on the redirect Response"),fe=xg(fe,new URL(V.url),d);let ve=Fa(z.location,fe,{_isRedirect:!0});if(t){let Be=!1;if(F.response.headers.has("X-Remix-Reload-Document"))Be=!0;else if(Zf.test(fe)){const et=r.history.createURL(fe);Be=et.origin!==e.location.origin||_r(et.pathname,d)==null}if(Be){Ae?e.location.replace(fe):e.location.assign(fe);return}}S=null;let ae=Ae===!0||F.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:xe,formAction:be,formEncType:rt}=z.navigation;!X&&!he&&xe&&be&&rt&&(X=Fg(z.navigation));let It=X||he;if(SI.has(F.response.status)&&It&&gr(It.formMethod))await tn(ae,ve,{submission:{...It,formAction:fe},preventScrollReset:ye||k,enableViewTransition:K?R:void 0});else{let Be=Uh(ve,X);await tn(ae,ve,{overrideNavigation:Be,fetcherSubmission:he,preventScrollReset:ye||k,enableViewTransition:K?R:void 0})}}async function Jn(V,F,K,X,he,ye){let Ae,fe={};try{Ae=await VI(g,V,F,K,X,he,ye,o,s)}catch(ve){return X.forEach(ae=>{fe[ae.route.id]={type:"error",error:ve}}),fe}for(let[ve,ae]of Object.entries(Ae))if(bI(ae)){let xe=ae.result;fe[ve]={type:"redirect",response:MI(xe,K,ve,he,d)}}else fe[ve]=await LI(ae);return fe}async function jr(V,F,K,X,he){let ye=Jn("loader",V,he,K,F,null),Ae=Promise.all(X.map(async ae=>{if(ae.matches&&ae.match&&ae.controller){let be=(await Jn("loader",V,yo(r.history,ae.path,ae.controller.signal),[ae.match],ae.matches,ae.key))[ae.match.route.id];return{[ae.key]:be}}else return Promise.resolve({[ae.key]:{type:"error",error:Yn(404,{pathname:ae.path})}})})),fe=await ye,ve=(await Ae).reduce((ae,xe)=>Object.assign(ae,xe),{});return{loaderResults:fe,fetcherResults:ve}}function vr(){P=!0,ue.forEach((V,F)=>{We.has(F)&&ct.add(F),Ht(F)})}function yn(V,F,K={}){z.fetchers.set(V,F),Fe({fetchers:new Map(z.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function at(V,F,K,X={}){let he=Rs(z.matches,F);Dn(V),Fe({errors:{[he.route.id]:K},fetchers:new Map(z.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function St(V){return O.set(V,(O.get(V)||0)+1),Y.has(V)&&Y.delete(V),z.fetchers.get(V)||II}function Dn(V){let F=z.fetchers.get(V);We.has(V)&&!(F&&F.state==="loading"&&oe.has(V))&&Ht(V),ue.delete(V),oe.delete(V),Te.delete(V),Y.delete(V),ct.delete(V),z.fetchers.delete(V)}function rs(V){let F=(O.get(V)||0)-1;F<=0?(O.delete(V),Y.add(V)):O.set(V,F),Fe({fetchers:new Map(z.fetchers)})}function Ht(V){let F=We.get(V);F&&(F.abort(),We.delete(V))}function Er(V){for(let F of V){let K=St(F),X=ji(K.data);z.fetchers.set(F,X)}}function wr(){let V=[],F=!1;for(let K of Te){let X=z.fetchers.get(K);He(X,`Expected fetcher: ${K}`),X.state==="loading"&&(Te.delete(K),V.push(K),F=!0)}return Er(V),F}function mi(V){let F=[];for(let[K,X]of oe)if(X<V){let he=z.fetchers.get(K);He(he,`Expected fetcher: ${K}`),he.state==="loading"&&(Ht(K),oe.delete(K),F.push(K))}return Er(F),F.length>0}function is(V,F){let K=z.blockers.get(V)||ga;return Ee.get(V)!==F&&Ee.set(V,F),K}function gi(V){z.blockers.delete(V),Ee.delete(V)}function Tr(V,F){let K=z.blockers.get(V)||ga;He(K.state==="unblocked"&&F.state==="blocked"||K.state==="blocked"&&F.state==="blocked"||K.state==="blocked"&&F.state==="proceeding"||K.state==="blocked"&&F.state==="unblocked"||K.state==="proceeding"&&F.state==="unblocked",`Invalid blocker state transition: ${K.state} -> ${F.state}`);let X=new Map(z.blockers);X.set(V,F),Fe({blockers:X})}function yi({currentLocation:V,nextLocation:F,historyAction:K}){if(Ee.size===0)return;Ee.size>1&&$t(!1,"A router only supports one blocker at a time");let X=Array.from(Ee.entries()),[he,ye]=X[X.length-1],Ae=z.blockers.get(he);if(!(Ae&&Ae.state==="proceeding")&&ye({currentLocation:V,nextLocation:F,historyAction:K}))return he}function Zn(V){let F=Yn(404,{pathname:V}),K=h||l,{matches:X,route:he}=Mg(K);return{notFoundMatches:X,route:he,error:F}}function _i(V,F,K){if(C=V,$=F,M=K||null,!U&&z.navigation===bh){U=!0;let X=Vn(z.location,z.matches);X!=null&&Fe({restoreScrollPosition:X})}return()=>{C=null,$=null,M=null}}function Br(V,F){return M&&M(V,F.map(X=>tI(X,z.loaderData)))||V.key}function _n(V,F){if(C&&$){let K=Br(V,F);C[K]=$()}}function Vn(V,F){if(C){let K=Br(V,F),X=C[K];if(typeof X=="number")return X}return null}function er(V,F,K){if(y)if(V){if(Object.keys(V[0].params).length>0)return{active:!0,matches:mu(F,K,d,!0)}}else return{active:!0,matches:mu(F,K,d,!0)||[]};return{active:!1,matches:null}}async function fn(V,F,K){if(!y)return{type:"success",matches:V};let X=V;for(;;){let he=h==null,ye=h||l,Ae=o;try{await y({path:F,matches:X,patch:(ae,xe)=>{K.aborted||kg(ae,xe,ye,Ae,s)}})}catch(ae){return{type:"error",error:ae,partialMatches:X}}finally{he&&!K.aborted&&(l=[...l])}if(K.aborted)return{type:"aborted"};let fe=Bi(ye,F,d);if(fe)return{type:"success",matches:fe};let ve=mu(ye,F,d,!0);if(!ve||X.length===ve.length&&X.every((ae,xe)=>ae.route.id===ve[xe].route.id))return{type:"success",matches:null};X=ve}}function ss(V){o={},h=Vu(V,s,void 0,o)}function $r(V,F){let K=h==null;kg(V,F,h||l,o,s),K&&(l=[...l],Fe({}))}return pe={get basename(){return d},get future(){return E},get state(){return z},get routes(){return l},get window(){return e},initialize:ze,subscribe:Ze,enableScrollRestoration:_i,navigate:jn,fetch:Ms,revalidate:hi,createHref:V=>r.history.createHref(V),encodeLocation:V=>r.history.encodeLocation(V),getFetcher:St,deleteFetcher:rs,dispose:Je,getBlocker:is,deleteBlocker:gi,patchRoutes:$r,_internalFetchControllers:We,_internalSetRoutes:ss},pe}function CI(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function hf(r,e,t,s,o,l){let h,d;if(o){h=[];for(let y of e)if(h.push(y),y.route.id===o){d=y;break}}else h=e,d=e[e.length-1];let g=Jf(s||".",Xf(h),_r(r.pathname,t)||r.pathname,l==="path");if(s==null&&(g.search=r.search,g.hash=r.hash),(s==null||s===""||s===".")&&d){let y=ed(g.search);if(d.route.index&&!y)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&y){let E=new URLSearchParams(g.search),I=E.getAll("index");E.delete("index"),I.filter(C=>C).forEach(C=>E.append("index",C));let T=E.toString();g.search=T?`?${T}`:""}}return t!=="/"&&(g.pathname=g.pathname==="/"?t:Or([t,g.pathname])),Zi(g)}function Rg(r,e,t){if(!t||!CI(t))return{path:e};if(t.formMethod&&!UI(t.formMethod))return{path:e,error:Yn(405,{method:t.formMethod})};let s=()=>({path:e,error:Yn(400,{type:"invalid-body"})}),l=(t.formMethod||"get").toUpperCase(),h=N_(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!gr(l))return s();let I=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((T,[C,M])=>`${T}${C}=${M}
`,""):String(t.body);return{path:e,submission:{formMethod:l,formAction:h,formEncType:t.formEncType,formData:void 0,json:void 0,text:I}}}else if(t.formEncType==="application/json"){if(!gr(l))return s();try{let I=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:l,formAction:h,formEncType:t.formEncType,formData:void 0,json:I,text:void 0}}}catch{return s()}}}He(typeof FormData=="function","FormData is not available in this environment");let d,g;if(t.formData)d=df(t.formData),g=t.formData;else if(t.body instanceof FormData)d=df(t.body),g=t.body;else if(t.body instanceof URLSearchParams)d=t.body,g=Dg(d);else if(t.body==null)d=new URLSearchParams,g=new FormData;else try{d=new URLSearchParams(t.body),g=Dg(d)}catch{return s()}let y={formMethod:l,formAction:h,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(gr(y.formMethod))return{path:e,submission:y};let E=ci(e);return r&&E.search&&ed(E.search)&&d.append("index",""),E.search=`?${d}`,{path:Zi(E),submission:y}}function Ag(r,e,t=!1){let s=r.findIndex(o=>o.route.id===e);return s>=0?r.slice(0,t?s+1:s):r}function Cg(r,e,t,s,o,l,h,d,g,y,E,I,T,C){let M=C?Un(C[1])?C[1].error:C[1].data:void 0,$=r.createURL(e.location),U=r.createURL(o),H=t;l&&e.errors?H=Ag(t,Object.keys(e.errors)[0],!0):C&&Un(C[1])&&(H=Ag(t,C[0]));let ee=C?C[1].statusCode:void 0,ie=ee&&ee>=400,pe=H.filter((ce,k)=>{let{route:S}=ce;if(S.lazy)return!0;if(S.loader==null)return!1;if(l)return ff(S,e.loaderData,e.errors);if(PI(e.loaderData,e.matches[k],ce))return!0;let R=e.matches[k],x=ce;return Pg(ce,{currentUrl:$,currentParams:R.params,nextUrl:U,nextParams:x.params,...s,actionResult:M,actionStatus:ee,defaultShouldRevalidate:ie?!1:h||$.pathname+$.search===U.pathname+U.search||$.search!==U.search||kI(R,x)})}),z=[];return y.forEach((ce,k)=>{if(l||!t.some(b=>b.route.id===ce.routeId)||g.has(k))return;let S=Bi(I,ce.path,T);if(!S){z.push({key:k,routeId:ce.routeId,path:ce.path,matches:null,match:null,controller:null});return}let R=e.fetchers.get(k),x=Sa(S,ce.path),N=!1;E.has(k)?N=!1:d.has(k)?(d.delete(k),N=!0):R&&R.state!=="idle"&&R.data===void 0?N=h:N=Pg(x,{currentUrl:$,currentParams:e.matches[e.matches.length-1].params,nextUrl:U,nextParams:t[t.length-1].params,...s,actionResult:M,actionStatus:ee,defaultShouldRevalidate:ie?!1:h}),N&&z.push({key:k,routeId:ce.routeId,path:ce.path,matches:S,match:x,controller:new AbortController})}),[pe,z]}function ff(r,e,t){if(r.lazy)return!0;if(!r.loader)return!1;let s=e!=null&&e[r.id]!==void 0,o=t!=null&&t[r.id]!==void 0;return!s&&o?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!s&&!o}function PI(r,e,t){let s=!e||t.route.id!==e.route.id,o=!r.hasOwnProperty(t.route.id);return s||o}function kI(r,e){let t=r.route.path;return r.pathname!==e.pathname||t!=null&&t.endsWith("*")&&r.params["*"]!==e.params["*"]}function Pg(r,e){if(r.route.shouldRevalidate){let t=r.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function kg(r,e,t,s,o){let l;if(r){let g=s[r];He(g,`No route found to patch children into: routeId = ${r}`),g.children||(g.children=[]),l=g.children}else l=t;let h=e.filter(g=>!l.some(y=>V_(g,y))),d=Vu(h,o,[r||"_","patch",String((l==null?void 0:l.length)||"0")],s);l.push(...d)}function V_(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((t,s)=>{var o;return(o=e.children)==null?void 0:o.some(l=>V_(t,l))}):!1}async function xI(r,e,t){if(!r.lazy)return;let s=await r.lazy();if(!r.lazy)return;let o=t[r.id];He(o,"No route found in manifest");let l={};for(let h in s){let g=o[h]!==void 0&&h!=="hasErrorBoundary";$t(!g,`Route "${o.id}" has a static property "${h}" defined but its lazy function is also returning a value for this property. The lazy route property "${h}" will be ignored.`),!g&&!ZS.has(h)&&(l[h]=s[h])}Object.assign(o,l),Object.assign(o,{...e(o),lazy:void 0})}async function DI({matches:r}){let e=r.filter(s=>s.shouldLoad);return(await Promise.all(e.map(s=>s.resolve()))).reduce((s,o,l)=>Object.assign(s,{[e[l].route.id]:o}),{})}async function VI(r,e,t,s,o,l,h,d,g,y){let E=l.map(C=>C.route.lazy?xI(C.route,g,d):void 0),I=l.map((C,M)=>{let $=E[M],U=o.some(ee=>ee.route.id===C.route.id);return{...C,shouldLoad:U,resolve:async ee=>(ee&&s.method==="GET"&&(C.route.lazy||C.route.loader)&&(U=!0),U?NI(e,s,C,$,ee,y):Promise.resolve({type:"data",result:void 0}))}}),T=await r({matches:I,request:s,params:l[0].params,fetcherKey:h,context:y});try{await Promise.all(E)}catch{}return T}async function NI(r,e,t,s,o,l){let h,d,g=y=>{let E,I=new Promise((M,$)=>E=$);d=()=>E(),e.signal.addEventListener("abort",d);let T=M=>typeof y!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${r}" [routeId: ${t.route.id}]`)):y({request:e,params:t.params,context:l},...M!==void 0?[M]:[]),C=(async()=>{try{return{type:"data",result:await(o?o($=>T($)):T())}}catch(M){return{type:"error",result:M}}})();return Promise.race([C,I])};try{let y=t.route[r];if(s)if(y){let E,[I]=await Promise.all([g(y).catch(T=>{E=T}),s]);if(E!==void 0)throw E;h=I}else if(await s,y=t.route[r],y)h=await g(y);else if(r==="action"){let E=new URL(e.url),I=E.pathname+E.search;throw Yn(405,{method:e.method,pathname:I,routeId:t.route.id})}else return{type:"data",result:void 0};else if(y)h=await g(y);else{let E=new URL(e.url),I=E.pathname+E.search;throw Yn(404,{pathname:I})}}catch(y){return{type:"error",result:y}}finally{d&&e.signal.removeEventListener("abort",d)}return h}async function LI(r){var s,o,l,h;let{result:e,type:t}=r;if(L_(e)){let d;try{let g=e.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?e.body==null?d=null:d=await e.json():d=await e.text()}catch(g){return{type:"error",error:g}}return t==="error"?{type:"error",error:new Lu(e.status,e.statusText,d),statusCode:e.status,headers:e.headers}:{type:"data",data:d,statusCode:e.status,headers:e.headers}}if(t==="error"){if(Og(e)){if(e.data instanceof Error)return{type:"error",error:e.data,statusCode:(s=e.init)==null?void 0:s.status};e=new Lu(((o=e.init)==null?void 0:o.status)||500,void 0,e.data)}return{type:"error",error:e,statusCode:Xu(e)?e.status:void 0}}return Og(e)?{type:"data",data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(h=e.init)!=null&&h.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function MI(r,e,t,s,o){let l=r.headers.get("Location");if(He(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Zf.test(l)){let h=s.slice(0,s.findIndex(d=>d.route.id===t)+1);l=hf(new URL(e.url),h,o,l),r.headers.set("Location",l)}return r}function xg(r,e,t){if(Zf.test(r)){let s=r,o=s.startsWith("//")?new URL(e.protocol+s):new URL(s),l=_r(o.pathname,t)!=null;if(o.origin===e.origin&&l)return o.pathname+o.search+o.hash}return r}function yo(r,e,t,s){let o=r.createURL(N_(e)).toString(),l={signal:t};if(s&&gr(s.formMethod)){let{formMethod:h,formEncType:d}=s;l.method=h.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(s.json)):d==="text/plain"?l.body=s.text:d==="application/x-www-form-urlencoded"&&s.formData?l.body=df(s.formData):l.body=s.formData}return new Request(o,l)}function df(r){let e=new URLSearchParams;for(let[t,s]of r.entries())e.append(t,typeof s=="string"?s:s.name);return e}function Dg(r){let e=new FormData;for(let[t,s]of r.entries())e.append(t,s);return e}function OI(r,e,t,s=!1,o=!1){let l={},h=null,d,g=!1,y={},E=t&&Un(t[1])?t[1].error:void 0;return r.forEach(I=>{if(!(I.route.id in e))return;let T=I.route.id,C=e[T];if(He(!Cs(C),"Cannot handle redirect results in processLoaderData"),Un(C)){let M=C.error;if(E!==void 0&&(M=E,E=void 0),h=h||{},o)h[T]=M;else{let $=Rs(r,T);h[$.route.id]==null&&(h[$.route.id]=M)}s||(l[T]=D_),g||(g=!0,d=Xu(C.error)?C.error.status:500),C.headers&&(y[T]=C.headers)}else l[T]=C.data,C.statusCode&&C.statusCode!==200&&!g&&(d=C.statusCode),C.headers&&(y[T]=C.headers)}),E!==void 0&&t&&(h={[t[0]]:E},l[t[0]]=void 0),{loaderData:l,errors:h,statusCode:d||200,loaderHeaders:y}}function Vg(r,e,t,s,o,l){let{loaderData:h,errors:d}=OI(e,t,s);return o.forEach(g=>{let{key:y,match:E,controller:I}=g,T=l[y];if(He(T,"Did not find corresponding fetcher result"),!(I&&I.signal.aborted))if(Un(T)){let C=Rs(r.matches,E==null?void 0:E.route.id);d&&d[C.route.id]||(d={...d,[C.route.id]:T.error}),r.fetchers.delete(y)}else if(Cs(T))He(!1,"Unhandled fetcher revalidation redirect");else{let C=ji(T.data);r.fetchers.set(y,C)}}),{loaderData:h,errors:d}}function Ng(r,e,t,s){let o=Object.entries(e).filter(([,l])=>l!==D_).reduce((l,[h,d])=>(l[h]=d,l),{});for(let l of t){let h=l.route.id;if(!e.hasOwnProperty(h)&&r.hasOwnProperty(h)&&l.route.loader&&(o[h]=r[h]),s&&s.hasOwnProperty(h))break}return o}function Lg(r){return r?Un(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function Rs(r,e){return(e?r.slice(0,r.findIndex(s=>s.route.id===e)+1):[...r]).reverse().find(s=>s.route.hasErrorBoundary===!0)||r[0]}function Mg(r){let e=r.length===1?r[0]:r.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Yn(r,{pathname:e,routeId:t,method:s,type:o,message:l}={}){let h="Unknown Server Error",d="Unknown @remix-run/router error";return r===400?(h="Bad Request",s&&e&&t?d=`You made a ${s} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:o==="invalid-body"&&(d="Unable to encode submission body")):r===403?(h="Forbidden",d=`Route "${t}" does not match URL "${e}"`):r===404?(h="Not Found",d=`No route matches URL "${e}"`):r===405&&(h="Method Not Allowed",s&&e&&t?d=`You made a ${s.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:s&&(d=`Invalid request method "${s.toUpperCase()}"`)),new Lu(r||500,h,new Error(d),!0)}function au(r){let e=Object.entries(r);for(let t=e.length-1;t>=0;t--){let[s,o]=e[t];if(Cs(o))return{key:s,result:o}}}function N_(r){let e=typeof r=="string"?ci(r):r;return Zi({...e,hash:""})}function FI(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function bI(r){return L_(r.result)&&TI.has(r.result.status)}function Un(r){return r.type==="error"}function Cs(r){return(r&&r.type)==="redirect"}function Og(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function L_(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function UI(r){return wI.has(r.toUpperCase())}function gr(r){return vI.has(r.toUpperCase())}function ed(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function Sa(r,e){let t=typeof e=="string"?ci(e).search:e.search;if(r[r.length-1].route.index&&ed(t||""))return r[r.length-1];let s=P_(r);return s[s.length-1]}function Fg(r){let{formMethod:e,formAction:t,formEncType:s,text:o,formData:l,json:h}=r;if(!(!e||!t||!s)){if(o!=null)return{formMethod:e,formAction:t,formEncType:s,formData:void 0,json:void 0,text:o};if(l!=null)return{formMethod:e,formAction:t,formEncType:s,formData:l,json:void 0,text:void 0};if(h!==void 0)return{formMethod:e,formAction:t,formEncType:s,formData:void 0,json:h,text:void 0}}}function Uh(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function zI(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ya(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function jI(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function ji(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function BI(r,e){try{let t=r.sessionStorage.getItem(x_);if(t){let s=JSON.parse(t);for(let[o,l]of Object.entries(s||{}))l&&Array.isArray(l)&&e.set(o,new Set(l||[]))}}catch{}}function $I(r,e){if(e.size>0){let t={};for(let[s,o]of e)t[s]=[...o];try{r.sessionStorage.setItem(x_,JSON.stringify(t))}catch(s){$t(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function qI(){let r,e,t=new Promise((s,o)=>{r=async l=>{s(l);try{await t}catch{}},e=async l=>{o(l);try{await t}catch{}}});return{promise:t,resolve:r,reject:e}}var Ns=Q.createContext(null);Ns.displayName="DataRouter";var qa=Q.createContext(null);qa.displayName="DataRouterState";var td=Q.createContext({isTransitioning:!1});td.displayName="ViewTransition";var M_=Q.createContext(new Map);M_.displayName="Fetchers";var HI=Q.createContext(null);HI.displayName="Await";var br=Q.createContext(null);br.displayName="Navigation";var Ju=Q.createContext(null);Ju.displayName="Location";var Ur=Q.createContext({outlet:null,matches:[],isDataRoute:!1});Ur.displayName="Route";var nd=Q.createContext(null);nd.displayName="RouteError";function WI(r,{relative:e}={}){He(Ha(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=Q.useContext(br),{hash:o,pathname:l,search:h}=Wa(r,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Or([t,l])),s.createHref({pathname:d,search:h,hash:o})}function Ha(){return Q.useContext(Ju)!=null}function Ls(){return He(Ha(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(Ju).location}var O_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function F_(r){Q.useContext(br).static||Q.useLayoutEffect(r)}function QI(){let{isDataRoute:r}=Q.useContext(Ur);return r?aR():KI()}function KI(){He(Ha(),"useNavigate() may be used only in the context of a <Router> component.");let r=Q.useContext(Ns),{basename:e,navigator:t}=Q.useContext(br),{matches:s}=Q.useContext(Ur),{pathname:o}=Ls(),l=JSON.stringify(Xf(s)),h=Q.useRef(!1);return F_(()=>{h.current=!0}),Q.useCallback((g,y={})=>{if($t(h.current,O_),!h.current)return;if(typeof g=="number"){t.go(g);return}let E=Jf(g,JSON.parse(l),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Or([e,E.pathname])),(y.replace?t.replace:t.push)(E,y.state,y)},[e,t,l,o,r])}Q.createContext(null);function GI(){let{matches:r}=Q.useContext(Ur),e=r[r.length-1];return e?e.params:{}}function Wa(r,{relative:e}={}){let{matches:t}=Q.useContext(Ur),{pathname:s}=Ls(),o=JSON.stringify(Xf(t));return Q.useMemo(()=>Jf(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function YI(r,e,t,s){He(Ha(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=Q.useContext(br),{matches:l}=Q.useContext(Ur),h=l[l.length-1],d=h?h.params:{},g=h?h.pathname:"/",y=h?h.pathnameBase:"/",E=h&&h.route;{let H=E&&E.path||"";b_(g,!E||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let I=Ls(),T;T=I;let C=T.pathname||"/",M=C;if(y!=="/"){let H=y.replace(/^\//,"").split("/");M="/"+C.replace(/^\//,"").split("/").slice(H.length).join("/")}let $=Bi(r,{pathname:M});return $t(E||$!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),$t($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),tR($&&$.map(H=>Object.assign({},H,{params:Object.assign({},d,H.params),pathname:Or([y,o.encodeLocation?o.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?y:Or([y,o.encodeLocation?o.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),l,t,s)}function XI(){let r=oR(),e=Xu(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=Q.createElement(Q.Fragment,null,Q.createElement("p",null," Hey developer "),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:l},"ErrorBoundary")," or"," ",Q.createElement("code",{style:l},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),t?Q.createElement("pre",{style:o},t):null,h)}var JI=Q.createElement(XI,null),ZI=class extends Q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?Q.createElement(Ur.Provider,{value:this.props.routeContext},Q.createElement(nd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function eR({routeContext:r,match:e,children:t}){let s=Q.useContext(Ns);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(Ur.Provider,{value:r},t)}function tR(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,l=t==null?void 0:t.errors;if(l!=null){let g=o.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);He(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,d=-1;if(t)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=g),y.route.id){let{loaderData:E,errors:I}=t,T=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!I||I[y.route.id]===void 0);if(y.route.lazy||T){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((g,y,E)=>{let I,T=!1,C=null,M=null;t&&(I=l&&y.route.id?l[y.route.id]:void 0,C=y.route.errorElement||JI,h&&(d<0&&E===0?(b_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,M=null):d===E&&(T=!0,M=y.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,E+1)),U=()=>{let H;return I?H=C:T?H=M:y.route.Component?H=Q.createElement(y.route.Component,null):y.route.element?H=y.route.element:H=g,Q.createElement(eR,{match:y,routeContext:{outlet:g,matches:$,isDataRoute:t!=null},children:H})};return t&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?Q.createElement(ZI,{location:t.location,revalidation:t.revalidation,component:C,error:I,children:U(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):U()},null)}function rd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nR(r){let e=Q.useContext(Ns);return He(e,rd(r)),e}function rR(r){let e=Q.useContext(qa);return He(e,rd(r)),e}function iR(r){let e=Q.useContext(Ur);return He(e,rd(r)),e}function id(r){let e=iR(r),t=e.matches[e.matches.length-1];return He(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function sR(){return id("useRouteId")}function oR(){var s;let r=Q.useContext(nd),e=rR("useRouteError"),t=id("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function aR(){let{router:r}=nR("useNavigate"),e=id("useNavigate"),t=Q.useRef(!1);return F_(()=>{t.current=!0}),Q.useCallback(async(o,l={})=>{$t(t.current,O_),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...l}))},[r,e])}var bg={};function b_(r,e,t){!e&&!bg[r]&&(bg[r]=!0,$t(!1,t))}var Ug={};function zg(r,e){!r&&!Ug[e]&&(Ug[e]=!0,console.warn(e))}function lR(r){let e={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&$t(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:Q.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&$t(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:Q.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&$t(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:Q.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),e}var uR=class{constructor(){this.status="pending",this.promise=new Promise((r,e)=>{this.resolve=t=>{this.status==="pending"&&(this.status="resolved",r(t))},this.reject=t=>{this.status==="pending"&&(this.status="rejected",e(t))}})}};function cR({router:r,flushSync:e}){let[t,s]=Q.useState(r.state),[o,l]=Q.useState(),[h,d]=Q.useState({isTransitioning:!1}),[g,y]=Q.useState(),[E,I]=Q.useState(),[T,C]=Q.useState(),M=Q.useRef(new Map),$=Q.useCallback((ie,{deletedFetchers:pe,flushSync:z,viewTransitionOpts:ce})=>{pe.forEach(S=>M.current.delete(S)),ie.fetchers.forEach((S,R)=>{S.data!==void 0&&M.current.set(R,S.data)}),zg(z===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let k=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(zg(ce==null||k,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!ce||!k){e&&z?e(()=>s(ie)):Q.startTransition(()=>s(ie));return}if(e&&z){e(()=>{E&&(g&&g.resolve(),E.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation})});let S=r.window.document.startViewTransition(()=>{e(()=>s(ie))});S.finished.finally(()=>{e(()=>{y(void 0),I(void 0),l(void 0),d({isTransitioning:!1})})}),e(()=>I(S));return}E?(g&&g.resolve(),E.skipTransition(),C({state:ie,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation})):(l(ie),d({isTransitioning:!0,flushSync:!1,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation}))},[r.window,e,E,g]);Q.useLayoutEffect(()=>r.subscribe($),[r,$]),Q.useEffect(()=>{h.isTransitioning&&!h.flushSync&&y(new uR)},[h]),Q.useEffect(()=>{if(g&&o&&r.window){let ie=o,pe=g.promise,z=r.window.document.startViewTransition(async()=>{Q.startTransition(()=>s(ie)),await pe});z.finished.finally(()=>{y(void 0),I(void 0),l(void 0),d({isTransitioning:!1})}),I(z)}},[o,g,r.window]),Q.useEffect(()=>{g&&o&&t.location.key===o.location.key&&g.resolve()},[g,E,t.location,o]),Q.useEffect(()=>{!h.isTransitioning&&T&&(l(T.state),d({isTransitioning:!0,flushSync:!1,currentLocation:T.currentLocation,nextLocation:T.nextLocation}),C(void 0))},[h.isTransitioning,T]);let U=Q.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:ie=>r.navigate(ie),push:(ie,pe,z)=>r.navigate(ie,{state:pe,preventScrollReset:z==null?void 0:z.preventScrollReset}),replace:(ie,pe,z)=>r.navigate(ie,{replace:!0,state:pe,preventScrollReset:z==null?void 0:z.preventScrollReset})}),[r]),H=r.basename||"/",ee=Q.useMemo(()=>({router:r,navigator:U,static:!1,basename:H}),[r,U,H]);return Q.createElement(Q.Fragment,null,Q.createElement(Ns.Provider,{value:ee},Q.createElement(qa.Provider,{value:t},Q.createElement(M_.Provider,{value:M.current},Q.createElement(td.Provider,{value:h},Q.createElement(dR,{basename:H,location:t.location,navigationType:t.historyAction,navigator:U},Q.createElement(hR,{routes:r.routes,future:r.future,state:t})))))),null)}var hR=Q.memo(fR);function fR({routes:r,future:e,state:t}){return YI(r,void 0,t,e)}function dR({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:l=!1}){He(!Ha(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),d=Q.useMemo(()=>({basename:h,navigator:o,static:l,future:{}}),[h,o,l]);typeof t=="string"&&(t=ci(t));let{pathname:g="/",search:y="",hash:E="",state:I=null,key:T="default"}=t,C=Q.useMemo(()=>{let M=_r(g,h);return M==null?null:{location:{pathname:M,search:y,hash:E,state:I,key:T},navigationType:s}},[h,g,y,E,I,T,s]);return $t(C!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:Q.createElement(br.Provider,{value:d},Q.createElement(Ju.Provider,{children:e,value:C}))}var gu="get",yu="application/x-www-form-urlencoded";function Zu(r){return r!=null&&typeof r.tagName=="string"}function pR(r){return Zu(r)&&r.tagName.toLowerCase()==="button"}function mR(r){return Zu(r)&&r.tagName.toLowerCase()==="form"}function gR(r){return Zu(r)&&r.tagName.toLowerCase()==="input"}function yR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function _R(r,e){return r.button===0&&(!e||e==="_self")&&!yR(r)}var lu=null;function vR(){if(lu===null)try{new FormData(document.createElement("form"),0),lu=!1}catch{lu=!0}return lu}var ER=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zh(r){return r!=null&&!ER.has(r)?($t(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yu}"`),null):r}function wR(r,e){let t,s,o,l,h;if(mR(r)){let d=r.getAttribute("action");s=d?_r(d,e):null,t=r.getAttribute("method")||gu,o=zh(r.getAttribute("enctype"))||yu,l=new FormData(r)}else if(pR(r)||gR(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||d.getAttribute("action");if(s=g?_r(g,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||gu,o=zh(r.getAttribute("formenctype"))||zh(d.getAttribute("enctype"))||yu,l=new FormData(d,r),!vR()){let{name:y,type:E,value:I}=r;if(E==="image"){let T=y?`${y}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else y&&l.append(y,I)}}else{if(Zu(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=gu,s=null,o=yu,h=r}return l&&o==="text/plain"&&(h=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:h}}function sd(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function TR(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function SR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function IR(r,e,t){let s=await Promise.all(r.map(async o=>{let l=e.routes[o.route.id];if(l){let h=await TR(l,t);return h.links?h.links():[]}return[]}));return PR(s.flat(1).filter(SR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function jg(r,e,t,s,o,l){let h=(g,y)=>t[y]?g.route.id!==t[y].route.id:!0,d=(g,y)=>{var E;return t[y].pathname!==g.pathname||((E=t[y].route.path)==null?void 0:E.endsWith("*"))&&t[y].params["*"]!==g.params["*"]};return l==="assets"?e.filter((g,y)=>h(g,y)||d(g,y)):l==="data"?e.filter((g,y)=>{var I;let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(h(g,y)||d(g,y))return!0;if(g.route.shouldRevalidate){let T=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((I=t[0])==null?void 0:I.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function RR(r,e){return AR(r.map(t=>{let s=e.routes[t.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function AR(r){return[...new Set(r)]}function CR(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function PR(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let l=JSON.stringify(CR(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}function kR(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function xR(){let r=Q.useContext(Ns);return sd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function DR(){let r=Q.useContext(qa);return sd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var od=Q.createContext(void 0);od.displayName="FrameworkContext";function U_(){let r=Q.useContext(od);return sd(r,"You must render this element inside a <HydratedRouter> element"),r}function VR(r,e){let t=Q.useContext(od),[s,o]=Q.useState(!1),[l,h]=Q.useState(!1),{onFocus:d,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:I}=e,T=Q.useRef(null);Q.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let $=H=>{H.forEach(ee=>{h(ee.isIntersecting)})},U=new IntersectionObserver($,{threshold:.5});return T.current&&U.observe(T.current),()=>{U.disconnect()}}},[r]),Q.useEffect(()=>{if(s){let $=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout($)}}},[s]);let C=()=>{o(!0)},M=()=>{o(!1),h(!1)};return t?r!=="intent"?[l,T,{}]:[l,T,{onFocus:_a(d,C),onBlur:_a(g,M),onMouseEnter:_a(y,C),onMouseLeave:_a(E,M),onTouchStart:_a(I,C)}]:[!1,T,{}]}function _a(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function NR({page:r,...e}){let{router:t}=xR(),s=Q.useMemo(()=>Bi(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?Q.createElement(MR,{page:r,matches:s,...e}):null}function LR(r){let{manifest:e,routeModules:t}=U_(),[s,o]=Q.useState([]);return Q.useEffect(()=>{let l=!1;return IR(r,e,t).then(h=>{l||o(h)}),()=>{l=!0}},[r,e,t]),s}function MR({page:r,matches:e,...t}){let s=Ls(),{manifest:o,routeModules:l}=U_(),{loaderData:h,matches:d}=DR(),g=Q.useMemo(()=>jg(r,e,d,o,s,"data"),[r,e,d,o,s]),y=Q.useMemo(()=>jg(r,e,d,o,s,"assets"),[r,e,d,o,s]),E=Q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let C=new Set,M=!1;if(e.forEach(U=>{var ee;let H=o.routes[U.route.id];!H||!H.hasLoader||(!g.some(ie=>ie.route.id===U.route.id)&&U.route.id in h&&((ee=l[U.route.id])!=null&&ee.shouldRevalidate)||H.hasClientLoader?M=!0:C.add(U.route.id))}),C.size===0)return[];let $=kR(r);return M&&C.size>0&&$.searchParams.set("_routes",e.filter(U=>C.has(U.route.id)).map(U=>U.route.id).join(",")),[$.pathname+$.search]},[h,s,o,g,e,r,l]),I=Q.useMemo(()=>RR(y,o),[y,o]),T=LR(y);return Q.createElement(Q.Fragment,null,E.map(C=>Q.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),I.map(C=>Q.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),T.map(({key:C,link:M})=>Q.createElement("link",{key:C,...M})))}function OR(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var z_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{z_&&(window.__reactRouterVersion="7.1.1")}catch{}function FR(r,e){return AI({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:YS({window:e==null?void 0:e.window}),hydrationData:bR(),routes:r,mapRouteProperties:lR,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function bR(){let r=window==null?void 0:window.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:UR(r.errors)}),r}function UR(r){if(!r)return null;let e=Object.entries(r),t={};for(let[s,o]of e)if(o&&o.__type==="RouteErrorResponse")t[s]=new Lu(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let l=window[o.__subType];if(typeof l=="function")try{let h=new l(o.message);h.stack="",t[s]=h}catch{}}if(t[s]==null){let l=new Error(o.message);l.stack="",t[s]=l}}else t[s]=o;return t}var j_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ad=Q.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:h,state:d,target:g,to:y,preventScrollReset:E,viewTransition:I,...T},C){let{basename:M}=Q.useContext(br),$=typeof y=="string"&&j_.test(y),U,H=!1;if(typeof y=="string"&&$&&(U=y,z_))try{let R=new URL(window.location.href),x=y.startsWith("//")?new URL(R.protocol+y):new URL(y),N=_r(x.pathname,M);x.origin===R.origin&&N!=null?y=N+x.search+x.hash:H=!0}catch{$t(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ee=WI(y,{relative:o}),[ie,pe,z]=VR(s,T),ce=$R(y,{replace:h,state:d,target:g,preventScrollReset:E,relative:o,viewTransition:I});function k(R){e&&e(R),R.defaultPrevented||ce(R)}let S=Q.createElement("a",{...T,...z,href:U||ee,onClick:H||l?e:k,ref:OR(C,pe),target:g,"data-discover":!$&&t==="render"?"true":void 0});return ie&&!$?Q.createElement(Q.Fragment,null,S,Q.createElement(NR,{page:ee})):S});ad.displayName="Link";var zR=Q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:h,viewTransition:d,children:g,...y},E){let I=Wa(h,{relative:y.relative}),T=Ls(),C=Q.useContext(qa),{navigator:M,basename:$}=Q.useContext(br),U=C!=null&&KR(I)&&d===!0,H=M.encodeLocation?M.encodeLocation(I).pathname:I.pathname,ee=T.pathname,ie=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(ee=ee.toLowerCase(),ie=ie?ie.toLowerCase():null,H=H.toLowerCase()),ie&&$&&(ie=_r(ie,$)||ie);const pe=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let z=ee===H||!o&&ee.startsWith(H)&&ee.charAt(pe)==="/",ce=ie!=null&&(ie===H||!o&&ie.startsWith(H)&&ie.charAt(H.length)==="/"),k={isActive:z,isPending:ce,isTransitioning:U},S=z?e:void 0,R;typeof s=="function"?R=s(k):R=[s,z?"active":null,ce?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let x=typeof l=="function"?l(k):l;return Q.createElement(ad,{...y,"aria-current":S,className:R,ref:E,style:x,to:h,viewTransition:d},typeof g=="function"?g(k):g)});zR.displayName="NavLink";var jR=Q.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:l,method:h=gu,action:d,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:I,...T},C)=>{let M=WR(),$=QR(d,{relative:y}),U=h.toLowerCase()==="get"?"get":"post",H=typeof d=="string"&&j_.test(d),ee=ie=>{if(g&&g(ie),ie.defaultPrevented)return;ie.preventDefault();let pe=ie.nativeEvent.submitter,z=(pe==null?void 0:pe.getAttribute("formmethod"))||h;M(pe||ie.currentTarget,{fetcherKey:e,method:z,navigate:t,replace:o,state:l,relative:y,preventScrollReset:E,viewTransition:I})};return Q.createElement("form",{ref:C,method:U,action:$,onSubmit:s?g:ee,...T,"data-discover":!H&&r==="render"?"true":void 0})});jR.displayName="Form";function BR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function B_(r){let e=Q.useContext(Ns);return He(e,BR(r)),e}function $R(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:h}={}){let d=QI(),g=Ls(),y=Wa(r,{relative:l});return Q.useCallback(E=>{if(_R(E,e)){E.preventDefault();let I=t!==void 0?t:Zi(g)===Zi(y);d(r,{replace:I,state:s,preventScrollReset:o,relative:l,viewTransition:h})}},[g,d,y,t,s,e,r,o,l,h])}var qR=0,HR=()=>`__${String(++qR)}__`;function WR(){let{router:r}=B_("useSubmit"),{basename:e}=Q.useContext(br),t=sR();return Q.useCallback(async(s,o={})=>{let{action:l,method:h,encType:d,formData:g,body:y}=wR(s,e);if(o.navigate===!1){let E=o.fetcherKey||HR();await r.fetch(E,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await r.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function QR(r,{relative:e}={}){let{basename:t}=Q.useContext(br),s=Q.useContext(Ur);He(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...Wa(r||".",{relative:e})},h=Ls();if(r==null){l.search=h.search;let d=new URLSearchParams(l.search),g=d.getAll("index");if(g.some(E=>E==="")){d.delete("index"),g.filter(I=>I).forEach(I=>d.append("index",I));let E=d.toString();l.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Or([t,l.pathname])),Zi(l)}function KR(r,e={}){let t=Q.useContext(td);He(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=B_("useViewTransitionState"),o=Wa(r,{relative:e.relative});if(!t.isTransitioning)return!1;let l=_r(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=_r(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Nu(o.pathname,h)!=null||Nu(o.pathname,l)!=null}new TextEncoder;var GR=$g();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function YR(r){return Q.createElement(cR,{flushSync:GR.flushSync,...r})}const Mu=({children:r,onClick:e})=>ke.jsx("button",{onClick:e,children:r}),XR=({open:r,onCloseModal:e})=>{const[t,s]=Q.useState(""),[o,l]=Q.useState(""),[h,d]=Q.useState(""),[g,y]=Q.useState(""),[E,I]=Q.useState(""),T=ee=>{s(ee.target.value)},C=ee=>{l(ee.target.value)},M=ee=>{d(ee.target.value)},$=ee=>{y(ee.target.value)},U=ee=>{I(ee.target.value)},H=async()=>{const ee={firstName:t,lastName:o,email:h,phone:g,age:E},ie=p_(xu,Du);await $S(ie,ee),e()};return r?ke.jsx("div",{className:"container",children:ke.jsxs("div",{className:"modal",children:[ke.jsx("h2",{children:"Contact Form"}),ke.jsxs("label",{children:["First Name",ke.jsx("input",{type:"text",name:"firstName",value:t,onChange:T})]}),ke.jsxs("label",{children:["Last Name",ke.jsx("input",{type:"text",name:"lastName",value:o,onChange:C})]}),ke.jsxs("label",{children:["E-mail",ke.jsx("input",{type:"text",name:"email",value:h,onChange:M})]}),ke.jsxs("label",{children:["Phone",ke.jsx("input",{type:"text",name:"phone",value:g,onChange:$})]}),ke.jsxs("label",{children:["Age",ke.jsx("input",{type:"text",name:"age",value:E,onChange:U})]}),ke.jsx(Mu,{onClick:H,children:"Submit"})]})}):null};function $_(){const[r,e]=Q.useState(),[t,s]=Q.useState(!1);Q.useState();const o=async()=>{const h=[],d=p_(xu,Du),g=LS(d,MS("lastName","asc"));(await jS(g)).forEach(E=>{const I=E.data();h.push({id:E.id,...I})}),e(h)},l=()=>{s(!0)};return Q.useEffect(()=>{o()},[]),console.log(r),ke.jsxs(ke.Fragment,{children:[ke.jsx(Mu,{onClick:l,children:"New Contact"}),ke.jsx("ul",{className:"list",children:r?r.map(h=>ke.jsx("li",{children:ke.jsxs(ad,{to:`/details/${h.id}`,children:[h.lastName," ",h.firstName]})},h.id)):ke.jsx("p",{children:"Loading..."})}),ke.jsx(XR,{open:t,onCloseModal:()=>{s(!1),o()}})]})}const JR=()=>{const[r,e]=Q.useState(),[t,s]=Q.useState(!1),{id:o}=GI(),l=C=>{e({...r,firstName:C.target.value})},h=C=>{e({...r,lastName:C.target.value})},d=C=>{e({...r,email:C.target.value})},g=C=>{e({...r,phone:C.target.value})},y=C=>{e({...r,age:C.target.value})},E=async()=>{const C=uf(xu,Du,o),M=await zS(C);M.exists()?(console.log("Contact",M.data()),e(M.data())):console.log("No document with id",o,"found")},I=()=>{s(!0)},T=async()=>{const C=uf(xu,Du,o);await BS(C,r),s(!1),E()};return Q.useEffect(()=>{E()},[]),ke.jsxs("div",{children:[ke.jsx(Mu,{onClick:I,children:"Edit"}),ke.jsx("h5",{children:"Contact Details:"}),ke.jsx(ke.Fragment,{children:!t&&r&&ke.jsxs("div",{children:[ke.jsxs("p",{children:["Name: ",r.firstName]}),ke.jsxs("p",{children:["Last name: ",r.lastName]}),ke.jsxs("p",{children:["E-mail: ",r.email]}),ke.jsxs("p",{children:["Phone: ",r.phone]}),ke.jsxs("p",{children:["Age: ",r.age]})]})}),t&&r&&ke.jsxs("div",{className:"modal",children:[ke.jsx("h2",{children:"Contact Form"}),ke.jsxs("label",{children:["First Name",ke.jsx("input",{type:"text",name:"firstName",value:r.firstName,onChange:l})]}),ke.jsxs("label",{children:["Last Name",ke.jsx("input",{type:"text",name:"lastName",value:r.lastName,onChange:h})]}),ke.jsxs("label",{children:["E-mail",ke.jsx("input",{type:"text",name:"email",value:r.email,onChange:d})]}),ke.jsxs("label",{children:["Phone",ke.jsx("input",{type:"text",name:"phone",value:r.phone,onChange:g})]}),ke.jsxs("label",{children:["Age",ke.jsx("input",{type:"number",name:"age",value:r.age,onChange:y})]}),ke.jsx(Mu,{onClick:T,children:"Submit"})]})]})},ZR=FR([{path:"/",element:ke.jsx($_,{})},{path:"/details/:id",element:ke.jsx(JR,{})}]);tE.createRoot(document.getElementById("root")).render(ke.jsx(Gv.StrictMode,{children:ke.jsx(YR,{router:ZR,children:ke.jsx($_,{})})}));
