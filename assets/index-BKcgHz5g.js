(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}})();function ig(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var nh={exports:{}},ia={},rh={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp;function Kv(){if(Dp)return Fe;Dp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),C=Symbol.iterator;function S(M){return M===null||typeof M!="object"?null:(M=C&&M[C]||M["@@iterator"],typeof M=="function"?M:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,q={};function $(M,Y,_e){this.props=M,this.context=Y,this.refs=q,this.updater=_e||x}$.prototype.isReactComponent={},$.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},$.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function K(){}K.prototype=$.prototype;function ie(M,Y,_e){this.props=M,this.context=Y,this.refs=q,this.updater=_e||x}var ne=ie.prototype=new K;ne.constructor=ie,U(ne,$.prototype),ne.isPureReactComponent=!0;var pe=Array.isArray,b=Object.prototype.hasOwnProperty,ce={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function T(M,Y,_e){var Ne,De={},Ue=null,Ye=null;if(Y!=null)for(Ne in Y.ref!==void 0&&(Ye=Y.ref),Y.key!==void 0&&(Ue=""+Y.key),Y)b.call(Y,Ne)&&!P.hasOwnProperty(Ne)&&(De[Ne]=Y[Ne]);var Xe=arguments.length-2;if(Xe===1)De.children=_e;else if(1<Xe){for(var Le=Array(Xe),ct=0;ct<Xe;ct++)Le[ct]=arguments[ct+2];De.children=Le}if(M&&M.defaultProps)for(Ne in Xe=M.defaultProps,Xe)De[Ne]===void 0&&(De[Ne]=Xe[Ne]);return{$$typeof:i,type:M,key:Ue,ref:Ye,props:De,_owner:ce.current}}function R(M,Y){return{$$typeof:i,type:M.type,key:Y,ref:M.ref,props:M.props,_owner:M._owner}}function k(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function V(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(_e){return Y[_e]})}var F=/\/+/g;function A(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?V(""+M.key):Y.toString(36)}function lt(M,Y,_e,Ne,De){var Ue=typeof M;(Ue==="undefined"||Ue==="boolean")&&(M=null);var Ye=!1;if(M===null)Ye=!0;else switch(Ue){case"string":case"number":Ye=!0;break;case"object":switch(M.$$typeof){case i:case e:Ye=!0}}if(Ye)return Ye=M,De=De(Ye),M=Ne===""?"."+A(Ye,0):Ne,pe(De)?(_e="",M!=null&&(_e=M.replace(F,"$&/")+"/"),lt(De,Y,_e,"",function(ct){return ct})):De!=null&&(k(De)&&(De=R(De,_e+(!De.key||Ye&&Ye.key===De.key?"":(""+De.key).replace(F,"$&/")+"/")+M)),Y.push(De)),1;if(Ye=0,Ne=Ne===""?".":Ne+":",pe(M))for(var Xe=0;Xe<M.length;Xe++){Ue=M[Xe];var Le=Ne+A(Ue,Xe);Ye+=lt(Ue,Y,_e,Le,De)}else if(Le=S(M),typeof Le=="function")for(M=Le.call(M),Xe=0;!(Ue=M.next()).done;)Ue=Ue.value,Le=Ne+A(Ue,Xe++),Ye+=lt(Ue,Y,_e,Le,De);else if(Ue==="object")throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Ye}function je(M,Y,_e){if(M==null)return M;var Ne=[],De=0;return lt(M,Ne,"","",function(Ue){return Y.call(_e,Ue,De++)}),Ne}function Rt(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(_e){(M._status===0||M._status===-1)&&(M._status=1,M._result=_e)},function(_e){(M._status===0||M._status===-1)&&(M._status=2,M._result=_e)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var $e={current:null},se={transition:null},we={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:se,ReactCurrentOwner:ce};function ue(){throw Error("act(...) is not supported in production builds of React.")}return Fe.Children={map:je,forEach:function(M,Y,_e){je(M,function(){Y.apply(this,arguments)},_e)},count:function(M){var Y=0;return je(M,function(){Y++}),Y},toArray:function(M){return je(M,function(Y){return Y})||[]},only:function(M){if(!k(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Fe.Component=$,Fe.Fragment=n,Fe.Profiler=a,Fe.PureComponent=ie,Fe.StrictMode=s,Fe.Suspense=g,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=we,Fe.act=ue,Fe.cloneElement=function(M,Y,_e){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var Ne=U({},M.props),De=M.key,Ue=M.ref,Ye=M._owner;if(Y!=null){if(Y.ref!==void 0&&(Ue=Y.ref,Ye=ce.current),Y.key!==void 0&&(De=""+Y.key),M.type&&M.type.defaultProps)var Xe=M.type.defaultProps;for(Le in Y)b.call(Y,Le)&&!P.hasOwnProperty(Le)&&(Ne[Le]=Y[Le]===void 0&&Xe!==void 0?Xe[Le]:Y[Le])}var Le=arguments.length-2;if(Le===1)Ne.children=_e;else if(1<Le){Xe=Array(Le);for(var ct=0;ct<Le;ct++)Xe[ct]=arguments[ct+2];Ne.children=Xe}return{$$typeof:i,type:M.type,key:De,ref:Ue,props:Ne,_owner:Ye}},Fe.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:u,_context:M},M.Consumer=M},Fe.createElement=T,Fe.createFactory=function(M){var Y=T.bind(null,M);return Y.type=M,Y},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(M){return{$$typeof:d,render:M}},Fe.isValidElement=k,Fe.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:Rt}},Fe.memo=function(M,Y){return{$$typeof:v,type:M,compare:Y===void 0?null:Y}},Fe.startTransition=function(M){var Y=se.transition;se.transition={};try{M()}finally{se.transition=Y}},Fe.unstable_act=ue,Fe.useCallback=function(M,Y){return $e.current.useCallback(M,Y)},Fe.useContext=function(M){return $e.current.useContext(M)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(M){return $e.current.useDeferredValue(M)},Fe.useEffect=function(M,Y){return $e.current.useEffect(M,Y)},Fe.useId=function(){return $e.current.useId()},Fe.useImperativeHandle=function(M,Y,_e){return $e.current.useImperativeHandle(M,Y,_e)},Fe.useInsertionEffect=function(M,Y){return $e.current.useInsertionEffect(M,Y)},Fe.useLayoutEffect=function(M,Y){return $e.current.useLayoutEffect(M,Y)},Fe.useMemo=function(M,Y){return $e.current.useMemo(M,Y)},Fe.useReducer=function(M,Y,_e){return $e.current.useReducer(M,Y,_e)},Fe.useRef=function(M){return $e.current.useRef(M)},Fe.useState=function(M){return $e.current.useState(M)},Fe.useSyncExternalStore=function(M,Y,_e){return $e.current.useSyncExternalStore(M,Y,_e)},Fe.useTransition=function(){return $e.current.useTransition()},Fe.version="18.3.1",Fe}var Np;function Hh(){return Np||(Np=1,rh.exports=Kv()),rh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vp;function Qv(){if(Vp)return ia;Vp=1;var i=Hh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(d,g,v){var E,C={},S=null,x=null;v!==void 0&&(S=""+v),g.key!==void 0&&(S=""+g.key),g.ref!==void 0&&(x=g.ref);for(E in g)s.call(g,E)&&!u.hasOwnProperty(E)&&(C[E]=g[E]);if(d&&d.defaultProps)for(E in g=d.defaultProps,g)C[E]===void 0&&(C[E]=g[E]);return{$$typeof:e,type:d,key:S,ref:x,props:C,_owner:a.current}}return ia.Fragment=n,ia.jsx=h,ia.jsxs=h,ia}var Lp;function Gv(){return Lp||(Lp=1,nh.exports=Qv()),nh.exports}var dr=Gv(),G=Hh();const Yv=ig(G);var Bl={},ih={exports:{}},In={},sh={exports:{}},oh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp;function Xv(){return Mp||(Mp=1,function(i){function e(se,we){var ue=se.length;se.push(we);e:for(;0<ue;){var M=ue-1>>>1,Y=se[M];if(0<a(Y,we))se[M]=we,se[ue]=Y,ue=M;else break e}}function n(se){return se.length===0?null:se[0]}function s(se){if(se.length===0)return null;var we=se[0],ue=se.pop();if(ue!==we){se[0]=ue;e:for(var M=0,Y=se.length,_e=Y>>>1;M<_e;){var Ne=2*(M+1)-1,De=se[Ne],Ue=Ne+1,Ye=se[Ue];if(0>a(De,ue))Ue<Y&&0>a(Ye,De)?(se[M]=Ye,se[Ue]=ue,M=Ue):(se[M]=De,se[Ne]=ue,M=Ne);else if(Ue<Y&&0>a(Ye,ue))se[M]=Ye,se[Ue]=ue,M=Ue;else break e}}return we}function a(se,we){var ue=se.sortIndex-we.sortIndex;return ue!==0?ue:se.id-we.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var g=[],v=[],E=1,C=null,S=3,x=!1,U=!1,q=!1,$=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ne(se){for(var we=n(v);we!==null;){if(we.callback===null)s(v);else if(we.startTime<=se)s(v),we.sortIndex=we.expirationTime,e(g,we);else break;we=n(v)}}function pe(se){if(q=!1,ne(se),!U)if(n(g)!==null)U=!0,Rt(b);else{var we=n(v);we!==null&&$e(pe,we.startTime-se)}}function b(se,we){U=!1,q&&(q=!1,K(T),T=-1),x=!0;var ue=S;try{for(ne(we),C=n(g);C!==null&&(!(C.expirationTime>we)||se&&!V());){var M=C.callback;if(typeof M=="function"){C.callback=null,S=C.priorityLevel;var Y=M(C.expirationTime<=we);we=i.unstable_now(),typeof Y=="function"?C.callback=Y:C===n(g)&&s(g),ne(we)}else s(g);C=n(g)}if(C!==null)var _e=!0;else{var Ne=n(v);Ne!==null&&$e(pe,Ne.startTime-we),_e=!1}return _e}finally{C=null,S=ue,x=!1}}var ce=!1,P=null,T=-1,R=5,k=-1;function V(){return!(i.unstable_now()-k<R)}function F(){if(P!==null){var se=i.unstable_now();k=se;var we=!0;try{we=P(!0,se)}finally{we?A():(ce=!1,P=null)}}else ce=!1}var A;if(typeof ie=="function")A=function(){ie(F)};else if(typeof MessageChannel<"u"){var lt=new MessageChannel,je=lt.port2;lt.port1.onmessage=F,A=function(){je.postMessage(null)}}else A=function(){$(F,0)};function Rt(se){P=se,ce||(ce=!0,A())}function $e(se,we){T=$(function(){se(i.unstable_now())},we)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(se){se.callback=null},i.unstable_continueExecution=function(){U||x||(U=!0,Rt(b))},i.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<se?Math.floor(1e3/se):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_getFirstCallbackNode=function(){return n(g)},i.unstable_next=function(se){switch(S){case 1:case 2:case 3:var we=3;break;default:we=S}var ue=S;S=we;try{return se()}finally{S=ue}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(se,we){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var ue=S;S=se;try{return we()}finally{S=ue}},i.unstable_scheduleCallback=function(se,we,ue){var M=i.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?M+ue:M):ue=M,se){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ue+Y,se={id:E++,callback:we,priorityLevel:se,startTime:ue,expirationTime:Y,sortIndex:-1},ue>M?(se.sortIndex=ue,e(v,se),n(g)===null&&se===n(v)&&(q?(K(T),T=-1):q=!0,$e(pe,ue-M))):(se.sortIndex=Y,e(g,se),U||x||(U=!0,Rt(b))),se},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(se){var we=S;return function(){var ue=S;S=we;try{return se.apply(this,arguments)}finally{S=ue}}}}(oh)),oh}var Op;function Jv(){return Op||(Op=1,sh.exports=Xv()),sh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp;function Zv(){if(Fp)return In;Fp=1;var i=Hh(),e=Jv();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function u(t,r){h(t,r),h(t+"Capture",r)}function h(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},C={};function S(t){return g.call(C,t)?!0:g.call(E,t)?!1:v.test(t)?C[t]=!0:(E[t]=!0,!1)}function x(t,r,o,c){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function U(t,r,o,c){if(r===null||typeof r>"u"||x(t,r,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function q(t,r,o,c,f,m,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=m,this.removeEmptyString=_}var $={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$[t]=new q(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];$[r]=new q(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){$[t]=new q(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$[t]=new q(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$[t]=new q(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){$[t]=new q(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){$[t]=new q(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){$[t]=new q(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){$[t]=new q(t,5,!1,t.toLowerCase(),null,!1,!1)});var K=/[\-:]([a-z])/g;function ie(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(K,ie);$[r]=new q(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(K,ie);$[r]=new q(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(K,ie);$[r]=new q(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){$[t]=new q(t,1,!1,t.toLowerCase(),null,!1,!1)}),$.xlinkHref=new q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){$[t]=new q(t,1,!1,t.toLowerCase(),null,!0,!0)});function ne(t,r,o,c){var f=$.hasOwnProperty(r)?$[r]:null;(f!==null?f.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(U(r,o,f,c)&&(o=null),c||f===null?S(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):f.mustUseProperty?t[f.propertyName]=o===null?f.type===3?!1:"":o:(r=f.attributeName,c=f.attributeNamespace,o===null?t.removeAttribute(r):(f=f.type,o=f===3||f===4&&o===!0?"":""+o,c?t.setAttributeNS(c,r,o):t.setAttribute(r,o))))}var pe=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),ce=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),V=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),lt=Symbol.for("react.suspense_list"),je=Symbol.for("react.memo"),Rt=Symbol.for("react.lazy"),$e=Symbol.for("react.offscreen"),se=Symbol.iterator;function we(t){return t===null||typeof t!="object"?null:(t=se&&t[se]||t["@@iterator"],typeof t=="function"?t:null)}var ue=Object.assign,M;function Y(t){if(M===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);M=r&&r[1]||""}return`
`+M+t}var _e=!1;function Ne(t,r){if(!t||_e)return"";_e=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(H){var c=H}Reflect.construct(t,[],r)}else{try{r.call()}catch(H){c=H}t.call(r.prototype)}else{try{throw Error()}catch(H){c=H}t()}}catch(H){if(H&&c&&typeof H.stack=="string"){for(var f=H.stack.split(`
`),m=c.stack.split(`
`),_=f.length-1,I=m.length-1;1<=_&&0<=I&&f[_]!==m[I];)I--;for(;1<=_&&0<=I;_--,I--)if(f[_]!==m[I]){if(_!==1||I!==1)do if(_--,I--,0>I||f[_]!==m[I]){var D=`
`+f[_].replace(" at new "," at ");return t.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",t.displayName)),D}while(1<=_&&0<=I);break}}}finally{_e=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?Y(t):""}function De(t){switch(t.tag){case 5:return Y(t.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return t=Ne(t.type,!1),t;case 11:return t=Ne(t.type.render,!1),t;case 1:return t=Ne(t.type,!0),t;default:return""}}function Ue(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case P:return"Fragment";case ce:return"Portal";case R:return"Profiler";case T:return"StrictMode";case A:return"Suspense";case lt:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case V:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case F:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case je:return r=t.displayName||null,r!==null?r:Ue(t.type)||"Memo";case Rt:r=t._payload,t=t._init;try{return Ue(t(r))}catch{}}return null}function Ye(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ue(r);case 8:return r===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Xe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Le(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ct(t){var r=Le(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),c=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){c=""+_,m.call(this,_)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Fn(t){t._valueTracker||(t._valueTracker=ct(t))}function si(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return t&&(c=Le(t)?t.checked?"true":"false":t.value),t=c,t!==o?(r.setValue(t),!0):!1}function Jt(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Fr(t,r){var o=r.checked;return ue({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function oi(t,r){var o=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;o=Xe(r.value!=null?r.value:o),t._wrapperState={initialChecked:c,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function ai(t,r){r=r.checked,r!=null&&ne(t,"checked",r,!1)}function Gi(t,r){ai(t,r);var o=Xe(r.value),c=r.type;if(o!=null)c==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?li(t,r.type,o):r.hasOwnProperty("defaultValue")&&li(t,r.type,Xe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function As(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function li(t,r,o){(r!=="number"||Jt(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Kn=Array.isArray;function jt(t,r,o,c){if(t=t.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<t.length;o++)f=r.hasOwnProperty("$"+t[o].value),t[o].selected!==f&&(t[o].selected=f),f&&c&&(t[o].defaultSelected=!0)}else{for(o=""+Xe(o),r=null,f=0;f<t.length;f++){if(t[f].value===o){t[f].selected=!0,c&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function Qn(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return ue({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ur(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Kn(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Xe(o)}}function mr(t,r){var o=Xe(r.value),c=Xe(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),c!=null&&(t.defaultValue=""+c)}function mn(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function st(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wt(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?st(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Pn,Yi=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,c,f){MSApp.execUnsafeLocalFunction(function(){return t(r,o,c,f)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Pn=Pn||document.createElement("div"),Pn.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Pn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function $t(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var gr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yr=["Webkit","ms","Moz","O"];Object.keys(gr).forEach(function(t){yr.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),gr[r]=gr[t]})});function ui(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||gr.hasOwnProperty(t)&&gr[t]?(""+r).trim():r+"px"}function Xi(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var c=o.indexOf("--")===0,f=ui(o,r[o],c);o==="float"&&(o="cssFloat"),c?t.setProperty(o,f):t[o]=f}}var ci=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vr(t,r){if(r){if(ci[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function hi(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gn=null;function fi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var br=null,gn=null,kn=null;function Yn(t){if(t=$o(t)){if(typeof br!="function")throw Error(n(280));var r=t.stateNode;r&&(r=nl(r),br(t.stateNode,t.type,r))}}function un(t){gn?kn?kn.push(t):kn=[t]:gn=t}function Ji(){if(gn){var t=gn,r=kn;if(kn=gn=null,Yn(t),r)for(t=0;t<r.length;t++)Yn(r[t])}}function zr(t,r){return t(r)}function N(){}var O=!1;function W(t,r,o){if(O)return t(r,o);O=!0;try{return zr(t,r,o)}finally{O=!1,(gn!==null||kn!==null)&&(N(),Ji())}}function X(t,r){var o=t.stateNode;if(o===null)return null;var c=nl(o);if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var he=!1;if(d)try{var ge={};Object.defineProperty(ge,"passive",{get:function(){he=!0}}),window.addEventListener("test",ge,ge),window.removeEventListener("test",ge,ge)}catch{he=!1}function Ie(t,r,o,c,f,m,_,I,D){var H=Array.prototype.slice.call(arguments,3);try{r.apply(o,H)}catch(ee){this.onError(ee)}}var fe=!1,ve=null,oe=!1,ke=null,Me={onError:function(t){fe=!0,ve=t}};function nt(t,r,o,c,f,m,_,I,D){fe=!1,ve=null,Ie.apply(Me,arguments)}function Tt(t,r,o,c,f,m,_,I,D){if(nt.apply(this,arguments),fe){if(fe){var H=ve;fe=!1,ve=null}else throw Error(n(198));oe||(oe=!0,ke=H)}}function be(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function Je(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function rt(t){if(be(t)!==t)throw Error(n(188))}function Xn(t){var r=t.alternate;if(!r){if(r=be(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,c=r;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return rt(f),t;if(m===c)return rt(f),r;m=m.sibling}throw Error(n(188))}if(o.return!==c.return)o=f,c=m;else{for(var _=!1,I=f.child;I;){if(I===o){_=!0,o=f,c=m;break}if(I===c){_=!0,c=f,o=m;break}I=I.sibling}if(!_){for(I=m.child;I;){if(I===o){_=!0,o=m,c=f;break}if(I===c){_=!0,c=m,o=f;break}I=I.sibling}if(!_)throw Error(n(189))}}if(o.alternate!==c)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function Jn(t){return t=Xn(t),t!==null?Zt(t):null}function Zt(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Zt(t);if(r!==null)return r;t=t.sibling}return null}var Ht=e.unstable_scheduleCallback,Br=e.unstable_cancelCallback,_r=e.unstable_shouldYield,Zn=e.unstable_requestPaint,it=e.unstable_now,jr=e.unstable_getCurrentPriorityLevel,He=e.unstable_ImmediatePriority,ht=e.unstable_UserBlockingPriority,qt=e.unstable_NormalPriority,er=e.unstable_LowPriority,ft=e.unstable_IdlePriority,yn=null,en=null;function Ps(t){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(yn,t,void 0,(t.current.flags&128)===128)}catch{}}var cn=Math.clz32?Math.clz32:La,Ao=Math.log,Va=Math.LN2;function La(t){return t>>>=0,t===0?32:31-(Ao(t)/Va|0)|0}var ks=64,xs=4194304;function di(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Zi(t,r){var o=t.pendingLanes;if(o===0)return 0;var c=0,f=t.suspendedLanes,m=t.pingedLanes,_=o&268435455;if(_!==0){var I=_&~f;I!==0?c=di(I):(m&=_,m!==0&&(c=di(m)))}else _=o&~f,_!==0?c=di(_):m!==0&&(c=di(m));if(c===0)return 0;if(r!==0&&r!==c&&!(r&f)&&(f=c&-c,m=r&-r,f>=m||f===16&&(m&4194240)!==0))return r;if(c&4&&(c|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=c;0<r;)o=31-cn(r),f=1<<o,c|=t[o],r&=~f;return c}function Nu(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $r(t,r){for(var o=t.suspendedLanes,c=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes;0<m;){var _=31-cn(m),I=1<<_,D=f[_];D===-1?(!(I&o)||I&c)&&(f[_]=Nu(I,r)):D<=r&&(t.expiredLanes|=I),m&=~I}}function xn(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function es(){var t=ks;return ks<<=1,!(ks&4194240)&&(ks=64),t}function pi(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function mi(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-cn(r),t[r]=o}function at(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<o;){var f=31-cn(o),m=1<<f;r[f]=0,c[f]=-1,t[f]=-1,o&=~m}}function gi(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var c=31-cn(o),f=1<<c;f&r|t[c]&r&&(t[c]|=r),o&=~f}}var ze=0;function yi(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ma,Ds,Oa,Fa,Ua,Po=!1,Er=[],Wt=null,tr=null,nr=null,vi=new Map,Un=new Map,wr=[],Vu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ba(t,r){switch(t){case"focusin":case"focusout":Wt=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":vi.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Un.delete(r.pointerId)}}function vn(t,r,o,c,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},r!==null&&(r=$o(r),r!==null&&Ds(r)),t):(t.eventSystemFlags|=c,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function Lu(t,r,o,c,f){switch(r){case"focusin":return Wt=vn(Wt,t,r,o,c,f),!0;case"dragenter":return tr=vn(tr,t,r,o,c,f),!0;case"mouseover":return nr=vn(nr,t,r,o,c,f),!0;case"pointerover":var m=f.pointerId;return vi.set(m,vn(vi.get(m)||null,t,r,o,c,f)),!0;case"gotpointercapture":return m=f.pointerId,Un.set(m,vn(Un.get(m)||null,t,r,o,c,f)),!0}return!1}function za(t){var r=ss(t.target);if(r!==null){var o=be(r);if(o!==null){if(r=o.tag,r===13){if(r=Je(o),r!==null){t.blockedOn=r,Ua(t.priority,function(){Oa(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hr(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=Ns(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var c=new o.constructor(o.type,o);Gn=c,o.target.dispatchEvent(c),Gn=null}else return r=$o(o),r!==null&&Ds(r),t.blockedOn=o,!1;r.shift()}return!0}function ts(t,r,o){Hr(t)&&o.delete(r)}function Ba(){Po=!1,Wt!==null&&Hr(Wt)&&(Wt=null),tr!==null&&Hr(tr)&&(tr=null),nr!==null&&Hr(nr)&&(nr=null),vi.forEach(ts),Un.forEach(ts)}function rr(t,r){t.blockedOn===r&&(t.blockedOn=null,Po||(Po=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ba)))}function ir(t){function r(f){return rr(f,t)}if(0<Er.length){rr(Er[0],t);for(var o=1;o<Er.length;o++){var c=Er[o];c.blockedOn===t&&(c.blockedOn=null)}}for(Wt!==null&&rr(Wt,t),tr!==null&&rr(tr,t),nr!==null&&rr(nr,t),vi.forEach(r),Un.forEach(r),o=0;o<wr.length;o++)c=wr[o],c.blockedOn===t&&(c.blockedOn=null);for(;0<wr.length&&(o=wr[0],o.blockedOn===null);)za(o),o.blockedOn===null&&wr.shift()}var qr=pe.ReactCurrentBatchConfig,_i=!0;function mt(t,r,o,c){var f=ze,m=qr.transition;qr.transition=null;try{ze=1,ko(t,r,o,c)}finally{ze=f,qr.transition=m}}function Mu(t,r,o,c){var f=ze,m=qr.transition;qr.transition=null;try{ze=4,ko(t,r,o,c)}finally{ze=f,qr.transition=m}}function ko(t,r,o,c){if(_i){var f=Ns(t,r,o,c);if(f===null)Wu(t,r,c,ns,o),ba(t,c);else if(Lu(f,t,r,o,c))c.stopPropagation();else if(ba(t,c),r&4&&-1<Vu.indexOf(t)){for(;f!==null;){var m=$o(f);if(m!==null&&Ma(m),m=Ns(t,r,o,c),m===null&&Wu(t,r,c,ns,o),m===f)break;f=m}f!==null&&c.stopPropagation()}else Wu(t,r,c,null,o)}}var ns=null;function Ns(t,r,o,c){if(ns=null,t=fi(c),t=ss(t),t!==null)if(r=be(t),r===null)t=null;else if(o=r.tag,o===13){if(t=Je(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return ns=t,null}function xo(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jr()){case He:return 1;case ht:return 4;case qt:case er:return 16;case ft:return 536870912;default:return 16}default:return 16}}var Dn=null,Vs=null,_n=null;function Do(){if(_n)return _n;var t,r=Vs,o=r.length,c,f="value"in Dn?Dn.value:Dn.textContent,m=f.length;for(t=0;t<o&&r[t]===f[t];t++);var _=o-t;for(c=1;c<=_&&r[o-c]===f[m-c];c++);return _n=f.slice(t,1<c?1-c:void 0)}function Ls(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Tr(){return!0}function No(){return!1}function Kt(t){function r(o,c,f,m,_){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var I in t)t.hasOwnProperty(I)&&(o=t[I],this[I]=o?o(m):m[I]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Tr:No,this.isPropagationStopped=No,this}return ue(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Tr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Tr)},persist:function(){},isPersistent:Tr}),r}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ms=Kt(sr),Sr=ue({},sr,{view:0,detail:0}),Ou=Kt(Sr),Os,Wr,Ei,rs=ue({},Sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ei&&(Ei&&t.type==="mousemove"?(Os=t.screenX-Ei.screenX,Wr=t.screenY-Ei.screenY):Wr=Os=0,Ei=t),Os)},movementY:function(t){return"movementY"in t?t.movementY:Wr}}),Fs=Kt(rs),Vo=ue({},rs,{dataTransfer:0}),ja=Kt(Vo),Us=ue({},Sr,{relatedTarget:0}),bs=Kt(Us),$a=ue({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),Kr=Kt($a),Ha=ue({},sr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qa=Kt(Ha),Wa=ue({},sr,{data:0}),Lo=Kt(Wa),zs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ka={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qa(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Ka[t])?!!r[t]:!1}function Rr(){return Qa}var l=ue({},Sr,{key:function(t){if(t.key){var r=zs[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ls(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rr,charCode:function(t){return t.type==="keypress"?Ls(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ls(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),p=Kt(l),y=ue({},rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w=Kt(y),z=ue({},Sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rr}),Q=Kt(z),ae=ue({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ot=Kt(ae),Dt=ue({},rs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qe=Kt(Dt),Ot=[9,13,27,32],Pt=d&&"CompositionEvent"in window,bn=null;d&&"documentMode"in document&&(bn=document.documentMode);var Nn=d&&"TextEvent"in window&&!bn,is=d&&(!Pt||bn&&8<bn&&11>=bn),Bs=" ",If=!1;function Cf(t,r){switch(t){case"keyup":return Ot.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Af(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var js=!1;function qy(t,r){switch(t){case"compositionend":return Af(r);case"keypress":return r.which!==32?null:(If=!0,Bs);case"textInput":return t=r.data,t===Bs&&If?null:t;default:return null}}function Wy(t,r){if(js)return t==="compositionend"||!Pt&&Cf(t,r)?(t=Do(),_n=Vs=Dn=null,js=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return is&&r.locale!=="ko"?null:r.data;default:return null}}var Ky={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Ky[t.type]:r==="textarea"}function kf(t,r,o,c){un(c),r=Za(r,"onChange"),0<r.length&&(o=new Ms("onChange","change",null,o,c),t.push({event:o,listeners:r}))}var Mo=null,Oo=null;function Qy(t){Kf(t,0)}function Ga(t){var r=Ks(t);if(si(r))return t}function Gy(t,r){if(t==="change")return r}var xf=!1;if(d){var Fu;if(d){var Uu="oninput"in document;if(!Uu){var Df=document.createElement("div");Df.setAttribute("oninput","return;"),Uu=typeof Df.oninput=="function"}Fu=Uu}else Fu=!1;xf=Fu&&(!document.documentMode||9<document.documentMode)}function Nf(){Mo&&(Mo.detachEvent("onpropertychange",Vf),Oo=Mo=null)}function Vf(t){if(t.propertyName==="value"&&Ga(Oo)){var r=[];kf(r,Oo,t,fi(t)),W(Qy,r)}}function Yy(t,r,o){t==="focusin"?(Nf(),Mo=r,Oo=o,Mo.attachEvent("onpropertychange",Vf)):t==="focusout"&&Nf()}function Xy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ga(Oo)}function Jy(t,r){if(t==="click")return Ga(r)}function Zy(t,r){if(t==="input"||t==="change")return Ga(r)}function ev(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var or=typeof Object.is=="function"?Object.is:ev;function Fo(t,r){if(or(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!g.call(r,f)||!or(t[f],r[f]))return!1}return!0}function Lf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mf(t,r){var o=Lf(t);t=0;for(var c;o;){if(o.nodeType===3){if(c=t+o.textContent.length,t<=r&&c>=r)return{node:o,offset:r-t};t=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Lf(o)}}function Of(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Of(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Ff(){for(var t=window,r=Jt();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=Jt(t.document)}return r}function bu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function tv(t){var r=Ff(),o=t.focusedElem,c=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&Of(o.ownerDocument.documentElement,o)){if(c!==null&&bu(o)){if(r=c.start,t=c.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var f=o.textContent.length,m=Math.min(c.start,f);c=c.end===void 0?m:Math.min(c.end,f),!t.extend&&m>c&&(f=c,c=m,m=f),f=Mf(o,m);var _=Mf(o,c);f&&_&&(t.rangeCount!==1||t.anchorNode!==f.node||t.anchorOffset!==f.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(f.node,f.offset),t.removeAllRanges(),m>c?(t.addRange(r),t.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var nv=d&&"documentMode"in document&&11>=document.documentMode,$s=null,zu=null,Uo=null,Bu=!1;function Uf(t,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Bu||$s==null||$s!==Jt(c)||(c=$s,"selectionStart"in c&&bu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Uo&&Fo(Uo,c)||(Uo=c,c=Za(zu,"onSelect"),0<c.length&&(r=new Ms("onSelect","select",null,r,o),t.push({event:r,listeners:c}),r.target=$s)))}function Ya(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var Hs={animationend:Ya("Animation","AnimationEnd"),animationiteration:Ya("Animation","AnimationIteration"),animationstart:Ya("Animation","AnimationStart"),transitionend:Ya("Transition","TransitionEnd")},ju={},bf={};d&&(bf=document.createElement("div").style,"AnimationEvent"in window||(delete Hs.animationend.animation,delete Hs.animationiteration.animation,delete Hs.animationstart.animation),"TransitionEvent"in window||delete Hs.transitionend.transition);function Xa(t){if(ju[t])return ju[t];if(!Hs[t])return t;var r=Hs[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in bf)return ju[t]=r[o];return t}var zf=Xa("animationend"),Bf=Xa("animationiteration"),jf=Xa("animationstart"),$f=Xa("transitionend"),Hf=new Map,qf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wi(t,r){Hf.set(t,r),u(r,[t])}for(var $u=0;$u<qf.length;$u++){var Hu=qf[$u],rv=Hu.toLowerCase(),iv=Hu[0].toUpperCase()+Hu.slice(1);wi(rv,"on"+iv)}wi(zf,"onAnimationEnd"),wi(Bf,"onAnimationIteration"),wi(jf,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi($f,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sv=new Set("cancel close invalid load scroll toggle".split(" ").concat(bo));function Wf(t,r,o){var c=t.type||"unknown-event";t.currentTarget=o,Tt(c,r,void 0,t),t.currentTarget=null}function Kf(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var c=t[o],f=c.event;c=c.listeners;e:{var m=void 0;if(r)for(var _=c.length-1;0<=_;_--){var I=c[_],D=I.instance,H=I.currentTarget;if(I=I.listener,D!==m&&f.isPropagationStopped())break e;Wf(f,I,H),m=D}else for(_=0;_<c.length;_++){if(I=c[_],D=I.instance,H=I.currentTarget,I=I.listener,D!==m&&f.isPropagationStopped())break e;Wf(f,I,H),m=D}}}if(oe)throw t=ke,oe=!1,ke=null,t}function dt(t,r){var o=r[Ju];o===void 0&&(o=r[Ju]=new Set);var c=t+"__bubble";o.has(c)||(Qf(r,t,2,!1),o.add(c))}function qu(t,r,o){var c=0;r&&(c|=4),Qf(o,t,c,r)}var Ja="_reactListening"+Math.random().toString(36).slice(2);function zo(t){if(!t[Ja]){t[Ja]=!0,s.forEach(function(o){o!=="selectionchange"&&(sv.has(o)||qu(o,!1,t),qu(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Ja]||(r[Ja]=!0,qu("selectionchange",!1,r))}}function Qf(t,r,o,c){switch(xo(r)){case 1:var f=mt;break;case 4:f=Mu;break;default:f=ko}o=f.bind(null,r,o,t),f=void 0,!he||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),c?f!==void 0?t.addEventListener(r,o,{capture:!0,passive:f}):t.addEventListener(r,o,!0):f!==void 0?t.addEventListener(r,o,{passive:f}):t.addEventListener(r,o,!1)}function Wu(t,r,o,c,f){var m=c;if(!(r&1)&&!(r&2)&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var I=c.stateNode.containerInfo;if(I===f||I.nodeType===8&&I.parentNode===f)break;if(_===4)for(_=c.return;_!==null;){var D=_.tag;if((D===3||D===4)&&(D=_.stateNode.containerInfo,D===f||D.nodeType===8&&D.parentNode===f))return;_=_.return}for(;I!==null;){if(_=ss(I),_===null)return;if(D=_.tag,D===5||D===6){c=m=_;continue e}I=I.parentNode}}c=c.return}W(function(){var H=m,ee=fi(o),te=[];e:{var Z=Hf.get(t);if(Z!==void 0){var de=Ms,Ee=t;switch(t){case"keypress":if(Ls(o)===0)break e;case"keydown":case"keyup":de=p;break;case"focusin":Ee="focus",de=bs;break;case"focusout":Ee="blur",de=bs;break;case"beforeblur":case"afterblur":de=bs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Fs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=ja;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Q;break;case zf:case Bf:case jf:de=Kr;break;case $f:de=ot;break;case"scroll":de=Ou;break;case"wheel":de=qe;break;case"copy":case"cut":case"paste":de=qa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=w}var Te=(r&4)!==0,It=!Te&&t==="scroll",B=Te?Z!==null?Z+"Capture":null:Z;Te=[];for(var L=H,j;L!==null;){j=L;var re=j.stateNode;if(j.tag===5&&re!==null&&(j=re,B!==null&&(re=X(L,B),re!=null&&Te.push(Bo(L,re,j)))),It)break;L=L.return}0<Te.length&&(Z=new de(Z,Ee,null,o,ee),te.push({event:Z,listeners:Te}))}}if(!(r&7)){e:{if(Z=t==="mouseover"||t==="pointerover",de=t==="mouseout"||t==="pointerout",Z&&o!==Gn&&(Ee=o.relatedTarget||o.fromElement)&&(ss(Ee)||Ee[Qr]))break e;if((de||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,de?(Ee=o.relatedTarget||o.toElement,de=H,Ee=Ee?ss(Ee):null,Ee!==null&&(It=be(Ee),Ee!==It||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(de=null,Ee=H),de!==Ee)){if(Te=Fs,re="onMouseLeave",B="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(Te=w,re="onPointerLeave",B="onPointerEnter",L="pointer"),It=de==null?Z:Ks(de),j=Ee==null?Z:Ks(Ee),Z=new Te(re,L+"leave",de,o,ee),Z.target=It,Z.relatedTarget=j,re=null,ss(ee)===H&&(Te=new Te(B,L+"enter",Ee,o,ee),Te.target=j,Te.relatedTarget=It,re=Te),It=re,de&&Ee)t:{for(Te=de,B=Ee,L=0,j=Te;j;j=qs(j))L++;for(j=0,re=B;re;re=qs(re))j++;for(;0<L-j;)Te=qs(Te),L--;for(;0<j-L;)B=qs(B),j--;for(;L--;){if(Te===B||B!==null&&Te===B.alternate)break t;Te=qs(Te),B=qs(B)}Te=null}else Te=null;de!==null&&Gf(te,Z,de,Te,!1),Ee!==null&&It!==null&&Gf(te,It,Ee,Te,!0)}}e:{if(Z=H?Ks(H):window,de=Z.nodeName&&Z.nodeName.toLowerCase(),de==="select"||de==="input"&&Z.type==="file")var Se=Gy;else if(Pf(Z))if(xf)Se=Zy;else{Se=Xy;var Ce=Yy}else(de=Z.nodeName)&&de.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(Se=Jy);if(Se&&(Se=Se(t,H))){kf(te,Se,o,ee);break e}Ce&&Ce(t,Z,H),t==="focusout"&&(Ce=Z._wrapperState)&&Ce.controlled&&Z.type==="number"&&li(Z,"number",Z.value)}switch(Ce=H?Ks(H):window,t){case"focusin":(Pf(Ce)||Ce.contentEditable==="true")&&($s=Ce,zu=H,Uo=null);break;case"focusout":Uo=zu=$s=null;break;case"mousedown":Bu=!0;break;case"contextmenu":case"mouseup":case"dragend":Bu=!1,Uf(te,o,ee);break;case"selectionchange":if(nv)break;case"keydown":case"keyup":Uf(te,o,ee)}var Ae;if(Pt)e:{switch(t){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else js?Cf(t,o)&&(xe="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(xe="onCompositionStart");xe&&(is&&o.locale!=="ko"&&(js||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&js&&(Ae=Do()):(Dn=ee,Vs="value"in Dn?Dn.value:Dn.textContent,js=!0)),Ce=Za(H,xe),0<Ce.length&&(xe=new Lo(xe,t,null,o,ee),te.push({event:xe,listeners:Ce}),Ae?xe.data=Ae:(Ae=Af(o),Ae!==null&&(xe.data=Ae)))),(Ae=Nn?qy(t,o):Wy(t,o))&&(H=Za(H,"onBeforeInput"),0<H.length&&(ee=new Lo("onBeforeInput","beforeinput",null,o,ee),te.push({event:ee,listeners:H}),ee.data=Ae))}Kf(te,r)})}function Bo(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Za(t,r){for(var o=r+"Capture",c=[];t!==null;){var f=t,m=f.stateNode;f.tag===5&&m!==null&&(f=m,m=X(t,o),m!=null&&c.unshift(Bo(t,m,f)),m=X(t,r),m!=null&&c.push(Bo(t,m,f))),t=t.return}return c}function qs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Gf(t,r,o,c,f){for(var m=r._reactName,_=[];o!==null&&o!==c;){var I=o,D=I.alternate,H=I.stateNode;if(D!==null&&D===c)break;I.tag===5&&H!==null&&(I=H,f?(D=X(o,m),D!=null&&_.unshift(Bo(o,D,I))):f||(D=X(o,m),D!=null&&_.push(Bo(o,D,I)))),o=o.return}_.length!==0&&t.push({event:r,listeners:_})}var ov=/\r\n?/g,av=/\u0000|\uFFFD/g;function Yf(t){return(typeof t=="string"?t:""+t).replace(ov,`
`).replace(av,"")}function el(t,r,o){if(r=Yf(r),Yf(t)!==r&&o)throw Error(n(425))}function tl(){}var Ku=null,Qu=null;function Gu(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Yu=typeof setTimeout=="function"?setTimeout:void 0,lv=typeof clearTimeout=="function"?clearTimeout:void 0,Xf=typeof Promise=="function"?Promise:void 0,uv=typeof queueMicrotask=="function"?queueMicrotask:typeof Xf<"u"?function(t){return Xf.resolve(null).then(t).catch(cv)}:Yu;function cv(t){setTimeout(function(){throw t})}function Xu(t,r){var o=r,c=0;do{var f=o.nextSibling;if(t.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(c===0){t.removeChild(f),ir(r);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=f}while(o);ir(r)}function Ti(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Jf(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var Ws=Math.random().toString(36).slice(2),Ir="__reactFiber$"+Ws,jo="__reactProps$"+Ws,Qr="__reactContainer$"+Ws,Ju="__reactEvents$"+Ws,hv="__reactListeners$"+Ws,fv="__reactHandles$"+Ws;function ss(t){var r=t[Ir];if(r)return r;for(var o=t.parentNode;o;){if(r=o[Qr]||o[Ir]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Jf(t);t!==null;){if(o=t[Ir])return o;t=Jf(t)}return r}t=o,o=t.parentNode}return null}function $o(t){return t=t[Ir]||t[Qr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ks(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function nl(t){return t[jo]||null}var Zu=[],Qs=-1;function Si(t){return{current:t}}function pt(t){0>Qs||(t.current=Zu[Qs],Zu[Qs]=null,Qs--)}function ut(t,r){Qs++,Zu[Qs]=t.current,t.current=r}var Ri={},tn=Si(Ri),En=Si(!1),os=Ri;function Gs(t,r){var o=t.type.contextTypes;if(!o)return Ri;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var f={},m;for(m in o)f[m]=r[m];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=f),f}function wn(t){return t=t.childContextTypes,t!=null}function rl(){pt(En),pt(tn)}function Zf(t,r,o){if(tn.current!==Ri)throw Error(n(168));ut(tn,r),ut(En,o)}function ed(t,r,o){var c=t.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var f in c)if(!(f in r))throw Error(n(108,Ye(t)||"Unknown",f));return ue({},o,c)}function il(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ri,os=tn.current,ut(tn,t),ut(En,En.current),!0}function td(t,r,o){var c=t.stateNode;if(!c)throw Error(n(169));o?(t=ed(t,r,os),c.__reactInternalMemoizedMergedChildContext=t,pt(En),pt(tn),ut(tn,t)):pt(En),ut(En,o)}var Gr=null,sl=!1,ec=!1;function nd(t){Gr===null?Gr=[t]:Gr.push(t)}function dv(t){sl=!0,nd(t)}function Ii(){if(!ec&&Gr!==null){ec=!0;var t=0,r=ze;try{var o=Gr;for(ze=1;t<o.length;t++){var c=o[t];do c=c(!0);while(c!==null)}Gr=null,sl=!1}catch(f){throw Gr!==null&&(Gr=Gr.slice(t+1)),Ht(He,Ii),f}finally{ze=r,ec=!1}}return null}var Ys=[],Xs=0,ol=null,al=0,zn=[],Bn=0,as=null,Yr=1,Xr="";function ls(t,r){Ys[Xs++]=al,Ys[Xs++]=ol,ol=t,al=r}function rd(t,r,o){zn[Bn++]=Yr,zn[Bn++]=Xr,zn[Bn++]=as,as=t;var c=Yr;t=Xr;var f=32-cn(c)-1;c&=~(1<<f),o+=1;var m=32-cn(r)+f;if(30<m){var _=f-f%5;m=(c&(1<<_)-1).toString(32),c>>=_,f-=_,Yr=1<<32-cn(r)+f|o<<f|c,Xr=m+t}else Yr=1<<m|o<<f|c,Xr=t}function tc(t){t.return!==null&&(ls(t,1),rd(t,1,0))}function nc(t){for(;t===ol;)ol=Ys[--Xs],Ys[Xs]=null,al=Ys[--Xs],Ys[Xs]=null;for(;t===as;)as=zn[--Bn],zn[Bn]=null,Xr=zn[--Bn],zn[Bn]=null,Yr=zn[--Bn],zn[Bn]=null}var Vn=null,Ln=null,gt=!1,ar=null;function id(t,r){var o=qn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function sd(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,Vn=t,Ln=Ti(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,Vn=t,Ln=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=as!==null?{id:Yr,overflow:Xr}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=qn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,Vn=t,Ln=null,!0):!1;default:return!1}}function rc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ic(t){if(gt){var r=Ln;if(r){var o=r;if(!sd(t,r)){if(rc(t))throw Error(n(418));r=Ti(o.nextSibling);var c=Vn;r&&sd(t,r)?id(c,o):(t.flags=t.flags&-4097|2,gt=!1,Vn=t)}}else{if(rc(t))throw Error(n(418));t.flags=t.flags&-4097|2,gt=!1,Vn=t}}}function od(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Vn=t}function ll(t){if(t!==Vn)return!1;if(!gt)return od(t),gt=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Gu(t.type,t.memoizedProps)),r&&(r=Ln)){if(rc(t))throw ad(),Error(n(418));for(;r;)id(t,r),r=Ti(r.nextSibling)}if(od(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){Ln=Ti(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}Ln=null}}else Ln=Vn?Ti(t.stateNode.nextSibling):null;return!0}function ad(){for(var t=Ln;t;)t=Ti(t.nextSibling)}function Js(){Ln=Vn=null,gt=!1}function sc(t){ar===null?ar=[t]:ar.push(t)}var pv=pe.ReactCurrentBatchConfig;function Ho(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var c=o.stateNode}if(!c)throw Error(n(147,t));var f=c,m=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===m?r.ref:(r=function(_){var I=f.refs;_===null?delete I[m]:I[m]=_},r._stringRef=m,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function ul(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function ld(t){var r=t._init;return r(t._payload)}function ud(t){function r(B,L){if(t){var j=B.deletions;j===null?(B.deletions=[L],B.flags|=16):j.push(L)}}function o(B,L){if(!t)return null;for(;L!==null;)r(B,L),L=L.sibling;return null}function c(B,L){for(B=new Map;L!==null;)L.key!==null?B.set(L.key,L):B.set(L.index,L),L=L.sibling;return B}function f(B,L){return B=Vi(B,L),B.index=0,B.sibling=null,B}function m(B,L,j){return B.index=j,t?(j=B.alternate,j!==null?(j=j.index,j<L?(B.flags|=2,L):j):(B.flags|=2,L)):(B.flags|=1048576,L)}function _(B){return t&&B.alternate===null&&(B.flags|=2),B}function I(B,L,j,re){return L===null||L.tag!==6?(L=Yc(j,B.mode,re),L.return=B,L):(L=f(L,j),L.return=B,L)}function D(B,L,j,re){var Se=j.type;return Se===P?ee(B,L,j.props.children,re,j.key):L!==null&&(L.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===Rt&&ld(Se)===L.type)?(re=f(L,j.props),re.ref=Ho(B,L,j),re.return=B,re):(re=Vl(j.type,j.key,j.props,null,B.mode,re),re.ref=Ho(B,L,j),re.return=B,re)}function H(B,L,j,re){return L===null||L.tag!==4||L.stateNode.containerInfo!==j.containerInfo||L.stateNode.implementation!==j.implementation?(L=Xc(j,B.mode,re),L.return=B,L):(L=f(L,j.children||[]),L.return=B,L)}function ee(B,L,j,re,Se){return L===null||L.tag!==7?(L=gs(j,B.mode,re,Se),L.return=B,L):(L=f(L,j),L.return=B,L)}function te(B,L,j){if(typeof L=="string"&&L!==""||typeof L=="number")return L=Yc(""+L,B.mode,j),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case b:return j=Vl(L.type,L.key,L.props,null,B.mode,j),j.ref=Ho(B,null,L),j.return=B,j;case ce:return L=Xc(L,B.mode,j),L.return=B,L;case Rt:var re=L._init;return te(B,re(L._payload),j)}if(Kn(L)||we(L))return L=gs(L,B.mode,j,null),L.return=B,L;ul(B,L)}return null}function Z(B,L,j,re){var Se=L!==null?L.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return Se!==null?null:I(B,L,""+j,re);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case b:return j.key===Se?D(B,L,j,re):null;case ce:return j.key===Se?H(B,L,j,re):null;case Rt:return Se=j._init,Z(B,L,Se(j._payload),re)}if(Kn(j)||we(j))return Se!==null?null:ee(B,L,j,re,null);ul(B,j)}return null}function de(B,L,j,re,Se){if(typeof re=="string"&&re!==""||typeof re=="number")return B=B.get(j)||null,I(L,B,""+re,Se);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case b:return B=B.get(re.key===null?j:re.key)||null,D(L,B,re,Se);case ce:return B=B.get(re.key===null?j:re.key)||null,H(L,B,re,Se);case Rt:var Ce=re._init;return de(B,L,j,Ce(re._payload),Se)}if(Kn(re)||we(re))return B=B.get(j)||null,ee(L,B,re,Se,null);ul(L,re)}return null}function Ee(B,L,j,re){for(var Se=null,Ce=null,Ae=L,xe=L=0,bt=null;Ae!==null&&xe<j.length;xe++){Ae.index>xe?(bt=Ae,Ae=null):bt=Ae.sibling;var tt=Z(B,Ae,j[xe],re);if(tt===null){Ae===null&&(Ae=bt);break}t&&Ae&&tt.alternate===null&&r(B,Ae),L=m(tt,L,xe),Ce===null?Se=tt:Ce.sibling=tt,Ce=tt,Ae=bt}if(xe===j.length)return o(B,Ae),gt&&ls(B,xe),Se;if(Ae===null){for(;xe<j.length;xe++)Ae=te(B,j[xe],re),Ae!==null&&(L=m(Ae,L,xe),Ce===null?Se=Ae:Ce.sibling=Ae,Ce=Ae);return gt&&ls(B,xe),Se}for(Ae=c(B,Ae);xe<j.length;xe++)bt=de(Ae,B,xe,j[xe],re),bt!==null&&(t&&bt.alternate!==null&&Ae.delete(bt.key===null?xe:bt.key),L=m(bt,L,xe),Ce===null?Se=bt:Ce.sibling=bt,Ce=bt);return t&&Ae.forEach(function(Li){return r(B,Li)}),gt&&ls(B,xe),Se}function Te(B,L,j,re){var Se=we(j);if(typeof Se!="function")throw Error(n(150));if(j=Se.call(j),j==null)throw Error(n(151));for(var Ce=Se=null,Ae=L,xe=L=0,bt=null,tt=j.next();Ae!==null&&!tt.done;xe++,tt=j.next()){Ae.index>xe?(bt=Ae,Ae=null):bt=Ae.sibling;var Li=Z(B,Ae,tt.value,re);if(Li===null){Ae===null&&(Ae=bt);break}t&&Ae&&Li.alternate===null&&r(B,Ae),L=m(Li,L,xe),Ce===null?Se=Li:Ce.sibling=Li,Ce=Li,Ae=bt}if(tt.done)return o(B,Ae),gt&&ls(B,xe),Se;if(Ae===null){for(;!tt.done;xe++,tt=j.next())tt=te(B,tt.value,re),tt!==null&&(L=m(tt,L,xe),Ce===null?Se=tt:Ce.sibling=tt,Ce=tt);return gt&&ls(B,xe),Se}for(Ae=c(B,Ae);!tt.done;xe++,tt=j.next())tt=de(Ae,B,xe,tt.value,re),tt!==null&&(t&&tt.alternate!==null&&Ae.delete(tt.key===null?xe:tt.key),L=m(tt,L,xe),Ce===null?Se=tt:Ce.sibling=tt,Ce=tt);return t&&Ae.forEach(function(Wv){return r(B,Wv)}),gt&&ls(B,xe),Se}function It(B,L,j,re){if(typeof j=="object"&&j!==null&&j.type===P&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case b:e:{for(var Se=j.key,Ce=L;Ce!==null;){if(Ce.key===Se){if(Se=j.type,Se===P){if(Ce.tag===7){o(B,Ce.sibling),L=f(Ce,j.props.children),L.return=B,B=L;break e}}else if(Ce.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===Rt&&ld(Se)===Ce.type){o(B,Ce.sibling),L=f(Ce,j.props),L.ref=Ho(B,Ce,j),L.return=B,B=L;break e}o(B,Ce);break}else r(B,Ce);Ce=Ce.sibling}j.type===P?(L=gs(j.props.children,B.mode,re,j.key),L.return=B,B=L):(re=Vl(j.type,j.key,j.props,null,B.mode,re),re.ref=Ho(B,L,j),re.return=B,B=re)}return _(B);case ce:e:{for(Ce=j.key;L!==null;){if(L.key===Ce)if(L.tag===4&&L.stateNode.containerInfo===j.containerInfo&&L.stateNode.implementation===j.implementation){o(B,L.sibling),L=f(L,j.children||[]),L.return=B,B=L;break e}else{o(B,L);break}else r(B,L);L=L.sibling}L=Xc(j,B.mode,re),L.return=B,B=L}return _(B);case Rt:return Ce=j._init,It(B,L,Ce(j._payload),re)}if(Kn(j))return Ee(B,L,j,re);if(we(j))return Te(B,L,j,re);ul(B,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,L!==null&&L.tag===6?(o(B,L.sibling),L=f(L,j),L.return=B,B=L):(o(B,L),L=Yc(j,B.mode,re),L.return=B,B=L),_(B)):o(B,L)}return It}var Zs=ud(!0),cd=ud(!1),cl=Si(null),hl=null,eo=null,oc=null;function ac(){oc=eo=hl=null}function lc(t){var r=cl.current;pt(cl),t._currentValue=r}function uc(t,r,o){for(;t!==null;){var c=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),t===o)break;t=t.return}}function to(t,r){hl=t,oc=eo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(Tn=!0),t.firstContext=null)}function jn(t){var r=t._currentValue;if(oc!==t)if(t={context:t,memoizedValue:r,next:null},eo===null){if(hl===null)throw Error(n(308));eo=t,hl.dependencies={lanes:0,firstContext:t}}else eo=eo.next=t;return r}var us=null;function cc(t){us===null?us=[t]:us.push(t)}function hd(t,r,o,c){var f=r.interleaved;return f===null?(o.next=o,cc(r)):(o.next=f.next,f.next=o),r.interleaved=o,Jr(t,c)}function Jr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Ci=!1;function hc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Ai(t,r,o){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,Ze&2){var f=c.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),c.pending=r,Jr(t,o)}return f=c.interleaved,f===null?(r.next=r,cc(c)):(r.next=f.next,f.next=r),c.interleaved=r,Jr(t,o)}function fl(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var c=r.lanes;c&=t.pendingLanes,o|=c,r.lanes=o,gi(t,o)}}function dd(t,r){var o=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};m===null?f=m=_:m=m.next=_,o=o.next}while(o!==null);m===null?f=m=r:m=m.next=r}else f=m=r;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,effects:c.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function dl(t,r,o,c){var f=t.updateQueue;Ci=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,I=f.shared.pending;if(I!==null){f.shared.pending=null;var D=I,H=D.next;D.next=null,_===null?m=H:_.next=H,_=D;var ee=t.alternate;ee!==null&&(ee=ee.updateQueue,I=ee.lastBaseUpdate,I!==_&&(I===null?ee.firstBaseUpdate=H:I.next=H,ee.lastBaseUpdate=D))}if(m!==null){var te=f.baseState;_=0,ee=H=D=null,I=m;do{var Z=I.lane,de=I.eventTime;if((c&Z)===Z){ee!==null&&(ee=ee.next={eventTime:de,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var Ee=t,Te=I;switch(Z=r,de=o,Te.tag){case 1:if(Ee=Te.payload,typeof Ee=="function"){te=Ee.call(de,te,Z);break e}te=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Te.payload,Z=typeof Ee=="function"?Ee.call(de,te,Z):Ee,Z==null)break e;te=ue({},te,Z);break e;case 2:Ci=!0}}I.callback!==null&&I.lane!==0&&(t.flags|=64,Z=f.effects,Z===null?f.effects=[I]:Z.push(I))}else de={eventTime:de,lane:Z,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ee===null?(H=ee=de,D=te):ee=ee.next=de,_|=Z;if(I=I.next,I===null){if(I=f.shared.pending,I===null)break;Z=I,I=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);if(ee===null&&(D=te),f.baseState=D,f.firstBaseUpdate=H,f.lastBaseUpdate=ee,r=f.shared.interleaved,r!==null){f=r;do _|=f.lane,f=f.next;while(f!==r)}else m===null&&(f.shared.lanes=0);fs|=_,t.lanes=_,t.memoizedState=te}}function pd(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var c=t[r],f=c.callback;if(f!==null){if(c.callback=null,c=o,typeof f!="function")throw Error(n(191,f));f.call(c)}}}var qo={},Cr=Si(qo),Wo=Si(qo),Ko=Si(qo);function cs(t){if(t===qo)throw Error(n(174));return t}function fc(t,r){switch(ut(Ko,r),ut(Wo,t),ut(Cr,qo),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:wt(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=wt(r,t)}pt(Cr),ut(Cr,r)}function no(){pt(Cr),pt(Wo),pt(Ko)}function md(t){cs(Ko.current);var r=cs(Cr.current),o=wt(r,t.type);r!==o&&(ut(Wo,t),ut(Cr,o))}function dc(t){Wo.current===t&&(pt(Cr),pt(Wo))}var vt=Si(0);function pl(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var pc=[];function mc(){for(var t=0;t<pc.length;t++)pc[t]._workInProgressVersionPrimary=null;pc.length=0}var ml=pe.ReactCurrentDispatcher,gc=pe.ReactCurrentBatchConfig,hs=0,_t=null,Nt=null,Ft=null,gl=!1,Qo=!1,Go=0,mv=0;function nn(){throw Error(n(321))}function yc(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!or(t[o],r[o]))return!1;return!0}function vc(t,r,o,c,f,m){if(hs=m,_t=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ml.current=t===null||t.memoizedState===null?_v:Ev,t=o(c,f),Qo){m=0;do{if(Qo=!1,Go=0,25<=m)throw Error(n(301));m+=1,Ft=Nt=null,r.updateQueue=null,ml.current=wv,t=o(c,f)}while(Qo)}if(ml.current=_l,r=Nt!==null&&Nt.next!==null,hs=0,Ft=Nt=_t=null,gl=!1,r)throw Error(n(300));return t}function _c(){var t=Go!==0;return Go=0,t}function Ar(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?_t.memoizedState=Ft=t:Ft=Ft.next=t,Ft}function $n(){if(Nt===null){var t=_t.alternate;t=t!==null?t.memoizedState:null}else t=Nt.next;var r=Ft===null?_t.memoizedState:Ft.next;if(r!==null)Ft=r,Nt=t;else{if(t===null)throw Error(n(310));Nt=t,t={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},Ft===null?_t.memoizedState=Ft=t:Ft=Ft.next=t}return Ft}function Yo(t,r){return typeof r=="function"?r(t):r}function Ec(t){var r=$n(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var c=Nt,f=c.baseQueue,m=o.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}c.baseQueue=f=m,o.pending=null}if(f!==null){m=f.next,c=c.baseState;var I=_=null,D=null,H=m;do{var ee=H.lane;if((hs&ee)===ee)D!==null&&(D=D.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),c=H.hasEagerState?H.eagerState:t(c,H.action);else{var te={lane:ee,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};D===null?(I=D=te,_=c):D=D.next=te,_t.lanes|=ee,fs|=ee}H=H.next}while(H!==null&&H!==m);D===null?_=c:D.next=I,or(c,r.memoizedState)||(Tn=!0),r.memoizedState=c,r.baseState=_,r.baseQueue=D,o.lastRenderedState=c}if(t=o.interleaved,t!==null){f=t;do m=f.lane,_t.lanes|=m,fs|=m,f=f.next;while(f!==t)}else f===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function wc(t){var r=$n(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var c=o.dispatch,f=o.pending,m=r.memoizedState;if(f!==null){o.pending=null;var _=f=f.next;do m=t(m,_.action),_=_.next;while(_!==f);or(m,r.memoizedState)||(Tn=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),o.lastRenderedState=m}return[m,c]}function gd(){}function yd(t,r){var o=_t,c=$n(),f=r(),m=!or(c.memoizedState,f);if(m&&(c.memoizedState=f,Tn=!0),c=c.queue,Tc(Ed.bind(null,o,c,t),[t]),c.getSnapshot!==r||m||Ft!==null&&Ft.memoizedState.tag&1){if(o.flags|=2048,Xo(9,_d.bind(null,o,c,f,r),void 0,null),Ut===null)throw Error(n(349));hs&30||vd(o,r,f)}return f}function vd(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=_t.updateQueue,r===null?(r={lastEffect:null,stores:null},_t.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function _d(t,r,o,c){r.value=o,r.getSnapshot=c,wd(r)&&Td(t)}function Ed(t,r,o){return o(function(){wd(r)&&Td(t)})}function wd(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!or(t,o)}catch{return!0}}function Td(t){var r=Jr(t,1);r!==null&&hr(r,t,1,-1)}function Sd(t){var r=Ar();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yo,lastRenderedState:t},r.queue=t,t=t.dispatch=vv.bind(null,_t,t),[r.memoizedState,t]}function Xo(t,r,o,c){return t={tag:t,create:r,destroy:o,deps:c,next:null},r=_t.updateQueue,r===null?(r={lastEffect:null,stores:null},_t.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(c=o.next,o.next=t,t.next=c,r.lastEffect=t)),t}function Rd(){return $n().memoizedState}function yl(t,r,o,c){var f=Ar();_t.flags|=t,f.memoizedState=Xo(1|r,o,void 0,c===void 0?null:c)}function vl(t,r,o,c){var f=$n();c=c===void 0?null:c;var m=void 0;if(Nt!==null){var _=Nt.memoizedState;if(m=_.destroy,c!==null&&yc(c,_.deps)){f.memoizedState=Xo(r,o,m,c);return}}_t.flags|=t,f.memoizedState=Xo(1|r,o,m,c)}function Id(t,r){return yl(8390656,8,t,r)}function Tc(t,r){return vl(2048,8,t,r)}function Cd(t,r){return vl(4,2,t,r)}function Ad(t,r){return vl(4,4,t,r)}function Pd(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function kd(t,r,o){return o=o!=null?o.concat([t]):null,vl(4,4,Pd.bind(null,r,t),o)}function Sc(){}function xd(t,r){var o=$n();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&yc(r,c[1])?c[0]:(o.memoizedState=[t,r],t)}function Dd(t,r){var o=$n();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&yc(r,c[1])?c[0]:(t=t(),o.memoizedState=[t,r],t)}function Nd(t,r,o){return hs&21?(or(o,r)||(o=es(),_t.lanes|=o,fs|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,Tn=!0),t.memoizedState=o)}function gv(t,r){var o=ze;ze=o!==0&&4>o?o:4,t(!0);var c=gc.transition;gc.transition={};try{t(!1),r()}finally{ze=o,gc.transition=c}}function Vd(){return $n().memoizedState}function yv(t,r,o){var c=Di(t);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},Ld(t))Md(r,o);else if(o=hd(t,r,o,c),o!==null){var f=dn();hr(o,t,c,f),Od(o,r,c)}}function vv(t,r,o){var c=Di(t),f={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ld(t))Md(r,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var _=r.lastRenderedState,I=m(_,o);if(f.hasEagerState=!0,f.eagerState=I,or(I,_)){var D=r.interleaved;D===null?(f.next=f,cc(r)):(f.next=D.next,D.next=f),r.interleaved=f;return}}catch{}finally{}o=hd(t,r,f,c),o!==null&&(f=dn(),hr(o,t,c,f),Od(o,r,c))}}function Ld(t){var r=t.alternate;return t===_t||r!==null&&r===_t}function Md(t,r){Qo=gl=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function Od(t,r,o){if(o&4194240){var c=r.lanes;c&=t.pendingLanes,o|=c,r.lanes=o,gi(t,o)}}var _l={readContext:jn,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useInsertionEffect:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useMutableSource:nn,useSyncExternalStore:nn,useId:nn,unstable_isNewReconciler:!1},_v={readContext:jn,useCallback:function(t,r){return Ar().memoizedState=[t,r===void 0?null:r],t},useContext:jn,useEffect:Id,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,yl(4194308,4,Pd.bind(null,r,t),o)},useLayoutEffect:function(t,r){return yl(4194308,4,t,r)},useInsertionEffect:function(t,r){return yl(4,2,t,r)},useMemo:function(t,r){var o=Ar();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var c=Ar();return r=o!==void 0?o(r):r,c.memoizedState=c.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},c.queue=t,t=t.dispatch=yv.bind(null,_t,t),[c.memoizedState,t]},useRef:function(t){var r=Ar();return t={current:t},r.memoizedState=t},useState:Sd,useDebugValue:Sc,useDeferredValue:function(t){return Ar().memoizedState=t},useTransition:function(){var t=Sd(!1),r=t[0];return t=gv.bind(null,t[1]),Ar().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var c=_t,f=Ar();if(gt){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),Ut===null)throw Error(n(349));hs&30||vd(c,r,o)}f.memoizedState=o;var m={value:o,getSnapshot:r};return f.queue=m,Id(Ed.bind(null,c,m,t),[t]),c.flags|=2048,Xo(9,_d.bind(null,c,m,o,r),void 0,null),o},useId:function(){var t=Ar(),r=Ut.identifierPrefix;if(gt){var o=Xr,c=Yr;o=(c&~(1<<32-cn(c)-1)).toString(32)+o,r=":"+r+"R"+o,o=Go++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=mv++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},Ev={readContext:jn,useCallback:xd,useContext:jn,useEffect:Tc,useImperativeHandle:kd,useInsertionEffect:Cd,useLayoutEffect:Ad,useMemo:Dd,useReducer:Ec,useRef:Rd,useState:function(){return Ec(Yo)},useDebugValue:Sc,useDeferredValue:function(t){var r=$n();return Nd(r,Nt.memoizedState,t)},useTransition:function(){var t=Ec(Yo)[0],r=$n().memoizedState;return[t,r]},useMutableSource:gd,useSyncExternalStore:yd,useId:Vd,unstable_isNewReconciler:!1},wv={readContext:jn,useCallback:xd,useContext:jn,useEffect:Tc,useImperativeHandle:kd,useInsertionEffect:Cd,useLayoutEffect:Ad,useMemo:Dd,useReducer:wc,useRef:Rd,useState:function(){return wc(Yo)},useDebugValue:Sc,useDeferredValue:function(t){var r=$n();return Nt===null?r.memoizedState=t:Nd(r,Nt.memoizedState,t)},useTransition:function(){var t=wc(Yo)[0],r=$n().memoizedState;return[t,r]},useMutableSource:gd,useSyncExternalStore:yd,useId:Vd,unstable_isNewReconciler:!1};function lr(t,r){if(t&&t.defaultProps){r=ue({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function Rc(t,r,o,c){r=t.memoizedState,o=o(c,r),o=o==null?r:ue({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var El={isMounted:function(t){return(t=t._reactInternals)?be(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var c=dn(),f=Di(t),m=Zr(c,f);m.payload=r,o!=null&&(m.callback=o),r=Ai(t,m,f),r!==null&&(hr(r,t,f,c),fl(r,t,f))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var c=dn(),f=Di(t),m=Zr(c,f);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=Ai(t,m,f),r!==null&&(hr(r,t,f,c),fl(r,t,f))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=dn(),c=Di(t),f=Zr(o,c);f.tag=2,r!=null&&(f.callback=r),r=Ai(t,f,c),r!==null&&(hr(r,t,c,o),fl(r,t,c))}};function Fd(t,r,o,c,f,m,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,m,_):r.prototype&&r.prototype.isPureReactComponent?!Fo(o,c)||!Fo(f,m):!0}function Ud(t,r,o){var c=!1,f=Ri,m=r.contextType;return typeof m=="object"&&m!==null?m=jn(m):(f=wn(r)?os:tn.current,c=r.contextTypes,m=(c=c!=null)?Gs(t,f):Ri),r=new r(o,m),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=El,t.stateNode=r,r._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=f,t.__reactInternalMemoizedMaskedChildContext=m),r}function bd(t,r,o,c){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==t&&El.enqueueReplaceState(r,r.state,null)}function Ic(t,r,o,c){var f=t.stateNode;f.props=o,f.state=t.memoizedState,f.refs={},hc(t);var m=r.contextType;typeof m=="object"&&m!==null?f.context=jn(m):(m=wn(r)?os:tn.current,f.context=Gs(t,m)),f.state=t.memoizedState,m=r.getDerivedStateFromProps,typeof m=="function"&&(Rc(t,r,m,o),f.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(r=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),r!==f.state&&El.enqueueReplaceState(f,f.state,null),dl(t,o,f,c),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308)}function ro(t,r){try{var o="",c=r;do o+=De(c),c=c.return;while(c);var f=o}catch(m){f=`
Error generating stack: `+m.message+`
`+m.stack}return{value:t,source:r,stack:f,digest:null}}function Cc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function Ac(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var Tv=typeof WeakMap=="function"?WeakMap:Map;function zd(t,r,o){o=Zr(-1,o),o.tag=3,o.payload={element:null};var c=r.value;return o.callback=function(){Al||(Al=!0,jc=c),Ac(t,r)},o}function Bd(t,r,o){o=Zr(-1,o),o.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var f=r.value;o.payload=function(){return c(f)},o.callback=function(){Ac(t,r)}}var m=t.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(o.callback=function(){Ac(t,r),typeof c!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),o}function jd(t,r,o){var c=t.pingCache;if(c===null){c=t.pingCache=new Tv;var f=new Set;c.set(r,f)}else f=c.get(r),f===void 0&&(f=new Set,c.set(r,f));f.has(o)||(f.add(o),t=Ov.bind(null,t,r,o),r.then(t,t))}function $d(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Hd(t,r,o,c,f){return t.mode&1?(t.flags|=65536,t.lanes=f,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=Zr(-1,1),r.tag=2,Ai(o,r,1))),o.lanes|=1),t)}var Sv=pe.ReactCurrentOwner,Tn=!1;function fn(t,r,o,c){r.child=t===null?cd(r,null,o,c):Zs(r,t.child,o,c)}function qd(t,r,o,c,f){o=o.render;var m=r.ref;return to(r,f),c=vc(t,r,o,c,m,f),o=_c(),t!==null&&!Tn?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,ei(t,r,f)):(gt&&o&&tc(r),r.flags|=1,fn(t,r,c,f),r.child)}function Wd(t,r,o,c,f){if(t===null){var m=o.type;return typeof m=="function"&&!Gc(m)&&m.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=m,Kd(t,r,m,c,f)):(t=Vl(o.type,null,c,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,!(t.lanes&f)){var _=m.memoizedProps;if(o=o.compare,o=o!==null?o:Fo,o(_,c)&&t.ref===r.ref)return ei(t,r,f)}return r.flags|=1,t=Vi(m,c),t.ref=r.ref,t.return=r,r.child=t}function Kd(t,r,o,c,f){if(t!==null){var m=t.memoizedProps;if(Fo(m,c)&&t.ref===r.ref)if(Tn=!1,r.pendingProps=c=m,(t.lanes&f)!==0)t.flags&131072&&(Tn=!0);else return r.lanes=t.lanes,ei(t,r,f)}return Pc(t,r,o,c,f)}function Qd(t,r,o){var c=r.pendingProps,f=c.children,m=t!==null?t.memoizedState:null;if(c.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},ut(so,Mn),Mn|=o;else{if(!(o&1073741824))return t=m!==null?m.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,ut(so,Mn),Mn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:o,ut(so,Mn),Mn|=c}else m!==null?(c=m.baseLanes|o,r.memoizedState=null):c=o,ut(so,Mn),Mn|=c;return fn(t,r,f,o),r.child}function Gd(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function Pc(t,r,o,c,f){var m=wn(o)?os:tn.current;return m=Gs(r,m),to(r,f),o=vc(t,r,o,c,m,f),c=_c(),t!==null&&!Tn?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,ei(t,r,f)):(gt&&c&&tc(r),r.flags|=1,fn(t,r,o,f),r.child)}function Yd(t,r,o,c,f){if(wn(o)){var m=!0;il(r)}else m=!1;if(to(r,f),r.stateNode===null)Tl(t,r),Ud(r,o,c),Ic(r,o,c,f),c=!0;else if(t===null){var _=r.stateNode,I=r.memoizedProps;_.props=I;var D=_.context,H=o.contextType;typeof H=="object"&&H!==null?H=jn(H):(H=wn(o)?os:tn.current,H=Gs(r,H));var ee=o.getDerivedStateFromProps,te=typeof ee=="function"||typeof _.getSnapshotBeforeUpdate=="function";te||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==c||D!==H)&&bd(r,_,c,H),Ci=!1;var Z=r.memoizedState;_.state=Z,dl(r,c,_,f),D=r.memoizedState,I!==c||Z!==D||En.current||Ci?(typeof ee=="function"&&(Rc(r,o,ee,c),D=r.memoizedState),(I=Ci||Fd(r,o,I,c,Z,D,H))?(te||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=D),_.props=c,_.state=D,_.context=H,c=I):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{_=r.stateNode,fd(t,r),I=r.memoizedProps,H=r.type===r.elementType?I:lr(r.type,I),_.props=H,te=r.pendingProps,Z=_.context,D=o.contextType,typeof D=="object"&&D!==null?D=jn(D):(D=wn(o)?os:tn.current,D=Gs(r,D));var de=o.getDerivedStateFromProps;(ee=typeof de=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==te||Z!==D)&&bd(r,_,c,D),Ci=!1,Z=r.memoizedState,_.state=Z,dl(r,c,_,f);var Ee=r.memoizedState;I!==te||Z!==Ee||En.current||Ci?(typeof de=="function"&&(Rc(r,o,de,c),Ee=r.memoizedState),(H=Ci||Fd(r,o,H,c,Z,Ee,D)||!1)?(ee||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,Ee,D),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,Ee,D)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||I===t.memoizedProps&&Z===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===t.memoizedProps&&Z===t.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=Ee),_.props=c,_.state=Ee,_.context=D,c=H):(typeof _.componentDidUpdate!="function"||I===t.memoizedProps&&Z===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===t.memoizedProps&&Z===t.memoizedState||(r.flags|=1024),c=!1)}return kc(t,r,o,c,m,f)}function kc(t,r,o,c,f,m){Gd(t,r);var _=(r.flags&128)!==0;if(!c&&!_)return f&&td(r,o,!1),ei(t,r,m);c=r.stateNode,Sv.current=r;var I=_&&typeof o.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,t!==null&&_?(r.child=Zs(r,t.child,null,m),r.child=Zs(r,null,I,m)):fn(t,r,I,m),r.memoizedState=c.state,f&&td(r,o,!0),r.child}function Xd(t){var r=t.stateNode;r.pendingContext?Zf(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Zf(t,r.context,!1),fc(t,r.containerInfo)}function Jd(t,r,o,c,f){return Js(),sc(f),r.flags|=256,fn(t,r,o,c),r.child}var xc={dehydrated:null,treeContext:null,retryLane:0};function Dc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Zd(t,r,o){var c=r.pendingProps,f=vt.current,m=!1,_=(r.flags&128)!==0,I;if((I=_)||(I=t!==null&&t.memoizedState===null?!1:(f&2)!==0),I?(m=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(f|=1),ut(vt,f&1),t===null)return ic(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(_=c.children,t=c.fallback,m?(c=r.mode,m=r.child,_={mode:"hidden",children:_},!(c&1)&&m!==null?(m.childLanes=0,m.pendingProps=_):m=Ll(_,c,0,null),t=gs(t,c,o,null),m.return=r,t.return=r,m.sibling=t,r.child=m,r.child.memoizedState=Dc(o),r.memoizedState=xc,t):Nc(r,_));if(f=t.memoizedState,f!==null&&(I=f.dehydrated,I!==null))return Rv(t,r,_,c,I,f,o);if(m){m=c.fallback,_=r.mode,f=t.child,I=f.sibling;var D={mode:"hidden",children:c.children};return!(_&1)&&r.child!==f?(c=r.child,c.childLanes=0,c.pendingProps=D,r.deletions=null):(c=Vi(f,D),c.subtreeFlags=f.subtreeFlags&14680064),I!==null?m=Vi(I,m):(m=gs(m,_,o,null),m.flags|=2),m.return=r,c.return=r,c.sibling=m,r.child=c,c=m,m=r.child,_=t.child.memoizedState,_=_===null?Dc(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},m.memoizedState=_,m.childLanes=t.childLanes&~o,r.memoizedState=xc,c}return m=t.child,t=m.sibling,c=Vi(m,{mode:"visible",children:c.children}),!(r.mode&1)&&(c.lanes=o),c.return=r,c.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=c,r.memoizedState=null,c}function Nc(t,r){return r=Ll({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function wl(t,r,o,c){return c!==null&&sc(c),Zs(r,t.child,null,o),t=Nc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Rv(t,r,o,c,f,m,_){if(o)return r.flags&256?(r.flags&=-257,c=Cc(Error(n(422))),wl(t,r,_,c)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(m=c.fallback,f=r.mode,c=Ll({mode:"visible",children:c.children},f,0,null),m=gs(m,f,_,null),m.flags|=2,c.return=r,m.return=r,c.sibling=m,r.child=c,r.mode&1&&Zs(r,t.child,null,_),r.child.memoizedState=Dc(_),r.memoizedState=xc,m);if(!(r.mode&1))return wl(t,r,_,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var I=c.dgst;return c=I,m=Error(n(419)),c=Cc(m,c,void 0),wl(t,r,_,c)}if(I=(_&t.childLanes)!==0,Tn||I){if(c=Ut,c!==null){switch(_&-_){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(c.suspendedLanes|_)?0:f,f!==0&&f!==m.retryLane&&(m.retryLane=f,Jr(t,f),hr(c,t,f,-1))}return Qc(),c=Cc(Error(n(421))),wl(t,r,_,c)}return f.data==="$?"?(r.flags|=128,r.child=t.child,r=Fv.bind(null,t),f._reactRetry=r,null):(t=m.treeContext,Ln=Ti(f.nextSibling),Vn=r,gt=!0,ar=null,t!==null&&(zn[Bn++]=Yr,zn[Bn++]=Xr,zn[Bn++]=as,Yr=t.id,Xr=t.overflow,as=r),r=Nc(r,c.children),r.flags|=4096,r)}function ep(t,r,o){t.lanes|=r;var c=t.alternate;c!==null&&(c.lanes|=r),uc(t.return,r,o)}function Vc(t,r,o,c,f){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=o,m.tailMode=f)}function tp(t,r,o){var c=r.pendingProps,f=c.revealOrder,m=c.tail;if(fn(t,r,c.children,o),c=vt.current,c&2)c=c&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ep(t,o,r);else if(t.tag===19)ep(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(ut(vt,c),!(r.mode&1))r.memoizedState=null;else switch(f){case"forwards":for(o=r.child,f=null;o!==null;)t=o.alternate,t!==null&&pl(t)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Vc(r,!1,f,o,m);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&pl(t)===null){r.child=f;break}t=f.sibling,f.sibling=o,o=f,f=t}Vc(r,!0,o,null,m);break;case"together":Vc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Tl(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function ei(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),fs|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Vi(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Vi(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function Iv(t,r,o){switch(r.tag){case 3:Xd(r),Js();break;case 5:md(r);break;case 1:wn(r.type)&&il(r);break;case 4:fc(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,f=r.memoizedProps.value;ut(cl,c._currentValue),c._currentValue=f;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(ut(vt,vt.current&1),r.flags|=128,null):o&r.child.childLanes?Zd(t,r,o):(ut(vt,vt.current&1),t=ei(t,r,o),t!==null?t.sibling:null);ut(vt,vt.current&1);break;case 19:if(c=(o&r.childLanes)!==0,t.flags&128){if(c)return tp(t,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ut(vt,vt.current),c)break;return null;case 22:case 23:return r.lanes=0,Qd(t,r,o)}return ei(t,r,o)}var np,Lc,rp,ip;np=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Lc=function(){},rp=function(t,r,o,c){var f=t.memoizedProps;if(f!==c){t=r.stateNode,cs(Cr.current);var m=null;switch(o){case"input":f=Fr(t,f),c=Fr(t,c),m=[];break;case"select":f=ue({},f,{value:void 0}),c=ue({},c,{value:void 0}),m=[];break;case"textarea":f=Qn(t,f),c=Qn(t,c),m=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=tl)}vr(o,c);var _;o=null;for(H in f)if(!c.hasOwnProperty(H)&&f.hasOwnProperty(H)&&f[H]!=null)if(H==="style"){var I=f[H];for(_ in I)I.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(a.hasOwnProperty(H)?m||(m=[]):(m=m||[]).push(H,null));for(H in c){var D=c[H];if(I=f!=null?f[H]:void 0,c.hasOwnProperty(H)&&D!==I&&(D!=null||I!=null))if(H==="style")if(I){for(_ in I)!I.hasOwnProperty(_)||D&&D.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in D)D.hasOwnProperty(_)&&I[_]!==D[_]&&(o||(o={}),o[_]=D[_])}else o||(m||(m=[]),m.push(H,o)),o=D;else H==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,I=I?I.__html:void 0,D!=null&&I!==D&&(m=m||[]).push(H,D)):H==="children"?typeof D!="string"&&typeof D!="number"||(m=m||[]).push(H,""+D):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(a.hasOwnProperty(H)?(D!=null&&H==="onScroll"&&dt("scroll",t),m||I===D||(m=[])):(m=m||[]).push(H,D))}o&&(m=m||[]).push("style",o);var H=m;(r.updateQueue=H)&&(r.flags|=4)}},ip=function(t,r,o,c){o!==c&&(r.flags|=4)};function Jo(t,r){if(!gt)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function rn(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,c=0;if(r)for(var f=t.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=c,t.childLanes=o,r}function Cv(t,r,o){var c=r.pendingProps;switch(nc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(r),null;case 1:return wn(r.type)&&rl(),rn(r),null;case 3:return c=r.stateNode,no(),pt(En),pt(tn),mc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(ll(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,ar!==null&&(qc(ar),ar=null))),Lc(t,r),rn(r),null;case 5:dc(r);var f=cs(Ko.current);if(o=r.type,t!==null&&r.stateNode!=null)rp(t,r,o,c,f),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(n(166));return rn(r),null}if(t=cs(Cr.current),ll(r)){c=r.stateNode,o=r.type;var m=r.memoizedProps;switch(c[Ir]=r,c[jo]=m,t=(r.mode&1)!==0,o){case"dialog":dt("cancel",c),dt("close",c);break;case"iframe":case"object":case"embed":dt("load",c);break;case"video":case"audio":for(f=0;f<bo.length;f++)dt(bo[f],c);break;case"source":dt("error",c);break;case"img":case"image":case"link":dt("error",c),dt("load",c);break;case"details":dt("toggle",c);break;case"input":oi(c,m),dt("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},dt("invalid",c);break;case"textarea":Ur(c,m),dt("invalid",c)}vr(o,m),f=null;for(var _ in m)if(m.hasOwnProperty(_)){var I=m[_];_==="children"?typeof I=="string"?c.textContent!==I&&(m.suppressHydrationWarning!==!0&&el(c.textContent,I,t),f=["children",I]):typeof I=="number"&&c.textContent!==""+I&&(m.suppressHydrationWarning!==!0&&el(c.textContent,I,t),f=["children",""+I]):a.hasOwnProperty(_)&&I!=null&&_==="onScroll"&&dt("scroll",c)}switch(o){case"input":Fn(c),As(c,m,!0);break;case"textarea":Fn(c),mn(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=tl)}c=f,r.updateQueue=c,c!==null&&(r.flags|=4)}else{_=f.nodeType===9?f:f.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=st(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=_.createElement(o,{is:c.is}):(t=_.createElement(o),o==="select"&&(_=t,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):t=_.createElementNS(t,o),t[Ir]=r,t[jo]=c,np(t,r,!1,!1),r.stateNode=t;e:{switch(_=hi(o,c),o){case"dialog":dt("cancel",t),dt("close",t),f=c;break;case"iframe":case"object":case"embed":dt("load",t),f=c;break;case"video":case"audio":for(f=0;f<bo.length;f++)dt(bo[f],t);f=c;break;case"source":dt("error",t),f=c;break;case"img":case"image":case"link":dt("error",t),dt("load",t),f=c;break;case"details":dt("toggle",t),f=c;break;case"input":oi(t,c),f=Fr(t,c),dt("invalid",t);break;case"option":f=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},f=ue({},c,{value:void 0}),dt("invalid",t);break;case"textarea":Ur(t,c),f=Qn(t,c),dt("invalid",t);break;default:f=c}vr(o,f),I=f;for(m in I)if(I.hasOwnProperty(m)){var D=I[m];m==="style"?Xi(t,D):m==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&Yi(t,D)):m==="children"?typeof D=="string"?(o!=="textarea"||D!=="")&&$t(t,D):typeof D=="number"&&$t(t,""+D):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(a.hasOwnProperty(m)?D!=null&&m==="onScroll"&&dt("scroll",t):D!=null&&ne(t,m,D,_))}switch(o){case"input":Fn(t),As(t,c,!1);break;case"textarea":Fn(t),mn(t);break;case"option":c.value!=null&&t.setAttribute("value",""+Xe(c.value));break;case"select":t.multiple=!!c.multiple,m=c.value,m!=null?jt(t,!!c.multiple,m,!1):c.defaultValue!=null&&jt(t,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(t.onclick=tl)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return rn(r),null;case 6:if(t&&r.stateNode!=null)ip(t,r,t.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(n(166));if(o=cs(Ko.current),cs(Cr.current),ll(r)){if(c=r.stateNode,o=r.memoizedProps,c[Ir]=r,(m=c.nodeValue!==o)&&(t=Vn,t!==null))switch(t.tag){case 3:el(c.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&el(c.nodeValue,o,(t.mode&1)!==0)}m&&(r.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[Ir]=r,r.stateNode=c}return rn(r),null;case 13:if(pt(vt),c=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(gt&&Ln!==null&&r.mode&1&&!(r.flags&128))ad(),Js(),r.flags|=98560,m=!1;else if(m=ll(r),c!==null&&c.dehydrated!==null){if(t===null){if(!m)throw Error(n(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[Ir]=r}else Js(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;rn(r),m=!1}else ar!==null&&(qc(ar),ar=null),m=!0;if(!m)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(r.child.flags|=8192,r.mode&1&&(t===null||vt.current&1?Vt===0&&(Vt=3):Qc())),r.updateQueue!==null&&(r.flags|=4),rn(r),null);case 4:return no(),Lc(t,r),t===null&&zo(r.stateNode.containerInfo),rn(r),null;case 10:return lc(r.type._context),rn(r),null;case 17:return wn(r.type)&&rl(),rn(r),null;case 19:if(pt(vt),m=r.memoizedState,m===null)return rn(r),null;if(c=(r.flags&128)!==0,_=m.rendering,_===null)if(c)Jo(m,!1);else{if(Vt!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(_=pl(t),_!==null){for(r.flags|=128,Jo(m,!1),c=_.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=o,o=r.child;o!==null;)m=o,t=c,m.flags&=14680066,_=m.alternate,_===null?(m.childLanes=0,m.lanes=t,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=_.childLanes,m.lanes=_.lanes,m.child=_.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=_.memoizedProps,m.memoizedState=_.memoizedState,m.updateQueue=_.updateQueue,m.type=_.type,t=_.dependencies,m.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return ut(vt,vt.current&1|2),r.child}t=t.sibling}m.tail!==null&&it()>oo&&(r.flags|=128,c=!0,Jo(m,!1),r.lanes=4194304)}else{if(!c)if(t=pl(_),t!==null){if(r.flags|=128,c=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Jo(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!gt)return rn(r),null}else 2*it()-m.renderingStartTime>oo&&o!==1073741824&&(r.flags|=128,c=!0,Jo(m,!1),r.lanes=4194304);m.isBackwards?(_.sibling=r.child,r.child=_):(o=m.last,o!==null?o.sibling=_:r.child=_,m.last=_)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=it(),r.sibling=null,o=vt.current,ut(vt,c?o&1|2:o&1),r):(rn(r),null);case 22:case 23:return Kc(),c=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(r.flags|=8192),c&&r.mode&1?Mn&1073741824&&(rn(r),r.subtreeFlags&6&&(r.flags|=8192)):rn(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function Av(t,r){switch(nc(r),r.tag){case 1:return wn(r.type)&&rl(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return no(),pt(En),pt(tn),mc(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return dc(r),null;case 13:if(pt(vt),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));Js()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return pt(vt),null;case 4:return no(),null;case 10:return lc(r.type._context),null;case 22:case 23:return Kc(),null;case 24:return null;default:return null}}var Sl=!1,sn=!1,Pv=typeof WeakSet=="function"?WeakSet:Set,ye=null;function io(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){St(t,r,c)}else o.current=null}function Mc(t,r,o){try{o()}catch(c){St(t,r,c)}}var sp=!1;function kv(t,r){if(Ku=_i,t=Ff(),bu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var _=0,I=-1,D=-1,H=0,ee=0,te=t,Z=null;t:for(;;){for(var de;te!==o||f!==0&&te.nodeType!==3||(I=_+f),te!==m||c!==0&&te.nodeType!==3||(D=_+c),te.nodeType===3&&(_+=te.nodeValue.length),(de=te.firstChild)!==null;)Z=te,te=de;for(;;){if(te===t)break t;if(Z===o&&++H===f&&(I=_),Z===m&&++ee===c&&(D=_),(de=te.nextSibling)!==null)break;te=Z,Z=te.parentNode}te=de}o=I===-1||D===-1?null:{start:I,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(Qu={focusedElem:t,selectionRange:o},_i=!1,ye=r;ye!==null;)if(r=ye,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,ye=t;else for(;ye!==null;){r=ye;try{var Ee=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var Te=Ee.memoizedProps,It=Ee.memoizedState,B=r.stateNode,L=B.getSnapshotBeforeUpdate(r.elementType===r.type?Te:lr(r.type,Te),It);B.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var j=r.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(re){St(r,r.return,re)}if(t=r.sibling,t!==null){t.return=r.return,ye=t;break}ye=r.return}return Ee=sp,sp=!1,Ee}function Zo(t,r,o){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&t)===t){var m=f.destroy;f.destroy=void 0,m!==void 0&&Mc(r,o,m)}f=f.next}while(f!==c)}}function Rl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var c=o.create;o.destroy=c()}o=o.next}while(o!==r)}}function Oc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function op(t){var r=t.alternate;r!==null&&(t.alternate=null,op(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Ir],delete r[jo],delete r[Ju],delete r[hv],delete r[fv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ap(t){return t.tag===5||t.tag===3||t.tag===4}function lp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ap(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fc(t,r,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=tl));else if(c!==4&&(t=t.child,t!==null))for(Fc(t,r,o),t=t.sibling;t!==null;)Fc(t,r,o),t=t.sibling}function Uc(t,r,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(Uc(t,r,o),t=t.sibling;t!==null;)Uc(t,r,o),t=t.sibling}var Qt=null,ur=!1;function Pi(t,r,o){for(o=o.child;o!==null;)up(t,r,o),o=o.sibling}function up(t,r,o){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(yn,o)}catch{}switch(o.tag){case 5:sn||io(o,r);case 6:var c=Qt,f=ur;Qt=null,Pi(t,r,o),Qt=c,ur=f,Qt!==null&&(ur?(t=Qt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):Qt.removeChild(o.stateNode));break;case 18:Qt!==null&&(ur?(t=Qt,o=o.stateNode,t.nodeType===8?Xu(t.parentNode,o):t.nodeType===1&&Xu(t,o),ir(t)):Xu(Qt,o.stateNode));break;case 4:c=Qt,f=ur,Qt=o.stateNode.containerInfo,ur=!0,Pi(t,r,o),Qt=c,ur=f;break;case 0:case 11:case 14:case 15:if(!sn&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var m=f,_=m.destroy;m=m.tag,_!==void 0&&(m&2||m&4)&&Mc(o,r,_),f=f.next}while(f!==c)}Pi(t,r,o);break;case 1:if(!sn&&(io(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(I){St(o,r,I)}Pi(t,r,o);break;case 21:Pi(t,r,o);break;case 22:o.mode&1?(sn=(c=sn)||o.memoizedState!==null,Pi(t,r,o),sn=c):Pi(t,r,o);break;default:Pi(t,r,o)}}function cp(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new Pv),r.forEach(function(c){var f=Uv.bind(null,t,c);o.has(c)||(o.add(c),c.then(f,f))})}}function cr(t,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];try{var m=t,_=r,I=_;e:for(;I!==null;){switch(I.tag){case 5:Qt=I.stateNode,ur=!1;break e;case 3:Qt=I.stateNode.containerInfo,ur=!0;break e;case 4:Qt=I.stateNode.containerInfo,ur=!0;break e}I=I.return}if(Qt===null)throw Error(n(160));up(m,_,f),Qt=null,ur=!1;var D=f.alternate;D!==null&&(D.return=null),f.return=null}catch(H){St(f,r,H)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)hp(r,t),r=r.sibling}function hp(t,r){var o=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(cr(r,t),Pr(t),c&4){try{Zo(3,t,t.return),Rl(3,t)}catch(Te){St(t,t.return,Te)}try{Zo(5,t,t.return)}catch(Te){St(t,t.return,Te)}}break;case 1:cr(r,t),Pr(t),c&512&&o!==null&&io(o,o.return);break;case 5:if(cr(r,t),Pr(t),c&512&&o!==null&&io(o,o.return),t.flags&32){var f=t.stateNode;try{$t(f,"")}catch(Te){St(t,t.return,Te)}}if(c&4&&(f=t.stateNode,f!=null)){var m=t.memoizedProps,_=o!==null?o.memoizedProps:m,I=t.type,D=t.updateQueue;if(t.updateQueue=null,D!==null)try{I==="input"&&m.type==="radio"&&m.name!=null&&ai(f,m),hi(I,_);var H=hi(I,m);for(_=0;_<D.length;_+=2){var ee=D[_],te=D[_+1];ee==="style"?Xi(f,te):ee==="dangerouslySetInnerHTML"?Yi(f,te):ee==="children"?$t(f,te):ne(f,ee,te,H)}switch(I){case"input":Gi(f,m);break;case"textarea":mr(f,m);break;case"select":var Z=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!m.multiple;var de=m.value;de!=null?jt(f,!!m.multiple,de,!1):Z!==!!m.multiple&&(m.defaultValue!=null?jt(f,!!m.multiple,m.defaultValue,!0):jt(f,!!m.multiple,m.multiple?[]:"",!1))}f[jo]=m}catch(Te){St(t,t.return,Te)}}break;case 6:if(cr(r,t),Pr(t),c&4){if(t.stateNode===null)throw Error(n(162));f=t.stateNode,m=t.memoizedProps;try{f.nodeValue=m}catch(Te){St(t,t.return,Te)}}break;case 3:if(cr(r,t),Pr(t),c&4&&o!==null&&o.memoizedState.isDehydrated)try{ir(r.containerInfo)}catch(Te){St(t,t.return,Te)}break;case 4:cr(r,t),Pr(t);break;case 13:cr(r,t),Pr(t),f=t.child,f.flags&8192&&(m=f.memoizedState!==null,f.stateNode.isHidden=m,!m||f.alternate!==null&&f.alternate.memoizedState!==null||(Bc=it())),c&4&&cp(t);break;case 22:if(ee=o!==null&&o.memoizedState!==null,t.mode&1?(sn=(H=sn)||ee,cr(r,t),sn=H):cr(r,t),Pr(t),c&8192){if(H=t.memoizedState!==null,(t.stateNode.isHidden=H)&&!ee&&t.mode&1)for(ye=t,ee=t.child;ee!==null;){for(te=ye=ee;ye!==null;){switch(Z=ye,de=Z.child,Z.tag){case 0:case 11:case 14:case 15:Zo(4,Z,Z.return);break;case 1:io(Z,Z.return);var Ee=Z.stateNode;if(typeof Ee.componentWillUnmount=="function"){c=Z,o=Z.return;try{r=c,Ee.props=r.memoizedProps,Ee.state=r.memoizedState,Ee.componentWillUnmount()}catch(Te){St(c,o,Te)}}break;case 5:io(Z,Z.return);break;case 22:if(Z.memoizedState!==null){pp(te);continue}}de!==null?(de.return=Z,ye=de):pp(te)}ee=ee.sibling}e:for(ee=null,te=t;;){if(te.tag===5){if(ee===null){ee=te;try{f=te.stateNode,H?(m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(I=te.stateNode,D=te.memoizedProps.style,_=D!=null&&D.hasOwnProperty("display")?D.display:null,I.style.display=ui("display",_))}catch(Te){St(t,t.return,Te)}}}else if(te.tag===6){if(ee===null)try{te.stateNode.nodeValue=H?"":te.memoizedProps}catch(Te){St(t,t.return,Te)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===t)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===t)break e;for(;te.sibling===null;){if(te.return===null||te.return===t)break e;ee===te&&(ee=null),te=te.return}ee===te&&(ee=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:cr(r,t),Pr(t),c&4&&cp(t);break;case 21:break;default:cr(r,t),Pr(t)}}function Pr(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(ap(o)){var c=o;break e}o=o.return}throw Error(n(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&($t(f,""),c.flags&=-33);var m=lp(t);Uc(t,m,f);break;case 3:case 4:var _=c.stateNode.containerInfo,I=lp(t);Fc(t,I,_);break;default:throw Error(n(161))}}catch(D){St(t,t.return,D)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function xv(t,r,o){ye=t,fp(t)}function fp(t,r,o){for(var c=(t.mode&1)!==0;ye!==null;){var f=ye,m=f.child;if(f.tag===22&&c){var _=f.memoizedState!==null||Sl;if(!_){var I=f.alternate,D=I!==null&&I.memoizedState!==null||sn;I=Sl;var H=sn;if(Sl=_,(sn=D)&&!H)for(ye=f;ye!==null;)_=ye,D=_.child,_.tag===22&&_.memoizedState!==null?mp(f):D!==null?(D.return=_,ye=D):mp(f);for(;m!==null;)ye=m,fp(m),m=m.sibling;ye=f,Sl=I,sn=H}dp(t)}else f.subtreeFlags&8772&&m!==null?(m.return=f,ye=m):dp(t)}}function dp(t){for(;ye!==null;){var r=ye;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:sn||Rl(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!sn)if(o===null)c.componentDidMount();else{var f=r.elementType===r.type?o.memoizedProps:lr(r.type,o.memoizedProps);c.componentDidUpdate(f,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=r.updateQueue;m!==null&&pd(r,m,c);break;case 3:var _=r.updateQueue;if(_!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}pd(r,_,o)}break;case 5:var I=r.stateNode;if(o===null&&r.flags&4){o=I;var D=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&o.focus();break;case"img":D.src&&(o.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var H=r.alternate;if(H!==null){var ee=H.memoizedState;if(ee!==null){var te=ee.dehydrated;te!==null&&ir(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}sn||r.flags&512&&Oc(r)}catch(Z){St(r,r.return,Z)}}if(r===t){ye=null;break}if(o=r.sibling,o!==null){o.return=r.return,ye=o;break}ye=r.return}}function pp(t){for(;ye!==null;){var r=ye;if(r===t){ye=null;break}var o=r.sibling;if(o!==null){o.return=r.return,ye=o;break}ye=r.return}}function mp(t){for(;ye!==null;){var r=ye;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{Rl(4,r)}catch(D){St(r,o,D)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var f=r.return;try{c.componentDidMount()}catch(D){St(r,f,D)}}var m=r.return;try{Oc(r)}catch(D){St(r,m,D)}break;case 5:var _=r.return;try{Oc(r)}catch(D){St(r,_,D)}}}catch(D){St(r,r.return,D)}if(r===t){ye=null;break}var I=r.sibling;if(I!==null){I.return=r.return,ye=I;break}ye=r.return}}var Dv=Math.ceil,Il=pe.ReactCurrentDispatcher,bc=pe.ReactCurrentOwner,Hn=pe.ReactCurrentBatchConfig,Ze=0,Ut=null,kt=null,Gt=0,Mn=0,so=Si(0),Vt=0,ea=null,fs=0,Cl=0,zc=0,ta=null,Sn=null,Bc=0,oo=1/0,ti=null,Al=!1,jc=null,ki=null,Pl=!1,xi=null,kl=0,na=0,$c=null,xl=-1,Dl=0;function dn(){return Ze&6?it():xl!==-1?xl:xl=it()}function Di(t){return t.mode&1?Ze&2&&Gt!==0?Gt&-Gt:pv.transition!==null?(Dl===0&&(Dl=es()),Dl):(t=ze,t!==0||(t=window.event,t=t===void 0?16:xo(t.type)),t):1}function hr(t,r,o,c){if(50<na)throw na=0,$c=null,Error(n(185));mi(t,o,c),(!(Ze&2)||t!==Ut)&&(t===Ut&&(!(Ze&2)&&(Cl|=o),Vt===4&&Ni(t,Gt)),Rn(t,c),o===1&&Ze===0&&!(r.mode&1)&&(oo=it()+500,sl&&Ii()))}function Rn(t,r){var o=t.callbackNode;$r(t,r);var c=Zi(t,t===Ut?Gt:0);if(c===0)o!==null&&Br(o),t.callbackNode=null,t.callbackPriority=0;else if(r=c&-c,t.callbackPriority!==r){if(o!=null&&Br(o),r===1)t.tag===0?dv(yp.bind(null,t)):nd(yp.bind(null,t)),uv(function(){!(Ze&6)&&Ii()}),o=null;else{switch(yi(c)){case 1:o=He;break;case 4:o=ht;break;case 16:o=qt;break;case 536870912:o=ft;break;default:o=qt}o=Ip(o,gp.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function gp(t,r){if(xl=-1,Dl=0,Ze&6)throw Error(n(327));var o=t.callbackNode;if(ao()&&t.callbackNode!==o)return null;var c=Zi(t,t===Ut?Gt:0);if(c===0)return null;if(c&30||c&t.expiredLanes||r)r=Nl(t,c);else{r=c;var f=Ze;Ze|=2;var m=_p();(Ut!==t||Gt!==r)&&(ti=null,oo=it()+500,ps(t,r));do try{Lv();break}catch(I){vp(t,I)}while(!0);ac(),Il.current=m,Ze=f,kt!==null?r=0:(Ut=null,Gt=0,r=Vt)}if(r!==0){if(r===2&&(f=xn(t),f!==0&&(c=f,r=Hc(t,f))),r===1)throw o=ea,ps(t,0),Ni(t,c),Rn(t,it()),o;if(r===6)Ni(t,c);else{if(f=t.current.alternate,!(c&30)&&!Nv(f)&&(r=Nl(t,c),r===2&&(m=xn(t),m!==0&&(c=m,r=Hc(t,m))),r===1))throw o=ea,ps(t,0),Ni(t,c),Rn(t,it()),o;switch(t.finishedWork=f,t.finishedLanes=c,r){case 0:case 1:throw Error(n(345));case 2:ms(t,Sn,ti);break;case 3:if(Ni(t,c),(c&130023424)===c&&(r=Bc+500-it(),10<r)){if(Zi(t,0)!==0)break;if(f=t.suspendedLanes,(f&c)!==c){dn(),t.pingedLanes|=t.suspendedLanes&f;break}t.timeoutHandle=Yu(ms.bind(null,t,Sn,ti),r);break}ms(t,Sn,ti);break;case 4:if(Ni(t,c),(c&4194240)===c)break;for(r=t.eventTimes,f=-1;0<c;){var _=31-cn(c);m=1<<_,_=r[_],_>f&&(f=_),c&=~m}if(c=f,c=it()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Dv(c/1960))-c,10<c){t.timeoutHandle=Yu(ms.bind(null,t,Sn,ti),c);break}ms(t,Sn,ti);break;case 5:ms(t,Sn,ti);break;default:throw Error(n(329))}}}return Rn(t,it()),t.callbackNode===o?gp.bind(null,t):null}function Hc(t,r){var o=ta;return t.current.memoizedState.isDehydrated&&(ps(t,r).flags|=256),t=Nl(t,r),t!==2&&(r=Sn,Sn=o,r!==null&&qc(r)),t}function qc(t){Sn===null?Sn=t:Sn.push.apply(Sn,t)}function Nv(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var f=o[c],m=f.getSnapshot;f=f.value;try{if(!or(m(),f))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ni(t,r){for(r&=~zc,r&=~Cl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-cn(r),c=1<<o;t[o]=-1,r&=~c}}function yp(t){if(Ze&6)throw Error(n(327));ao();var r=Zi(t,0);if(!(r&1))return Rn(t,it()),null;var o=Nl(t,r);if(t.tag!==0&&o===2){var c=xn(t);c!==0&&(r=c,o=Hc(t,c))}if(o===1)throw o=ea,ps(t,0),Ni(t,r),Rn(t,it()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,ms(t,Sn,ti),Rn(t,it()),null}function Wc(t,r){var o=Ze;Ze|=1;try{return t(r)}finally{Ze=o,Ze===0&&(oo=it()+500,sl&&Ii())}}function ds(t){xi!==null&&xi.tag===0&&!(Ze&6)&&ao();var r=Ze;Ze|=1;var o=Hn.transition,c=ze;try{if(Hn.transition=null,ze=1,t)return t()}finally{ze=c,Hn.transition=o,Ze=r,!(Ze&6)&&Ii()}}function Kc(){Mn=so.current,pt(so)}function ps(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,lv(o)),kt!==null)for(o=kt.return;o!==null;){var c=o;switch(nc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&rl();break;case 3:no(),pt(En),pt(tn),mc();break;case 5:dc(c);break;case 4:no();break;case 13:pt(vt);break;case 19:pt(vt);break;case 10:lc(c.type._context);break;case 22:case 23:Kc()}o=o.return}if(Ut=t,kt=t=Vi(t.current,null),Gt=Mn=r,Vt=0,ea=null,zc=Cl=fs=0,Sn=ta=null,us!==null){for(r=0;r<us.length;r++)if(o=us[r],c=o.interleaved,c!==null){o.interleaved=null;var f=c.next,m=o.pending;if(m!==null){var _=m.next;m.next=f,c.next=_}o.pending=c}us=null}return t}function vp(t,r){do{var o=kt;try{if(ac(),ml.current=_l,gl){for(var c=_t.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}gl=!1}if(hs=0,Ft=Nt=_t=null,Qo=!1,Go=0,bc.current=null,o===null||o.return===null){Vt=1,ea=r,kt=null;break}e:{var m=t,_=o.return,I=o,D=r;if(r=Gt,I.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var H=D,ee=I,te=ee.tag;if(!(ee.mode&1)&&(te===0||te===11||te===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var de=$d(_);if(de!==null){de.flags&=-257,Hd(de,_,I,m,r),de.mode&1&&jd(m,H,r),r=de,D=H;var Ee=r.updateQueue;if(Ee===null){var Te=new Set;Te.add(D),r.updateQueue=Te}else Ee.add(D);break e}else{if(!(r&1)){jd(m,H,r),Qc();break e}D=Error(n(426))}}else if(gt&&I.mode&1){var It=$d(_);if(It!==null){!(It.flags&65536)&&(It.flags|=256),Hd(It,_,I,m,r),sc(ro(D,I));break e}}m=D=ro(D,I),Vt!==4&&(Vt=2),ta===null?ta=[m]:ta.push(m),m=_;do{switch(m.tag){case 3:m.flags|=65536,r&=-r,m.lanes|=r;var B=zd(m,D,r);dd(m,B);break e;case 1:I=D;var L=m.type,j=m.stateNode;if(!(m.flags&128)&&(typeof L.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(ki===null||!ki.has(j)))){m.flags|=65536,r&=-r,m.lanes|=r;var re=Bd(m,I,r);dd(m,re);break e}}m=m.return}while(m!==null)}wp(o)}catch(Se){r=Se,kt===o&&o!==null&&(kt=o=o.return);continue}break}while(!0)}function _p(){var t=Il.current;return Il.current=_l,t===null?_l:t}function Qc(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Ut===null||!(fs&268435455)&&!(Cl&268435455)||Ni(Ut,Gt)}function Nl(t,r){var o=Ze;Ze|=2;var c=_p();(Ut!==t||Gt!==r)&&(ti=null,ps(t,r));do try{Vv();break}catch(f){vp(t,f)}while(!0);if(ac(),Ze=o,Il.current=c,kt!==null)throw Error(n(261));return Ut=null,Gt=0,Vt}function Vv(){for(;kt!==null;)Ep(kt)}function Lv(){for(;kt!==null&&!_r();)Ep(kt)}function Ep(t){var r=Rp(t.alternate,t,Mn);t.memoizedProps=t.pendingProps,r===null?wp(t):kt=r,bc.current=null}function wp(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=Av(o,r),o!==null){o.flags&=32767,kt=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Vt=6,kt=null;return}}else if(o=Cv(o,r,Mn),o!==null){kt=o;return}if(r=r.sibling,r!==null){kt=r;return}kt=r=t}while(r!==null);Vt===0&&(Vt=5)}function ms(t,r,o){var c=ze,f=Hn.transition;try{Hn.transition=null,ze=1,Mv(t,r,o,c)}finally{Hn.transition=f,ze=c}return null}function Mv(t,r,o,c){do ao();while(xi!==null);if(Ze&6)throw Error(n(327));o=t.finishedWork;var f=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var m=o.lanes|o.childLanes;if(at(t,m),t===Ut&&(kt=Ut=null,Gt=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||Pl||(Pl=!0,Ip(qt,function(){return ao(),null})),m=(o.flags&15990)!==0,o.subtreeFlags&15990||m){m=Hn.transition,Hn.transition=null;var _=ze;ze=1;var I=Ze;Ze|=4,bc.current=null,kv(t,o),hp(o,t),tv(Qu),_i=!!Ku,Qu=Ku=null,t.current=o,xv(o),Zn(),Ze=I,ze=_,Hn.transition=m}else t.current=o;if(Pl&&(Pl=!1,xi=t,kl=f),m=t.pendingLanes,m===0&&(ki=null),Ps(o.stateNode),Rn(t,it()),r!==null)for(c=t.onRecoverableError,o=0;o<r.length;o++)f=r[o],c(f.value,{componentStack:f.stack,digest:f.digest});if(Al)throw Al=!1,t=jc,jc=null,t;return kl&1&&t.tag!==0&&ao(),m=t.pendingLanes,m&1?t===$c?na++:(na=0,$c=t):na=0,Ii(),null}function ao(){if(xi!==null){var t=yi(kl),r=Hn.transition,o=ze;try{if(Hn.transition=null,ze=16>t?16:t,xi===null)var c=!1;else{if(t=xi,xi=null,kl=0,Ze&6)throw Error(n(331));var f=Ze;for(Ze|=4,ye=t.current;ye!==null;){var m=ye,_=m.child;if(ye.flags&16){var I=m.deletions;if(I!==null){for(var D=0;D<I.length;D++){var H=I[D];for(ye=H;ye!==null;){var ee=ye;switch(ee.tag){case 0:case 11:case 15:Zo(8,ee,m)}var te=ee.child;if(te!==null)te.return=ee,ye=te;else for(;ye!==null;){ee=ye;var Z=ee.sibling,de=ee.return;if(op(ee),ee===H){ye=null;break}if(Z!==null){Z.return=de,ye=Z;break}ye=de}}}var Ee=m.alternate;if(Ee!==null){var Te=Ee.child;if(Te!==null){Ee.child=null;do{var It=Te.sibling;Te.sibling=null,Te=It}while(Te!==null)}}ye=m}}if(m.subtreeFlags&2064&&_!==null)_.return=m,ye=_;else e:for(;ye!==null;){if(m=ye,m.flags&2048)switch(m.tag){case 0:case 11:case 15:Zo(9,m,m.return)}var B=m.sibling;if(B!==null){B.return=m.return,ye=B;break e}ye=m.return}}var L=t.current;for(ye=L;ye!==null;){_=ye;var j=_.child;if(_.subtreeFlags&2064&&j!==null)j.return=_,ye=j;else e:for(_=L;ye!==null;){if(I=ye,I.flags&2048)try{switch(I.tag){case 0:case 11:case 15:Rl(9,I)}}catch(Se){St(I,I.return,Se)}if(I===_){ye=null;break e}var re=I.sibling;if(re!==null){re.return=I.return,ye=re;break e}ye=I.return}}if(Ze=f,Ii(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(yn,t)}catch{}c=!0}return c}finally{ze=o,Hn.transition=r}}return!1}function Tp(t,r,o){r=ro(o,r),r=zd(t,r,1),t=Ai(t,r,1),r=dn(),t!==null&&(mi(t,1,r),Rn(t,r))}function St(t,r,o){if(t.tag===3)Tp(t,t,o);else for(;r!==null;){if(r.tag===3){Tp(r,t,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ki===null||!ki.has(c))){t=ro(o,t),t=Bd(r,t,1),r=Ai(r,t,1),t=dn(),r!==null&&(mi(r,1,t),Rn(r,t));break}}r=r.return}}function Ov(t,r,o){var c=t.pingCache;c!==null&&c.delete(r),r=dn(),t.pingedLanes|=t.suspendedLanes&o,Ut===t&&(Gt&o)===o&&(Vt===4||Vt===3&&(Gt&130023424)===Gt&&500>it()-Bc?ps(t,0):zc|=o),Rn(t,r)}function Sp(t,r){r===0&&(t.mode&1?(r=xs,xs<<=1,!(xs&130023424)&&(xs=4194304)):r=1);var o=dn();t=Jr(t,r),t!==null&&(mi(t,r,o),Rn(t,o))}function Fv(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),Sp(t,o)}function Uv(t,r){var o=0;switch(t.tag){case 13:var c=t.stateNode,f=t.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(r),Sp(t,o)}var Rp;Rp=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||En.current)Tn=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return Tn=!1,Iv(t,r,o);Tn=!!(t.flags&131072)}else Tn=!1,gt&&r.flags&1048576&&rd(r,al,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;Tl(t,r),t=r.pendingProps;var f=Gs(r,tn.current);to(r,o),f=vc(null,r,c,t,f,o);var m=_c();return r.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,wn(c)?(m=!0,il(r)):m=!1,r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,hc(r),f.updater=El,r.stateNode=f,f._reactInternals=r,Ic(r,c,t,o),r=kc(null,r,c,!0,m,o)):(r.tag=0,gt&&m&&tc(r),fn(null,r,f,o),r=r.child),r;case 16:c=r.elementType;e:{switch(Tl(t,r),t=r.pendingProps,f=c._init,c=f(c._payload),r.type=c,f=r.tag=zv(c),t=lr(c,t),f){case 0:r=Pc(null,r,c,t,o);break e;case 1:r=Yd(null,r,c,t,o);break e;case 11:r=qd(null,r,c,t,o);break e;case 14:r=Wd(null,r,c,lr(c.type,t),o);break e}throw Error(n(306,c,""))}return r;case 0:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:lr(c,f),Pc(t,r,c,f,o);case 1:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:lr(c,f),Yd(t,r,c,f,o);case 3:e:{if(Xd(r),t===null)throw Error(n(387));c=r.pendingProps,m=r.memoizedState,f=m.element,fd(t,r),dl(r,c,null,o);var _=r.memoizedState;if(c=_.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){f=ro(Error(n(423)),r),r=Jd(t,r,c,o,f);break e}else if(c!==f){f=ro(Error(n(424)),r),r=Jd(t,r,c,o,f);break e}else for(Ln=Ti(r.stateNode.containerInfo.firstChild),Vn=r,gt=!0,ar=null,o=cd(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Js(),c===f){r=ei(t,r,o);break e}fn(t,r,c,o)}r=r.child}return r;case 5:return md(r),t===null&&ic(r),c=r.type,f=r.pendingProps,m=t!==null?t.memoizedProps:null,_=f.children,Gu(c,f)?_=null:m!==null&&Gu(c,m)&&(r.flags|=32),Gd(t,r),fn(t,r,_,o),r.child;case 6:return t===null&&ic(r),null;case 13:return Zd(t,r,o);case 4:return fc(r,r.stateNode.containerInfo),c=r.pendingProps,t===null?r.child=Zs(r,null,c,o):fn(t,r,c,o),r.child;case 11:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:lr(c,f),qd(t,r,c,f,o);case 7:return fn(t,r,r.pendingProps,o),r.child;case 8:return fn(t,r,r.pendingProps.children,o),r.child;case 12:return fn(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(c=r.type._context,f=r.pendingProps,m=r.memoizedProps,_=f.value,ut(cl,c._currentValue),c._currentValue=_,m!==null)if(or(m.value,_)){if(m.children===f.children&&!En.current){r=ei(t,r,o);break e}}else for(m=r.child,m!==null&&(m.return=r);m!==null;){var I=m.dependencies;if(I!==null){_=m.child;for(var D=I.firstContext;D!==null;){if(D.context===c){if(m.tag===1){D=Zr(-1,o&-o),D.tag=2;var H=m.updateQueue;if(H!==null){H=H.shared;var ee=H.pending;ee===null?D.next=D:(D.next=ee.next,ee.next=D),H.pending=D}}m.lanes|=o,D=m.alternate,D!==null&&(D.lanes|=o),uc(m.return,o,r),I.lanes|=o;break}D=D.next}}else if(m.tag===10)_=m.type===r.type?null:m.child;else if(m.tag===18){if(_=m.return,_===null)throw Error(n(341));_.lanes|=o,I=_.alternate,I!==null&&(I.lanes|=o),uc(_,o,r),_=m.sibling}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===r){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}fn(t,r,f.children,o),r=r.child}return r;case 9:return f=r.type,c=r.pendingProps.children,to(r,o),f=jn(f),c=c(f),r.flags|=1,fn(t,r,c,o),r.child;case 14:return c=r.type,f=lr(c,r.pendingProps),f=lr(c.type,f),Wd(t,r,c,f,o);case 15:return Kd(t,r,r.type,r.pendingProps,o);case 17:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:lr(c,f),Tl(t,r),r.tag=1,wn(c)?(t=!0,il(r)):t=!1,to(r,o),Ud(r,c,f),Ic(r,c,f,o),kc(null,r,c,!0,t,o);case 19:return tp(t,r,o);case 22:return Qd(t,r,o)}throw Error(n(156,r.tag))};function Ip(t,r){return Ht(t,r)}function bv(t,r,o,c){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(t,r,o,c){return new bv(t,r,o,c)}function Gc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zv(t){if(typeof t=="function")return Gc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===F)return 11;if(t===je)return 14}return 2}function Vi(t,r){var o=t.alternate;return o===null?(o=qn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Vl(t,r,o,c,f,m){var _=2;if(c=t,typeof t=="function")Gc(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case P:return gs(o.children,f,m,r);case T:_=8,f|=8;break;case R:return t=qn(12,o,r,f|2),t.elementType=R,t.lanes=m,t;case A:return t=qn(13,o,r,f),t.elementType=A,t.lanes=m,t;case lt:return t=qn(19,o,r,f),t.elementType=lt,t.lanes=m,t;case $e:return Ll(o,f,m,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:_=10;break e;case V:_=9;break e;case F:_=11;break e;case je:_=14;break e;case Rt:_=16,c=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=qn(_,o,r,f),r.elementType=t,r.type=c,r.lanes=m,r}function gs(t,r,o,c){return t=qn(7,t,c,r),t.lanes=o,t}function Ll(t,r,o,c){return t=qn(22,t,c,r),t.elementType=$e,t.lanes=o,t.stateNode={isHidden:!1},t}function Yc(t,r,o){return t=qn(6,t,null,r),t.lanes=o,t}function Xc(t,r,o){return r=qn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function Bv(t,r,o,c,f){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pi(0),this.expirationTimes=pi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Jc(t,r,o,c,f,m,_,I,D){return t=new Bv(t,r,o,I,D),r===1?(r=1,m===!0&&(r|=8)):r=0,m=qn(3,null,null,r),t.current=m,m.stateNode=t,m.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},hc(m),t}function jv(t,r,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ce,key:c==null?null:""+c,children:t,containerInfo:r,implementation:o}}function Cp(t){if(!t)return Ri;t=t._reactInternals;e:{if(be(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(wn(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(wn(o))return ed(t,o,r)}return r}function Ap(t,r,o,c,f,m,_,I,D){return t=Jc(o,c,!0,t,f,m,_,I,D),t.context=Cp(null),o=t.current,c=dn(),f=Di(o),m=Zr(c,f),m.callback=r??null,Ai(o,m,f),t.current.lanes=f,mi(t,f,c),Rn(t,c),t}function Ml(t,r,o,c){var f=r.current,m=dn(),_=Di(f);return o=Cp(o),r.context===null?r.context=o:r.pendingContext=o,r=Zr(m,_),r.payload={element:t},c=c===void 0?null:c,c!==null&&(r.callback=c),t=Ai(f,r,_),t!==null&&(hr(t,f,_,m),fl(t,f,_)),_}function Ol(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Pp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function Zc(t,r){Pp(t,r),(t=t.alternate)&&Pp(t,r)}var kp=typeof reportError=="function"?reportError:function(t){console.error(t)};function eh(t){this._internalRoot=t}Fl.prototype.render=eh.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Ml(t,r,null,null)},Fl.prototype.unmount=eh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;ds(function(){Ml(null,t,null,null)}),r[Qr]=null}};function Fl(t){this._internalRoot=t}Fl.prototype.unstable_scheduleHydration=function(t){if(t){var r=Fa();t={blockedOn:null,target:t,priority:r};for(var o=0;o<wr.length&&r!==0&&r<wr[o].priority;o++);wr.splice(o,0,t),o===0&&za(t)}};function th(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ul(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xp(){}function $v(t,r,o,c,f){if(f){if(typeof c=="function"){var m=c;c=function(){var H=Ol(_);m.call(H)}}var _=Ap(r,c,t,0,null,!1,!1,"",xp);return t._reactRootContainer=_,t[Qr]=_.current,zo(t.nodeType===8?t.parentNode:t),ds(),_}for(;f=t.lastChild;)t.removeChild(f);if(typeof c=="function"){var I=c;c=function(){var H=Ol(D);I.call(H)}}var D=Jc(t,0,!1,null,null,!1,!1,"",xp);return t._reactRootContainer=D,t[Qr]=D.current,zo(t.nodeType===8?t.parentNode:t),ds(function(){Ml(r,D,o,c)}),D}function bl(t,r,o,c,f){var m=o._reactRootContainer;if(m){var _=m;if(typeof f=="function"){var I=f;f=function(){var D=Ol(_);I.call(D)}}Ml(r,_,t,f)}else _=$v(o,r,t,f,c);return Ol(_)}Ma=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=di(r.pendingLanes);o!==0&&(gi(r,o|1),Rn(r,it()),!(Ze&6)&&(oo=it()+500,Ii()))}break;case 13:ds(function(){var c=Jr(t,1);if(c!==null){var f=dn();hr(c,t,1,f)}}),Zc(t,1)}},Ds=function(t){if(t.tag===13){var r=Jr(t,134217728);if(r!==null){var o=dn();hr(r,t,134217728,o)}Zc(t,134217728)}},Oa=function(t){if(t.tag===13){var r=Di(t),o=Jr(t,r);if(o!==null){var c=dn();hr(o,t,r,c)}Zc(t,r)}},Fa=function(){return ze},Ua=function(t,r){var o=ze;try{return ze=t,r()}finally{ze=o}},br=function(t,r,o){switch(r){case"input":if(Gi(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==t&&c.form===t.form){var f=nl(c);if(!f)throw Error(n(90));si(c),Gi(c,f)}}}break;case"textarea":mr(t,o);break;case"select":r=o.value,r!=null&&jt(t,!!o.multiple,r,!1)}},zr=Wc,N=ds;var Hv={usingClientEntryPoint:!1,Events:[$o,Ks,nl,un,Ji,Wc]},ra={findFiberByHostInstance:ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qv={bundleType:ra.bundleType,version:ra.version,rendererPackageName:ra.rendererPackageName,rendererConfig:ra.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pe.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Jn(t),t===null?null:t.stateNode},findFiberByHostInstance:ra.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zl.isDisabled&&zl.supportsFiber)try{yn=zl.inject(qv),en=zl}catch{}}return In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hv,In.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!th(r))throw Error(n(200));return jv(t,r,null,o)},In.createRoot=function(t,r){if(!th(t))throw Error(n(299));var o=!1,c="",f=kp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),r=Jc(t,1,!1,null,null,o,!1,c,f),t[Qr]=r.current,zo(t.nodeType===8?t.parentNode:t),new eh(r)},In.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=Jn(r),t=t===null?null:t.stateNode,t},In.flushSync=function(t){return ds(t)},In.hydrate=function(t,r,o){if(!Ul(r))throw Error(n(200));return bl(null,t,r,!0,o)},In.hydrateRoot=function(t,r,o){if(!th(t))throw Error(n(405));var c=o!=null&&o.hydratedSources||null,f=!1,m="",_=kp;if(o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),r=Ap(r,null,t,1,o??null,f,!1,m,_),t[Qr]=r.current,zo(t),c)for(t=0;t<c.length;t++)o=c[t],f=o._getVersion,f=f(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,f]:r.mutableSourceEagerHydrationData.push(o,f);return new Fl(r)},In.render=function(t,r,o){if(!Ul(r))throw Error(n(200));return bl(null,t,r,!1,o)},In.unmountComponentAtNode=function(t){if(!Ul(t))throw Error(n(40));return t._reactRootContainer?(ds(function(){bl(null,null,t,!1,function(){t._reactRootContainer=null,t[Qr]=null})}),!0):!1},In.unstable_batchedUpdates=Wc,In.unstable_renderSubtreeIntoContainer=function(t,r,o,c){if(!Ul(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return bl(t,r,o,!1,c)},In.version="18.3.1-next-f1338f8080-20240426",In}var Up;function sg(){if(Up)return ih.exports;Up=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ih.exports=Zv(),ih.exports}var bp;function e_(){if(bp)return Bl;bp=1;var i=sg();return Bl.createRoot=i.createRoot,Bl.hydrateRoot=i.hydrateRoot,Bl}var t_=e_();const n_=ig(t_);var zp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},r_=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const u=i[n++];e[s++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=i[n++],h=i[n++],d=i[n++],g=((a&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(u&63)<<6|h&63)}}return e.join("")},ag={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const u=i[a],h=a+1<i.length,d=h?i[a+1]:0,g=a+2<i.length,v=g?i[a+2]:0,E=u>>2,C=(u&3)<<4|d>>4;let S=(d&15)<<2|v>>6,x=v&63;g||(x=64,h||(S=64)),s.push(n[E],n[C],n[S],n[x])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(og(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):r_(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const u=n[i.charAt(a++)],d=a<i.length?n[i.charAt(a)]:0;++a;const v=a<i.length?n[i.charAt(a)]:64;++a;const C=a<i.length?n[i.charAt(a)]:64;if(++a,u==null||d==null||v==null||C==null)throw new i_;const S=u<<2|d>>4;if(s.push(S),v!==64){const x=d<<4&240|v>>2;if(s.push(x),C!==64){const U=v<<6&192|C;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class i_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s_=function(i){const e=og(i);return ag.encodeByteArray(e,!0)},ru=function(i){return s_(i).replace(/\./g,"")},o_=function(i){try{return ag.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_=()=>a_().__FIREBASE_DEFAULTS__,u_=()=>{if(typeof process>"u"||typeof zp>"u")return;const i=zp.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},c_=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&o_(i[1]);return e&&JSON.parse(e)},qh=()=>{try{return l_()||u_()||c_()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},h_=i=>{var e,n;return(n=(e=qh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},f_=i=>{const e=h_(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},lg=()=>{var i;return(i=qh())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d_=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[ru(JSON.stringify(n)),ru(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function g_(){var i;const e=(i=qh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function y_(){return!g_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function v_(){try{return typeof indexedDB=="object"}catch{return!1}}function __(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var u;e(((u=a.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="FirebaseError";class So extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=E_,Object.setPrototypeOf(this,So.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ug.prototype.create)}}class ug{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,u=this.errors[e],h=u?w_(u,s):"Error",d=`${this.serviceName}: ${h} (${a}).`;return new So(a,d,s)}}function w_(i,e){return i.replace(T_,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const T_=/\{\$([^}]+)}/g;function Eh(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const u=i[a],h=e[a];if(Bp(u)&&Bp(h)){if(!Eh(u,h))return!1}else if(u!==h)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Bp(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(i){return i&&i._delegate?i._delegate:i}class va{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new d_;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(a)return null;throw u}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(I_(e))try{this.getOrInitializeService({instanceIdentifier:ys})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:a});s.resolve(u)}catch{}}}}clearInstance(e=ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ys){return this.instances.has(e)}getOptions(e=ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&h.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(a,u);const h=this.instances.get(a);return h&&e(h,a),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:R_(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ys){return this.component?this.component.multipleInstances?e:ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function R_(i){return i===ys?void 0:i}function I_(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new S_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ke||(Ke={}));const A_={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},P_=Ke.INFO,k_={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},x_=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=k_[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hg{constructor(e){this.name=e,this._logLevel=P_,this._logHandler=x_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?A_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const D_=(i,e)=>e.some(n=>i instanceof n);let jp,$p;function N_(){return jp||(jp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function V_(){return $p||($p=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fg=new WeakMap,wh=new WeakMap,dg=new WeakMap,ah=new WeakMap,Wh=new WeakMap;function L_(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(bi(i.result)),a()},h=()=>{s(i.error),a()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&fg.set(n,i)}).catch(()=>{}),Wh.set(e,i),e}function M_(i){if(wh.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),a()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});wh.set(i,e)}let Th={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return wh.get(i);if(e==="objectStoreNames")return i.objectStoreNames||dg.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bi(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function O_(i){Th=i(Th)}function F_(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(lh(this),e,...n);return dg.set(s,e.sort?e.sort():[e]),bi(s)}:V_().includes(i)?function(...e){return i.apply(lh(this),e),bi(fg.get(this))}:function(...e){return bi(i.apply(lh(this),e))}}function U_(i){return typeof i=="function"?F_(i):(i instanceof IDBTransaction&&M_(i),D_(i,N_())?new Proxy(i,Th):i)}function bi(i){if(i instanceof IDBRequest)return L_(i);if(ah.has(i))return ah.get(i);const e=U_(i);return e!==i&&(ah.set(i,e),Wh.set(e,i)),e}const lh=i=>Wh.get(i);function b_(i,e,{blocked:n,upgrade:s,blocking:a,terminated:u}={}){const h=indexedDB.open(i,e),d=bi(h);return s&&h.addEventListener("upgradeneeded",g=>{s(bi(h.result),g.oldVersion,g.newVersion,bi(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),d.then(g=>{u&&g.addEventListener("close",()=>u()),a&&g.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),d}const z_=["get","getKey","getAll","getAllKeys","count"],B_=["put","add","delete","clear"],uh=new Map;function Hp(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(uh.get(e))return uh.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=B_.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||z_.includes(n)))return;const u=async function(h,...d){const g=this.transaction(h,a?"readwrite":"readonly");let v=g.store;return s&&(v=v.index(d.shift())),(await Promise.all([v[n](...d),a&&g.done]))[0]};return uh.set(e,u),u}O_(i=>({...i,get:(e,n,s)=>Hp(e,n)||i.get(e,n,s),has:(e,n)=>!!Hp(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($_(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function $_(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sh="@firebase/app",qp="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni=new hg("@firebase/app"),H_="@firebase/app-compat",q_="@firebase/analytics-compat",W_="@firebase/analytics",K_="@firebase/app-check-compat",Q_="@firebase/app-check",G_="@firebase/auth",Y_="@firebase/auth-compat",X_="@firebase/database",J_="@firebase/data-connect",Z_="@firebase/database-compat",eE="@firebase/functions",tE="@firebase/functions-compat",nE="@firebase/installations",rE="@firebase/installations-compat",iE="@firebase/messaging",sE="@firebase/messaging-compat",oE="@firebase/performance",aE="@firebase/performance-compat",lE="@firebase/remote-config",uE="@firebase/remote-config-compat",cE="@firebase/storage",hE="@firebase/storage-compat",fE="@firebase/firestore",dE="@firebase/vertexai",pE="@firebase/firestore-compat",mE="firebase",gE="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh="[DEFAULT]",yE={[Sh]:"fire-core",[H_]:"fire-core-compat",[W_]:"fire-analytics",[q_]:"fire-analytics-compat",[Q_]:"fire-app-check",[K_]:"fire-app-check-compat",[G_]:"fire-auth",[Y_]:"fire-auth-compat",[X_]:"fire-rtdb",[J_]:"fire-data-connect",[Z_]:"fire-rtdb-compat",[eE]:"fire-fn",[tE]:"fire-fn-compat",[nE]:"fire-iid",[rE]:"fire-iid-compat",[iE]:"fire-fcm",[sE]:"fire-fcm-compat",[oE]:"fire-perf",[aE]:"fire-perf-compat",[lE]:"fire-rc",[uE]:"fire-rc-compat",[cE]:"fire-gcs",[hE]:"fire-gcs-compat",[fE]:"fire-fst",[pE]:"fire-fst-compat",[dE]:"fire-vertex","fire-js":"fire-js",[mE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=new Map,vE=new Map,Ih=new Map;function Wp(i,e){try{i.container.addComponent(e)}catch(n){ni.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function su(i){const e=i.name;if(Ih.has(e))return ni.debug(`There were multiple attempts to register component ${e}.`),!1;Ih.set(e,i);for(const n of iu.values())Wp(n,i);for(const n of vE.values())Wp(n,i);return!0}function _E(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zi=new ug("app","Firebase",EE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new va("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=gE;function pg(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Rh,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw zi.create("bad-app-name",{appName:String(a)});if(n||(n=lg()),!n)throw zi.create("no-options");const u=iu.get(a);if(u){if(Eh(n,u.options)&&Eh(s,u.config))return u;throw zi.create("duplicate-app",{appName:a})}const h=new C_(a);for(const g of Ih.values())h.addComponent(g);const d=new wE(n,s,h);return iu.set(a,d),d}function SE(i=Rh){const e=iu.get(i);if(!e&&i===Rh&&lg())return pg();if(!e)throw zi.create("no-app",{appName:i});return e}function po(i,e,n){var s;let a=(s=yE[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const u=a.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${a}" with version "${e}":`];u&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ni.warn(d.join(" "));return}su(new va(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="firebase-heartbeat-database",IE=1,_a="firebase-heartbeat-store";let ch=null;function mg(){return ch||(ch=b_(RE,IE,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(_a)}catch(n){console.warn(n)}}}}).catch(i=>{throw zi.create("idb-open",{originalErrorMessage:i.message})})),ch}async function CE(i){try{const n=(await mg()).transaction(_a),s=await n.objectStore(_a).get(gg(i));return await n.done,s}catch(e){if(e instanceof So)ni.warn(e.message);else{const n=zi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ni.warn(n.message)}}}async function Kp(i,e){try{const s=(await mg()).transaction(_a,"readwrite");await s.objectStore(_a).put(e,gg(i)),await s.done}catch(n){if(n instanceof So)ni.warn(n.message);else{const s=zi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ni.warn(s.message)}}}function gg(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE=1024,PE=30*24*60*60*1e3;class kE{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new DE(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Qp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const d=new Date(h.date).valueOf();return Date.now()-d<=PE}),this._storage.overwrite(this._heartbeatsCache))}catch(s){ni.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Qp(),{heartbeatsToSend:s,unsentEntries:a}=xE(this._heartbeatsCache.heartbeats),u=ru(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ni.warn(n),""}}}function Qp(){return new Date().toISOString().substring(0,10)}function xE(i,e=AE){const n=[];let s=i.slice();for(const a of i){const u=n.find(h=>h.agent===a.agent);if(u){if(u.dates.push(a.date),Gp(n)>e){u.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Gp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class DE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return v_()?__().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await CE(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Kp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Kp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Gp(i){return ru(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(i){su(new va("platform-logger",e=>new j_(e),"PRIVATE")),su(new va("heartbeat",e=>new kE(e),"PRIVATE")),po(Sh,qp,i),po(Sh,qp,"esm2017"),po("fire-js","")}NE("");var Yp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ws,yg;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,T){function R(){}R.prototype=T.prototype,P.D=T.prototype,P.prototype=new R,P.prototype.constructor=P,P.C=function(k,V,F){for(var A=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)A[lt-2]=arguments[lt];return T.prototype[V].apply(k,A)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(P,T,R){R||(R=0);var k=Array(16);if(typeof T=="string")for(var V=0;16>V;++V)k[V]=T.charCodeAt(R++)|T.charCodeAt(R++)<<8|T.charCodeAt(R++)<<16|T.charCodeAt(R++)<<24;else for(V=0;16>V;++V)k[V]=T[R++]|T[R++]<<8|T[R++]<<16|T[R++]<<24;T=P.g[0],R=P.g[1],V=P.g[2];var F=P.g[3],A=T+(F^R&(V^F))+k[0]+3614090360&4294967295;T=R+(A<<7&4294967295|A>>>25),A=F+(V^T&(R^V))+k[1]+3905402710&4294967295,F=T+(A<<12&4294967295|A>>>20),A=V+(R^F&(T^R))+k[2]+606105819&4294967295,V=F+(A<<17&4294967295|A>>>15),A=R+(T^V&(F^T))+k[3]+3250441966&4294967295,R=V+(A<<22&4294967295|A>>>10),A=T+(F^R&(V^F))+k[4]+4118548399&4294967295,T=R+(A<<7&4294967295|A>>>25),A=F+(V^T&(R^V))+k[5]+1200080426&4294967295,F=T+(A<<12&4294967295|A>>>20),A=V+(R^F&(T^R))+k[6]+2821735955&4294967295,V=F+(A<<17&4294967295|A>>>15),A=R+(T^V&(F^T))+k[7]+4249261313&4294967295,R=V+(A<<22&4294967295|A>>>10),A=T+(F^R&(V^F))+k[8]+1770035416&4294967295,T=R+(A<<7&4294967295|A>>>25),A=F+(V^T&(R^V))+k[9]+2336552879&4294967295,F=T+(A<<12&4294967295|A>>>20),A=V+(R^F&(T^R))+k[10]+4294925233&4294967295,V=F+(A<<17&4294967295|A>>>15),A=R+(T^V&(F^T))+k[11]+2304563134&4294967295,R=V+(A<<22&4294967295|A>>>10),A=T+(F^R&(V^F))+k[12]+1804603682&4294967295,T=R+(A<<7&4294967295|A>>>25),A=F+(V^T&(R^V))+k[13]+4254626195&4294967295,F=T+(A<<12&4294967295|A>>>20),A=V+(R^F&(T^R))+k[14]+2792965006&4294967295,V=F+(A<<17&4294967295|A>>>15),A=R+(T^V&(F^T))+k[15]+1236535329&4294967295,R=V+(A<<22&4294967295|A>>>10),A=T+(V^F&(R^V))+k[1]+4129170786&4294967295,T=R+(A<<5&4294967295|A>>>27),A=F+(R^V&(T^R))+k[6]+3225465664&4294967295,F=T+(A<<9&4294967295|A>>>23),A=V+(T^R&(F^T))+k[11]+643717713&4294967295,V=F+(A<<14&4294967295|A>>>18),A=R+(F^T&(V^F))+k[0]+3921069994&4294967295,R=V+(A<<20&4294967295|A>>>12),A=T+(V^F&(R^V))+k[5]+3593408605&4294967295,T=R+(A<<5&4294967295|A>>>27),A=F+(R^V&(T^R))+k[10]+38016083&4294967295,F=T+(A<<9&4294967295|A>>>23),A=V+(T^R&(F^T))+k[15]+3634488961&4294967295,V=F+(A<<14&4294967295|A>>>18),A=R+(F^T&(V^F))+k[4]+3889429448&4294967295,R=V+(A<<20&4294967295|A>>>12),A=T+(V^F&(R^V))+k[9]+568446438&4294967295,T=R+(A<<5&4294967295|A>>>27),A=F+(R^V&(T^R))+k[14]+3275163606&4294967295,F=T+(A<<9&4294967295|A>>>23),A=V+(T^R&(F^T))+k[3]+4107603335&4294967295,V=F+(A<<14&4294967295|A>>>18),A=R+(F^T&(V^F))+k[8]+1163531501&4294967295,R=V+(A<<20&4294967295|A>>>12),A=T+(V^F&(R^V))+k[13]+2850285829&4294967295,T=R+(A<<5&4294967295|A>>>27),A=F+(R^V&(T^R))+k[2]+4243563512&4294967295,F=T+(A<<9&4294967295|A>>>23),A=V+(T^R&(F^T))+k[7]+1735328473&4294967295,V=F+(A<<14&4294967295|A>>>18),A=R+(F^T&(V^F))+k[12]+2368359562&4294967295,R=V+(A<<20&4294967295|A>>>12),A=T+(R^V^F)+k[5]+4294588738&4294967295,T=R+(A<<4&4294967295|A>>>28),A=F+(T^R^V)+k[8]+2272392833&4294967295,F=T+(A<<11&4294967295|A>>>21),A=V+(F^T^R)+k[11]+1839030562&4294967295,V=F+(A<<16&4294967295|A>>>16),A=R+(V^F^T)+k[14]+4259657740&4294967295,R=V+(A<<23&4294967295|A>>>9),A=T+(R^V^F)+k[1]+2763975236&4294967295,T=R+(A<<4&4294967295|A>>>28),A=F+(T^R^V)+k[4]+1272893353&4294967295,F=T+(A<<11&4294967295|A>>>21),A=V+(F^T^R)+k[7]+4139469664&4294967295,V=F+(A<<16&4294967295|A>>>16),A=R+(V^F^T)+k[10]+3200236656&4294967295,R=V+(A<<23&4294967295|A>>>9),A=T+(R^V^F)+k[13]+681279174&4294967295,T=R+(A<<4&4294967295|A>>>28),A=F+(T^R^V)+k[0]+3936430074&4294967295,F=T+(A<<11&4294967295|A>>>21),A=V+(F^T^R)+k[3]+3572445317&4294967295,V=F+(A<<16&4294967295|A>>>16),A=R+(V^F^T)+k[6]+76029189&4294967295,R=V+(A<<23&4294967295|A>>>9),A=T+(R^V^F)+k[9]+3654602809&4294967295,T=R+(A<<4&4294967295|A>>>28),A=F+(T^R^V)+k[12]+3873151461&4294967295,F=T+(A<<11&4294967295|A>>>21),A=V+(F^T^R)+k[15]+530742520&4294967295,V=F+(A<<16&4294967295|A>>>16),A=R+(V^F^T)+k[2]+3299628645&4294967295,R=V+(A<<23&4294967295|A>>>9),A=T+(V^(R|~F))+k[0]+4096336452&4294967295,T=R+(A<<6&4294967295|A>>>26),A=F+(R^(T|~V))+k[7]+1126891415&4294967295,F=T+(A<<10&4294967295|A>>>22),A=V+(T^(F|~R))+k[14]+2878612391&4294967295,V=F+(A<<15&4294967295|A>>>17),A=R+(F^(V|~T))+k[5]+4237533241&4294967295,R=V+(A<<21&4294967295|A>>>11),A=T+(V^(R|~F))+k[12]+1700485571&4294967295,T=R+(A<<6&4294967295|A>>>26),A=F+(R^(T|~V))+k[3]+2399980690&4294967295,F=T+(A<<10&4294967295|A>>>22),A=V+(T^(F|~R))+k[10]+4293915773&4294967295,V=F+(A<<15&4294967295|A>>>17),A=R+(F^(V|~T))+k[1]+2240044497&4294967295,R=V+(A<<21&4294967295|A>>>11),A=T+(V^(R|~F))+k[8]+1873313359&4294967295,T=R+(A<<6&4294967295|A>>>26),A=F+(R^(T|~V))+k[15]+4264355552&4294967295,F=T+(A<<10&4294967295|A>>>22),A=V+(T^(F|~R))+k[6]+2734768916&4294967295,V=F+(A<<15&4294967295|A>>>17),A=R+(F^(V|~T))+k[13]+1309151649&4294967295,R=V+(A<<21&4294967295|A>>>11),A=T+(V^(R|~F))+k[4]+4149444226&4294967295,T=R+(A<<6&4294967295|A>>>26),A=F+(R^(T|~V))+k[11]+3174756917&4294967295,F=T+(A<<10&4294967295|A>>>22),A=V+(T^(F|~R))+k[2]+718787259&4294967295,V=F+(A<<15&4294967295|A>>>17),A=R+(F^(V|~T))+k[9]+3951481745&4294967295,P.g[0]=P.g[0]+T&4294967295,P.g[1]=P.g[1]+(V+(A<<21&4294967295|A>>>11))&4294967295,P.g[2]=P.g[2]+V&4294967295,P.g[3]=P.g[3]+F&4294967295}s.prototype.u=function(P,T){T===void 0&&(T=P.length);for(var R=T-this.blockSize,k=this.B,V=this.h,F=0;F<T;){if(V==0)for(;F<=R;)a(this,P,F),F+=this.blockSize;if(typeof P=="string"){for(;F<T;)if(k[V++]=P.charCodeAt(F++),V==this.blockSize){a(this,k),V=0;break}}else for(;F<T;)if(k[V++]=P[F++],V==this.blockSize){a(this,k),V=0;break}}this.h=V,this.o+=T},s.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var T=1;T<P.length-8;++T)P[T]=0;var R=8*this.o;for(T=P.length-8;T<P.length;++T)P[T]=R&255,R/=256;for(this.u(P),P=Array(16),T=R=0;4>T;++T)for(var k=0;32>k;k+=8)P[R++]=this.g[T]>>>k&255;return P};function u(P,T){var R=d;return Object.prototype.hasOwnProperty.call(R,P)?R[P]:R[P]=T(P)}function h(P,T){this.h=T;for(var R=[],k=!0,V=P.length-1;0<=V;V--){var F=P[V]|0;k&&F==T||(R[V]=F,k=!1)}this.g=R}var d={};function g(P){return-128<=P&&128>P?u(P,function(T){return new h([T|0],0>T?-1:0)}):new h([P|0],0>P?-1:0)}function v(P){if(isNaN(P)||!isFinite(P))return C;if(0>P)return $(v(-P));for(var T=[],R=1,k=0;P>=R;k++)T[k]=P/R|0,R*=4294967296;return new h(T,0)}function E(P,T){if(P.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(P.charAt(0)=="-")return $(E(P.substring(1),T));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=v(Math.pow(T,8)),k=C,V=0;V<P.length;V+=8){var F=Math.min(8,P.length-V),A=parseInt(P.substring(V,V+F),T);8>F?(F=v(Math.pow(T,F)),k=k.j(F).add(v(A))):(k=k.j(R),k=k.add(v(A)))}return k}var C=g(0),S=g(1),x=g(16777216);i=h.prototype,i.m=function(){if(q(this))return-$(this).m();for(var P=0,T=1,R=0;R<this.g.length;R++){var k=this.i(R);P+=(0<=k?k:4294967296+k)*T,T*=4294967296}return P},i.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(U(this))return"0";if(q(this))return"-"+$(this).toString(P);for(var T=v(Math.pow(P,6)),R=this,k="";;){var V=pe(R,T).g;R=K(R,V.j(T));var F=((0<R.g.length?R.g[0]:R.h)>>>0).toString(P);if(R=V,U(R))return F+k;for(;6>F.length;)F="0"+F;k=F+k}},i.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function U(P){if(P.h!=0)return!1;for(var T=0;T<P.g.length;T++)if(P.g[T]!=0)return!1;return!0}function q(P){return P.h==-1}i.l=function(P){return P=K(this,P),q(P)?-1:U(P)?0:1};function $(P){for(var T=P.g.length,R=[],k=0;k<T;k++)R[k]=~P.g[k];return new h(R,~P.h).add(S)}i.abs=function(){return q(this)?$(this):this},i.add=function(P){for(var T=Math.max(this.g.length,P.g.length),R=[],k=0,V=0;V<=T;V++){var F=k+(this.i(V)&65535)+(P.i(V)&65535),A=(F>>>16)+(this.i(V)>>>16)+(P.i(V)>>>16);k=A>>>16,F&=65535,A&=65535,R[V]=A<<16|F}return new h(R,R[R.length-1]&-2147483648?-1:0)};function K(P,T){return P.add($(T))}i.j=function(P){if(U(this)||U(P))return C;if(q(this))return q(P)?$(this).j($(P)):$($(this).j(P));if(q(P))return $(this.j($(P)));if(0>this.l(x)&&0>P.l(x))return v(this.m()*P.m());for(var T=this.g.length+P.g.length,R=[],k=0;k<2*T;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(var V=0;V<P.g.length;V++){var F=this.i(k)>>>16,A=this.i(k)&65535,lt=P.i(V)>>>16,je=P.i(V)&65535;R[2*k+2*V]+=A*je,ie(R,2*k+2*V),R[2*k+2*V+1]+=F*je,ie(R,2*k+2*V+1),R[2*k+2*V+1]+=A*lt,ie(R,2*k+2*V+1),R[2*k+2*V+2]+=F*lt,ie(R,2*k+2*V+2)}for(k=0;k<T;k++)R[k]=R[2*k+1]<<16|R[2*k];for(k=T;k<2*T;k++)R[k]=0;return new h(R,0)};function ie(P,T){for(;(P[T]&65535)!=P[T];)P[T+1]+=P[T]>>>16,P[T]&=65535,T++}function ne(P,T){this.g=P,this.h=T}function pe(P,T){if(U(T))throw Error("division by zero");if(U(P))return new ne(C,C);if(q(P))return T=pe($(P),T),new ne($(T.g),$(T.h));if(q(T))return T=pe(P,$(T)),new ne($(T.g),T.h);if(30<P.g.length){if(q(P)||q(T))throw Error("slowDivide_ only works with positive integers.");for(var R=S,k=T;0>=k.l(P);)R=b(R),k=b(k);var V=ce(R,1),F=ce(k,1);for(k=ce(k,2),R=ce(R,2);!U(k);){var A=F.add(k);0>=A.l(P)&&(V=V.add(R),F=A),k=ce(k,1),R=ce(R,1)}return T=K(P,V.j(T)),new ne(V,T)}for(V=C;0<=P.l(T);){for(R=Math.max(1,Math.floor(P.m()/T.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),F=v(R),A=F.j(T);q(A)||0<A.l(P);)R-=k,F=v(R),A=F.j(T);U(F)&&(F=S),V=V.add(F),P=K(P,A)}return new ne(V,P)}i.A=function(P){return pe(this,P).h},i.and=function(P){for(var T=Math.max(this.g.length,P.g.length),R=[],k=0;k<T;k++)R[k]=this.i(k)&P.i(k);return new h(R,this.h&P.h)},i.or=function(P){for(var T=Math.max(this.g.length,P.g.length),R=[],k=0;k<T;k++)R[k]=this.i(k)|P.i(k);return new h(R,this.h|P.h)},i.xor=function(P){for(var T=Math.max(this.g.length,P.g.length),R=[],k=0;k<T;k++)R[k]=this.i(k)^P.i(k);return new h(R,this.h^P.h)};function b(P){for(var T=P.g.length+1,R=[],k=0;k<T;k++)R[k]=P.i(k)<<1|P.i(k-1)>>>31;return new h(R,P.h)}function ce(P,T){var R=T>>5;T%=32;for(var k=P.g.length-R,V=[],F=0;F<k;F++)V[F]=0<T?P.i(F+R)>>>T|P.i(F+R+1)<<32-T:P.i(F+R);return new h(V,P.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,yg=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=E,ws=h}).apply(typeof Yp<"u"?Yp:typeof self<"u"?self:typeof window<"u"?window:{});var jl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vg,ua,_g,Gl,Ch,Eg,wg,Tg;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,p,y){return l==Array.prototype||l==Object.prototype||(l[p]=y.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof jl=="object"&&jl];for(var p=0;p<l.length;++p){var y=l[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function a(l,p){if(p)e:{var y=s;l=l.split(".");for(var w=0;w<l.length-1;w++){var z=l[w];if(!(z in y))break e;y=y[z]}l=l[l.length-1],w=y[l],p=p(w),p!=w&&p!=null&&e(y,l,{configurable:!0,writable:!0,value:p})}}function u(l,p){l instanceof String&&(l+="");var y=0,w=!1,z={next:function(){if(!w&&y<l.length){var Q=y++;return{value:p(Q,l[Q]),done:!1}}return w=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}a("Array.prototype.values",function(l){return l||function(){return u(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function g(l){var p=typeof l;return p=p!="object"?p:l?Array.isArray(l)?"array":p:"null",p=="array"||p=="object"&&typeof l.length=="number"}function v(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function E(l,p,y){return l.call.apply(l.bind,arguments)}function C(l,p,y){if(!l)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,w),l.apply(p,z)}}return function(){return l.apply(p,arguments)}}function S(l,p,y){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:C,S.apply(null,arguments)}function x(l,p){var y=Array.prototype.slice.call(arguments,1);return function(){var w=y.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function U(l,p){function y(){}y.prototype=p.prototype,l.aa=p.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(w,z,Q){for(var ae=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)ae[ot-2]=arguments[ot];return p.prototype[z].apply(w,ae)}}function q(l){const p=l.length;if(0<p){const y=Array(p);for(let w=0;w<p;w++)y[w]=l[w];return y}return[]}function $(l,p){for(let y=1;y<arguments.length;y++){const w=arguments[y];if(g(w)){const z=l.length||0,Q=w.length||0;l.length=z+Q;for(let ae=0;ae<Q;ae++)l[z+ae]=w[ae]}else l.push(w)}}class K{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function ie(l){return/^[\s\xa0]*$/.test(l)}function ne(){var l=d.navigator;return l&&(l=l.userAgent)?l:""}function pe(l){return pe[" "](l),l}pe[" "]=function(){};var b=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function ce(l,p,y){for(const w in l)p.call(y,l[w],w,l)}function P(l,p){for(const y in l)p.call(void 0,l[y],y,l)}function T(l){const p={};for(const y in l)p[y]=l[y];return p}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,p){let y,w;for(let z=1;z<arguments.length;z++){w=arguments[z];for(y in w)l[y]=w[y];for(let Q=0;Q<R.length;Q++)y=R[Q],Object.prototype.hasOwnProperty.call(w,y)&&(l[y]=w[y])}}function V(l){var p=1;l=l.split(":");const y=[];for(;0<p&&l.length;)y.push(l.shift()),p--;return l.length&&y.push(l.join(":")),y}function F(l){d.setTimeout(()=>{throw l},0)}function A(){var l=we;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class lt{constructor(){this.h=this.g=null}add(p,y){const w=je.get();w.set(p,y),this.h?this.h.next=w:this.g=w,this.h=w}}var je=new K(()=>new Rt,l=>l.reset());class Rt{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let $e,se=!1,we=new lt,ue=()=>{const l=d.Promise.resolve(void 0);$e=()=>{l.then(M)}};var M=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(y){F(y)}var p=je;p.j(l),100>p.h&&(p.h++,l.next=p.g,p.g=l)}se=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _e(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}_e.prototype.h=function(){this.defaultPrevented=!0};var Ne=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};d.addEventListener("test",y,p),d.removeEventListener("test",y,p)}catch{}return l}();function De(l,p){if(_e.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget){if(b){e:{try{pe(p.nodeName);var z=!0;break e}catch{}z=!1}z||(p=null)}}else y=="mouseover"?p=l.fromElement:y=="mouseout"&&(p=l.toElement);this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Ue[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&De.aa.h.call(this)}}U(De,_e);var Ue={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Ye="closure_listenable_"+(1e6*Math.random()|0),Xe=0;function Le(l,p,y,w,z){this.listener=l,this.proxy=null,this.src=p,this.type=y,this.capture=!!w,this.ha=z,this.key=++Xe,this.da=this.fa=!1}function ct(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Fn(l){this.src=l,this.g={},this.h=0}Fn.prototype.add=function(l,p,y,w,z){var Q=l.toString();l=this.g[Q],l||(l=this.g[Q]=[],this.h++);var ae=Jt(l,p,w,z);return-1<ae?(p=l[ae],y||(p.fa=!1)):(p=new Le(p,this.src,Q,!!w,z),p.fa=y,l.push(p)),p};function si(l,p){var y=p.type;if(y in l.g){var w=l.g[y],z=Array.prototype.indexOf.call(w,p,void 0),Q;(Q=0<=z)&&Array.prototype.splice.call(w,z,1),Q&&(ct(p),l.g[y].length==0&&(delete l.g[y],l.h--))}}function Jt(l,p,y,w){for(var z=0;z<l.length;++z){var Q=l[z];if(!Q.da&&Q.listener==p&&Q.capture==!!y&&Q.ha==w)return z}return-1}var Fr="closure_lm_"+(1e6*Math.random()|0),oi={};function ai(l,p,y,w,z){if(Array.isArray(p)){for(var Q=0;Q<p.length;Q++)ai(l,p[Q],y,w,z);return null}return y=mn(y),l&&l[Ye]?l.K(p,y,v(w)?!!w.capture:!1,z):Gi(l,p,y,!1,w,z)}function Gi(l,p,y,w,z,Q){if(!p)throw Error("Invalid event type");var ae=v(z)?!!z.capture:!!z,ot=Ur(l);if(ot||(l[Fr]=ot=new Fn(l)),y=ot.add(p,y,w,ae,Q),y.proxy)return y;if(w=As(),y.proxy=w,w.src=l,w.listener=y,l.addEventListener)Ne||(z=ae),z===void 0&&(z=!1),l.addEventListener(p.toString(),w,z);else if(l.attachEvent)l.attachEvent(jt(p.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return y}function As(){function l(y){return p.call(l.src,l.listener,y)}const p=Qn;return l}function li(l,p,y,w,z){if(Array.isArray(p))for(var Q=0;Q<p.length;Q++)li(l,p[Q],y,w,z);else w=v(w)?!!w.capture:!!w,y=mn(y),l&&l[Ye]?(l=l.i,p=String(p).toString(),p in l.g&&(Q=l.g[p],y=Jt(Q,y,w,z),-1<y&&(ct(Q[y]),Array.prototype.splice.call(Q,y,1),Q.length==0&&(delete l.g[p],l.h--)))):l&&(l=Ur(l))&&(p=l.g[p.toString()],l=-1,p&&(l=Jt(p,y,w,z)),(y=-1<l?p[l]:null)&&Kn(y))}function Kn(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[Ye])si(p.i,l);else{var y=l.type,w=l.proxy;p.removeEventListener?p.removeEventListener(y,w,l.capture):p.detachEvent?p.detachEvent(jt(y),w):p.addListener&&p.removeListener&&p.removeListener(w),(y=Ur(p))?(si(y,l),y.h==0&&(y.src=null,p[Fr]=null)):ct(l)}}}function jt(l){return l in oi?oi[l]:oi[l]="on"+l}function Qn(l,p){if(l.da)l=!0;else{p=new De(p,this);var y=l.listener,w=l.ha||l.src;l.fa&&Kn(l),l=y.call(w,p)}return l}function Ur(l){return l=l[Fr],l instanceof Fn?l:null}var mr="__closure_events_fn_"+(1e9*Math.random()>>>0);function mn(l){return typeof l=="function"?l:(l[mr]||(l[mr]=function(p){return l.handleEvent(p)}),l[mr])}function st(){Y.call(this),this.i=new Fn(this),this.M=this,this.F=null}U(st,Y),st.prototype[Ye]=!0,st.prototype.removeEventListener=function(l,p,y,w){li(this,l,p,y,w)};function wt(l,p){var y,w=l.F;if(w)for(y=[];w;w=w.F)y.push(w);if(l=l.M,w=p.type||p,typeof p=="string")p=new _e(p,l);else if(p instanceof _e)p.target=p.target||l;else{var z=p;p=new _e(w,l),k(p,z)}if(z=!0,y)for(var Q=y.length-1;0<=Q;Q--){var ae=p.g=y[Q];z=Pn(ae,w,!0,p)&&z}if(ae=p.g=l,z=Pn(ae,w,!0,p)&&z,z=Pn(ae,w,!1,p)&&z,y)for(Q=0;Q<y.length;Q++)ae=p.g=y[Q],z=Pn(ae,w,!1,p)&&z}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var l=this.i,p;for(p in l.g){for(var y=l.g[p],w=0;w<y.length;w++)ct(y[w]);delete l.g[p],l.h--}}this.F=null},st.prototype.K=function(l,p,y,w){return this.i.add(String(l),p,!1,y,w)},st.prototype.L=function(l,p,y,w){return this.i.add(String(l),p,!0,y,w)};function Pn(l,p,y,w){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();for(var z=!0,Q=0;Q<p.length;++Q){var ae=p[Q];if(ae&&!ae.da&&ae.capture==y){var ot=ae.listener,Dt=ae.ha||ae.src;ae.fa&&si(l.i,ae),z=ot.call(Dt,w)!==!1&&z}}return z&&!w.defaultPrevented}function Yi(l,p,y){if(typeof l=="function")y&&(l=S(l,y));else if(l&&typeof l.handleEvent=="function")l=S(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:d.setTimeout(l,p||0)}function $t(l){l.g=Yi(()=>{l.g=null,l.i&&(l.i=!1,$t(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class gr extends Y{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:$t(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yr(l){Y.call(this),this.h=l,this.g={}}U(yr,Y);var ui=[];function Xi(l){ce(l.g,function(p,y){this.g.hasOwnProperty(y)&&Kn(p)},l),l.g={}}yr.prototype.N=function(){yr.aa.N.call(this),Xi(this)},yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ci=d.JSON.stringify,vr=d.JSON.parse,hi=class{stringify(l){return d.JSON.stringify(l,void 0)}parse(l){return d.JSON.parse(l,void 0)}};function Gn(){}Gn.prototype.h=null;function fi(l){return l.h||(l.h=l.i())}function br(){}var gn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kn(){_e.call(this,"d")}U(kn,_e);function Yn(){_e.call(this,"c")}U(Yn,_e);var un={},Ji=null;function zr(){return Ji=Ji||new st}un.La="serverreachability";function N(l){_e.call(this,un.La,l)}U(N,_e);function O(l){const p=zr();wt(p,new N(p))}un.STAT_EVENT="statevent";function W(l,p){_e.call(this,un.STAT_EVENT,l),this.stat=p}U(W,_e);function X(l){const p=zr();wt(p,new W(p,l))}un.Ma="timingevent";function he(l,p){_e.call(this,un.Ma,l),this.size=p}U(he,_e);function ge(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){l()},p)}function Ie(){this.g=!0}Ie.prototype.xa=function(){this.g=!1};function fe(l,p,y,w,z,Q){l.info(function(){if(l.g)if(Q)for(var ae="",ot=Q.split("&"),Dt=0;Dt<ot.length;Dt++){var qe=ot[Dt].split("=");if(1<qe.length){var Ot=qe[0];qe=qe[1];var Pt=Ot.split("_");ae=2<=Pt.length&&Pt[1]=="type"?ae+(Ot+"="+qe+"&"):ae+(Ot+"=redacted&")}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+w+") [attempt "+z+"]: "+p+`
`+y+`
`+ae})}function ve(l,p,y,w,z,Q,ae){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+z+"]: "+p+`
`+y+`
`+Q+" "+ae})}function oe(l,p,y,w){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+Me(l,y)+(w?" "+w:"")})}function ke(l,p){l.info(function(){return"TIMEOUT: "+p})}Ie.prototype.info=function(){};function Me(l,p){if(!l.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var w=y[l];if(!(2>w.length)){var z=w[1];if(Array.isArray(z)&&!(1>z.length)){var Q=z[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ae=1;ae<z.length;ae++)z[ae]=""}}}}return ci(y)}catch{return p}}var nt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Tt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},be;function Je(){}U(Je,Gn),Je.prototype.g=function(){return new XMLHttpRequest},Je.prototype.i=function(){return{}},be=new Je;function rt(l,p,y,w){this.j=l,this.i=p,this.l=y,this.R=w||1,this.U=new yr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var Jn={},Zt={};function Ht(l,p,y){l.L=1,l.v=gi(xn(p)),l.m=y,l.P=!0,Br(l,null)}function Br(l,p){l.F=Date.now(),it(l),l.A=xn(l.v);var y=l.A,w=l.R;Array.isArray(w)||(w=[String(w)]),vi(y.i,"t",w),l.C=0,y=l.j.J,l.h=new Xn,l.g=Wa(l.j,y?p:null,!l.m),0<l.O&&(l.M=new gr(S(l.Y,l,l.g),l.O)),p=l.U,y=l.g,w=l.ca;var z="readystatechange";Array.isArray(z)||(z&&(ui[0]=z.toString()),z=ui);for(var Q=0;Q<z.length;Q++){var ae=ai(y,z[Q],w||p.handleEvent,!1,p.h||p);if(!ae)break;p.g[ae.key]=ae}p=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,p)):(l.u="GET",l.g.ea(l.A,l.u,null,p)),O(),fe(l.i,l.u,l.A,l.l,l.R,l.m)}rt.prototype.ca=function(l){l=l.target;const p=this.M;p&&_n(l)==3?p.j():this.Y(l)},rt.prototype.Y=function(l){try{if(l==this.g)e:{const Pt=_n(this.g);var p=this.g.Ba();const bn=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||Do(this.g)))){this.J||Pt!=4||p==7||(p==8||0>=bn?O(3):O(2)),He(this);var y=this.g.Z();this.X=y;t:if(_r(this)){var w=Do(this.g);l="";var z=w.length,Q=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qt(this),ht(this);var ae="";break t}this.h.i=new d.TextDecoder}for(p=0;p<z;p++)this.h.h=!0,l+=this.h.i.decode(w[p],{stream:!(Q&&p==z-1)});w.length=0,this.h.g+=l,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=y==200,ve(this.i,this.u,this.A,this.l,this.R,Pt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var ot,Dt=this.g;if((ot=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ie(ot)){var qe=ot;break t}}qe=null}if(y=qe)oe(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,er(this,y);else{this.o=!1,this.s=3,X(12),qt(this),ht(this);break e}}if(this.P){y=!0;let Nn;for(;!this.J&&this.C<ae.length;)if(Nn=Zn(this,ae),Nn==Zt){Pt==4&&(this.s=4,X(14),y=!1),oe(this.i,this.l,null,"[Incomplete Response]");break}else if(Nn==Jn){this.s=4,X(15),oe(this.i,this.l,ae,"[Invalid Chunk]"),y=!1;break}else oe(this.i,this.l,Nn,null),er(this,Nn);if(_r(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||ae.length!=0||this.h.h||(this.s=1,X(16),y=!1),this.o=this.o&&y,!y)oe(this.i,this.l,ae,"[Invalid Chunked Response]"),qt(this),ht(this);else if(0<ae.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Vo(Ot),Ot.M=!0,X(11))}}else oe(this.i,this.l,ae,null),er(this,ae);Pt==4&&qt(this),this.o&&!this.J&&(Pt==4?bs(this.j,this):(this.o=!1,it(this)))}else Ls(this.g),y==400&&0<ae.indexOf("Unknown SID")?(this.s=3,X(12)):(this.s=0,X(13)),qt(this),ht(this)}}}catch{}finally{}};function _r(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Zn(l,p){var y=l.C,w=p.indexOf(`
`,y);return w==-1?Zt:(y=Number(p.substring(y,w)),isNaN(y)?Jn:(w+=1,w+y>p.length?Zt:(p=p.slice(w,w+y),l.C=w+y,p)))}rt.prototype.cancel=function(){this.J=!0,qt(this)};function it(l){l.S=Date.now()+l.I,jr(l,l.I)}function jr(l,p){if(l.B!=null)throw Error("WatchDog timer not null");l.B=ge(S(l.ba,l),p)}function He(l){l.B&&(d.clearTimeout(l.B),l.B=null)}rt.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(ke(this.i,this.A),this.L!=2&&(O(),X(17)),qt(this),this.s=2,ht(this)):jr(this,this.S-l)};function ht(l){l.j.G==0||l.J||bs(l.j,l)}function qt(l){He(l);var p=l.M;p&&typeof p.ma=="function"&&p.ma(),l.M=null,Xi(l.U),l.g&&(p=l.g,l.g=null,p.abort(),p.ma())}function er(l,p){try{var y=l.j;if(y.G!=0&&(y.g==l||cn(y.h,l))){if(!l.K&&cn(y.h,l)&&y.G==3){try{var w=y.Da.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var z=w;if(z[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)Us(y),sr(y);else break e;Fs(y),X(18)}}else y.za=z[1],0<y.za-y.T&&37500>z[2]&&y.F&&y.v==0&&!y.C&&(y.C=ge(S(y.Za,y),6e3));if(1>=Ps(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Kr(y,11)}else if((l.K||y.g==l)&&Us(y),!ie(p))for(z=y.Da.g.parse(p),p=0;p<z.length;p++){let qe=z[p];if(y.T=qe[0],qe=qe[1],y.G==2)if(qe[0]=="c"){y.K=qe[1],y.ia=qe[2];const Ot=qe[3];Ot!=null&&(y.la=Ot,y.j.info("VER="+y.la));const Pt=qe[4];Pt!=null&&(y.Aa=Pt,y.j.info("SVER="+y.Aa));const bn=qe[5];bn!=null&&typeof bn=="number"&&0<bn&&(w=1.5*bn,y.L=w,y.j.info("backChannelRequestTimeoutMs_="+w)),w=y;const Nn=l.g;if(Nn){const is=Nn.g?Nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(is){var Q=w.h;Q.g||is.indexOf("spdy")==-1&&is.indexOf("quic")==-1&&is.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ao(Q,Q.h),Q.h=null))}if(w.D){const Bs=Nn.g?Nn.g.getResponseHeader("X-HTTP-Session-Id"):null;Bs&&(w.ya=Bs,at(w.I,w.D,Bs))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),w=y;var ae=l;if(w.qa=qa(w,w.J?w.ia:null,w.W),ae.K){Va(w.h,ae);var ot=ae,Dt=w.L;Dt&&(ot.I=Dt),ot.B&&(He(ot),it(ot)),w.g=ae}else rs(w);0<y.i.length&&Sr(y)}else qe[0]!="stop"&&qe[0]!="close"||Kr(y,7);else y.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Kr(y,7):Kt(y):qe[0]!="noop"&&y.l&&y.l.ta(qe),y.v=0)}}O(4)}catch{}}var ft=class{constructor(l,p){this.g=l,this.map=p}};function yn(l){this.l=l||10,d.PerformanceNavigationTiming?(l=d.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function en(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Ps(l){return l.h?1:l.g?l.g.size:0}function cn(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function Ao(l,p){l.g?l.g.add(p):l.h=p}function Va(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}yn.prototype.cancel=function(){if(this.i=La(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function La(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const y of l.g.values())p=p.concat(y.D);return p}return q(l.i)}function ks(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var p=[],y=l.length,w=0;w<y;w++)p.push(l[w]);return p}p=[],y=0;for(w in l)p[y++]=l[w];return p}function xs(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var p=[];l=l.length;for(var y=0;y<l;y++)p.push(y);return p}p=[],y=0;for(const w in l)p[y++]=w;return p}}}function di(l,p){if(l.forEach&&typeof l.forEach=="function")l.forEach(p,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,p,void 0);else for(var y=xs(l),w=ks(l),z=w.length,Q=0;Q<z;Q++)p.call(void 0,w[Q],y&&y[Q],l)}var Zi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nu(l,p){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var w=l[y].indexOf("="),z=null;if(0<=w){var Q=l[y].substring(0,w);z=l[y].substring(w+1)}else Q=l[y];p(Q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function $r(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof $r){this.h=l.h,es(this,l.j),this.o=l.o,this.g=l.g,pi(this,l.s),this.l=l.l;var p=l.i,y=new Er;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),mi(this,y),this.m=l.m}else l&&(p=String(l).match(Zi))?(this.h=!1,es(this,p[1]||"",!0),this.o=ze(p[2]||""),this.g=ze(p[3]||"",!0),pi(this,p[4]),this.l=ze(p[5]||"",!0),mi(this,p[6]||"",!0),this.m=ze(p[7]||"")):(this.h=!1,this.i=new Er(null,this.h))}$r.prototype.toString=function(){var l=[],p=this.j;p&&l.push(yi(p,Ds,!0),":");var y=this.g;return(y||p=="file")&&(l.push("//"),(p=this.o)&&l.push(yi(p,Ds,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(yi(y,y.charAt(0)=="/"?Fa:Oa,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",yi(y,Po)),l.join("")};function xn(l){return new $r(l)}function es(l,p,y){l.j=y?ze(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function pi(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.s=p}else l.s=null}function mi(l,p,y){p instanceof Er?(l.i=p,wr(l.i,l.h)):(y||(p=yi(p,Ua)),l.i=new Er(p,l.h))}function at(l,p,y){l.i.set(p,y)}function gi(l){return at(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function ze(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function yi(l,p,y){return typeof l=="string"?(l=encodeURI(l).replace(p,Ma),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Ma(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Ds=/[#\/\?@]/g,Oa=/[#\?:]/g,Fa=/[#\?]/g,Ua=/[#\?@]/g,Po=/#/g;function Er(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function Wt(l){l.g||(l.g=new Map,l.h=0,l.i&&Nu(l.i,function(p,y){l.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}i=Er.prototype,i.add=function(l,p){Wt(this),this.i=null,l=Un(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(p),this.h+=1,this};function tr(l,p){Wt(l),p=Un(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function nr(l,p){return Wt(l),p=Un(l,p),l.g.has(p)}i.forEach=function(l,p){Wt(this),this.g.forEach(function(y,w){y.forEach(function(z){l.call(p,z,w,this)},this)},this)},i.na=function(){Wt(this);const l=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let w=0;w<p.length;w++){const z=l[w];for(let Q=0;Q<z.length;Q++)y.push(p[w])}return y},i.V=function(l){Wt(this);let p=[];if(typeof l=="string")nr(this,l)&&(p=p.concat(this.g.get(Un(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)p=p.concat(l[y])}return p},i.set=function(l,p){return Wt(this),this.i=null,l=Un(this,l),nr(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},i.get=function(l,p){return l?(l=this.V(l),0<l.length?String(l[0]):p):p};function vi(l,p,y){tr(l,p),0<y.length&&(l.i=null,l.g.set(Un(l,p),q(y)),l.h+=y.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var w=p[y];const Q=encodeURIComponent(String(w)),ae=this.V(w);for(w=0;w<ae.length;w++){var z=Q;ae[w]!==""&&(z+="="+encodeURIComponent(String(ae[w]))),l.push(z)}}return this.i=l.join("&")};function Un(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function wr(l,p){p&&!l.j&&(Wt(l),l.i=null,l.g.forEach(function(y,w){var z=w.toLowerCase();w!=z&&(tr(this,w),vi(this,z,y))},l)),l.j=p}function Vu(l,p){const y=new Ie;if(d.Image){const w=new Image;w.onload=x(vn,y,"TestLoadImage: loaded",!0,p,w),w.onerror=x(vn,y,"TestLoadImage: error",!1,p,w),w.onabort=x(vn,y,"TestLoadImage: abort",!1,p,w),w.ontimeout=x(vn,y,"TestLoadImage: timeout",!1,p,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else p(!1)}function ba(l,p){const y=new Ie,w=new AbortController,z=setTimeout(()=>{w.abort(),vn(y,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:w.signal}).then(Q=>{clearTimeout(z),Q.ok?vn(y,"TestPingServer: ok",!0,p):vn(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(z),vn(y,"TestPingServer: error",!1,p)})}function vn(l,p,y,w,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),w(y)}catch{}}function Lu(){this.g=new hi}function za(l,p,y){const w=y||"";try{di(l,function(z,Q){let ae=z;v(z)&&(ae=ci(z)),p.push(w+Q+"="+encodeURIComponent(ae))})}catch(z){throw p.push(w+"type="+encodeURIComponent("_badmap")),z}}function Hr(l){this.l=l.Ub||null,this.j=l.eb||!1}U(Hr,Gn),Hr.prototype.g=function(){return new ts(this.l,this.j)},Hr.prototype.i=function(l){return function(){return l}}({});function ts(l,p){st.call(this),this.D=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(ts,st),i=ts.prototype,i.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=p,this.readyState=1,ir(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(p.body=l),(this.D||d).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,rr(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,ir(this)),this.g&&(this.readyState=3,ir(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ba(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ba(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?rr(this):ir(this),this.readyState==3&&Ba(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,rr(this))},i.Qa=function(l){this.g&&(this.response=l,rr(this))},i.ga=function(){this.g&&rr(this)};function rr(l){l.readyState=4,l.l=null,l.j=null,l.v=null,ir(l)}i.setRequestHeader=function(l,p){this.u.append(l,p)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=p.next();return l.join(`\r
`)};function ir(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ts.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function qr(l){let p="";return ce(l,function(y,w){p+=w,p+=":",p+=y,p+=`\r
`}),p}function _i(l,p,y){e:{for(w in y){var w=!1;break e}w=!0}w||(y=qr(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):at(l,p,y))}function mt(l){st.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(mt,st);var Mu=/^https?$/i,ko=["POST","PUT"];i=mt.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,p,y,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():be.g(),this.v=this.o?fi(this.o):fi(be),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(Q){ns(this,Q);return}if(l=y||"",y=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var z in w)y.set(z,w[z]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Q of w.keys())y.set(Q,w.get(Q));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(y.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=d.FormData&&l instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ko,p,void 0))||w||z||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of y)this.g.setRequestHeader(Q,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vs(this),this.u=!0,this.g.send(l),this.u=!1}catch(Q){ns(this,Q)}};function ns(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.m=5,Ns(l),Dn(l)}function Ns(l){l.A||(l.A=!0,wt(l,"complete"),wt(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,wt(this,"complete"),wt(this,"abort"),Dn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Dn(this,!0)),mt.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?xo(this):this.bb())},i.bb=function(){xo(this)};function xo(l){if(l.h&&typeof h<"u"&&(!l.v[1]||_n(l)!=4||l.Z()!=2)){if(l.u&&_n(l)==4)Yi(l.Ea,0,l);else if(wt(l,"readystatechange"),_n(l)==4){l.h=!1;try{const ae=l.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var w;if(w=ae===0){var z=String(l.D).match(Zi)[1]||null;!z&&d.self&&d.self.location&&(z=d.self.location.protocol.slice(0,-1)),w=!Mu.test(z?z.toLowerCase():"")}y=w}if(y)wt(l,"complete"),wt(l,"success");else{l.m=6;try{var Q=2<_n(l)?l.g.statusText:""}catch{Q=""}l.l=Q+" ["+l.Z()+"]",Ns(l)}}finally{Dn(l)}}}}function Dn(l,p){if(l.g){Vs(l);const y=l.g,w=l.v[0]?()=>{}:null;l.g=null,l.v=null,p||wt(l,"ready");try{y.onreadystatechange=w}catch{}}}function Vs(l){l.I&&(d.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function _n(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),vr(p)}};function Do(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Ls(l){const p={};l=(l.g&&2<=_n(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(ie(l[w]))continue;var y=V(l[w]);const z=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const Q=p[z]||[];p[z]=Q,Q.push(y)}P(p,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Tr(l,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||p}function No(l){this.Aa=0,this.i=[],this.j=new Ie,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Tr("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Tr("baseRetryDelayMs",5e3,l),this.cb=Tr("retryDelaySeedMs",1e4,l),this.Wa=Tr("forwardChannelMaxRetries",2,l),this.wa=Tr("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new yn(l&&l.concurrentRequestLimit),this.Da=new Lu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=No.prototype,i.la=8,i.G=1,i.connect=function(l,p,y,w){X(0),this.W=l,this.H=p||{},y&&w!==void 0&&(this.H.OSID=y,this.H.OAID=w),this.F=this.X,this.I=qa(this,null,this.W),Sr(this)};function Kt(l){if(Ms(l),l.G==3){var p=l.U++,y=xn(l.I);if(at(y,"SID",l.K),at(y,"RID",p),at(y,"TYPE","terminate"),Wr(l,y),p=new rt(l,l.j,p),p.L=2,p.v=gi(xn(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&d.Image&&(new Image().src=p.v,y=!0),y||(p.g=Wa(p.j,null),p.g.ea(p.v)),p.F=Date.now(),it(p)}Ha(l)}function sr(l){l.g&&(Vo(l),l.g.cancel(),l.g=null)}function Ms(l){sr(l),l.u&&(d.clearTimeout(l.u),l.u=null),Us(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&d.clearTimeout(l.s),l.s=null)}function Sr(l){if(!en(l.h)&&!l.s){l.s=!0;var p=l.Ga;$e||ue(),se||($e(),se=!0),we.add(p,l),l.B=0}}function Ou(l,p){return Ps(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=p.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=ge(S(l.Ga,l,p),$a(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const z=new rt(this,this.j,l);let Q=this.o;if(this.S&&(Q?(Q=T(Q),k(Q,this.S)):Q=this.S),this.m!==null||this.O||(z.H=Q,Q=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var w=this.i[y];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=Ei(this,z,p),y=xn(this.I),at(y,"RID",l),at(y,"CVER",22),this.D&&at(y,"X-HTTP-Session-Id",this.D),Wr(this,y),Q&&(this.O?p="headers="+encodeURIComponent(String(qr(Q)))+"&"+p:this.m&&_i(y,this.m,Q)),Ao(this.h,z),this.Ua&&at(y,"TYPE","init"),this.P?(at(y,"$req",p),at(y,"SID","null"),z.T=!0,Ht(z,y,null)):Ht(z,y,p),this.G=2}}else this.G==3&&(l?Os(this,l):this.i.length==0||en(this.h)||Os(this))};function Os(l,p){var y;p?y=p.l:y=l.U++;const w=xn(l.I);at(w,"SID",l.K),at(w,"RID",y),at(w,"AID",l.T),Wr(l,w),l.m&&l.o&&_i(w,l.m,l.o),y=new rt(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),p&&(l.i=p.D.concat(l.i)),p=Ei(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Ao(l.h,y),Ht(y,w,p)}function Wr(l,p){l.H&&ce(l.H,function(y,w){at(p,w,y)}),l.l&&di({},function(y,w){at(p,w,y)})}function Ei(l,p,y){y=Math.min(l.i.length,y);var w=l.l?S(l.l.Na,l.l,l):null;e:{var z=l.i;let Q=-1;for(;;){const ae=["count="+y];Q==-1?0<y?(Q=z[0].g,ae.push("ofs="+Q)):Q=0:ae.push("ofs="+Q);let ot=!0;for(let Dt=0;Dt<y;Dt++){let qe=z[Dt].g;const Ot=z[Dt].map;if(qe-=Q,0>qe)Q=Math.max(0,z[Dt].g-100),ot=!1;else try{za(Ot,ae,"req"+qe+"_")}catch{w&&w(Ot)}}if(ot){w=ae.join("&");break e}}}return l=l.i.splice(0,y),p.D=l,w}function rs(l){if(!l.g&&!l.u){l.Y=1;var p=l.Fa;$e||ue(),se||($e(),se=!0),we.add(p,l),l.v=0}}function Fs(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=ge(S(l.Fa,l),$a(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,ja(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=ge(S(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,X(10),sr(this),ja(this))};function Vo(l){l.A!=null&&(d.clearTimeout(l.A),l.A=null)}function ja(l){l.g=new rt(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var p=xn(l.qa);at(p,"RID","rpc"),at(p,"SID",l.K),at(p,"AID",l.T),at(p,"CI",l.F?"0":"1"),!l.F&&l.ja&&at(p,"TO",l.ja),at(p,"TYPE","xmlhttp"),Wr(l,p),l.m&&l.o&&_i(p,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=gi(xn(p)),y.m=null,y.P=!0,Br(y,l)}i.Za=function(){this.C!=null&&(this.C=null,sr(this),Fs(this),X(19))};function Us(l){l.C!=null&&(d.clearTimeout(l.C),l.C=null)}function bs(l,p){var y=null;if(l.g==p){Us(l),Vo(l),l.g=null;var w=2}else if(cn(l.h,p))y=p.D,Va(l.h,p),w=1;else return;if(l.G!=0){if(p.o)if(w==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var z=l.B;w=zr(),wt(w,new he(w,y)),Sr(l)}else rs(l);else if(z=p.s,z==3||z==0&&0<p.X||!(w==1&&Ou(l,p)||w==2&&Fs(l)))switch(y&&0<y.length&&(p=l.h,p.i=p.i.concat(y)),z){case 1:Kr(l,5);break;case 4:Kr(l,10);break;case 3:Kr(l,6);break;default:Kr(l,2)}}}function $a(l,p){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*p}function Kr(l,p){if(l.j.info("Error code "+p),p==2){var y=S(l.fb,l),w=l.Xa;const z=!w;w=new $r(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||es(w,"https"),gi(w),z?Vu(w.toString(),y):ba(w.toString(),y)}else X(2);l.G=0,l.l&&l.l.sa(p),Ha(l),Ms(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),X(2)):(this.j.info("Failed to ping google.com"),X(1))};function Ha(l){if(l.G=0,l.ka=[],l.l){const p=La(l.h);(p.length!=0||l.i.length!=0)&&($(l.ka,p),$(l.ka,l.i),l.h.i.length=0,q(l.i),l.i.length=0),l.l.ra()}}function qa(l,p,y){var w=y instanceof $r?xn(y):new $r(y);if(w.g!="")p&&(w.g=p+"."+w.g),pi(w,w.s);else{var z=d.location;w=z.protocol,p=p?p+"."+z.hostname:z.hostname,z=+z.port;var Q=new $r(null);w&&es(Q,w),p&&(Q.g=p),z&&pi(Q,z),y&&(Q.l=y),w=Q}return y=l.D,p=l.ya,y&&p&&at(w,y,p),at(w,"VER",l.la),Wr(l,w),w}function Wa(l,p,y){if(p&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Ca&&!l.pa?new mt(new Hr({eb:y})):new mt(l.pa),p.Ha(l.J),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lo(){}i=Lo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function zs(){}zs.prototype.g=function(l,p){return new hn(l,p)};function hn(l,p){st.call(this),this.g=new No(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(l?l["X-WebChannel-Client-Profile"]=p.va:l={"X-WebChannel-Client-Profile":p.va}),this.g.S=l,(l=p&&p.Sb)&&!ie(l)&&(this.g.m=l),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!ie(p)&&(this.g.D=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new Rr(this)}U(hn,st),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Kt(this.g)},hn.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=ci(l),l=y);p.i.push(new ft(p.Ya++,l)),p.G==3&&Sr(p)},hn.prototype.N=function(){this.g.l=null,delete this.j,Kt(this.g),delete this.g,hn.aa.N.call(this)};function Ka(l){kn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const y in p){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}U(Ka,kn);function Qa(){Yn.call(this),this.status=1}U(Qa,Yn);function Rr(l){this.g=l}U(Rr,Lo),Rr.prototype.ua=function(){wt(this.g,"a")},Rr.prototype.ta=function(l){wt(this.g,new Ka(l))},Rr.prototype.sa=function(l){wt(this.g,new Qa)},Rr.prototype.ra=function(){wt(this.g,"b")},zs.prototype.createWebChannel=zs.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,Tg=function(){return new zs},wg=function(){return zr()},Eg=un,Ch={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},nt.NO_ERROR=0,nt.TIMEOUT=8,nt.HTTP_ERROR=6,Gl=nt,Tt.COMPLETE="complete",_g=Tt,br.EventType=gn,gn.OPEN="a",gn.CLOSE="b",gn.ERROR="c",gn.MESSAGE="d",st.prototype.listen=st.prototype.K,ua=br,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,vg=mt}).apply(typeof jl<"u"?jl:typeof self<"u"?self:typeof window<"u"?window:{});const Xp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=new hg("@firebase/firestore");function uo(){return Ss.logLevel}function me(i,...e){if(Ss.logLevel<=Ke.DEBUG){const n=e.map(Kh);Ss.debug(`Firestore (${Ro}): ${i}`,...n)}}function ri(i,...e){if(Ss.logLevel<=Ke.ERROR){const n=e.map(Kh);Ss.error(`Firestore (${Ro}): ${i}`,...n)}}function yo(i,...e){if(Ss.logLevel<=Ke.WARN){const n=e.map(Kh);Ss.warn(`Firestore (${Ro}): ${i}`,...n)}}function Kh(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(i="Unexpected state"){const e=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: `+i;throw ri(e),new Error(e)}function Et(i,e){i||Oe()}function Ge(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends So{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(an.UNAUTHENTICATED))}shutdown(){}}class LE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ME{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Et(this.o===void 0);let s=this.i;const a=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Bi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Bi,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await a(this.currentUser)})},d=g=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>d(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?d(g):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Bi)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Et(typeof s.accessToken=="string"),new Sg(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Et(e===null||typeof e=="string"),new an(e)}}class OE{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=an.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class FE{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new OE(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class UE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bE{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Et(this.o===void 0);const s=u=>{u.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,me("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const a=u=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>a(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?a(u):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Et(typeof n.token=="string"),this.R=n.token,new UE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=zE(40);for(let u=0;u<a.length;++u)s.length<20&&a[u]<n&&(s+=e.charAt(a[u]%e.length))}return s}}function Qe(i,e){return i<e?-1:i>e?1:0}function vo(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{static now(){return An.fromMillis(Date.now())}static fromDate(e){return An.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new An(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Re(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Re(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Re(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new An(0,0))}static max(){return new Ve(new An(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n,s){n===void 0?n=0:n>e.length&&Oe(),s===void 0?s=e.length-n:s>e.length-n&&Oe(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ea.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ea?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const u=e.get(a),h=n.get(a);if(u<h)return-1;if(u>h)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class yt extends Ea{construct(e,n,s){return new yt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Re(le.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new yt(n)}static emptyPath(){return new yt([])}}const BE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pn extends Ea{construct(e,n,s){return new pn(e,n,s)}static isValidIdentifier(e){return BE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new pn(["__name__"])}static fromServerFormat(e){const n=[];let s="",a=0;const u=()=>{if(s.length===0)throw new Re(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new Re(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Re(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,a+=2}else d==="`"?(h=!h,a++):d!=="."||h?(s+=d,a++):(u(),a++)}if(u(),h)throw new Re(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pn(n)}static emptyPath(){return new pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(yt.fromString(e))}static fromName(e){return new Pe(yt.fromString(e).popFirst(5))}static empty(){return new Pe(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return yt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new yt(e.slice()))}}function jE(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=Ve.fromTimestamp(s===1e9?new An(n+1,0):new An(n,s));return new $i(a,Pe.empty(),e)}function $E(i){return new $i(i.readTime,i.key,-1)}class $i{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new $i(Ve.min(),Pe.empty(),-1)}static max(){return new $i(Ve.max(),Pe.empty(),-1)}}function HE(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Pe.comparator(i.documentKey,e.documentKey),n!==0?n:Qe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gu(i){if(i.code!==le.FAILED_PRECONDITION||i.message!==qE)throw i;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((s,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,a)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,s)=>{n(e)})}static reject(e){return new J((n,s)=>{s(e)})}static waitFor(e){return new J((n,s)=>{let a=0,u=0,h=!1;e.forEach(d=>{++a,d.next(()=>{++u,h&&u===a&&n()},g=>s(g))}),h=!0,u===a&&n()})}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next(a=>a?J.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,u)=>{s.push(n.call(this,a,u))}),this.waitFor(s)}static mapArray(e,n){return new J((s,a)=>{const u=e.length,h=new Array(u);let d=0;for(let g=0;g<u;g++){const v=g;n(e[v]).next(E=>{h[v]=E,++d,d===u&&s(h)},E=>a(E))}})}static doWhile(e,n){return new J((s,a)=>{const u=()=>{e()===!0?n().next(()=>{u()},a):s()};u()})}}function KE(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Io(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}yu.oe=-1;function vu(i){return i==null}function Ah(i){return i===0&&1/i==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Jp(e)),e=GE(i.get(n),e);return Jp(e)}function GE(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const u=i.charAt(a);switch(u){case"\0":n+="";break;case"":n+="";break;default:n+=u}}return n}function Jp(i){return i+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ca(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function YE(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new At(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $l(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $l(this.root,e,this.comparator,!1)}getReverseIterator(){return new $l(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $l(this.root,e,this.comparator,!0)}}class $l{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,s,a,u){this.key=e,this.value=n,this.color=s??Yt.RED,this.left=a??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,u){return new Yt(e??this.key,n??this.value,s??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const u=s(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,n,s),null):u===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Yt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Oe();const e=this.left.check();if(e!==this.right.check())throw Oe();return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe()}get value(){throw Oe()}get color(){throw Oe()}get left(){throw Oe()}get right(){throw Oe()}copy(e,n,s,a,u){return this}insert(e,n,s){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new em(this.data.getIterator())}getIteratorFrom(e){return new em(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,u=s.getNext().key;if(this.comparator(a,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class em{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e){this.fields=e,e.sort(pn.comparator)}static empty(){return new Fi([])}unionWith(e){let n=new Mt(pn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Fi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Ig("Invalid base64 string: "+u):u}}(e);return new Xt(n)}static fromUint8Array(e){const n=function(a){let u="";for(let h=0;h<a.length;++h)u+=String.fromCharCode(a[h]);return u}(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const XE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hi(i){if(Et(!!i),typeof i=="string"){let e=0;const n=XE.exec(i);if(Et(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ct(i.seconds),nanos:Ct(i.nanos)}}function Ct(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function qi(i){return typeof i=="string"?Xt.fromBase64String(i):Xt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function _u(i){const e=i.mapValue.fields.__previous_value__;return Qh(e)?_u(e):e}function wa(i){const e=Hi(i.mapValue.fields.__local_write_time__.timestampValue);return new An(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,n,s,a,u,h,d,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=g,this.useFetchStreams=v}}class Ta{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ta("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ta&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Wi(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Qh(i)?4:ew(i)?9007199254740991:ZE(i)?10:11:Oe()}function Vr(i,e){if(i===e)return!0;const n=Wi(i);if(n!==Wi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return wa(i).isEqual(wa(e));case 3:return function(a,u){if(typeof a.timestampValue=="string"&&typeof u.timestampValue=="string"&&a.timestampValue.length===u.timestampValue.length)return a.timestampValue===u.timestampValue;const h=Hi(a.timestampValue),d=Hi(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,u){return qi(a.bytesValue).isEqual(qi(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,u){return Ct(a.geoPointValue.latitude)===Ct(u.geoPointValue.latitude)&&Ct(a.geoPointValue.longitude)===Ct(u.geoPointValue.longitude)}(i,e);case 2:return function(a,u){if("integerValue"in a&&"integerValue"in u)return Ct(a.integerValue)===Ct(u.integerValue);if("doubleValue"in a&&"doubleValue"in u){const h=Ct(a.doubleValue),d=Ct(u.doubleValue);return h===d?Ah(h)===Ah(d):isNaN(h)&&isNaN(d)}return!1}(i,e);case 9:return vo(i.arrayValue.values||[],e.arrayValue.values||[],Vr);case 10:case 11:return function(a,u){const h=a.mapValue.fields||{},d=u.mapValue.fields||{};if(Zp(h)!==Zp(d))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(d[g]===void 0||!Vr(h[g],d[g])))return!1;return!0}(i,e);default:return Oe()}}function Sa(i,e){return(i.values||[]).find(n=>Vr(n,e))!==void 0}function _o(i,e){if(i===e)return 0;const n=Wi(i),s=Wi(e);if(n!==s)return Qe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(i.booleanValue,e.booleanValue);case 2:return function(u,h){const d=Ct(u.integerValue||u.doubleValue),g=Ct(h.integerValue||h.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(i,e);case 3:return tm(i.timestampValue,e.timestampValue);case 4:return tm(wa(i),wa(e));case 5:return Qe(i.stringValue,e.stringValue);case 6:return function(u,h){const d=qi(u),g=qi(h);return d.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const d=u.split("/"),g=h.split("/");for(let v=0;v<d.length&&v<g.length;v++){const E=Qe(d[v],g[v]);if(E!==0)return E}return Qe(d.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const d=Qe(Ct(u.latitude),Ct(h.latitude));return d!==0?d:Qe(Ct(u.longitude),Ct(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return nm(i.arrayValue,e.arrayValue);case 10:return function(u,h){var d,g,v,E;const C=u.fields||{},S=h.fields||{},x=(d=C.value)===null||d===void 0?void 0:d.arrayValue,U=(g=S.value)===null||g===void 0?void 0:g.arrayValue,q=Qe(((v=x==null?void 0:x.values)===null||v===void 0?void 0:v.length)||0,((E=U==null?void 0:U.values)===null||E===void 0?void 0:E.length)||0);return q!==0?q:nm(x,U)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===Hl.mapValue&&h===Hl.mapValue)return 0;if(u===Hl.mapValue)return 1;if(h===Hl.mapValue)return-1;const d=u.fields||{},g=Object.keys(d),v=h.fields||{},E=Object.keys(v);g.sort(),E.sort();for(let C=0;C<g.length&&C<E.length;++C){const S=Qe(g[C],E[C]);if(S!==0)return S;const x=_o(d[g[C]],v[E[C]]);if(x!==0)return x}return Qe(g.length,E.length)}(i.mapValue,e.mapValue);default:throw Oe()}}function tm(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Qe(i,e);const n=Hi(i),s=Hi(e),a=Qe(n.seconds,s.seconds);return a!==0?a:Qe(n.nanos,s.nanos)}function nm(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const u=_o(n[a],s[a]);if(u)return u}return Qe(n.length,s.length)}function Eo(i){return Ph(i)}function Ph(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Hi(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return qi(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return Pe.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const u of n.values||[])a?a=!1:s+=",",s+=Ph(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",u=!0;for(const h of s)u?u=!1:a+=",",a+=`${h}:${Ph(n.fields[h])}`;return a+"}"}(i.mapValue):Oe()}function Yl(i){switch(Wi(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_u(i);return e?16+Yl(e):16;case 5:return 2*i.stringValue.length;case 6:return qi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,u)=>a+Yl(u),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return Ca(s.fields,(u,h)=>{a+=u.length+Yl(h)}),a}(i.mapValue);default:throw Oe()}}function kh(i){return!!i&&"integerValue"in i}function Gh(i){return!!i&&"arrayValue"in i}function rm(i){return!!i&&"nullValue"in i}function im(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function hh(i){return!!i&&"mapValue"in i}function ZE(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function pa(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ca(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=pa(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pa(i.arrayValue.values[n]);return e}return Object.assign({},i)}function ew(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.value=e}static empty(){return new kr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!hh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pa(n)}setAll(e){let n=pn.emptyPath(),s={},a=[];e.forEach((h,d)=>{if(!n.isImmediateParentOf(d)){const g=this.getFieldsMap(n);this.applyChanges(g,s,a),s={},a=[],n=d.popLast()}h?s[d.lastSegment()]=pa(h):a.push(d.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,a)}delete(e){const n=this.field(e.popLast());hh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];hh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Ca(n,(a,u)=>e[a]=u);for(const a of s)delete e[a]}clone(){return new kr(pa(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,n,s,a,u,h,d){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new ln(e,0,Ve.min(),Ve.min(),Ve.min(),kr.empty(),0)}static newFoundDocument(e,n,s,a){return new ln(e,1,n,Ve.min(),s,a,0)}static newNoDocument(e,n){return new ln(e,2,n,Ve.min(),Ve.min(),kr.empty(),0)}static newUnknownDocument(e,n){return new ln(e,3,n,Ve.min(),Ve.min(),kr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n){this.position=e,this.inclusive=n}}function sm(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const u=e[a],h=i.position[a];if(u.field.isKeyField()?s=Pe.comparator(Pe.fromName(h.referenceValue),n.key):s=_o(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function om(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Vr(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n="asc"){this.field=e,this.dir=n}}function tw(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{}class Lt extends Cg{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new rw(e,n,s):n==="array-contains"?new ow(e,s):n==="in"?new aw(e,s):n==="not-in"?new lw(e,s):n==="array-contains-any"?new uw(e,s):new Lt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new iw(e,s):new sw(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(_o(n,this.value)):n!==null&&Wi(this.value)===Wi(n)&&this.matchesComparison(_o(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lr extends Cg{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Lr(e,n)}matches(e){return Ag(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ag(i){return i.op==="and"}function Pg(i){return nw(i)&&Ag(i)}function nw(i){for(const e of i.filters)if(e instanceof Lr)return!1;return!0}function xh(i){if(i instanceof Lt)return i.field.canonicalString()+i.op.toString()+Eo(i.value);if(Pg(i))return i.filters.map(e=>xh(e)).join(",");{const e=i.filters.map(n=>xh(n)).join(",");return`${i.op}(${e})`}}function kg(i,e){return i instanceof Lt?function(s,a){return a instanceof Lt&&s.op===a.op&&s.field.isEqual(a.field)&&Vr(s.value,a.value)}(i,e):i instanceof Lr?function(s,a){return a instanceof Lr&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((u,h,d)=>u&&kg(h,a.filters[d]),!0):!1}(i,e):void Oe()}function xg(i){return i instanceof Lt?function(n){return`${n.field.canonicalString()} ${n.op} ${Eo(n.value)}`}(i):i instanceof Lr?function(n){return n.op.toString()+" {"+n.getFilters().map(xg).join(" ,")+"}"}(i):"Filter"}class rw extends Lt{constructor(e,n,s){super(e,n,s),this.key=Pe.fromName(s.referenceValue)}matches(e){const n=Pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class iw extends Lt{constructor(e,n){super(e,"in",n),this.keys=Dg("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class sw extends Lt{constructor(e,n){super(e,"not-in",n),this.keys=Dg("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Dg(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Pe.fromName(s.referenceValue))}class ow extends Lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gh(n)&&Sa(n.arrayValue,this.value)}}class aw extends Lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Sa(this.value.arrayValue,n)}}class lw extends Lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Sa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Sa(this.value.arrayValue,n)}}class uw extends Lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Sa(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,n=null,s=[],a=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=u,this.startAt=h,this.endAt=d,this.ue=null}}function am(i,e=null,n=[],s=[],a=null,u=null,h=null){return new cw(i,e,n,s,a,u,h)}function Yh(i){const e=Ge(i);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>xh(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),vu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Eo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Eo(s)).join(",")),e.ue=n}return e.ue}function Xh(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!tw(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!kg(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!om(i.startAt,e.startAt)&&om(i.endAt,e.endAt)}function Dh(i){return Pe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n=null,s=[],a=[],u=null,h="F",d=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function hw(i,e,n,s,a,u,h,d){return new Eu(i,e,n,s,a,u,h,d)}function Jh(i){return new Eu(i)}function lm(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function fw(i){return i.collectionGroup!==null}function ma(i){const e=Ge(i);if(e.ce===null){e.ce=[];const n=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Mt(pn.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(v=>{v.isInequality()&&(d=d.add(v.field))})}),d})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.ce.push(new au(u,s))}),n.has(pn.keyField().canonicalString())||e.ce.push(new au(pn.keyField(),s))}return e.ce}function xr(i){const e=Ge(i);return e.le||(e.le=dw(e,ma(i))),e.le}function dw(i,e){if(i.limitType==="F")return am(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const u=a.dir==="desc"?"asc":"desc";return new au(a.field,u)});const n=i.endAt?new ou(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new ou(i.startAt.position,i.startAt.inclusive):null;return am(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Nh(i,e,n){return new Eu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function wu(i,e){return Xh(xr(i),xr(e))&&i.limitType===e.limitType}function Ng(i){return`${Yh(xr(i))}|lt:${i.limitType}`}function co(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>xg(a)).join(", ")}]`),vu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>Eo(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>Eo(a)).join(",")),`Target(${s})`}(xr(i))}; limitType=${i.limitType})`}function Tu(i,e){return e.isFoundDocument()&&function(s,a){const u=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,a){for(const u of ma(s))if(!u.field.isKeyField()&&a.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const u of s.filters)if(!u.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(h,d,g){const v=sm(h,d,g);return h.inclusive?v<=0:v<0}(s.startAt,ma(s),a)||s.endAt&&!function(h,d,g){const v=sm(h,d,g);return h.inclusive?v>=0:v>0}(s.endAt,ma(s),a))}(i,e)}function pw(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Vg(i){return(e,n)=>{let s=!1;for(const a of ma(i)){const u=mw(a,e,n);if(u!==0)return u;s=s||a.field.isKeyField()}return 0}}function mw(i,e,n){const s=i.field.isKeyField()?Pe.comparator(e.key,n.key):function(u,h,d){const g=h.data.field(u),v=d.data.field(u);return g!==null&&v!==null?_o(g,v):Oe()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Oe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,u]of s)if(this.equalsFn(a,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ca(this.inner,(n,s)=>{for(const[a,u]of s)e(a,u)})}isEmpty(){return YE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=new At(Pe.comparator);function Ki(){return gw}const Lg=new At(Pe.comparator);function ca(...i){let e=Lg;for(const n of i)e=e.insert(n.key,n);return e}function yw(i){let e=Lg;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function _s(){return ga()}function Mg(){return ga()}function ga(){return new Rs(i=>i.toString(),(i,e)=>i.isEqual(e))}const vw=new Mt(Pe.comparator);function et(...i){let e=vw;for(const n of i)e=e.add(n);return e}const _w=new Mt(Qe);function Ew(){return _w}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ah(e)?"-0":e}}function Tw(i){return{integerValue:""+i}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(){this._=void 0}}function Sw(i,e,n){return i instanceof Vh?function(a,u){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return u&&Qh(u)&&(u=_u(u)),u&&(h.fields.__previous_value__=u),{mapValue:h}}(n,e):i instanceof lu?Og(i,e):i instanceof uu?Fg(i,e):function(a,u){const h=Iw(a,u),d=um(h)+um(a.Pe);return kh(h)&&kh(a.Pe)?Tw(d):ww(a.serializer,d)}(i,e)}function Rw(i,e,n){return i instanceof lu?Og(i,e):i instanceof uu?Fg(i,e):n}function Iw(i,e){return i instanceof Lh?function(s){return kh(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Vh extends Su{}class lu extends Su{constructor(e){super(),this.elements=e}}function Og(i,e){const n=Ug(e);for(const s of i.elements)n.some(a=>Vr(a,s))||n.push(s);return{arrayValue:{values:n}}}class uu extends Su{constructor(e){super(),this.elements=e}}function Fg(i,e){let n=Ug(e);for(const s of i.elements)n=n.filter(a=>!Vr(a,s));return{arrayValue:{values:n}}}class Lh extends Su{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function um(i){return Ct(i.integerValue||i.doubleValue)}function Ug(i){return Gh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function Cw(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof lu&&a instanceof lu||s instanceof uu&&a instanceof uu?vo(s.elements,a.elements,Vr):s instanceof Lh&&a instanceof Lh?Vr(s.Pe,a.Pe):s instanceof Vh&&a instanceof Vh}(i.transform,e.transform)}class Ts{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ts}static exists(e){return new Ts(void 0,e)}static updateTime(e){return new Ts(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xl(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Zh{}function bg(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Pw(i.key,Ts.none()):new ef(i.key,i.data,Ts.none());{const n=i.data,s=kr.empty();let a=new Mt(pn.comparator);for(let u of e.fields)if(!a.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),a=a.add(u)}return new Ru(i.key,s,new Fi(a.toArray()),Ts.none())}}function Aw(i,e,n){i instanceof ef?function(a,u,h){const d=a.value.clone(),g=hm(a.fieldTransforms,u,h.transformResults);d.setAll(g),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(i,e,n):i instanceof Ru?function(a,u,h){if(!Xl(a.precondition,u))return void u.convertToUnknownDocument(h.version);const d=hm(a.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(zg(a)),g.setAll(d),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(i,e,n):function(a,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function ya(i,e,n,s){return i instanceof ef?function(u,h,d,g){if(!Xl(u.precondition,h))return d;const v=u.value.clone(),E=fm(u.fieldTransforms,g,h);return v.setAll(E),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null}(i,e,n,s):i instanceof Ru?function(u,h,d,g){if(!Xl(u.precondition,h))return d;const v=fm(u.fieldTransforms,g,h),E=h.data;return E.setAll(zg(u)),E.setAll(v),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(C=>C.field))}(i,e,n,s):function(u,h,d){return Xl(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(i,e,n)}function cm(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&vo(s,a,(u,h)=>Cw(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class ef extends Zh{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ru extends Zh{constructor(e,n,s,a,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function zg(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function hm(i,e,n){const s=new Map;Et(i.length===n.length);for(let a=0;a<n.length;a++){const u=i[a],h=u.transform,d=e.data.field(u.field);s.set(u.field,Rw(h,d,n[a]))}return s}function fm(i,e,n){const s=new Map;for(const a of i){const u=a.transform,h=n.data.field(a.field);s.set(a.field,Sw(u,h,e))}return s}class Pw extends Zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&Aw(u,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ya(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ya(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Mg();return this.mutations.forEach(a=>{const u=e.get(a.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=n.has(a.key)?null:d;const g=bg(h,d);g!==null&&s.set(a.key,g),h.isValidDocument()||h.convertToNoDocument(Ve.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),et())}isEqual(e){return this.batchId===e.batchId&&vo(this.mutations,e.mutations,(n,s)=>cm(n,s))&&vo(this.baseMutations,e.baseMutations,(n,s)=>cm(n,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,We;function Bg(i){if(i===void 0)return ri("GRPC error has no .code"),le.UNKNOWN;switch(i){case xt.OK:return le.OK;case xt.CANCELLED:return le.CANCELLED;case xt.UNKNOWN:return le.UNKNOWN;case xt.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case xt.INTERNAL:return le.INTERNAL;case xt.UNAVAILABLE:return le.UNAVAILABLE;case xt.UNAUTHENTICATED:return le.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case xt.NOT_FOUND:return le.NOT_FOUND;case xt.ALREADY_EXISTS:return le.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return le.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case xt.ABORTED:return le.ABORTED;case xt.OUT_OF_RANGE:return le.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return le.UNIMPLEMENTED;case xt.DATA_LOSS:return le.DATA_LOSS;default:return Oe()}}(We=xt||(xt={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=new ws([4294967295,4294967295],0);function dm(i){const e=Nw().encode(i),n=new yg;return n.update(e),new Uint8Array(n.digest())}function pm(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ws([n,s],0),new ws([a,u],0)]}class tf{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ha(`Invalid padding: ${n}`);if(s<0)throw new ha(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ha(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ha(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=ws.fromNumber(this.Te)}Ee(e,n,s){let a=e.add(n.multiply(ws.fromNumber(s)));return a.compare(Vw)===1&&(a=new ws([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=dm(e),[s,a]=pm(n);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,a,u);if(!this.de(h))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new tf(u,a,n);return s.forEach(d=>h.insert(d)),h}insert(e){if(this.Te===0)return;const n=dm(e),[s,a]=pm(n);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,a,u);this.Ae(h)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ha extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n,s,a,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Aa.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Iu(Ve.min(),a,new At(Qe),Ki(),et())}}class Aa{constructor(e,n,s,a,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Aa(s,n,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n,s,a){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=a}}class jg{constructor(e,n){this.targetId=e,this.me=n}}class $g{constructor(e,n,s=Xt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class mm{constructor(){this.fe=0,this.ge=gm(),this.pe=Xt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=et(),n=et(),s=et();return this.ge.forEach((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Oe()}}),new Aa(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=gm()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Et(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Lw{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ki(),this.qe=ql(),this.Qe=ql(),this.Ke=new At(Qe)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.je(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.De(e.resumeToken));break;default:Oe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((s,a)=>{this.je(a)&&n(a)})}Je(e){const n=e.targetId,s=e.me.count,a=this.Ye(n);if(a){const u=a.target;if(Dh(u))if(s===0){const h=new Pe(u.path);this.We(n,h,ln.newNoDocument(h,Ve.min()))}else Et(s===1);else{const h=this.Ze(n);if(h!==s){const d=this.Xe(e),g=d?this.et(d,e,h):1;if(g!==0){this.He(n);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,v)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:u=0}=n;let h,d;try{h=qi(s).toUint8Array()}catch(g){if(g instanceof Ig)return yo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{d=new tf(h,a,u)}catch(g){return yo(g instanceof ha?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return d.Te===0?null:d}et(e,n,s){return n.me.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let a=0;return s.forEach(u=>{const h=this.Le.nt(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.We(n,u,null),a++)}),a}it(e){const n=new Map;this.Be.forEach((u,h)=>{const d=this.Ye(h);if(d){if(u.current&&Dh(d.target)){const g=new Pe(d.target.path);this.st(g).has(h)||this.ot(h,g)||this.We(h,g,ln.newNoDocument(g,e))}u.be&&(n.set(h,u.ve()),u.Ce())}});let s=et();this.Qe.forEach((u,h)=>{let d=!0;h.forEachWhile(g=>{const v=this.Ye(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(u))}),this.ke.forEach((u,h)=>h.setReadTime(e));const a=new Iu(e,n,this.Ke,this.ke,s);return this.ke=Ki(),this.qe=ql(),this.Qe=ql(),this.Ke=new At(Qe),a}Ue(e,n){if(!this.je(e))return;const s=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const a=this.ze(e);this.ot(e,n)?a.Fe(n,1):a.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new mm,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new Mt(Qe),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Mt(Qe),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new mm),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function ql(){return new At(Pe.comparator)}function gm(){return new At(Pe.comparator)}const Mw={asc:"ASCENDING",desc:"DESCENDING"},Ow={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Fw={and:"AND",or:"OR"};class Uw{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Mh(i,e){return i.useProto3Json||vu(e)?e:{value:e}}function bw(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zw(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function mo(i){return Et(!!i),Ve.fromTimestamp(function(n){const s=Hi(n);return new An(s.seconds,s.nanos)}(i))}function Bw(i,e){return Oh(i,e).canonicalString()}function Oh(i,e){const n=function(a){return new yt(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function Hg(i){const e=yt.fromString(i);return Et(Gg(e)),e}function fh(i,e){const n=Hg(e);if(n.get(1)!==i.databaseId.projectId)throw new Re(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Re(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Pe(Wg(n))}function qg(i,e){return Bw(i.databaseId,e)}function jw(i){const e=Hg(i);return e.length===4?yt.emptyPath():Wg(e)}function ym(i){return new yt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Wg(i){return Et(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function $w(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],u=function(v,E){return v.useProto3Json?(Et(E===void 0||typeof E=="string"),Xt.fromBase64String(E||"")):(Et(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Xt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(v){const E=v.code===void 0?le.UNKNOWN:Bg(v.code);return new Re(E,v.message||"")}(h);n=new $g(s,a,u,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=fh(i,s.document.name),u=mo(s.document.updateTime),h=s.document.createTime?mo(s.document.createTime):Ve.min(),d=new kr({mapValue:{fields:s.document.fields}}),g=ln.newFoundDocument(a,u,h,d),v=s.targetIds||[],E=s.removedTargetIds||[];n=new Jl(v,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=fh(i,s.document),u=s.readTime?mo(s.readTime):Ve.min(),h=ln.newNoDocument(a,u),d=s.removedTargetIds||[];n=new Jl([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=fh(i,s.document),u=s.removedTargetIds||[];n=new Jl([],u,a,null)}else{if(!("filter"in e))return Oe();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:u}=s,h=new Dw(a,u),d=s.targetId;n=new jg(d,h)}}return n}function Hw(i,e){return{documents:[qg(i,e.path)]}}function qw(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=qg(i,a);const u=function(v){if(v.length!==0)return Qg(Lr.create(v,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(v){if(v.length!==0)return v.map(E=>function(S){return{field:ho(S.field),direction:Qw(S.dir)}}(E))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const d=Mh(i,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ct:n,parent:a}}function Ww(i){let e=jw(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Et(s===1);const E=n.from[0];E.allDescendants?a=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(C){const S=Kg(C);return S instanceof Lr&&Pg(S)?S.getFilters():[S]}(n.where));let h=[];n.orderBy&&(h=function(C){return C.map(S=>function(U){return new au(fo(U.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(S))}(n.orderBy));let d=null;n.limit&&(d=function(C){let S;return S=typeof C=="object"?C.value:C,vu(S)?null:S}(n.limit));let g=null;n.startAt&&(g=function(C){const S=!!C.before,x=C.values||[];return new ou(x,S)}(n.startAt));let v=null;return n.endAt&&(v=function(C){const S=!C.before,x=C.values||[];return new ou(x,S)}(n.endAt)),hw(e,a,h,u,d,"F",g,v)}function Kw(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Kg(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=fo(n.unaryFilter.field);return Lt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=fo(n.unaryFilter.field);return Lt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=fo(n.unaryFilter.field);return Lt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=fo(n.unaryFilter.field);return Lt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Oe()}}(i):i.fieldFilter!==void 0?function(n){return Lt.create(fo(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Oe()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Lr.create(n.compositeFilter.filters.map(s=>Kg(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Oe()}}(n.compositeFilter.op))}(i):Oe()}function Qw(i){return Mw[i]}function Gw(i){return Ow[i]}function Yw(i){return Fw[i]}function ho(i){return{fieldPath:i.canonicalString()}}function fo(i){return pn.fromServerFormat(i.fieldPath)}function Qg(i){return i instanceof Lt?function(n){if(n.op==="=="){if(im(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NAN"}};if(rm(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(im(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NOT_NAN"}};if(rm(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ho(n.field),op:Gw(n.op),value:n.value}}}(i):i instanceof Lr?function(n){const s=n.getFilters().map(a=>Qg(a));return s.length===1?s[0]:{compositeFilter:{op:Yw(n.op),filters:s}}}(i):Oe()}function Gg(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n,s,a,u=Ve.min(),h=Ve.min(),d=Xt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=g}withSequenceNumber(e){return new Ui(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e){this.ht=e}}function Jw(i){const e=Ww({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Nh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(){this.ln=new e0}addToCollectionParentIndex(e,n){return this.ln.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve($i.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve($i.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class e0{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Mt(yt.comparator),u=!a.has(s);return this.index[n]=a.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Mt(yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Cn{static withCacheSize(e){return new Cn(e,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(41943040,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new wo(0)}static Qn(){return new wo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m([i,e],[n,s]){const a=Qe(i,n);return a===0?Qe(e,s):a}class t0{constructor(e){this.Gn=e,this.buffer=new Mt(_m),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();_m(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class n0{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){me("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Io(n)?me("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await gu(n)}await this.Yn(3e5)})}}class r0{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return J.resolve(yu.oe);const s=new t0(n);return this.Zn.forEachTarget(e,a=>s.Hn(a.sequenceNumber)).next(()=>this.Zn.er(e,a=>s.Hn(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(vm)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vm):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let s,a,u,h,d,g,v;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),a=this.params.maximumSequenceNumbersToCollect):a=C,h=Date.now(),this.nthSequenceNumber(e,a))).next(C=>(s=C,d=Date.now(),this.removeTargets(e,s,n))).next(C=>(u=C,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(C=>(v=Date.now(),uo()<=Ke.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${a} in `+(d-h)+`ms
	Removed ${u} targets in `+(g-d)+`ms
	Removed ${C} documents in `+(v-g)+`ms
Total Duration: ${v-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:C})))}}function i0(i,e){return new r0(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(){this.changes=new Rs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&ya(s.mutation,a,Fi.empty(),An.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,et()).next(()=>s))}getLocalViewOfDocuments(e,n,s=et()){const a=_s();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(u=>{let h=ca();return u.forEach((d,g)=>{h=h.insert(d,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const s=_s();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,et()))}populateOverlays(e,n,s){const a=[];return s.forEach(u=>{n.has(u)||a.push(u)}),this.documentOverlayCache.getOverlays(e,a).next(u=>{u.forEach((h,d)=>{n.set(h,d)})})}computeViews(e,n,s,a){let u=Ki();const h=ga(),d=function(){return ga()}();return n.forEach((g,v)=>{const E=s.get(v.key);a.has(v.key)&&(E===void 0||E.mutation instanceof Ru)?u=u.insert(v.key,v):E!==void 0?(h.set(v.key,E.mutation.getFieldMask()),ya(E.mutation,v,E.mutation.getFieldMask(),An.now())):h.set(v.key,Fi.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((v,E)=>h.set(v,E)),n.forEach((v,E)=>{var C;return d.set(v,new o0(E,(C=h.get(v))!==null&&C!==void 0?C:null))}),d))}recalculateAndSaveOverlays(e,n){const s=ga();let a=new At((h,d)=>h-d),u=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const d of h)d.keys().forEach(g=>{const v=n.get(g);if(v===null)return;let E=s.get(g)||Fi.empty();E=d.applyToLocalView(v,E),s.set(g,E);const C=(a.get(d.batchId)||et()).add(g);a=a.insert(d.batchId,C)})}).next(()=>{const h=[],d=a.getReverseIterator();for(;d.hasNext();){const g=d.getNext(),v=g.key,E=g.value,C=Mg();E.forEach(S=>{if(!u.has(S)){const x=bg(n.get(S),s.get(S));x!==null&&C.set(S,x),u=u.add(S)}}),h.push(this.documentOverlayCache.saveOverlays(e,v,C))}return J.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(h){return Pe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):fw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(u=>{const h=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-u.size):J.resolve(_s());let d=-1,g=u;return h.next(v=>J.forEach(v,(E,C)=>(d<C.largestBatchId&&(d=C.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next(S=>{g=g.insert(E,S)}))).next(()=>this.populateOverlays(e,v,u)).next(()=>this.computeViews(e,g,v,et())).next(E=>({batchId:d,changes:yw(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Pe(n)).next(s=>{let a=ca();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const u=n.collectionGroup;let h=ca();return this.indexManager.getCollectionParents(e,u).next(d=>J.forEach(d,g=>{const v=function(C,S){return new Eu(S,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,s,a).next(E=>{E.forEach((C,S)=>{h=h.insert(C,S)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,s,a){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,a))).next(h=>{u.forEach((g,v)=>{const E=v.getKey();h.get(E)===null&&(h=h.insert(E,ln.newInvalidDocument(E)))});let d=ca();return h.forEach((g,v)=>{const E=u.get(g);E!==void 0&&ya(E.mutation,v,Fi.empty(),An.now()),Tu(n,v)&&(d=d.insert(g,v))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return J.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:mo(a.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(a){return{name:a.name,query:Jw(a.bundledQuery),readTime:mo(a.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(){this.overlays=new At(Pe.comparator),this.Er=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=_s();return J.forEach(n,a=>this.getOverlay(e,a).next(u=>{u!==null&&s.set(a,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,u)=>{this.Tt(e,n,u)}),J.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Er.get(s);return a!==void 0&&(a.forEach(u=>this.overlays=this.overlays.remove(u)),this.Er.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const a=_s(),u=n.length+1,h=new Pe(n.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const g=d.getNext().value,v=g.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===u&&g.largestBatchId>s&&a.set(g.getKey(),g)}return J.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let u=new At((v,E)=>v-E);const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>s){let E=u.get(v.largestBatchId);E===null&&(E=_s(),u=u.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const d=_s(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,E)=>d.set(v,E)),!(d.size()>=a)););return J.resolve(d)}Tt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const h=this.Er.get(a.largestBatchId).delete(s.key);this.Er.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new xw(n,s));let u=this.Er.get(n);u===void 0&&(u=et(),this.Er.set(n,u)),this.Er.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(){this.dr=new Mt(zt.Ar),this.Rr=new Mt(zt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const s=new zt(e,n);this.dr=this.dr.add(s),this.Rr=this.Rr.add(s)}mr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.gr(new zt(e,n))}pr(e,n){e.forEach(s=>this.removeReference(s,n))}yr(e){const n=new Pe(new yt([])),s=new zt(n,e),a=new zt(n,e+1),u=[];return this.Rr.forEachInRange([s,a],h=>{this.gr(h),u.push(h.key)}),u}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new Pe(new yt([])),s=new zt(n,e),a=new zt(n,e+1);let u=et();return this.Rr.forEachInRange([s,a],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new zt(e,0),s=this.dr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return Pe.comparator(e.key,n.key)||Qe(e.br,n.br)}static Vr(e,n){return Qe(e.br,n.br)||Pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new Mt(zt.Ar)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const u=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new kw(u,n,s,a);this.mutationQueue.push(h);for(const d of a)this.vr=this.vr.add(new zt(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return J.resolve(h)}lookupMutationBatch(e,n){return J.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Fr(s),u=a<0?0:a;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new zt(n,0),a=new zt(n,Number.POSITIVE_INFINITY),u=[];return this.vr.forEachInRange([s,a],h=>{const d=this.Cr(h.br);u.push(d)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Mt(Qe);return n.forEach(a=>{const u=new zt(a,0),h=new zt(a,Number.POSITIVE_INFINITY);this.vr.forEachInRange([u,h],d=>{s=s.add(d.br)})}),J.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let u=s;Pe.isDocumentKey(u)||(u=u.child(""));const h=new zt(new Pe(u),0);let d=new Mt(Qe);return this.vr.forEachWhile(g=>{const v=g.key.path;return!!s.isPrefixOf(v)&&(v.length===a&&(d=d.add(g.br)),!0)},h),J.resolve(this.Mr(d))}Mr(e){const n=[];return e.forEach(s=>{const a=this.Cr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Et(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return J.forEach(n.mutations,a=>{const u=new zt(a.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.vr=s})}Ln(e){}containsKey(e,n){const s=new zt(n,0),a=this.vr.firstAfterOrEqual(s);return J.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e){this.Nr=e,this.docs=function(){return new At(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),u=a?a.size:0,h=this.Nr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(e,n){let s=Ki();return n.forEach(a=>{const u=this.docs.get(a);s=s.insert(a,u?u.document.mutableCopy():ln.newInvalidDocument(a))}),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let u=Ki();const h=n.path,d=new Pe(h.child("")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:v,value:{document:E}}=g.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||HE($E(E),s)<=0||(a.has(E.key)||Tu(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,s,a){Oe()}Lr(e,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new d0(this)}getSize(e){return J.resolve(this.size)}}class d0 extends s0{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.hr.addEntry(e,a)):this.hr.removeEntry(s)}),J.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e){this.persistence=e,this.Br=new Rs(n=>Yh(n),Xh),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.kr=0,this.qr=new nf,this.targetCount=0,this.Qr=wo.qn()}forEachTarget(e,n){return this.Br.forEach((s,a)=>n(a)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.kr&&(this.kr=n),J.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new wo(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Un(n),J.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let a=0;const u=[];return this.Br.forEach((h,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.Br.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),J.waitFor(u).next(()=>a)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.Br.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this.qr.mr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this.qr.pr(n,s);const a=this.persistence.referenceDelegate,u=[];return a&&n.forEach(h=>{u.push(a.markPotentiallyOrphaned(e,h))}),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this.qr.Sr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n){this.Kr={},this.overlays={},this.$r=new yu(0),this.Ur=!1,this.Ur=!0,this.Wr=new c0,this.referenceDelegate=e(this),this.Gr=new p0(this),this.indexManager=new Zw,this.remoteDocumentCache=function(a){return new f0(a)}(s=>this.referenceDelegate.zr(s)),this.serializer=new Xw(n),this.jr=new l0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new u0,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Kr[e.toKey()];return s||(s=new h0(n,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,s){me("MemoryPersistence","Starting transaction:",e);const a=new m0(this.$r.next());return this.referenceDelegate.Hr(),s(a).next(u=>this.referenceDelegate.Jr(a).next(()=>u)).toPromise().then(u=>(a.raiseOnCommittedEvent(),u))}Yr(e,n){return J.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,n)))}}class m0 extends WE{constructor(e){super(),this.currentSequenceNumber=e}}class rf{constructor(e){this.persistence=e,this.Zr=new nf,this.Xr=null}static ei(e){return new rf(e)}get ti(){if(this.Xr)return this.Xr;throw Oe()}addReference(e,n,s){return this.Zr.addReference(s,n),this.ti.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.Zr.removeReference(s,n),this.ti.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),J.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(a=>this.ti.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(u=>this.ti.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ti,s=>{const a=Pe.fromPath(s);return this.ni(e,a).next(u=>{u||n.removeEntry(a,Ve.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(s=>{s?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return J.or([()=>J.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class cu{constructor(e,n){this.persistence=e,this.ri=new Rs(s=>QE(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=i0(this,n)}static ei(e,n){return new cu(e,n)}Hr(){}Jr(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}nr(e){let n=0;return this.er(e,s=>{n++}).next(()=>n)}er(e,n){return J.forEach(this.ri,(s,a)=>this.ir(e,s,a).next(u=>u?J.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),u=a.newChangeBuffer();return a.Lr(e,h=>this.ir(e,h,n).next(d=>{d||(s++,u.removeEntry(h,Ve.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),J.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Yl(e.data.value)),n}ir(e,n,s){return J.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.ri.get(n);return J.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Wi=s,this.Gi=a}static zi(e,n){let s=et(),a=et();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new sf(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return y_()?8:KE(m_())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,s,a){const u={result:null};return this.Xi(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.es(e,n,a,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new g0;return this.ts(e,n,h).next(d=>{if(u.result=d,this.Hi)return this.ns(e,n,h,d.size)})}).next(()=>u.result)}ns(e,n,s,a){return s.documentReadCount<this.Ji?(uo()<=Ke.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",co(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),J.resolve()):(uo()<=Ke.DEBUG&&me("QueryEngine","Query:",co(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.Yi*a?(uo()<=Ke.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",co(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xr(n))):J.resolve())}Xi(e,n){if(lm(n))return J.resolve(null);let s=xr(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Nh(n,null,"F"),s=xr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=et(...u);return this.Zi.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,s).next(g=>{const v=this.rs(n,d);return this.ss(n,v,h,g.readTime)?this.Xi(e,Nh(n,null,"F")):this.os(e,v,n,g)}))})))}es(e,n,s,a){return lm(n)||a.isEqual(Ve.min())?J.resolve(null):this.Zi.getDocuments(e,s).next(u=>{const h=this.rs(n,u);return this.ss(n,h,s,a)?J.resolve(null):(uo()<=Ke.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),co(n)),this.os(e,h,n,jE(a,-1)).next(d=>d))})}rs(e,n){let s=new Mt(Vg(e));return n.forEach((a,u)=>{Tu(e,u)&&(s=s.add(u))}),s}ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}ts(e,n,s){return uo()<=Ke.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",co(n)),this.Zi.getDocumentsMatchingQuery(e,n,$i.min(),s)}os(e,n,s,a){return this.Zi.getDocumentsMatchingQuery(e,s,a).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,n,s,a){this.persistence=e,this._s=n,this.serializer=a,this.us=new At(Qe),this.cs=new Rs(u=>Yh(u),Xh),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new a0(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function _0(i,e,n,s){return new v0(i,e,n,s)}async function Xg(i,e){const n=Ge(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(u=>(a=u,n.Ps(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],d=[];let g=et();for(const v of a){h.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}for(const v of u){d.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next(v=>({Ts:v,removedBatchIds:h,addedBatchIds:d}))})})}function Jg(i){const e=Ge(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function E0(i,e){const n=Ge(i),s=e.snapshotVersion;let a=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.hs.newChangeBuffer({trackRemovals:!0});a=n.us;const d=[];e.targetChanges.forEach((E,C)=>{const S=a.get(C);if(!S)return;d.push(n.Gr.removeMatchingKeys(u,E.removedDocuments,C).next(()=>n.Gr.addMatchingKeys(u,E.addedDocuments,C)));let x=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(C)!==null?x=x.withResumeToken(Xt.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):E.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(E.resumeToken,s)),a=a.insert(C,x),function(q,$,K){return q.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=3e8?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(S,x,E)&&d.push(n.Gr.updateTargetData(u,x))});let g=Ki(),v=et();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),d.push(w0(u,h,e.documentUpdates).next(E=>{g=E.Is,v=E.Es})),!s.isEqual(Ve.min())){const E=n.Gr.getLastRemoteSnapshotVersion(u).next(C=>n.Gr.setTargetsMetadata(u,u.currentSequenceNumber,s));d.push(E)}return J.waitFor(d).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,v)).next(()=>g)}).then(u=>(n.us=a,u))}function w0(i,e,n){let s=et(),a=et();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=Ki();return n.forEach((d,g)=>{const v=u.get(d);g.isFoundDocument()!==v.isFoundDocument()&&(a=a.add(d)),g.isNoDocument()&&g.version.isEqual(Ve.min())?(e.removeEntry(d,g.readTime),h=h.insert(d,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),h=h.insert(d,g)):me("LocalStore","Ignoring outdated watch update for ",d,". Current version:",v.version," Watch version:",g.version)}),{Is:h,Es:a}})}function T0(i,e){const n=Ge(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Gr.getTargetData(s,e).next(u=>u?(a=u,J.resolve(a)):n.Gr.allocateTargetId(s).next(h=>(a=new Ui(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Gr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.us.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.us=n.us.insert(s.targetId,s),n.cs.set(e,s.targetId)),s})}async function Fh(i,e,n){const s=Ge(i),a=s.us.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,a))}catch(h){if(!Io(h))throw h;me("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.us=s.us.remove(e),s.cs.delete(a.target)}function Em(i,e,n){const s=Ge(i);let a=Ve.min(),u=et();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,v,E){const C=Ge(g),S=C.cs.get(E);return S!==void 0?J.resolve(C.us.get(S)):C.Gr.getTargetData(v,E)}(s,h,xr(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(h,d.targetId).next(g=>{u=g})}).next(()=>s._s.getDocumentsMatchingQuery(h,e,n?a:Ve.min(),n?u:et())).next(d=>(S0(s,pw(e),d),{documents:d,ds:u})))}function S0(i,e,n){let s=i.ls.get(e)||Ve.min();n.forEach((a,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.ls.set(e,s)}class wm{constructor(){this.activeTargetIds=Ew()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class R0{constructor(){this._o=new wm,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,s){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new wm,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wl=null;function dh(){return Wl===null?Wl=function(){return 268435456+Math.round(2147483648*Math.random())}():Wl++,"0x"+Wl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class P0 extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+n.host,this.Mo=`projects/${a}/databases/${u}`,this.xo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${u}`}Oo(n,s,a,u,h){const d=dh(),g=this.No(n,s.toUriEncodedString());me("RestConnection",`Sending RPC '${n}' ${d}:`,g,a);const v={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(v,u,h),this.Bo(n,g,v,a).then(E=>(me("RestConnection",`Received RPC '${n}' ${d}: `,E),E),E=>{throw yo("RestConnection",`RPC '${n}' ${d} failed with error: `,E,"url: ",g,"request:",a),E})}ko(n,s,a,u,h,d){return this.Oo(n,s,a,u,h)}Lo(n,s,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ro}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((u,h)=>n[h]=u),a&&a.headers.forEach((u,h)=>n[h]=u)}No(n,s){const a=C0[n];return`${this.Fo}/v1/${s}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,s,a){const u=dh();return new Promise((h,d)=>{const g=new vg;g.setWithCredentials(!0),g.listenOnce(_g.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Gl.NO_ERROR:const E=g.getResponseJson();me(on,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case Gl.TIMEOUT:me(on,`RPC '${e}' ${u} timed out`),d(new Re(le.DEADLINE_EXCEEDED,"Request time out"));break;case Gl.HTTP_ERROR:const C=g.getStatus();if(me(on,`RPC '${e}' ${u} failed with status:`,C,"response text:",g.getResponseText()),C>0){let S=g.getResponseJson();Array.isArray(S)&&(S=S[0]);const x=S==null?void 0:S.error;if(x&&x.status&&x.message){const U=function($){const K=$.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(K)>=0?K:le.UNKNOWN}(x.status);d(new Re(U,x.message))}else d(new Re(le.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new Re(le.UNAVAILABLE,"Connection failed."));break;default:Oe()}}finally{me(on,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(a);me(on,`RPC '${e}' ${u} sending request:`,a),g.send(n,"POST",v,s,15)})}qo(e,n,s){const a=dh(),u=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Tg(),d=wg(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Lo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");me(on,`Creating RPC '${e}' stream ${a}: ${E}`,g);const C=h.createWebChannel(E,g);let S=!1,x=!1;const U=new A0({Eo:$=>{x?me(on,`Not sending because RPC '${e}' stream ${a} is closed:`,$):(S||(me(on,`Opening RPC '${e}' stream ${a} transport.`),C.open(),S=!0),me(on,`RPC '${e}' stream ${a} sending:`,$),C.send($))},Ao:()=>C.close()}),q=($,K,ie)=>{$.listen(K,ne=>{try{ie(ne)}catch(pe){setTimeout(()=>{throw pe},0)}})};return q(C,ua.EventType.OPEN,()=>{x||(me(on,`RPC '${e}' stream ${a} transport opened.`),U.So())}),q(C,ua.EventType.CLOSE,()=>{x||(x=!0,me(on,`RPC '${e}' stream ${a} transport closed`),U.Do())}),q(C,ua.EventType.ERROR,$=>{x||(x=!0,yo(on,`RPC '${e}' stream ${a} transport errored:`,$),U.Do(new Re(le.UNAVAILABLE,"The operation could not be completed")))}),q(C,ua.EventType.MESSAGE,$=>{var K;if(!x){const ie=$.data[0];Et(!!ie);const ne=ie,pe=(ne==null?void 0:ne.error)||((K=ne[0])===null||K===void 0?void 0:K.error);if(pe){me(on,`RPC '${e}' stream ${a} received error:`,pe);const b=pe.status;let ce=function(R){const k=xt[R];if(k!==void 0)return Bg(k)}(b),P=pe.message;ce===void 0&&(ce=le.INTERNAL,P="Unknown error status: "+b+" with message "+pe.message),x=!0,U.Do(new Re(ce,P)),C.close()}else me(on,`RPC '${e}' stream ${a} received:`,ie),U.vo(ie)}}),q(d,Eg.STAT_EVENT,$=>{$.stat===Ch.PROXY?me(on,`RPC '${e}' stream ${a} detected buffering proxy`):$.stat===Ch.NOPROXY&&me(on,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{U.bo()},0),U}}function ph(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(i){return new Uw(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n,s=1e3,a=1.5,u=6e4){this.li=e,this.timerId=n,this.Qo=s,this.Ko=a,this.$o=u,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),a=Math.max(0,n-s);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,a,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,n,s,a,u,h,d,g){this.li=e,this.Yo=s,this.Zo=a,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=g,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new ey(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(ri(n.toString()),ri("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Xo===n&&this.I_(s,a)},s=>{e(()=>{const a=new Re(le.UNKNOWN,"Fetching auth token failed: "+s.message);return this.E_(a)})})}I_(e,n){const s=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(a=>{s(()=>this.E_(a))}),this.stream.onMessage(a=>{s(()=>++this.n_==1?this.A_(a):this.onNext(a))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return me("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class x0 extends k0{constructor(e,n,s,a,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,h),this.serializer=u}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=$w(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ve.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ve.min():h.readTime?mo(h.readTime):Ve.min()}(e);return this.listener.R_(n,s)}V_(e){const n={};n.database=ym(this.serializer),n.addTarget=function(u,h){let d;const g=h.target;if(d=Dh(g)?{documents:Hw(u,g)}:{query:qw(u,g).ct},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=zw(u,h.resumeToken);const v=Mh(u,h.expectedCount);v!==null&&(d.expectedCount=v)}else if(h.snapshotVersion.compareTo(Ve.min())>0){d.readTime=bw(u,h.snapshotVersion.toTimestamp());const v=Mh(u,h.expectedCount);v!==null&&(d.expectedCount=v)}return d}(this.serializer,e);const s=Kw(this.serializer,e);s&&(n.labels=s),this.c_(n)}m_(e){const n={};n.database=ym(this.serializer),n.removeTarget=e,this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0 extends class{}{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.S_=!1}b_(){if(this.S_)throw new Re(le.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Oo(e,Oh(n,s),a,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Re(le.UNKNOWN,u.toString())})}ko(e,n,s,a,u){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.ko(e,Oh(n,s),a,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Re(le.UNKNOWN,h.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class N0{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(ri(n),this.C_=!1):me("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,n,s,a,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=u,this.Q_.uo(h=>{s.enqueueAndForget(async()=>{ka(this)&&(me("RemoteStore","Restarting streams for network reachability change."),await async function(g){const v=Ge(g);v.k_.add(4),await Pa(v),v.K_.set("Unknown"),v.k_.delete(4),await Cu(v)}(this))})}),this.K_=new N0(s,a)}}async function Cu(i){if(ka(i))for(const e of i.q_)await e(!0)}async function Pa(i){for(const e of i.q_)await e(!1)}function ty(i,e){const n=Ge(i);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),uf(n)?lf(n):Co(n).s_()&&af(n,e))}function of(i,e){const n=Ge(i),s=Co(n);n.B_.delete(e),s.s_()&&ny(n,e),n.B_.size===0&&(s.s_()?s.a_():ka(n)&&n.K_.set("Unknown"))}function af(i,e){if(i.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Co(i).V_(e)}function ny(i,e){i.U_.xe(e),Co(i).m_(e)}function lf(i){i.U_=new Lw({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>i.B_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Co(i).start(),i.K_.F_()}function uf(i){return ka(i)&&!Co(i).i_()&&i.B_.size>0}function ka(i){return Ge(i).k_.size===0}function ry(i){i.U_=void 0}async function L0(i){i.K_.set("Online")}async function M0(i){i.B_.forEach((e,n)=>{af(i,e)})}async function O0(i,e){ry(i),uf(i)?(i.K_.O_(e),lf(i)):i.K_.set("Unknown")}async function F0(i,e,n){if(i.K_.set("Online"),e instanceof $g&&e.state===2&&e.cause)try{await async function(a,u){const h=u.cause;for(const d of u.targetIds)a.B_.has(d)&&(await a.remoteSyncer.rejectListen(d,h),a.B_.delete(d),a.U_.removeTarget(d))}(i,e)}catch(s){me("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Sm(i,s)}else if(e instanceof Jl?i.U_.$e(e):e instanceof jg?i.U_.Je(e):i.U_.Ge(e),!n.isEqual(Ve.min()))try{const s=await Jg(i.localStore);n.compareTo(s)>=0&&await function(u,h){const d=u.U_.it(h);return d.targetChanges.forEach((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.B_.get(v);E&&u.B_.set(v,E.withResumeToken(g.resumeToken,h))}}),d.targetMismatches.forEach((g,v)=>{const E=u.B_.get(g);if(!E)return;u.B_.set(g,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),ny(u,g);const C=new Ui(E.target,g,v,E.sequenceNumber);af(u,C)}),u.remoteSyncer.applyRemoteEvent(d)}(i,n)}catch(s){me("RemoteStore","Failed to raise snapshot:",s),await Sm(i,s)}}async function Sm(i,e,n){if(!Io(e))throw e;i.k_.add(1),await Pa(i),i.K_.set("Offline"),n||(n=()=>Jg(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{me("RemoteStore","Retrying IndexedDB access"),await n(),i.k_.delete(1),await Cu(i)})}async function Rm(i,e){const n=Ge(i);n.asyncQueue.verifyOperationInProgress(),me("RemoteStore","RemoteStore received new credentials");const s=ka(n);n.k_.add(3),await Pa(n),s&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Cu(n)}async function U0(i,e){const n=Ge(i);e?(n.k_.delete(2),await Cu(n)):e||(n.k_.add(2),await Pa(n),n.K_.set("Unknown"))}function Co(i){return i.W_||(i.W_=function(n,s,a){const u=Ge(n);return u.b_(),new x0(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)}(i.datastore,i.asyncQueue,{Ro:L0.bind(null,i),mo:M0.bind(null,i),po:O0.bind(null,i),R_:F0.bind(null,i)}),i.q_.push(async e=>{e?(i.W_.__(),uf(i)?lf(i):i.K_.set("Unknown")):(await i.W_.stop(),ry(i))})),i.W_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n,s,a,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=u,this.deferred=new Bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,u){const h=Date.now()+s,d=new cf(e,n,h,a,u);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Re(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iy(i,e){if(ri("AsyncQueue",`${e}: ${i}`),Io(i))return new Re(le.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{static emptySet(e){return new go(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Pe.comparator(n.key,s.key):(n,s)=>Pe.comparator(n.key,s.key),this.keyedMap=ca(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,u=s.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new go;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(){this.z_=new At(Pe.comparator)}track(e){const n=e.doc.key,s=this.z_.get(n);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(n,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(n):e.type===1&&s.type===2?this.z_=this.z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):Oe():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class To{constructor(e,n,s,a,u,h,d,g,v){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,n,s,a,u){const h=[];return n.forEach(d=>{h.push({type:0,doc:d})}),new To(e,n,go.emptySet(n),h,s,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class z0{constructor(){this.queries=Cm(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,s){const a=Ge(n),u=a.queries;a.queries=Cm(),u.forEach((h,d)=>{for(const g of d.J_)g.onError(s)})})(this,new Re(le.ABORTED,"Firestore shutting down"))}}function Cm(){return new Rs(i=>Ng(i),wu)}async function sy(i,e){const n=Ge(i);let s=3;const a=e.query;let u=n.queries.get(a);u?!u.Y_()&&e.Z_()&&(s=2):(u=new b0,s=e.Z_()?0:1);try{switch(s){case 0:u.H_=await n.onListen(a,!0);break;case 1:u.H_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(h){const d=iy(h,`Initialization of query '${co(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,u),u.J_.push(e),e.ea(n.onlineState),u.H_&&e.ta(u.H_)&&hf(n)}async function oy(i,e){const n=Ge(i),s=e.query;let a=3;const u=n.queries.get(s);if(u){const h=u.J_.indexOf(e);h>=0&&(u.J_.splice(h,1),u.J_.length===0?a=e.Z_()?0:1:!u.Y_()&&e.Z_()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function B0(i,e){const n=Ge(i);let s=!1;for(const a of e){const u=a.query,h=n.queries.get(u);if(h){for(const d of h.J_)d.ta(a)&&(s=!0);h.H_=a}}s&&hf(n)}function j0(i,e,n){const s=Ge(i),a=s.queries.get(e);if(a)for(const u of a.J_)u.onError(n);s.queries.delete(e)}function hf(i){i.X_.forEach(e=>{e.next()})}var Uh,Am;(Am=Uh||(Uh={})).na="default",Am.Cache="cache";class ay{constructor(e,n,s){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new To(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const s=n!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=To.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Uh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e){this.key=e}}class uy{constructor(e){this.key=e}}class $0{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=et(),this.mutatedKeys=et(),this.Va=Vg(e),this.ma=new go(this.Va)}get fa(){return this.da}ga(e,n){const s=n?n.pa:new Im,a=n?n.ma:this.ma;let u=n?n.mutatedKeys:this.mutatedKeys,h=a,d=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,v=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((E,C)=>{const S=a.get(E),x=Tu(this.query,C)?C:null,U=!!S&&this.mutatedKeys.has(S.key),q=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let $=!1;S&&x?S.data.isEqual(x.data)?U!==q&&(s.track({type:3,doc:x}),$=!0):this.ya(S,x)||(s.track({type:2,doc:x}),$=!0,(g&&this.Va(x,g)>0||v&&this.Va(x,v)<0)&&(d=!0)):!S&&x?(s.track({type:0,doc:x}),$=!0):S&&!x&&(s.track({type:1,doc:S}),$=!0,(g||v)&&(d=!0)),$&&(x?(h=h.add(x),u=q?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{ma:h,pa:s,ss:d,mutatedKeys:u}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const u=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const h=e.pa.j_();h.sort((E,C)=>function(x,U){const q=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe()}};return q(x)-q(U)}(E.type,C.type)||this.Va(E.doc,C.doc)),this.wa(s),a=a!=null&&a;const d=n&&!a?this.Sa():[],g=this.Ra.size===0&&this.current&&!a?1:0,v=g!==this.Aa;return this.Aa=g,h.length!==0||v?{snapshot:new To(this.query,e.ma,u,h,e.mutatedKeys,g===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Im,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=et(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const n=[];return e.forEach(s=>{this.Ra.has(s)||n.push(new uy(s))}),this.Ra.forEach(s=>{e.has(s)||n.push(new ly(s))}),n}va(e){this.da=e.ds,this.Ra=et();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return To.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class H0{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class q0{constructor(e){this.key=e,this.Fa=!1}}class W0{constructor(e,n,s,a,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Ma={},this.xa=new Rs(d=>Ng(d),wu),this.Oa=new Map,this.Na=new Set,this.La=new At(Pe.comparator),this.Ba=new Map,this.ka=new nf,this.qa={},this.Qa=new Map,this.Ka=wo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function K0(i,e,n=!0){const s=py(i);let a;const u=s.xa.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),a=u.view.Ca()):a=await cy(s,e,n,!0),a}async function Q0(i,e){const n=py(i);await cy(n,e,!0,!1)}async function cy(i,e,n,s){const a=await T0(i.localStore,xr(e)),u=a.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let d;return s&&(d=await G0(i,e,u,h==="current",a.resumeToken)),i.isPrimaryClient&&n&&ty(i.remoteStore,a),d}async function G0(i,e,n,s,a){i.Ua=(C,S,x)=>async function(q,$,K,ie){let ne=$.view.ga(K);ne.ss&&(ne=await Em(q.localStore,$.query,!1).then(({documents:P})=>$.view.ga(P,ne)));const pe=ie&&ie.targetChanges.get($.targetId),b=ie&&ie.targetMismatches.get($.targetId)!=null,ce=$.view.applyChanges(ne,q.isPrimaryClient,pe,b);return km(q,$.targetId,ce.ba),ce.snapshot}(i,C,S,x);const u=await Em(i.localStore,e,!0),h=new $0(e,u.ds),d=h.ga(u.documents),g=Aa.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),v=h.applyChanges(d,i.isPrimaryClient,g);km(i,n,v.ba);const E=new H0(e,n,h);return i.xa.set(e,E),i.Oa.has(n)?i.Oa.get(n).push(e):i.Oa.set(n,[e]),v.snapshot}async function Y0(i,e,n){const s=Ge(i),a=s.xa.get(e),u=s.Oa.get(a.targetId);if(u.length>1)return s.Oa.set(a.targetId,u.filter(h=>!wu(h,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Fh(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&of(s.remoteStore,a.targetId),bh(s,a.targetId)}).catch(gu)):(bh(s,a.targetId),await Fh(s.localStore,a.targetId,!0))}async function X0(i,e){const n=Ge(i),s=n.xa.get(e),a=n.Oa.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),of(n.remoteStore,s.targetId))}async function hy(i,e){const n=Ge(i);try{const s=await E0(n.localStore,e);e.targetChanges.forEach((a,u)=>{const h=n.Ba.get(u);h&&(Et(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.Fa=!0:a.modifiedDocuments.size>0?Et(h.Fa):a.removedDocuments.size>0&&(Et(h.Fa),h.Fa=!1))}),await dy(n,s,e)}catch(s){await gu(s)}}function Pm(i,e,n){const s=Ge(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.xa.forEach((u,h)=>{const d=h.view.ea(e);d.snapshot&&a.push(d.snapshot)}),function(h,d){const g=Ge(h);g.onlineState=d;let v=!1;g.queries.forEach((E,C)=>{for(const S of C.J_)S.ea(d)&&(v=!0)}),v&&hf(g)}(s.eventManager,e),a.length&&s.Ma.R_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function J0(i,e,n){const s=Ge(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Ba.get(e),u=a&&a.key;if(u){let h=new At(Pe.comparator);h=h.insert(u,ln.newNoDocument(u,Ve.min()));const d=et().add(u),g=new Iu(Ve.min(),new Map,new At(Qe),h,d);await hy(s,g),s.La=s.La.remove(u),s.Ba.delete(e),ff(s)}else await Fh(s.localStore,e,!1).then(()=>bh(s,e,n)).catch(gu)}function bh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Oa.get(e))i.xa.delete(s),n&&i.Ma.Wa(s,n);i.Oa.delete(e),i.isPrimaryClient&&i.ka.yr(e).forEach(s=>{i.ka.containsKey(s)||fy(i,s)})}function fy(i,e){i.Na.delete(e.path.canonicalString());const n=i.La.get(e);n!==null&&(of(i.remoteStore,n),i.La=i.La.remove(e),i.Ba.delete(n),ff(i))}function km(i,e,n){for(const s of n)s instanceof ly?(i.ka.addReference(s.key,e),Z0(i,s)):s instanceof uy?(me("SyncEngine","Document no longer in limbo: "+s.key),i.ka.removeReference(s.key,e),i.ka.containsKey(s.key)||fy(i,s.key)):Oe()}function Z0(i,e){const n=e.key,s=n.path.canonicalString();i.La.get(n)||i.Na.has(s)||(me("SyncEngine","New document in limbo: "+n),i.Na.add(s),ff(i))}function ff(i){for(;i.Na.size>0&&i.La.size<i.maxConcurrentLimboResolutions;){const e=i.Na.values().next().value;i.Na.delete(e);const n=new Pe(yt.fromString(e)),s=i.Ka.next();i.Ba.set(s,new q0(n)),i.La=i.La.insert(n,s),ty(i.remoteStore,new Ui(xr(Jh(n.path)),s,"TargetPurposeLimboResolution",yu.oe))}}async function dy(i,e,n){const s=Ge(i),a=[],u=[],h=[];s.xa.isEmpty()||(s.xa.forEach((d,g)=>{h.push(s.Ua(g,e,n).then(v=>{var E;if((v||n)&&s.isPrimaryClient){const C=v?!v.fromCache:(E=n==null?void 0:n.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,C?"current":"not-current")}if(v){a.push(v);const C=sf.zi(g.targetId,v);u.push(C)}}))}),await Promise.all(h),s.Ma.R_(a),await async function(g,v){const E=Ge(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>J.forEach(v,S=>J.forEach(S.Wi,x=>E.persistence.referenceDelegate.addReference(C,S.targetId,x)).next(()=>J.forEach(S.Gi,x=>E.persistence.referenceDelegate.removeReference(C,S.targetId,x)))))}catch(C){if(!Io(C))throw C;me("LocalStore","Failed to update sequence numbers: "+C)}for(const C of v){const S=C.targetId;if(!C.fromCache){const x=E.us.get(S),U=x.snapshotVersion,q=x.withLastLimboFreeSnapshotVersion(U);E.us=E.us.insert(S,q)}}}(s.localStore,u))}async function eT(i,e){const n=Ge(i);if(!n.currentUser.isEqual(e)){me("SyncEngine","User change. New user:",e.toKey());const s=await Xg(n.localStore,e);n.currentUser=e,function(u,h){u.Qa.forEach(d=>{d.forEach(g=>{g.reject(new Re(le.CANCELLED,h))})}),u.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await dy(n,s.Ts)}}function tT(i,e){const n=Ge(i),s=n.Ba.get(e);if(s&&s.Fa)return et().add(s.key);{let a=et();const u=n.Oa.get(e);if(!u)return a;for(const h of u){const d=n.xa.get(h);a=a.unionWith(d.view.fa)}return a}}function py(i){const e=Ge(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=hy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=J0.bind(null,e),e.Ma.R_=B0.bind(null,e.eventManager),e.Ma.Wa=j0.bind(null,e.eventManager),e}class hu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zg(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return _0(this.persistence,new y0,e.initialUser,this.serializer)}ja(e){return new Yg(rf.ei,this.serializer)}za(e){return new R0}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hu.provider={build:()=>new hu};class nT extends hu{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Et(this.persistence.referenceDelegate instanceof cu);const s=this.persistence.referenceDelegate.garbageCollector;return new n0(s,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new Yg(s=>cu.ei(s,n),this.serializer)}}class zh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Pm(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=eT.bind(null,this.syncEngine),await U0(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new z0}()}createDatastore(e){const n=Zg(e.databaseInfo.databaseId),s=function(u){return new P0(u)}(e.databaseInfo);return function(u,h,d,g){return new D0(u,h,d,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,u,h,d){return new V0(s,a,u,h,d)}(this.localStore,this.datastore,e.asyncQueue,n=>Pm(this.syncEngine,n,0),function(){return Tm.p()?new Tm:new I0}())}createSyncEngine(e,n){return function(a,u,h,d,g,v,E){const C=new W0(a,u,h,d,g,v);return E&&(C.$a=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const u=Ge(a);me("RemoteStore","RemoteStore shutting down."),u.k_.add(5),await Pa(u),u.Q_.shutdown(),u.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}zh.provider={build:()=>new zh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):ri("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,n,s,a,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=an.UNAUTHENTICATED,this.clientId=Rg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{me("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(me("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=iy(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function mh(i,e){i.asyncQueue.verifyOperationInProgress(),me("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await Xg(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function xm(i,e){i.asyncQueue.verifyOperationInProgress();const n=await iT(i);me("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>Rm(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>Rm(e.remoteStore,a)),i._onlineComponents=e}async function iT(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){me("FirestoreClient","Using user provided OfflineComponentProvider");try{await mh(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===le.FAILED_PRECONDITION||a.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;yo("Error using user provided cache. Falling back to memory cache: "+n),await mh(i,new hu)}}else me("FirestoreClient","Using default OfflineComponentProvider"),await mh(i,new nT(void 0));return i._offlineComponents}async function sT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(me("FirestoreClient","Using user provided OnlineComponentProvider"),await xm(i,i._uninitializedComponentsProvider._online)):(me("FirestoreClient","Using default OnlineComponentProvider"),await xm(i,new zh))),i._onlineComponents}async function gy(i){const e=await sT(i),n=e.eventManager;return n.onListen=K0.bind(null,e.syncEngine),n.onUnlisten=Y0.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Q0.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=X0.bind(null,e.syncEngine),n}function oT(i,e,n={}){const s=new Bi;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,d,g,v){const E=new my({next:S=>{E.eu(),h.enqueueAndForget(()=>oy(u,C));const x=S.docs.has(d);!x&&S.fromCache?v.reject(new Re(le.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&S.fromCache&&g&&g.source==="server"?v.reject(new Re(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(S)},error:S=>v.reject(S)}),C=new ay(Jh(d.path),E,{includeMetadataChanges:!0,ua:!0});return sy(u,C)}(await gy(i),i.asyncQueue,e,n,s)),s.promise}function aT(i,e,n={}){const s=new Bi;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,d,g,v){const E=new my({next:S=>{E.eu(),h.enqueueAndForget(()=>oy(u,C)),S.fromCache&&g.source==="server"?v.reject(new Re(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(S)},error:S=>v.reject(S)}),C=new ay(d,E,{includeMetadataChanges:!0,ua:!0});return sy(u,C)}(await gy(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(i,e,n){if(!n)throw new Re(le.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function lT(i,e,n,s){if(e===!0&&s===!0)throw new Re(le.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Nm(i){if(!Pe.isDocumentKey(i))throw new Re(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Vm(i){if(Pe.isDocumentKey(i))throw new Re(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function uT(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Oe()}function Ra(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Re(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uT(i);throw new Re(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Re(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Re(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yy((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Re(le.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Re(le.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Re(le.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Au{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Re(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Re(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lm(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new VE;switch(s.type){case"firstParty":return new FE(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Re(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Dm.get(n);s&&(me("ComponentProvider","Removing Datastore"),Dm.delete(n),s.terminate())}(this),Promise.resolve()}}function cT(i,e,n,s={}){var a;const u=(i=Ra(i,Au))._getSettings(),h=`${e}:${n}`;if(u.host!=="firestore.googleapis.com"&&u.host!==h&&yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),s.mockUserToken){let d,g;if(typeof s.mockUserToken=="string")d=s.mockUserToken,g=an.MOCK_USER;else{d=p_(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new Re(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new an(v)}i._authCredentials=new LE(new Sg(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Pu(this.firestore,e,this._query)}}class Dr{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dr(this.firestore,e,this._key)}}class ji extends Pu{constructor(e,n,s){super(e,n,Jh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dr(this.firestore,null,new Pe(e))}withConverter(e){return new ji(this.firestore,e,this._path)}}function hT(i,e,...n){if(i=cg(i),vy("collection","path",e),i instanceof Au){const s=yt.fromString(e,...n);return Vm(s),new ji(i,null,s)}{if(!(i instanceof Dr||i instanceof ji))throw new Re(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(yt.fromString(e,...n));return Vm(s),new ji(i.firestore,null,s)}}function fT(i,e,...n){if(i=cg(i),arguments.length===1&&(e=Rg.newId()),vy("doc","path",e),i instanceof Au){const s=yt.fromString(e,...n);return Nm(s),new Dr(i,null,new Pe(s))}{if(!(i instanceof Dr||i instanceof ji))throw new Re(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(yt.fromString(e,...n));return Nm(s),new Dr(i.firestore,i instanceof ji?i.converter:null,new Pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new ey(this,"async_queue_retry"),this.fu=()=>{const s=ph();s&&me("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const n=ph();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=ph();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new Bi;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Io(e))throw e;me("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const a=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(s);throw ri("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.Ru=!1,s))));return this.gu=n,n}enqueueAfterDelay(e,n,s){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const a=cf.createAndSchedule(this,e,n,s,u=>this.Su(u));return this.du.push(a),a}pu(){this.Au&&Oe()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class df extends Au{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new Mm,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Mm(e),this._firestoreClient=void 0,await e}}}function dT(i,e){const n=typeof i=="object"?i:SE(),s=typeof i=="string"?i:"(default)",a=_E(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const u=f_("firestore");u&&cT(a,...u)}return a}function _y(i){if(i._terminated)throw new Re(le.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||pT(i),i._firestoreClient}function pT(i){var e,n,s;const a=i._freezeSettings(),u=function(d,g,v,E){return new JE(d,g,v,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,yy(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new rT(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(d){const g=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fu(Xt.fromBase64String(e))}catch(n){throw new Re(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fu(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Re(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Re(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Re(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==a[u])return!1;return!0}(this._values,e._values)}}const yT=new RegExp("[~\\*/\\[\\]]");function vT(i,e,n){if(e.search(yT)>=0)throw Om(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i);try{return new Ey(...e.split("."))._internalPath}catch{throw Om(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i)}}function Om(i,e,n,s,a){let u=`Function ${e}() called with invalid data`;u+=". ";let h="";return new Re(le.INVALID_ARGUMENT,u+i+h)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,n,s,a,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Dr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _T(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ty("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _T extends wy{data(){return super.data()}}function Ty(i,e){return typeof e=="string"?vT(i,e):e instanceof Ey?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Re(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wT{convertValue(e,n="none"){switch(Wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ca(e,(a,u)=>{s[a]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,a;const u=(a=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(h=>Ct(h.doubleValue));return new gT(u)}convertGeoPoint(e){return new mT(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=_u(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(wa(e));default:return null}}convertTimestamp(e){const n=Hi(e);return new An(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=yt.fromString(e);Et(Gg(s));const a=new Ta(s.get(1),s.get(3)),u=new Pe(s.popFirst(5));return a.isEqual(n)||ri(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sy extends wy{constructor(e,n,s,a,u,h){super(e,n,s,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ty("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Zl extends Sy{data(e={}){return super.data(e)}}class TT{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new fa(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Zl(this._firestore,this._userDataWriter,s.key,s,new fa(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Re(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,u){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map(d=>{const g=new Zl(a._firestore,a._userDataWriter,d.doc.key,d.doc,new fa(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const g=new Zl(a._firestore,a._userDataWriter,d.doc.key,d.doc,new fa(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let v=-1,E=-1;return d.type!==0&&(v=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),E=h.indexOf(d.doc.key)),{type:ST(d.type),doc:g,oldIndex:v,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function ST(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(i){i=Ra(i,Dr);const e=Ra(i.firestore,df);return oT(_y(e),i._key).then(n=>CT(e,i,n))}class Ry extends wT{constructor(e){super(),this.firestore=e}convertBytes(e){return new fu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dr(this.firestore,null,n)}}function IT(i){i=Ra(i,Pu);const e=Ra(i.firestore,df),n=_y(e),s=new Ry(e);return ET(i._query),aT(n,i._query).then(a=>new TT(e,s,i,a))}function CT(i,e,n){const s=n.docs.get(e._key),a=new Ry(i);return new Sy(i,a,e._key,s,new fa(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Ro=a})(TE),su(new va("firestore",(s,{instanceIdentifier:a,options:u})=>{const h=s.getProvider("app").getImmediate(),d=new df(new ME(s.getProvider("auth-internal")),new bE(s.getProvider("app-check-internal")),function(v,E){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new Re(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ta(v.options.projectId,E)}(h,a),h);return u=Object.assign({useFetchStreams:n},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),po(Xp,"4.7.5",e),po(Xp,"4.7.5","esm2017")})();var AT="firebase",PT="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */po(AT,PT,"app");const kT={apiKey:"AIzaSyCuCV84v-eIJT0LTMPC_-EvMAnmue3uxbI",authDomain:"fir-summer-2024-ce6f0.firebaseapp.com",projectId:"fir-summer-2024-ce6f0",storageBucket:"fir-summer-2024-ce6f0.firebasestorage.app",messagingSenderId:"380846268982",appId:"1:380846268982:web:67f2671be55eeefd306e97"},xT=pg(kT),Iy=dT(xT),Cy="contacts";var sa={},Fm;function DT(){if(Fm)return sa;Fm=1,Object.defineProperty(sa,"__esModule",{value:!0}),sa.parse=h,sa.serialize=v;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function h(S,x){const U=new u,q=S.length;if(q<2)return U;const $=(x==null?void 0:x.decode)||E;let K=0;do{const ie=S.indexOf("=",K);if(ie===-1)break;const ne=S.indexOf(";",K),pe=ne===-1?q:ne;if(ie>pe){K=S.lastIndexOf(";",ie-1)+1;continue}const b=d(S,K,ie),ce=g(S,ie,b),P=S.slice(b,ce);if(U[P]===void 0){let T=d(S,ie+1,pe),R=g(S,pe,T);const k=$(S.slice(T,R));U[P]=k}K=pe+1}while(K<q);return U}function d(S,x,U){do{const q=S.charCodeAt(x);if(q!==32&&q!==9)return x}while(++x<U);return U}function g(S,x,U){for(;x>U;){const q=S.charCodeAt(--x);if(q!==32&&q!==9)return x+1}return U}function v(S,x,U){const q=(U==null?void 0:U.encode)||encodeURIComponent;if(!i.test(S))throw new TypeError(`argument name is invalid: ${S}`);const $=q(x);if(!e.test($))throw new TypeError(`argument val is invalid: ${x}`);let K=S+"="+$;if(!U)return K;if(U.maxAge!==void 0){if(!Number.isInteger(U.maxAge))throw new TypeError(`option maxAge is invalid: ${U.maxAge}`);K+="; Max-Age="+U.maxAge}if(U.domain){if(!n.test(U.domain))throw new TypeError(`option domain is invalid: ${U.domain}`);K+="; Domain="+U.domain}if(U.path){if(!s.test(U.path))throw new TypeError(`option path is invalid: ${U.path}`);K+="; Path="+U.path}if(U.expires){if(!C(U.expires)||!Number.isFinite(U.expires.valueOf()))throw new TypeError(`option expires is invalid: ${U.expires}`);K+="; Expires="+U.expires.toUTCString()}if(U.httpOnly&&(K+="; HttpOnly"),U.secure&&(K+="; Secure"),U.partitioned&&(K+="; Partitioned"),U.priority)switch(typeof U.priority=="string"?U.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${U.priority}`)}if(U.sameSite)switch(typeof U.sameSite=="string"?U.sameSite.toLowerCase():U.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${U.sameSite}`)}return K}function E(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function C(S){return a.call(S)==="[object Date]"}return sa}DT();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Um="popstate";function NT(i={}){function e(a,u){let{pathname:h="/",search:d="",hash:g=""}=ii(a.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Ia("",{pathname:h,search:d,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(a,u){let h=a.document.querySelector("base"),d="";if(h&&h.getAttribute("href")){let g=a.location.href,v=g.indexOf("#");d=v===-1?g:g.slice(0,v)}return d+"#"+(typeof u=="string"?u:Qi(u))}function s(a,u){Bt(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return LT(e,n,s,i)}function Be(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Bt(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VT(){return Math.random().toString(36).substring(2,10)}function bm(i,e){return{usr:i.state,key:i.key,idx:e}}function Ia(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ii(e):e,state:n,key:e&&e.key||s||VT()}}function Qi({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function ii(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function LT(i,e,n,s={}){let{window:a=document.defaultView,v5Compat:u=!1}=s,h=a.history,d="POP",g=null,v=E();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function E(){return(h.state||{idx:null}).idx}function C(){d="POP";let $=E(),K=$==null?null:$-v;v=$,g&&g({action:d,location:q.location,delta:K})}function S($,K){d="PUSH";let ie=Ia(q.location,$,K);n(ie,$),v=E()+1;let ne=bm(ie,v),pe=q.createHref(ie);try{h.pushState(ne,"",pe)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;a.location.assign(pe)}u&&g&&g({action:d,location:q.location,delta:1})}function x($,K){d="REPLACE";let ie=Ia(q.location,$,K);n(ie,$),v=E();let ne=bm(ie,v),pe=q.createHref(ie);h.replaceState(ne,"",pe),u&&g&&g({action:d,location:q.location,delta:0})}function U($){let K=a.location.origin!=="null"?a.location.origin:a.location.href,ie=typeof $=="string"?$:Qi($);return ie=ie.replace(/ $/,"%20"),Be(K,`No window.location.(origin|href) available to create URL for href: ${ie}`),new URL(ie,K)}let q={get action(){return d},get location(){return i(a,h)},listen($){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(Um,C),g=$,()=>{a.removeEventListener(Um,C),g=null}},createHref($){return e(a,$)},createURL:U,encodeLocation($){let K=U($);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:S,replace:x,go($){return h.go($)}};return q}var MT=new Set(["lazy","caseSensitive","path","id","index","children"]);function OT(i){return i.index===!0}function du(i,e,n=[],s={}){return i.map((a,u)=>{let h=[...n,String(u)],d=typeof a.id=="string"?a.id:h.join("-");if(Be(a.index!==!0||!a.children,"Cannot specify children on an index route"),Be(!s[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),OT(a)){let g={...a,...e(a),id:d};return s[d]=g,g}else{let g={...a,...e(a),id:d,children:void 0};return s[d]=g,a.children&&(g.children=du(a.children,e,h,s)),g}})}function Oi(i,e,n="/"){return eu(i,e,n,!1)}function eu(i,e,n,s){let a=typeof e=="string"?ii(e):e,u=pr(a.pathname||"/",n);if(u==null)return null;let h=Ay(i);UT(h);let d=null;for(let g=0;d==null&&g<h.length;++g){let v=GT(u);d=KT(h[g],v,s)}return d}function FT(i,e){let{route:n,pathname:s,params:a}=i;return{id:n.id,pathname:s,params:a,data:e[n.id],handle:n.handle}}function Ay(i,e=[],n=[],s=""){let a=(u,h,d)=>{let g={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(Be(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let v=Nr([s,g.relativePath]),E=n.concat(g);u.children&&u.children.length>0&&(Be(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Ay(u.children,e,E,v)),!(u.path==null&&!u.index)&&e.push({path:v,score:qT(v,u.index),routesMeta:E})};return i.forEach((u,h)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))a(u,h);else for(let g of Py(u.path))a(u,h,g)}),e}function Py(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return a?[u,""]:[u];let h=Py(s.join("/")),d=[];return d.push(...h.map(g=>g===""?u:[u,g].join("/"))),a&&d.push(...h),d.map(g=>i.startsWith("/")&&g===""?"/":g)}function UT(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:WT(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var bT=/^:[\w-]+$/,zT=3,BT=2,jT=1,$T=10,HT=-2,zm=i=>i==="*";function qT(i,e){let n=i.split("/"),s=n.length;return n.some(zm)&&(s+=HT),e&&(s+=BT),n.filter(a=>!zm(a)).reduce((a,u)=>a+(bT.test(u)?zT:u===""?jT:$T),s)}function WT(i,e){return i.length===e.length&&i.slice(0,-1).every((s,a)=>s===e[a])?i[i.length-1]-e[e.length-1]:0}function KT(i,e,n=!1){let{routesMeta:s}=i,a={},u="/",h=[];for(let d=0;d<s.length;++d){let g=s[d],v=d===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",C=pu({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},E),S=g.route;if(!C&&v&&n&&!s[s.length-1].route.index&&(C=pu({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!C)return null;Object.assign(a,C.params),h.push({params:a,pathname:Nr([u,C.pathname]),pathnameBase:JT(Nr([u,C.pathnameBase])),route:S}),C.pathnameBase!=="/"&&(u=Nr([u,C.pathnameBase]))}return h}function pu(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=QT(i.path,i.caseSensitive,i.end),a=e.match(n);if(!a)return null;let u=a[0],h=u.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((v,{paramName:E,isOptional:C},S)=>{if(E==="*"){let U=d[S]||"";h=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const x=d[S];return C&&!x?v[E]=void 0:v[E]=(x||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:h,pattern:i}}function QT(i,e=!1,n=!0){Bt(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,g)=>(s.push({paramName:d,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function GT(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bt(!1,`The URL path "${i}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function pr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function YT(i,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof i=="string"?ii(i):i;return{pathname:n?n.startsWith("/")?n:XT(n,e):e,search:ZT(s),hash:eS(a)}}function XT(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function gh(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ky(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function pf(i){let e=ky(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function mf(i,e,n,s=!1){let a;typeof i=="string"?a=ii(i):(a={...i},Be(!a.pathname||!a.pathname.includes("?"),gh("?","pathname","search",a)),Be(!a.pathname||!a.pathname.includes("#"),gh("#","pathname","hash",a)),Be(!a.search||!a.search.includes("#"),gh("#","search","hash",a)));let u=i===""||a.pathname==="",h=u?"/":a.pathname,d;if(h==null)d=n;else{let C=e.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),C-=1;a.pathname=S.join("/")}d=C>=0?e[C]:"/"}let g=YT(a,d),v=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(v||E)&&(g.pathname+="/"),g}var Nr=i=>i.join("/").replace(/\/\/+/g,"/"),JT=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),ZT=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,eS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,mu=class{constructor(i,e,n,s=!1){this.status=i,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function ku(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var xy=["POST","PUT","PATCH","DELETE"],tS=new Set(xy),nS=["GET",...xy],rS=new Set(nS),iS=new Set([301,302,303,307,308]),sS=new Set([307,308]),yh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},oS={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},oa={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},gf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aS=i=>({hasErrorBoundary:!!i.hasErrorBoundary}),Dy="remix-router-transitions",Ny=Symbol("ResetLoaderData");function lS(i){const e=i.window?i.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Be(i.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=i.mapRouteProperties||aS,a={},u=du(i.routes,s,void 0,a),h,d=i.basename||"/",g=i.dataStrategy||dS,v=i.patchRoutesOnNavigation,E={...i.future},C=null,S=new Set,x=null,U=null,q=null,$=i.hydrationData!=null,K=Oi(u,i.history.location,d),ie=null;if(K==null&&!v){let N=Wn(404,{pathname:i.history.location.pathname}),{matches:O,route:W}=Xm(u);K=O,ie={[W.id]:N}}K&&!i.hydrationData&&Yn(K,u,i.history.location.pathname).active&&(K=null);let ne;if(K)if(K.some(N=>N.route.lazy))ne=!1;else if(!K.some(N=>N.route.loader))ne=!0;else{let N=i.hydrationData?i.hydrationData.loaderData:null,O=i.hydrationData?i.hydrationData.errors:null;if(O){let W=K.findIndex(X=>O[X.route.id]!==void 0);ne=K.slice(0,W+1).every(X=>!jh(X.route,N,O))}else ne=K.every(W=>!jh(W.route,N,O))}else{ne=!1,K=[];let N=Yn(null,u,i.history.location.pathname);N.active&&N.matches&&(K=N.matches)}let pe,b={historyAction:i.history.action,location:i.history.location,matches:K,initialized:ne,navigation:yh,restoreScrollPosition:i.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:i.hydrationData&&i.hydrationData.loaderData||{},actionData:i.hydrationData&&i.hydrationData.actionData||null,errors:i.hydrationData&&i.hydrationData.errors||ie,fetchers:new Map,blockers:new Map},ce="POP",P=!1,T,R=!1,k=new Map,V=null,F=!1,A=!1,lt=new Set,je=new Map,Rt=0,$e=-1,se=new Map,we=new Set,ue=new Map,M=new Map,Y=new Set,_e=new Map,Ne,De=null;function Ue(){if(C=i.history.listen(({action:N,location:O,delta:W})=>{if(Ne){Ne(),Ne=void 0;return}Bt(_e.size===0||W!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let X=hi({currentLocation:b.location,nextLocation:O,historyAction:N});if(X&&W!=null){let he=new Promise(ge=>{Ne=ge});i.history.go(W*-1),vr(X,{state:"blocked",location:O,proceed(){vr(X,{state:"proceeding",proceed:void 0,reset:void 0,location:O}),he.then(()=>i.history.go(W))},reset(){let ge=new Map(b.blockers);ge.set(X,oa),Le({blockers:ge})}});return}return Jt(N,O)}),n){RS(e,k);let N=()=>IS(e,k);e.addEventListener("pagehide",N),V=()=>e.removeEventListener("pagehide",N)}return b.initialized||Jt("POP",b.location,{initialHydration:!0}),pe}function Ye(){C&&C(),V&&V(),S.clear(),T&&T.abort(),b.fetchers.forEach((N,O)=>Pn(O)),b.blockers.forEach((N,O)=>ci(O))}function Xe(N){return S.add(N),()=>S.delete(N)}function Le(N,O={}){b={...b,...N};let W=[],X=[];b.fetchers.forEach((he,ge)=>{he.state==="idle"&&(Y.has(ge)?W.push(ge):X.push(ge))}),[...S].forEach(he=>he(b,{deletedFetchers:W,viewTransitionOpts:O.viewTransitionOpts,flushSync:O.flushSync===!0})),W.forEach(he=>Pn(he)),X.forEach(he=>b.fetchers.delete(he))}function ct(N,O,{flushSync:W}={}){var oe,ke;let X=b.actionData!=null&&b.navigation.formMethod!=null&&fr(b.navigation.formMethod)&&b.navigation.state==="loading"&&((oe=N.state)==null?void 0:oe._isRedirect)!==!0,he;O.actionData?Object.keys(O.actionData).length>0?he=O.actionData:he=null:X?he=b.actionData:he=null;let ge=O.loaderData?Gm(b.loaderData,O.loaderData,O.matches||[],O.errors):b.loaderData,Ie=b.blockers;Ie.size>0&&(Ie=new Map(Ie),Ie.forEach((Me,nt)=>Ie.set(nt,oa)));let fe=P===!0||b.navigation.formMethod!=null&&fr(b.navigation.formMethod)&&((ke=N.state)==null?void 0:ke._isRedirect)!==!0;h&&(u=h,h=void 0),F||ce==="POP"||(ce==="PUSH"?i.history.push(N,N.state):ce==="REPLACE"&&i.history.replace(N,N.state));let ve;if(ce==="POP"){let Me=k.get(b.location.pathname);Me&&Me.has(N.pathname)?ve={currentLocation:b.location,nextLocation:N}:k.has(N.pathname)&&(ve={currentLocation:N,nextLocation:b.location})}else if(R){let Me=k.get(b.location.pathname);Me?Me.add(N.pathname):(Me=new Set([N.pathname]),k.set(b.location.pathname,Me)),ve={currentLocation:b.location,nextLocation:N}}Le({...O,actionData:he,loaderData:ge,historyAction:ce,location:N,initialized:!0,navigation:yh,revalidation:"idle",restoreScrollPosition:kn(N,O.matches||b.matches),preventScrollReset:fe,blockers:Ie},{viewTransitionOpts:ve,flushSync:W===!0}),ce="POP",P=!1,R=!1,F=!1,A=!1,De==null||De.resolve(),De=null}async function Fn(N,O){if(typeof N=="number"){i.history.go(N);return}let W=Bh(b.location,b.matches,d,N,O==null?void 0:O.fromRouteId,O==null?void 0:O.relative),{path:X,submission:he,error:ge}=Bm(!1,W,O),Ie=b.location,fe=Ia(b.location,X,O&&O.state);fe={...fe,...i.history.encodeLocation(fe)};let ve=O&&O.replace!=null?O.replace:void 0,oe="PUSH";ve===!0?oe="REPLACE":ve===!1||he!=null&&fr(he.formMethod)&&he.formAction===b.location.pathname+b.location.search&&(oe="REPLACE");let ke=O&&"preventScrollReset"in O?O.preventScrollReset===!0:void 0,Me=(O&&O.flushSync)===!0,nt=hi({currentLocation:Ie,nextLocation:fe,historyAction:oe});if(nt){vr(nt,{state:"blocked",location:fe,proceed(){vr(nt,{state:"proceeding",proceed:void 0,reset:void 0,location:fe}),Fn(N,O)},reset(){let Tt=new Map(b.blockers);Tt.set(nt,oa),Le({blockers:Tt})}});return}await Jt(oe,fe,{submission:he,pendingError:ge,preventScrollReset:ke,replace:O&&O.replace,enableViewTransition:O&&O.viewTransition,flushSync:Me})}function si(){De||(De=CS()),mr(),Le({revalidation:"loading"});let N=De.promise;return b.navigation.state==="submitting"?N:b.navigation.state==="idle"?(Jt(b.historyAction,b.location,{startUninterruptedRevalidation:!0}),N):(Jt(ce||b.historyAction,b.navigation.location,{overrideNavigation:b.navigation,enableViewTransition:R===!0}),N)}async function Jt(N,O,W){T&&T.abort(),T=null,ce=N,F=(W&&W.startUninterruptedRevalidation)===!0,gn(b.location,b.matches),P=(W&&W.preventScrollReset)===!0,R=(W&&W.enableViewTransition)===!0;let X=h||u,he=W&&W.overrideNavigation,ge=Oi(X,O,d),Ie=(W&&W.flushSync)===!0,fe=Yn(ge,X,O.pathname);if(fe.active&&fe.matches&&(ge=fe.matches),!ge){let{error:be,notFoundMatches:Je,route:rt}=Gn(O.pathname);ct(O,{matches:Je,loaderData:{},errors:{[rt.id]:be}},{flushSync:Ie});return}if(b.initialized&&!A&&_S(b.location,O)&&!(W&&W.submission&&fr(W.submission.formMethod))){ct(O,{matches:ge},{flushSync:Ie});return}T=new AbortController;let ve=lo(i.history,O,T.signal,W&&W.submission),oe;if(W&&W.pendingError)oe=[vs(ge).route.id,{type:"error",error:W.pendingError}];else if(W&&W.submission&&fr(W.submission.formMethod)){let be=await Fr(ve,O,W.submission,ge,fe.active,{replace:W.replace,flushSync:Ie});if(be.shortCircuited)return;if(be.pendingActionResult){let[Je,rt]=be.pendingActionResult;if(On(rt)&&ku(rt.error)&&rt.error.status===404){T=null,ct(O,{matches:be.matches,loaderData:{},errors:{[Je]:rt.error}});return}}ge=be.matches||ge,oe=be.pendingActionResult,he=vh(O,W.submission),Ie=!1,fe.active=!1,ve=lo(i.history,ve.url,ve.signal)}let{shortCircuited:ke,matches:Me,loaderData:nt,errors:Tt}=await oi(ve,O,ge,fe.active,he,W&&W.submission,W&&W.fetcherSubmission,W&&W.replace,W&&W.initialHydration===!0,Ie,oe);ke||(T=null,ct(O,{matches:Me||ge,...Ym(oe),loaderData:nt,errors:Tt}))}async function Fr(N,O,W,X,he,ge={}){mr();let Ie=TS(O,W);if(Le({navigation:Ie},{flushSync:ge.flushSync===!0}),he){let oe=await un(X,O.pathname,N.signal);if(oe.type==="aborted")return{shortCircuited:!0};if(oe.type==="error"){let ke=vs(oe.partialMatches).route.id;return{matches:oe.partialMatches,pendingActionResult:[ke,{type:"error",error:oe.error}]}}else if(oe.matches)X=oe.matches;else{let{notFoundMatches:ke,error:Me,route:nt}=Gn(O.pathname);return{matches:ke,pendingActionResult:[nt.id,{type:"error",error:Me}]}}}let fe,ve=da(X,O);if(!ve.route.action&&!ve.route.lazy)fe={type:"error",error:Wn(405,{method:N.method,pathname:O.pathname,routeId:ve.route.id})};else if(fe=(await Qn("action",b,N,[ve],X,null))[ve.route.id],N.signal.aborted)return{shortCircuited:!0};if(Es(fe)){let oe;return ge&&ge.replace!=null?oe=ge.replace:oe=Wm(fe.response.headers.get("Location"),new URL(N.url),d)===b.location.pathname+b.location.search,await jt(N,fe,!0,{submission:W,replace:oe}),{shortCircuited:!0}}if(On(fe)){let oe=vs(X,ve.route.id);return(ge&&ge.replace)!==!0&&(ce="PUSH"),{matches:X,pendingActionResult:[oe.route.id,fe]}}return{matches:X,pendingActionResult:[ve.route.id,fe]}}async function oi(N,O,W,X,he,ge,Ie,fe,ve,oe,ke){let Me=he||vh(O,ge),nt=ge||Ie||Zm(Me),Tt=!F&&!ve;if(X){if(Tt){let ht=ai(ke);Le({navigation:Me,...ht!==void 0?{actionData:ht}:{}},{flushSync:oe})}let He=await un(W,O.pathname,N.signal);if(He.type==="aborted")return{shortCircuited:!0};if(He.type==="error"){let ht=vs(He.partialMatches).route.id;return{matches:He.partialMatches,loaderData:{},errors:{[ht]:He.error}}}else if(He.matches)W=He.matches;else{let{error:ht,notFoundMatches:qt,route:er}=Gn(O.pathname);return{matches:qt,loaderData:{},errors:{[er.id]:ht}}}}let be=h||u,[Je,rt]=$m(i.history,b,W,nt,O,ve===!0,A,lt,Y,ue,we,be,d,ke);if($e=++Rt,Je.length===0&&rt.length===0){let He=yr();return ct(O,{matches:W,loaderData:{},errors:ke&&On(ke[1])?{[ke[0]]:ke[1].error}:null,...Ym(ke),...He?{fetchers:new Map(b.fetchers)}:{}},{flushSync:oe}),{shortCircuited:!0}}if(Tt){let He={};if(!X){He.navigation=Me;let ht=ai(ke);ht!==void 0&&(He.actionData=ht)}rt.length>0&&(He.fetchers=Gi(rt)),Le(He,{flushSync:oe})}rt.forEach(He=>{$t(He.key),He.controller&&je.set(He.key,He.controller)});let Xn=()=>rt.forEach(He=>$t(He.key));T&&T.signal.addEventListener("abort",Xn);let{loaderResults:Jn,fetcherResults:Zt}=await Ur(b,W,Je,rt,N);if(N.signal.aborted)return{shortCircuited:!0};T&&T.signal.removeEventListener("abort",Xn),rt.forEach(He=>je.delete(He.key));let Ht=Kl(Jn);if(Ht)return await jt(N,Ht.result,!0,{replace:fe}),{shortCircuited:!0};if(Ht=Kl(Zt),Ht)return we.add(Ht.key),await jt(N,Ht.result,!0,{replace:fe}),{shortCircuited:!0};let{loaderData:Br,errors:_r}=Qm(b,W,Jn,ke,rt,Zt);ve&&b.errors&&(_r={...b.errors,..._r});let Zn=yr(),it=ui($e),jr=Zn||it||rt.length>0;return{matches:W,loaderData:Br,errors:_r,...jr?{fetchers:new Map(b.fetchers)}:{}}}function ai(N){if(N&&!On(N[1]))return{[N[0]]:N[1].data};if(b.actionData)return Object.keys(b.actionData).length===0?null:b.actionData}function Gi(N){return N.forEach(O=>{let W=b.fetchers.get(O.key),X=aa(void 0,W?W.data:void 0);b.fetchers.set(O.key,X)}),new Map(b.fetchers)}async function As(N,O,W,X){$t(N);let he=(X&&X.flushSync)===!0,ge=h||u,Ie=Bh(b.location,b.matches,d,W,O,X==null?void 0:X.relative),fe=Oi(ge,Ie,d),ve=Yn(fe,ge,Ie);if(ve.active&&ve.matches&&(fe=ve.matches),!fe){st(N,O,Wn(404,{pathname:Ie}),{flushSync:he});return}let{path:oe,submission:ke,error:Me}=Bm(!0,Ie,X);if(Me){st(N,O,Me,{flushSync:he});return}let nt=da(fe,oe),Tt=(X&&X.preventScrollReset)===!0;if(ke&&fr(ke.formMethod)){await li(N,O,oe,nt,fe,ve.active,he,Tt,ke);return}ue.set(N,{routeId:O,path:oe}),await Kn(N,O,oe,nt,fe,ve.active,he,Tt,ke)}async function li(N,O,W,X,he,ge,Ie,fe,ve){mr(),ue.delete(N);function oe(ft){if(!ft.route.action&&!ft.route.lazy){let yn=Wn(405,{method:ve.formMethod,pathname:W,routeId:O});return st(N,O,yn,{flushSync:Ie}),!0}return!1}if(!ge&&oe(X))return;let ke=b.fetchers.get(N);mn(N,SS(ve,ke),{flushSync:Ie});let Me=new AbortController,nt=lo(i.history,W,Me.signal,ve);if(ge){let ft=await un(he,W,nt.signal);if(ft.type==="aborted")return;if(ft.type==="error"){st(N,O,ft.error,{flushSync:Ie});return}else if(ft.matches){if(he=ft.matches,X=da(he,W),oe(X))return}else{st(N,O,Wn(404,{pathname:W}),{flushSync:Ie});return}}je.set(N,Me);let Tt=Rt,Je=(await Qn("action",b,nt,[X],he,N))[X.route.id];if(nt.signal.aborted){je.get(N)===Me&&je.delete(N);return}if(Y.has(N)){if(Es(Je)||On(Je)){mn(N,Mi(void 0));return}}else{if(Es(Je))if(je.delete(N),$e>Tt){mn(N,Mi(void 0));return}else return we.add(N),mn(N,aa(ve)),jt(nt,Je,!1,{fetcherSubmission:ve,preventScrollReset:fe});if(On(Je)){st(N,O,Je.error);return}}let rt=b.navigation.location||b.location,Xn=lo(i.history,rt,Me.signal),Jn=h||u,Zt=b.navigation.state!=="idle"?Oi(Jn,b.navigation.location,d):b.matches;Be(Zt,"Didn't find any matches after fetcher action");let Ht=++Rt;se.set(N,Ht);let Br=aa(ve,Je.data);b.fetchers.set(N,Br);let[_r,Zn]=$m(i.history,b,Zt,ve,rt,!1,A,lt,Y,ue,we,Jn,d,[X.route.id,Je]);Zn.filter(ft=>ft.key!==N).forEach(ft=>{let yn=ft.key,en=b.fetchers.get(yn),Ps=aa(void 0,en?en.data:void 0);b.fetchers.set(yn,Ps),$t(yn),ft.controller&&je.set(yn,ft.controller)}),Le({fetchers:new Map(b.fetchers)});let it=()=>Zn.forEach(ft=>$t(ft.key));Me.signal.addEventListener("abort",it);let{loaderResults:jr,fetcherResults:He}=await Ur(b,Zt,_r,Zn,Xn);if(Me.signal.aborted)return;Me.signal.removeEventListener("abort",it),se.delete(N),je.delete(N),Zn.forEach(ft=>je.delete(ft.key));let ht=Kl(jr);if(ht)return jt(Xn,ht.result,!1,{preventScrollReset:fe});if(ht=Kl(He),ht)return we.add(ht.key),jt(Xn,ht.result,!1,{preventScrollReset:fe});let{loaderData:qt,errors:er}=Qm(b,Zt,jr,void 0,Zn,He);if(b.fetchers.has(N)){let ft=Mi(Je.data);b.fetchers.set(N,ft)}ui(Ht),b.navigation.state==="loading"&&Ht>$e?(Be(ce,"Expected pending action"),T&&T.abort(),ct(b.navigation.location,{matches:Zt,loaderData:qt,errors:er,fetchers:new Map(b.fetchers)})):(Le({errors:er,loaderData:Gm(b.loaderData,qt,Zt,er),fetchers:new Map(b.fetchers)}),A=!1)}async function Kn(N,O,W,X,he,ge,Ie,fe,ve){let oe=b.fetchers.get(N);mn(N,aa(ve,oe?oe.data:void 0),{flushSync:Ie});let ke=new AbortController,Me=lo(i.history,W,ke.signal);if(ge){let Je=await un(he,W,Me.signal);if(Je.type==="aborted")return;if(Je.type==="error"){st(N,O,Je.error,{flushSync:Ie});return}else if(Je.matches)he=Je.matches,X=da(he,W);else{st(N,O,Wn(404,{pathname:W}),{flushSync:Ie});return}}je.set(N,ke);let nt=Rt,be=(await Qn("loader",b,Me,[X],he,N))[X.route.id];if(je.get(N)===ke&&je.delete(N),!Me.signal.aborted){if(Y.has(N)){mn(N,Mi(void 0));return}if(Es(be))if($e>nt){mn(N,Mi(void 0));return}else{we.add(N),await jt(Me,be,!1,{preventScrollReset:fe});return}if(On(be)){st(N,O,be.error);return}mn(N,Mi(be.data))}}async function jt(N,O,W,{submission:X,fetcherSubmission:he,preventScrollReset:ge,replace:Ie}={}){O.response.headers.has("X-Remix-Revalidate")&&(A=!0);let fe=O.response.headers.get("Location");Be(fe,"Expected a Location header on the redirect Response"),fe=Wm(fe,new URL(N.url),d);let ve=Ia(b.location,fe,{_isRedirect:!0});if(n){let be=!1;if(O.response.headers.has("X-Remix-Reload-Document"))be=!0;else if(gf.test(fe)){const Je=i.history.createURL(fe);be=Je.origin!==e.location.origin||pr(Je.pathname,d)==null}if(be){Ie?e.location.replace(fe):e.location.assign(fe);return}}T=null;let oe=Ie===!0||O.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ke,formAction:Me,formEncType:nt}=b.navigation;!X&&!he&&ke&&Me&&nt&&(X=Zm(b.navigation));let Tt=X||he;if(sS.has(O.response.status)&&Tt&&fr(Tt.formMethod))await Jt(oe,ve,{submission:{...Tt,formAction:fe},preventScrollReset:ge||P,enableViewTransition:W?R:void 0});else{let be=vh(ve,X);await Jt(oe,ve,{overrideNavigation:be,fetcherSubmission:he,preventScrollReset:ge||P,enableViewTransition:W?R:void 0})}}async function Qn(N,O,W,X,he,ge){let Ie,fe={};try{Ie=await pS(g,N,O,W,X,he,ge,a,s)}catch(ve){return X.forEach(oe=>{fe[oe.route.id]={type:"error",error:ve}}),fe}for(let[ve,oe]of Object.entries(Ie))if(ES(oe)){let ke=oe.result;fe[ve]={type:"redirect",response:yS(ke,W,ve,he,d)}}else fe[ve]=await gS(oe);return fe}async function Ur(N,O,W,X,he){let ge=Qn("loader",N,he,W,O,null),Ie=Promise.all(X.map(async oe=>{if(oe.matches&&oe.match&&oe.controller){let Me=(await Qn("loader",N,lo(i.history,oe.path,oe.controller.signal),[oe.match],oe.matches,oe.key))[oe.match.route.id];return{[oe.key]:Me}}else return Promise.resolve({[oe.key]:{type:"error",error:Wn(404,{pathname:oe.path})}})})),fe=await ge,ve=(await Ie).reduce((oe,ke)=>Object.assign(oe,ke),{});return{loaderResults:fe,fetcherResults:ve}}function mr(){A=!0,ue.forEach((N,O)=>{je.has(O)&&lt.add(O),$t(O)})}function mn(N,O,W={}){b.fetchers.set(N,O),Le({fetchers:new Map(b.fetchers)},{flushSync:(W&&W.flushSync)===!0})}function st(N,O,W,X={}){let he=vs(b.matches,O);Pn(N),Le({errors:{[he.route.id]:W},fetchers:new Map(b.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function wt(N){return M.set(N,(M.get(N)||0)+1),Y.has(N)&&Y.delete(N),b.fetchers.get(N)||oS}function Pn(N){let O=b.fetchers.get(N);je.has(N)&&!(O&&O.state==="loading"&&se.has(N))&&$t(N),ue.delete(N),se.delete(N),we.delete(N),Y.delete(N),lt.delete(N),b.fetchers.delete(N)}function Yi(N){let O=(M.get(N)||0)-1;O<=0?(M.delete(N),Y.add(N)):M.set(N,O),Le({fetchers:new Map(b.fetchers)})}function $t(N){let O=je.get(N);O&&(O.abort(),je.delete(N))}function gr(N){for(let O of N){let W=wt(O),X=Mi(W.data);b.fetchers.set(O,X)}}function yr(){let N=[],O=!1;for(let W of we){let X=b.fetchers.get(W);Be(X,`Expected fetcher: ${W}`),X.state==="loading"&&(we.delete(W),N.push(W),O=!0)}return gr(N),O}function ui(N){let O=[];for(let[W,X]of se)if(X<N){let he=b.fetchers.get(W);Be(he,`Expected fetcher: ${W}`),he.state==="loading"&&($t(W),se.delete(W),O.push(W))}return gr(O),O.length>0}function Xi(N,O){let W=b.blockers.get(N)||oa;return _e.get(N)!==O&&_e.set(N,O),W}function ci(N){b.blockers.delete(N),_e.delete(N)}function vr(N,O){let W=b.blockers.get(N)||oa;Be(W.state==="unblocked"&&O.state==="blocked"||W.state==="blocked"&&O.state==="blocked"||W.state==="blocked"&&O.state==="proceeding"||W.state==="blocked"&&O.state==="unblocked"||W.state==="proceeding"&&O.state==="unblocked",`Invalid blocker state transition: ${W.state} -> ${O.state}`);let X=new Map(b.blockers);X.set(N,O),Le({blockers:X})}function hi({currentLocation:N,nextLocation:O,historyAction:W}){if(_e.size===0)return;_e.size>1&&Bt(!1,"A router only supports one blocker at a time");let X=Array.from(_e.entries()),[he,ge]=X[X.length-1],Ie=b.blockers.get(he);if(!(Ie&&Ie.state==="proceeding")&&ge({currentLocation:N,nextLocation:O,historyAction:W}))return he}function Gn(N){let O=Wn(404,{pathname:N}),W=h||u,{matches:X,route:he}=Xm(W);return{notFoundMatches:X,route:he,error:O}}function fi(N,O,W){if(x=N,q=O,U=W||null,!$&&b.navigation===yh){$=!0;let X=kn(b.location,b.matches);X!=null&&Le({restoreScrollPosition:X})}return()=>{x=null,q=null,U=null}}function br(N,O){return U&&U(N,O.map(X=>FT(X,b.loaderData)))||N.key}function gn(N,O){if(x&&q){let W=br(N,O);x[W]=q()}}function kn(N,O){if(x){let W=br(N,O),X=x[W];if(typeof X=="number")return X}return null}function Yn(N,O,W){if(v)if(N){if(Object.keys(N[0].params).length>0)return{active:!0,matches:eu(O,W,d,!0)}}else return{active:!0,matches:eu(O,W,d,!0)||[]};return{active:!1,matches:null}}async function un(N,O,W){if(!v)return{type:"success",matches:N};let X=N;for(;;){let he=h==null,ge=h||u,Ie=a;try{await v({path:O,matches:X,patch:(oe,ke)=>{W.aborted||qm(oe,ke,ge,Ie,s)}})}catch(oe){return{type:"error",error:oe,partialMatches:X}}finally{he&&!W.aborted&&(u=[...u])}if(W.aborted)return{type:"aborted"};let fe=Oi(ge,O,d);if(fe)return{type:"success",matches:fe};let ve=eu(ge,O,d,!0);if(!ve||X.length===ve.length&&X.every((oe,ke)=>oe.route.id===ve[ke].route.id))return{type:"success",matches:null};X=ve}}function Ji(N){a={},h=du(N,s,void 0,a)}function zr(N,O){let W=h==null;qm(N,O,h||u,a,s),W&&(u=[...u],Le({}))}return pe={get basename(){return d},get future(){return E},get state(){return b},get routes(){return u},get window(){return e},initialize:Ue,subscribe:Xe,enableScrollRestoration:fi,navigate:Fn,fetch:As,revalidate:si,createHref:N=>i.history.createHref(N),encodeLocation:N=>i.history.encodeLocation(N),getFetcher:wt,deleteFetcher:Yi,dispose:Ye,getBlocker:Xi,deleteBlocker:ci,patchRoutes:zr,_internalFetchControllers:je,_internalSetRoutes:Ji},pe}function uS(i){return i!=null&&("formData"in i&&i.formData!=null||"body"in i&&i.body!==void 0)}function Bh(i,e,n,s,a,u){let h,d;if(a){h=[];for(let v of e)if(h.push(v),v.route.id===a){d=v;break}}else h=e,d=e[e.length-1];let g=mf(s||".",pf(h),pr(i.pathname,n)||i.pathname,u==="path");if(s==null&&(g.search=i.search,g.hash=i.hash),(s==null||s===""||s===".")&&d){let v=yf(g.search);if(d.route.index&&!v)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&v){let E=new URLSearchParams(g.search),C=E.getAll("index");E.delete("index"),C.filter(x=>x).forEach(x=>E.append("index",x));let S=E.toString();g.search=S?`?${S}`:""}}return n!=="/"&&(g.pathname=g.pathname==="/"?n:Nr([n,g.pathname])),Qi(g)}function Bm(i,e,n){if(!n||!uS(n))return{path:e};if(n.formMethod&&!wS(n.formMethod))return{path:e,error:Wn(405,{method:n.formMethod})};let s=()=>({path:e,error:Wn(400,{type:"invalid-body"})}),u=(n.formMethod||"get").toUpperCase(),h=Ly(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!fr(u))return s();let C=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((S,[x,U])=>`${S}${x}=${U}
`,""):String(n.body);return{path:e,submission:{formMethod:u,formAction:h,formEncType:n.formEncType,formData:void 0,json:void 0,text:C}}}else if(n.formEncType==="application/json"){if(!fr(u))return s();try{let C=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:u,formAction:h,formEncType:n.formEncType,formData:void 0,json:C,text:void 0}}}catch{return s()}}}Be(typeof FormData=="function","FormData is not available in this environment");let d,g;if(n.formData)d=$h(n.formData),g=n.formData;else if(n.body instanceof FormData)d=$h(n.body),g=n.body;else if(n.body instanceof URLSearchParams)d=n.body,g=Km(d);else if(n.body==null)d=new URLSearchParams,g=new FormData;else try{d=new URLSearchParams(n.body),g=Km(d)}catch{return s()}let v={formMethod:u,formAction:h,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(fr(v.formMethod))return{path:e,submission:v};let E=ii(e);return i&&E.search&&yf(E.search)&&d.append("index",""),E.search=`?${d}`,{path:Qi(E),submission:v}}function jm(i,e,n=!1){let s=i.findIndex(a=>a.route.id===e);return s>=0?i.slice(0,n?s+1:s):i}function $m(i,e,n,s,a,u,h,d,g,v,E,C,S,x){let U=x?On(x[1])?x[1].error:x[1].data:void 0,q=i.createURL(e.location),$=i.createURL(a),K=n;u&&e.errors?K=jm(n,Object.keys(e.errors)[0],!0):x&&On(x[1])&&(K=jm(n,x[0]));let ie=x?x[1].statusCode:void 0,ne=ie&&ie>=400,pe=K.filter((ce,P)=>{let{route:T}=ce;if(T.lazy)return!0;if(T.loader==null)return!1;if(u)return jh(T,e.loaderData,e.errors);if(cS(e.loaderData,e.matches[P],ce))return!0;let R=e.matches[P],k=ce;return Hm(ce,{currentUrl:q,currentParams:R.params,nextUrl:$,nextParams:k.params,...s,actionResult:U,actionStatus:ie,defaultShouldRevalidate:ne?!1:h||q.pathname+q.search===$.pathname+$.search||q.search!==$.search||hS(R,k)})}),b=[];return v.forEach((ce,P)=>{if(u||!n.some(F=>F.route.id===ce.routeId)||g.has(P))return;let T=Oi(C,ce.path,S);if(!T){b.push({key:P,routeId:ce.routeId,path:ce.path,matches:null,match:null,controller:null});return}let R=e.fetchers.get(P),k=da(T,ce.path),V=!1;E.has(P)?V=!1:d.has(P)?(d.delete(P),V=!0):R&&R.state!=="idle"&&R.data===void 0?V=h:V=Hm(k,{currentUrl:q,currentParams:e.matches[e.matches.length-1].params,nextUrl:$,nextParams:n[n.length-1].params,...s,actionResult:U,actionStatus:ie,defaultShouldRevalidate:ne?!1:h}),V&&b.push({key:P,routeId:ce.routeId,path:ce.path,matches:T,match:k,controller:new AbortController})}),[pe,b]}function jh(i,e,n){if(i.lazy)return!0;if(!i.loader)return!1;let s=e!=null&&e[i.id]!==void 0,a=n!=null&&n[i.id]!==void 0;return!s&&a?!1:typeof i.loader=="function"&&i.loader.hydrate===!0?!0:!s&&!a}function cS(i,e,n){let s=!e||n.route.id!==e.route.id,a=!i.hasOwnProperty(n.route.id);return s||a}function hS(i,e){let n=i.route.path;return i.pathname!==e.pathname||n!=null&&n.endsWith("*")&&i.params["*"]!==e.params["*"]}function Hm(i,e){if(i.route.shouldRevalidate){let n=i.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function qm(i,e,n,s,a){let u;if(i){let g=s[i];Be(g,`No route found to patch children into: routeId = ${i}`),g.children||(g.children=[]),u=g.children}else u=n;let h=e.filter(g=>!u.some(v=>Vy(g,v))),d=du(h,a,[i||"_","patch",String((u==null?void 0:u.length)||"0")],s);u.push(...d)}function Vy(i,e){return"id"in i&&"id"in e&&i.id===e.id?!0:i.index===e.index&&i.path===e.path&&i.caseSensitive===e.caseSensitive?(!i.children||i.children.length===0)&&(!e.children||e.children.length===0)?!0:i.children.every((n,s)=>{var a;return(a=e.children)==null?void 0:a.some(u=>Vy(n,u))}):!1}async function fS(i,e,n){if(!i.lazy)return;let s=await i.lazy();if(!i.lazy)return;let a=n[i.id];Be(a,"No route found in manifest");let u={};for(let h in s){let g=a[h]!==void 0&&h!=="hasErrorBoundary";Bt(!g,`Route "${a.id}" has a static property "${h}" defined but its lazy function is also returning a value for this property. The lazy route property "${h}" will be ignored.`),!g&&!MT.has(h)&&(u[h]=s[h])}Object.assign(a,u),Object.assign(a,{...e(a),lazy:void 0})}async function dS({matches:i}){let e=i.filter(s=>s.shouldLoad);return(await Promise.all(e.map(s=>s.resolve()))).reduce((s,a,u)=>Object.assign(s,{[e[u].route.id]:a}),{})}async function pS(i,e,n,s,a,u,h,d,g,v){let E=u.map(x=>x.route.lazy?fS(x.route,g,d):void 0),C=u.map((x,U)=>{let q=E[U],$=a.some(ie=>ie.route.id===x.route.id);return{...x,shouldLoad:$,resolve:async ie=>(ie&&s.method==="GET"&&(x.route.lazy||x.route.loader)&&($=!0),$?mS(e,s,x,q,ie,v):Promise.resolve({type:"data",result:void 0}))}}),S=await i({matches:C,request:s,params:u[0].params,fetcherKey:h,context:v});try{await Promise.all(E)}catch{}return S}async function mS(i,e,n,s,a,u){let h,d,g=v=>{let E,C=new Promise((U,q)=>E=q);d=()=>E(),e.signal.addEventListener("abort",d);let S=U=>typeof v!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${i}" [routeId: ${n.route.id}]`)):v({request:e,params:n.params,context:u},...U!==void 0?[U]:[]),x=(async()=>{try{return{type:"data",result:await(a?a(q=>S(q)):S())}}catch(U){return{type:"error",result:U}}})();return Promise.race([x,C])};try{let v=n.route[i];if(s)if(v){let E,[C]=await Promise.all([g(v).catch(S=>{E=S}),s]);if(E!==void 0)throw E;h=C}else if(await s,v=n.route[i],v)h=await g(v);else if(i==="action"){let E=new URL(e.url),C=E.pathname+E.search;throw Wn(405,{method:e.method,pathname:C,routeId:n.route.id})}else return{type:"data",result:void 0};else if(v)h=await g(v);else{let E=new URL(e.url),C=E.pathname+E.search;throw Wn(404,{pathname:C})}}catch(v){return{type:"error",result:v}}finally{d&&e.signal.removeEventListener("abort",d)}return h}async function gS(i){var s,a,u,h;let{result:e,type:n}=i;if(My(e)){let d;try{let g=e.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?e.body==null?d=null:d=await e.json():d=await e.text()}catch(g){return{type:"error",error:g}}return n==="error"?{type:"error",error:new mu(e.status,e.statusText,d),statusCode:e.status,headers:e.headers}:{type:"data",data:d,statusCode:e.status,headers:e.headers}}if(n==="error"){if(Jm(e)){if(e.data instanceof Error)return{type:"error",error:e.data,statusCode:(s=e.init)==null?void 0:s.status};e=new mu(((a=e.init)==null?void 0:a.status)||500,void 0,e.data)}return{type:"error",error:e,statusCode:ku(e)?e.status:void 0}}return Jm(e)?{type:"data",data:e.data,statusCode:(u=e.init)==null?void 0:u.status,headers:(h=e.init)!=null&&h.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function yS(i,e,n,s,a){let u=i.headers.get("Location");if(Be(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!gf.test(u)){let h=s.slice(0,s.findIndex(d=>d.route.id===n)+1);u=Bh(new URL(e.url),h,a,u),i.headers.set("Location",u)}return i}function Wm(i,e,n){if(gf.test(i)){let s=i,a=s.startsWith("//")?new URL(e.protocol+s):new URL(s),u=pr(a.pathname,n)!=null;if(a.origin===e.origin&&u)return a.pathname+a.search+a.hash}return i}function lo(i,e,n,s){let a=i.createURL(Ly(e)).toString(),u={signal:n};if(s&&fr(s.formMethod)){let{formMethod:h,formEncType:d}=s;u.method=h.toUpperCase(),d==="application/json"?(u.headers=new Headers({"Content-Type":d}),u.body=JSON.stringify(s.json)):d==="text/plain"?u.body=s.text:d==="application/x-www-form-urlencoded"&&s.formData?u.body=$h(s.formData):u.body=s.formData}return new Request(a,u)}function $h(i){let e=new URLSearchParams;for(let[n,s]of i.entries())e.append(n,typeof s=="string"?s:s.name);return e}function Km(i){let e=new FormData;for(let[n,s]of i.entries())e.append(n,s);return e}function vS(i,e,n,s=!1,a=!1){let u={},h=null,d,g=!1,v={},E=n&&On(n[1])?n[1].error:void 0;return i.forEach(C=>{if(!(C.route.id in e))return;let S=C.route.id,x=e[S];if(Be(!Es(x),"Cannot handle redirect results in processLoaderData"),On(x)){let U=x.error;if(E!==void 0&&(U=E,E=void 0),h=h||{},a)h[S]=U;else{let q=vs(i,S);h[q.route.id]==null&&(h[q.route.id]=U)}s||(u[S]=Ny),g||(g=!0,d=ku(x.error)?x.error.status:500),x.headers&&(v[S]=x.headers)}else u[S]=x.data,x.statusCode&&x.statusCode!==200&&!g&&(d=x.statusCode),x.headers&&(v[S]=x.headers)}),E!==void 0&&n&&(h={[n[0]]:E},u[n[0]]=void 0),{loaderData:u,errors:h,statusCode:d||200,loaderHeaders:v}}function Qm(i,e,n,s,a,u){let{loaderData:h,errors:d}=vS(e,n,s);return a.forEach(g=>{let{key:v,match:E,controller:C}=g,S=u[v];if(Be(S,"Did not find corresponding fetcher result"),!(C&&C.signal.aborted))if(On(S)){let x=vs(i.matches,E==null?void 0:E.route.id);d&&d[x.route.id]||(d={...d,[x.route.id]:S.error}),i.fetchers.delete(v)}else if(Es(S))Be(!1,"Unhandled fetcher revalidation redirect");else{let x=Mi(S.data);i.fetchers.set(v,x)}}),{loaderData:h,errors:d}}function Gm(i,e,n,s){let a=Object.entries(e).filter(([,u])=>u!==Ny).reduce((u,[h,d])=>(u[h]=d,u),{});for(let u of n){let h=u.route.id;if(!e.hasOwnProperty(h)&&i.hasOwnProperty(h)&&u.route.loader&&(a[h]=i[h]),s&&s.hasOwnProperty(h))break}return a}function Ym(i){return i?On(i[1])?{actionData:{}}:{actionData:{[i[0]]:i[1].data}}:{}}function vs(i,e){return(e?i.slice(0,i.findIndex(s=>s.route.id===e)+1):[...i]).reverse().find(s=>s.route.hasErrorBoundary===!0)||i[0]}function Xm(i){let e=i.length===1?i[0]:i.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Wn(i,{pathname:e,routeId:n,method:s,type:a,message:u}={}){let h="Unknown Server Error",d="Unknown @remix-run/router error";return i===400?(h="Bad Request",s&&e&&n?d=`You made a ${s} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:a==="invalid-body"&&(d="Unable to encode submission body")):i===403?(h="Forbidden",d=`Route "${n}" does not match URL "${e}"`):i===404?(h="Not Found",d=`No route matches URL "${e}"`):i===405&&(h="Method Not Allowed",s&&e&&n?d=`You made a ${s.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:s&&(d=`Invalid request method "${s.toUpperCase()}"`)),new mu(i||500,h,new Error(d),!0)}function Kl(i){let e=Object.entries(i);for(let n=e.length-1;n>=0;n--){let[s,a]=e[n];if(Es(a))return{key:s,result:a}}}function Ly(i){let e=typeof i=="string"?ii(i):i;return Qi({...e,hash:""})}function _S(i,e){return i.pathname!==e.pathname||i.search!==e.search?!1:i.hash===""?e.hash!=="":i.hash===e.hash?!0:e.hash!==""}function ES(i){return My(i.result)&&iS.has(i.result.status)}function On(i){return i.type==="error"}function Es(i){return(i&&i.type)==="redirect"}function Jm(i){return typeof i=="object"&&i!=null&&"type"in i&&"data"in i&&"init"in i&&i.type==="DataWithResponseInit"}function My(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.headers=="object"&&typeof i.body<"u"}function wS(i){return rS.has(i.toUpperCase())}function fr(i){return tS.has(i.toUpperCase())}function yf(i){return new URLSearchParams(i).getAll("index").some(e=>e==="")}function da(i,e){let n=typeof e=="string"?ii(e).search:e.search;if(i[i.length-1].route.index&&yf(n||""))return i[i.length-1];let s=ky(i);return s[s.length-1]}function Zm(i){let{formMethod:e,formAction:n,formEncType:s,text:a,formData:u,json:h}=i;if(!(!e||!n||!s)){if(a!=null)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:void 0,text:a};if(u!=null)return{formMethod:e,formAction:n,formEncType:s,formData:u,json:void 0,text:void 0};if(h!==void 0)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:h,text:void 0}}}function vh(i,e){return e?{state:"loading",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:i,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function TS(i,e){return{state:"submitting",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function aa(i,e){return i?{state:"loading",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function SS(i,e){return{state:"submitting",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e?e.data:void 0}}function Mi(i){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:i}}function RS(i,e){try{let n=i.sessionStorage.getItem(Dy);if(n){let s=JSON.parse(n);for(let[a,u]of Object.entries(s||{}))u&&Array.isArray(u)&&e.set(a,new Set(u||[]))}}catch{}}function IS(i,e){if(e.size>0){let n={};for(let[s,a]of e)n[s]=[...a];try{i.sessionStorage.setItem(Dy,JSON.stringify(n))}catch(s){Bt(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function CS(){let i,e,n=new Promise((s,a)=>{i=async u=>{s(u);try{await n}catch{}},e=async u=>{a(u);try{await n}catch{}}});return{promise:n,resolve:i,reject:e}}var Is=G.createContext(null);Is.displayName="DataRouter";var xa=G.createContext(null);xa.displayName="DataRouterState";var vf=G.createContext({isTransitioning:!1});vf.displayName="ViewTransition";var Oy=G.createContext(new Map);Oy.displayName="Fetchers";var AS=G.createContext(null);AS.displayName="Await";var Mr=G.createContext(null);Mr.displayName="Navigation";var xu=G.createContext(null);xu.displayName="Location";var Or=G.createContext({outlet:null,matches:[],isDataRoute:!1});Or.displayName="Route";var _f=G.createContext(null);_f.displayName="RouteError";function PS(i,{relative:e}={}){Be(Da(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=G.useContext(Mr),{hash:a,pathname:u,search:h}=Na(i,{relative:e}),d=u;return n!=="/"&&(d=u==="/"?n:Nr([n,u])),s.createHref({pathname:d,search:h,hash:a})}function Da(){return G.useContext(xu)!=null}function Cs(){return Be(Da(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(xu).location}var Fy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Uy(i){G.useContext(Mr).static||G.useLayoutEffect(i)}function kS(){let{isDataRoute:i}=G.useContext(Or);return i?$S():xS()}function xS(){Be(Da(),"useNavigate() may be used only in the context of a <Router> component.");let i=G.useContext(Is),{basename:e,navigator:n}=G.useContext(Mr),{matches:s}=G.useContext(Or),{pathname:a}=Cs(),u=JSON.stringify(pf(s)),h=G.useRef(!1);return Uy(()=>{h.current=!0}),G.useCallback((g,v={})=>{if(Bt(h.current,Fy),!h.current)return;if(typeof g=="number"){n.go(g);return}let E=mf(g,JSON.parse(u),a,v.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Nr([e,E.pathname])),(v.replace?n.replace:n.push)(E,v.state,v)},[e,n,u,a,i])}G.createContext(null);function DS(){let{matches:i}=G.useContext(Or),e=i[i.length-1];return e?e.params:{}}function Na(i,{relative:e}={}){let{matches:n}=G.useContext(Or),{pathname:s}=Cs(),a=JSON.stringify(pf(n));return G.useMemo(()=>mf(i,JSON.parse(a),s,e==="path"),[i,a,s,e])}function NS(i,e,n,s){Be(Da(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=G.useContext(Mr),{matches:u}=G.useContext(Or),h=u[u.length-1],d=h?h.params:{},g=h?h.pathname:"/",v=h?h.pathnameBase:"/",E=h&&h.route;{let K=E&&E.path||"";by(g,!E||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let C=Cs(),S;S=C;let x=S.pathname||"/",U=x;if(v!=="/"){let K=v.replace(/^\//,"").split("/");U="/"+x.replace(/^\//,"").split("/").slice(K.length).join("/")}let q=Oi(i,{pathname:U});return Bt(E||q!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Bt(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),FS(q&&q.map(K=>Object.assign({},K,{params:Object.assign({},d,K.params),pathname:Nr([v,a.encodeLocation?a.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?v:Nr([v,a.encodeLocation?a.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),u,n,s)}function VS(){let i=jS(),e=ku(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),n?G.createElement("pre",{style:a},n):null,h)}var LS=G.createElement(VS,null),MS=class extends G.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?G.createElement(Or.Provider,{value:this.props.routeContext},G.createElement(_f.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function OS({routeContext:i,match:e,children:n}){let s=G.useContext(Is);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(Or.Provider,{value:i},n)}function FS(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let a=i,u=n==null?void 0:n.errors;if(u!=null){let g=a.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);Be(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let h=!1,d=-1;if(n)for(let g=0;g<a.length;g++){let v=a[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=g),v.route.id){let{loaderData:E,errors:C}=n,S=v.route.loader&&!E.hasOwnProperty(v.route.id)&&(!C||C[v.route.id]===void 0);if(v.route.lazy||S){h=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((g,v,E)=>{let C,S=!1,x=null,U=null;n&&(C=u&&v.route.id?u[v.route.id]:void 0,x=v.route.errorElement||LS,h&&(d<0&&E===0?(by("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,U=null):d===E&&(S=!0,U=v.route.hydrateFallbackElement||null)));let q=e.concat(a.slice(0,E+1)),$=()=>{let K;return C?K=x:S?K=U:v.route.Component?K=G.createElement(v.route.Component,null):v.route.element?K=v.route.element:K=g,G.createElement(OS,{match:v,routeContext:{outlet:g,matches:q,isDataRoute:n!=null},children:K})};return n&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?G.createElement(MS,{location:n.location,revalidation:n.revalidation,component:x,error:C,children:$(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):$()},null)}function Ef(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function US(i){let e=G.useContext(Is);return Be(e,Ef(i)),e}function bS(i){let e=G.useContext(xa);return Be(e,Ef(i)),e}function zS(i){let e=G.useContext(Or);return Be(e,Ef(i)),e}function wf(i){let e=zS(i),n=e.matches[e.matches.length-1];return Be(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function BS(){return wf("useRouteId")}function jS(){var s;let i=G.useContext(_f),e=bS("useRouteError"),n=wf("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function $S(){let{router:i}=US("useNavigate"),e=wf("useNavigate"),n=G.useRef(!1);return Uy(()=>{n.current=!0}),G.useCallback(async(a,u={})=>{Bt(n.current,Fy),n.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:e,...u}))},[i,e])}var eg={};function by(i,e,n){!e&&!eg[i]&&(eg[i]=!0,Bt(!1,n))}var tg={};function ng(i,e){!i&&!tg[e]&&(tg[e]=!0,console.warn(e))}function HS(i){let e={hasErrorBoundary:i.hasErrorBoundary||i.ErrorBoundary!=null||i.errorElement!=null};return i.Component&&(i.element&&Bt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:G.createElement(i.Component),Component:void 0})),i.HydrateFallback&&(i.hydrateFallbackElement&&Bt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:G.createElement(i.HydrateFallback),HydrateFallback:void 0})),i.ErrorBoundary&&(i.errorElement&&Bt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:G.createElement(i.ErrorBoundary),ErrorBoundary:void 0})),e}var qS=class{constructor(){this.status="pending",this.promise=new Promise((i,e)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",i(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",e(n))}})}};function WS({router:i,flushSync:e}){let[n,s]=G.useState(i.state),[a,u]=G.useState(),[h,d]=G.useState({isTransitioning:!1}),[g,v]=G.useState(),[E,C]=G.useState(),[S,x]=G.useState(),U=G.useRef(new Map),q=G.useCallback((ne,{deletedFetchers:pe,flushSync:b,viewTransitionOpts:ce})=>{pe.forEach(T=>U.current.delete(T)),ne.fetchers.forEach((T,R)=>{T.data!==void 0&&U.current.set(R,T.data)}),ng(b===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let P=i.window!=null&&i.window.document!=null&&typeof i.window.document.startViewTransition=="function";if(ng(ce==null||P,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!ce||!P){e&&b?e(()=>s(ne)):G.startTransition(()=>s(ne));return}if(e&&b){e(()=>{E&&(g&&g.resolve(),E.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation})});let T=i.window.document.startViewTransition(()=>{e(()=>s(ne))});T.finished.finally(()=>{e(()=>{v(void 0),C(void 0),u(void 0),d({isTransitioning:!1})})}),e(()=>C(T));return}E?(g&&g.resolve(),E.skipTransition(),x({state:ne,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation})):(u(ne),d({isTransitioning:!0,flushSync:!1,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation}))},[i.window,e,E,g]);G.useLayoutEffect(()=>i.subscribe(q),[i,q]),G.useEffect(()=>{h.isTransitioning&&!h.flushSync&&v(new qS)},[h]),G.useEffect(()=>{if(g&&a&&i.window){let ne=a,pe=g.promise,b=i.window.document.startViewTransition(async()=>{G.startTransition(()=>s(ne)),await pe});b.finished.finally(()=>{v(void 0),C(void 0),u(void 0),d({isTransitioning:!1})}),C(b)}},[a,g,i.window]),G.useEffect(()=>{g&&a&&n.location.key===a.location.key&&g.resolve()},[g,E,n.location,a]),G.useEffect(()=>{!h.isTransitioning&&S&&(u(S.state),d({isTransitioning:!0,flushSync:!1,currentLocation:S.currentLocation,nextLocation:S.nextLocation}),x(void 0))},[h.isTransitioning,S]);let $=G.useMemo(()=>({createHref:i.createHref,encodeLocation:i.encodeLocation,go:ne=>i.navigate(ne),push:(ne,pe,b)=>i.navigate(ne,{state:pe,preventScrollReset:b==null?void 0:b.preventScrollReset}),replace:(ne,pe,b)=>i.navigate(ne,{replace:!0,state:pe,preventScrollReset:b==null?void 0:b.preventScrollReset})}),[i]),K=i.basename||"/",ie=G.useMemo(()=>({router:i,navigator:$,static:!1,basename:K}),[i,$,K]);return G.createElement(G.Fragment,null,G.createElement(Is.Provider,{value:ie},G.createElement(xa.Provider,{value:n},G.createElement(Oy.Provider,{value:U.current},G.createElement(vf.Provider,{value:h},G.createElement(GS,{basename:K,location:n.location,navigationType:n.historyAction,navigator:$},G.createElement(KS,{routes:i.routes,future:i.future,state:n})))))),null)}var KS=G.memo(QS);function QS({routes:i,future:e,state:n}){return NS(i,void 0,n,e)}function GS({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:u=!1}){Be(!Da(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),d=G.useMemo(()=>({basename:h,navigator:a,static:u,future:{}}),[h,a,u]);typeof n=="string"&&(n=ii(n));let{pathname:g="/",search:v="",hash:E="",state:C=null,key:S="default"}=n,x=G.useMemo(()=>{let U=pr(g,h);return U==null?null:{location:{pathname:U,search:v,hash:E,state:C,key:S},navigationType:s}},[h,g,v,E,C,S,s]);return Bt(x!=null,`<Router basename="${h}"> is not able to match the URL "${g}${v}${E}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:G.createElement(Mr.Provider,{value:d},G.createElement(xu.Provider,{children:e,value:x}))}var tu="get",nu="application/x-www-form-urlencoded";function Du(i){return i!=null&&typeof i.tagName=="string"}function YS(i){return Du(i)&&i.tagName.toLowerCase()==="button"}function XS(i){return Du(i)&&i.tagName.toLowerCase()==="form"}function JS(i){return Du(i)&&i.tagName.toLowerCase()==="input"}function ZS(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function e1(i,e){return i.button===0&&(!e||e==="_self")&&!ZS(i)}var Ql=null;function t1(){if(Ql===null)try{new FormData(document.createElement("form"),0),Ql=!1}catch{Ql=!0}return Ql}var n1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _h(i){return i!=null&&!n1.has(i)?(Bt(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nu}"`),null):i}function r1(i,e){let n,s,a,u,h;if(XS(i)){let d=i.getAttribute("action");s=d?pr(d,e):null,n=i.getAttribute("method")||tu,a=_h(i.getAttribute("enctype"))||nu,u=new FormData(i)}else if(YS(i)||JS(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||d.getAttribute("action");if(s=g?pr(g,e):null,n=i.getAttribute("formmethod")||d.getAttribute("method")||tu,a=_h(i.getAttribute("formenctype"))||_h(d.getAttribute("enctype"))||nu,u=new FormData(d,i),!t1()){let{name:v,type:E,value:C}=i;if(E==="image"){let S=v?`${v}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else v&&u.append(v,C)}}else{if(Du(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=tu,s=null,a=nu,h=i}return u&&a==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:u,body:h}}function Tf(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function i1(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function s1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function o1(i,e,n){let s=await Promise.all(i.map(async a=>{let u=e.routes[a.route.id];if(u){let h=await i1(u,n);return h.links?h.links():[]}return[]}));return c1(s.flat(1).filter(s1).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function rg(i,e,n,s,a,u){let h=(g,v)=>n[v]?g.route.id!==n[v].route.id:!0,d=(g,v)=>{var E;return n[v].pathname!==g.pathname||((E=n[v].route.path)==null?void 0:E.endsWith("*"))&&n[v].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,v)=>h(g,v)||d(g,v)):u==="data"?e.filter((g,v)=>{var C;let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(h(g,v)||d(g,v))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((C=n[0])==null?void 0:C.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function a1(i,e){return l1(i.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let a=[s.module];return s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function l1(i){return[...new Set(i)]}function u1(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function c1(i,e){let n=new Set;return new Set(e),i.reduce((s,a)=>{let u=JSON.stringify(u1(a));return n.has(u)||(n.add(u),s.push({key:u,link:a})),s},[])}function h1(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function f1(){let i=G.useContext(Is);return Tf(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function d1(){let i=G.useContext(xa);return Tf(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Sf=G.createContext(void 0);Sf.displayName="FrameworkContext";function zy(){let i=G.useContext(Sf);return Tf(i,"You must render this element inside a <HydratedRouter> element"),i}function p1(i,e){let n=G.useContext(Sf),[s,a]=G.useState(!1),[u,h]=G.useState(!1),{onFocus:d,onBlur:g,onMouseEnter:v,onMouseLeave:E,onTouchStart:C}=e,S=G.useRef(null);G.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let q=K=>{K.forEach(ie=>{h(ie.isIntersecting)})},$=new IntersectionObserver(q,{threshold:.5});return S.current&&$.observe(S.current),()=>{$.disconnect()}}},[i]),G.useEffect(()=>{if(s){let q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(q)}}},[s]);let x=()=>{a(!0)},U=()=>{a(!1),h(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:la(d,x),onBlur:la(g,U),onMouseEnter:la(v,x),onMouseLeave:la(E,U),onTouchStart:la(C,x)}]:[!1,S,{}]}function la(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function m1({page:i,...e}){let{router:n}=f1(),s=G.useMemo(()=>Oi(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?G.createElement(y1,{page:i,matches:s,...e}):null}function g1(i){let{manifest:e,routeModules:n}=zy(),[s,a]=G.useState([]);return G.useEffect(()=>{let u=!1;return o1(i,e,n).then(h=>{u||a(h)}),()=>{u=!0}},[i,e,n]),s}function y1({page:i,matches:e,...n}){let s=Cs(),{manifest:a,routeModules:u}=zy(),{loaderData:h,matches:d}=d1(),g=G.useMemo(()=>rg(i,e,d,a,s,"data"),[i,e,d,a,s]),v=G.useMemo(()=>rg(i,e,d,a,s,"assets"),[i,e,d,a,s]),E=G.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let x=new Set,U=!1;if(e.forEach($=>{var ie;let K=a.routes[$.route.id];!K||!K.hasLoader||(!g.some(ne=>ne.route.id===$.route.id)&&$.route.id in h&&((ie=u[$.route.id])!=null&&ie.shouldRevalidate)||K.hasClientLoader?U=!0:x.add($.route.id))}),x.size===0)return[];let q=h1(i);return U&&x.size>0&&q.searchParams.set("_routes",e.filter($=>x.has($.route.id)).map($=>$.route.id).join(",")),[q.pathname+q.search]},[h,s,a,g,e,i,u]),C=G.useMemo(()=>a1(v,a),[v,a]),S=g1(v);return G.createElement(G.Fragment,null,E.map(x=>G.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),C.map(x=>G.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),S.map(({key:x,link:U})=>G.createElement("link",{key:x,...U})))}function v1(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var By=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{By&&(window.__reactRouterVersion="7.1.1")}catch{}function _1(i,e){return lS({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:NT({window:e==null?void 0:e.window}),hydrationData:E1(),routes:i,mapRouteProperties:HS,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function E1(){let i=window==null?void 0:window.__staticRouterHydrationData;return i&&i.errors&&(i={...i,errors:w1(i.errors)}),i}function w1(i){if(!i)return null;let e=Object.entries(i),n={};for(let[s,a]of e)if(a&&a.__type==="RouteErrorResponse")n[s]=new mu(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let u=window[a.__subType];if(typeof u=="function")try{let h=new u(a.message);h.stack="",n[s]=h}catch{}}if(n[s]==null){let u=new Error(a.message);u.stack="",n[s]=u}}else n[s]=a;return n}var jy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rf=G.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:u,replace:h,state:d,target:g,to:v,preventScrollReset:E,viewTransition:C,...S},x){let{basename:U}=G.useContext(Mr),q=typeof v=="string"&&jy.test(v),$,K=!1;if(typeof v=="string"&&q&&($=v,By))try{let R=new URL(window.location.href),k=v.startsWith("//")?new URL(R.protocol+v):new URL(v),V=pr(k.pathname,U);k.origin===R.origin&&V!=null?v=V+k.search+k.hash:K=!0}catch{Bt(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ie=PS(v,{relative:a}),[ne,pe,b]=p1(s,S),ce=I1(v,{replace:h,state:d,target:g,preventScrollReset:E,relative:a,viewTransition:C});function P(R){e&&e(R),R.defaultPrevented||ce(R)}let T=G.createElement("a",{...S,...b,href:$||ie,onClick:K||u?e:P,ref:v1(x,pe),target:g,"data-discover":!q&&n==="render"?"true":void 0});return ne&&!q?G.createElement(G.Fragment,null,T,G.createElement(m1,{page:ie})):T});Rf.displayName="Link";var T1=G.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:u,to:h,viewTransition:d,children:g,...v},E){let C=Na(h,{relative:v.relative}),S=Cs(),x=G.useContext(xa),{navigator:U,basename:q}=G.useContext(Mr),$=x!=null&&x1(C)&&d===!0,K=U.encodeLocation?U.encodeLocation(C).pathname:C.pathname,ie=S.pathname,ne=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(ie=ie.toLowerCase(),ne=ne?ne.toLowerCase():null,K=K.toLowerCase()),ne&&q&&(ne=pr(ne,q)||ne);const pe=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let b=ie===K||!a&&ie.startsWith(K)&&ie.charAt(pe)==="/",ce=ne!=null&&(ne===K||!a&&ne.startsWith(K)&&ne.charAt(K.length)==="/"),P={isActive:b,isPending:ce,isTransitioning:$},T=b?e:void 0,R;typeof s=="function"?R=s(P):R=[s,b?"active":null,ce?"pending":null,$?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(P):u;return G.createElement(Rf,{...v,"aria-current":T,className:R,ref:E,style:k,to:h,viewTransition:d},typeof g=="function"?g(P):g)});T1.displayName="NavLink";var S1=G.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:u,method:h=tu,action:d,onSubmit:g,relative:v,preventScrollReset:E,viewTransition:C,...S},x)=>{let U=P1(),q=k1(d,{relative:v}),$=h.toLowerCase()==="get"?"get":"post",K=typeof d=="string"&&jy.test(d),ie=ne=>{if(g&&g(ne),ne.defaultPrevented)return;ne.preventDefault();let pe=ne.nativeEvent.submitter,b=(pe==null?void 0:pe.getAttribute("formmethod"))||h;U(pe||ne.currentTarget,{fetcherKey:e,method:b,navigate:n,replace:a,state:u,relative:v,preventScrollReset:E,viewTransition:C})};return G.createElement("form",{ref:x,method:$,action:q,onSubmit:s?g:ie,...S,"data-discover":!K&&i==="render"?"true":void 0})});S1.displayName="Form";function R1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $y(i){let e=G.useContext(Is);return Be(e,R1(i)),e}function I1(i,{target:e,replace:n,state:s,preventScrollReset:a,relative:u,viewTransition:h}={}){let d=kS(),g=Cs(),v=Na(i,{relative:u});return G.useCallback(E=>{if(e1(E,e)){E.preventDefault();let C=n!==void 0?n:Qi(g)===Qi(v);d(i,{replace:C,state:s,preventScrollReset:a,relative:u,viewTransition:h})}},[g,d,v,n,s,e,i,a,u,h])}var C1=0,A1=()=>`__${String(++C1)}__`;function P1(){let{router:i}=$y("useSubmit"),{basename:e}=G.useContext(Mr),n=BS();return G.useCallback(async(s,a={})=>{let{action:u,method:h,encType:d,formData:g,body:v}=r1(s,e);if(a.navigate===!1){let E=a.fetcherKey||A1();await i.fetch(E,n,a.action||u,{preventScrollReset:a.preventScrollReset,formData:g,body:v,formMethod:a.method||h,formEncType:a.encType||d,flushSync:a.flushSync})}else await i.navigate(a.action||u,{preventScrollReset:a.preventScrollReset,formData:g,body:v,formMethod:a.method||h,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,e,n])}function k1(i,{relative:e}={}){let{basename:n}=G.useContext(Mr),s=G.useContext(Or);Be(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),u={...Na(i||".",{relative:e})},h=Cs();if(i==null){u.search=h.search;let d=new URLSearchParams(u.search),g=d.getAll("index");if(g.some(E=>E==="")){d.delete("index"),g.filter(C=>C).forEach(C=>d.append("index",C));let E=d.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&a.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Nr([n,u.pathname])),Qi(u)}function x1(i,e={}){let n=G.useContext(vf);Be(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=$y("useViewTransitionState"),a=Na(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=pr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=pr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return pu(a.pathname,h)!=null||pu(a.pathname,u)!=null}new TextEncoder;var D1=sg();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function N1(i){return G.createElement(WS,{flushSync:D1.flushSync,...i})}function Hy(){const[i,e]=G.useState(),n=async()=>{const s=[];(await IT(hT(Iy,Cy))).forEach(u=>{const h=u.data();s.push({id:u.id,...h})}),e(s)};return G.useEffect(()=>{n()},[]),console.log(i),dr.jsx(dr.Fragment,{children:dr.jsx("ul",{className:"list",children:i?i.map(s=>dr.jsx(Rf,{to:`/details/${s.id}`,children:s.lastName},s.id)):dr.jsx("p",{children:"Loading..."})})})}const V1=()=>{const{id:i}=DS(),e=async()=>{const n=fT(Iy,Cy,i),s=await RT(n);s.exists()?console.log("Contact",s.data()):console.log("No document with id",i,"found")};return G.useEffect(()=>{e()},[]),dr.jsx("h1",{children:"Details"})},L1=_1([{path:"/",element:dr.jsx(Hy,{})},{path:"/details/:id",element:dr.jsx(V1,{})}]);n_.createRoot(document.getElementById("root")).render(dr.jsx(Yv.StrictMode,{children:dr.jsx(N1,{router:L1,children:dr.jsx(Hy,{})})}));
