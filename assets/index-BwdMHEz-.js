(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}})();function Tg(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var oh={exports:{}},la={},ah={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp;function v_(){if(Kp)return Fe;Kp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),I=Symbol.iterator;function S(M){return M===null||typeof M!="object"?null:(M=I&&M[I]||M["@@iterator"],typeof M=="function"?M:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,q={};function $(M,Y,Ee){this.props=M,this.context=Y,this.refs=q,this.updater=Ee||x}$.prototype.isReactComponent={},$.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},$.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function K(){}K.prototype=$.prototype;function se(M,Y,Ee){this.props=M,this.context=Y,this.refs=q,this.updater=Ee||x}var re=se.prototype=new K;re.constructor=se,b(re,$.prototype),re.isPureReactComponent=!0;var pe=Array.isArray,U=Object.prototype.hasOwnProperty,ce={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function T(M,Y,Ee){var Ne,De={},be=null,Ye=null;if(Y!=null)for(Ne in Y.ref!==void 0&&(Ye=Y.ref),Y.key!==void 0&&(be=""+Y.key),Y)U.call(Y,Ne)&&!P.hasOwnProperty(Ne)&&(De[Ne]=Y[Ne]);var Xe=arguments.length-2;if(Xe===1)De.children=Ee;else if(1<Xe){for(var Me=Array(Xe),ct=0;ct<Xe;ct++)Me[ct]=arguments[ct+2];De.children=Me}if(M&&M.defaultProps)for(Ne in Xe=M.defaultProps,Xe)De[Ne]===void 0&&(De[Ne]=Xe[Ne]);return{$$typeof:i,type:M,key:be,ref:Ye,props:De,_owner:ce.current}}function R(M,Y){return{$$typeof:i,type:M.type,key:Y,ref:M.ref,props:M.props,_owner:M._owner}}function k(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function V(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(Ee){return Y[Ee]})}var F=/\/+/g;function A(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?V(""+M.key):Y.toString(36)}function lt(M,Y,Ee,Ne,De){var be=typeof M;(be==="undefined"||be==="boolean")&&(M=null);var Ye=!1;if(M===null)Ye=!0;else switch(be){case"string":case"number":Ye=!0;break;case"object":switch(M.$$typeof){case i:case e:Ye=!0}}if(Ye)return Ye=M,De=De(Ye),M=Ne===""?"."+A(Ye,0):Ne,pe(De)?(Ee="",M!=null&&(Ee=M.replace(F,"$&/")+"/"),lt(De,Y,Ee,"",function(ct){return ct})):De!=null&&(k(De)&&(De=R(De,Ee+(!De.key||Ye&&Ye.key===De.key?"":(""+De.key).replace(F,"$&/")+"/")+M)),Y.push(De)),1;if(Ye=0,Ne=Ne===""?".":Ne+":",pe(M))for(var Xe=0;Xe<M.length;Xe++){be=M[Xe];var Me=Ne+A(be,Xe);Ye+=lt(be,Y,Ee,Me,De)}else if(Me=S(M),typeof Me=="function")for(M=Me.call(M),Xe=0;!(be=M.next()).done;)be=be.value,Me=Ne+A(be,Xe++),Ye+=lt(be,Y,Ee,Me,De);else if(be==="object")throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Ye}function je(M,Y,Ee){if(M==null)return M;var Ne=[],De=0;return lt(M,Ne,"","",function(be){return Y.call(Ee,be,De++)}),Ne}function It(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(Ee){(M._status===0||M._status===-1)&&(M._status=1,M._result=Ee)},function(Ee){(M._status===0||M._status===-1)&&(M._status=2,M._result=Ee)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var $e={current:null},oe={transition:null},Te={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:oe,ReactCurrentOwner:ce};function ue(){throw Error("act(...) is not supported in production builds of React.")}return Fe.Children={map:je,forEach:function(M,Y,Ee){je(M,function(){Y.apply(this,arguments)},Ee)},count:function(M){var Y=0;return je(M,function(){Y++}),Y},toArray:function(M){return je(M,function(Y){return Y})||[]},only:function(M){if(!k(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Fe.Component=$,Fe.Fragment=n,Fe.Profiler=a,Fe.PureComponent=se,Fe.StrictMode=s,Fe.Suspense=g,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Te,Fe.act=ue,Fe.cloneElement=function(M,Y,Ee){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var Ne=b({},M.props),De=M.key,be=M.ref,Ye=M._owner;if(Y!=null){if(Y.ref!==void 0&&(be=Y.ref,Ye=ce.current),Y.key!==void 0&&(De=""+Y.key),M.type&&M.type.defaultProps)var Xe=M.type.defaultProps;for(Me in Y)U.call(Y,Me)&&!P.hasOwnProperty(Me)&&(Ne[Me]=Y[Me]===void 0&&Xe!==void 0?Xe[Me]:Y[Me])}var Me=arguments.length-2;if(Me===1)Ne.children=Ee;else if(1<Me){Xe=Array(Me);for(var ct=0;ct<Me;ct++)Xe[ct]=arguments[ct+2];Ne.children=Xe}return{$$typeof:i,type:M.type,key:De,ref:be,props:Ne,_owner:Ye}},Fe.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:u,_context:M},M.Consumer=M},Fe.createElement=T,Fe.createFactory=function(M){var Y=T.bind(null,M);return Y.type=M,Y},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(M){return{$$typeof:d,render:M}},Fe.isValidElement=k,Fe.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:It}},Fe.memo=function(M,Y){return{$$typeof:v,type:M,compare:Y===void 0?null:Y}},Fe.startTransition=function(M){var Y=oe.transition;oe.transition={};try{M()}finally{oe.transition=Y}},Fe.unstable_act=ue,Fe.useCallback=function(M,Y){return $e.current.useCallback(M,Y)},Fe.useContext=function(M){return $e.current.useContext(M)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(M){return $e.current.useDeferredValue(M)},Fe.useEffect=function(M,Y){return $e.current.useEffect(M,Y)},Fe.useId=function(){return $e.current.useId()},Fe.useImperativeHandle=function(M,Y,Ee){return $e.current.useImperativeHandle(M,Y,Ee)},Fe.useInsertionEffect=function(M,Y){return $e.current.useInsertionEffect(M,Y)},Fe.useLayoutEffect=function(M,Y){return $e.current.useLayoutEffect(M,Y)},Fe.useMemo=function(M,Y){return $e.current.useMemo(M,Y)},Fe.useReducer=function(M,Y,Ee){return $e.current.useReducer(M,Y,Ee)},Fe.useRef=function(M){return $e.current.useRef(M)},Fe.useState=function(M){return $e.current.useState(M)},Fe.useSyncExternalStore=function(M,Y,Ee){return $e.current.useSyncExternalStore(M,Y,Ee)},Fe.useTransition=function(){return $e.current.useTransition()},Fe.version="18.3.1",Fe}var Qp;function Yh(){return Qp||(Qp=1,ah.exports=v_()),ah.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function __(){if(Gp)return la;Gp=1;var i=Yh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(d,g,v){var E,I={},S=null,x=null;v!==void 0&&(S=""+v),g.key!==void 0&&(S=""+g.key),g.ref!==void 0&&(x=g.ref);for(E in g)s.call(g,E)&&!u.hasOwnProperty(E)&&(I[E]=g[E]);if(d&&d.defaultProps)for(E in g=d.defaultProps,g)I[E]===void 0&&(I[E]=g[E]);return{$$typeof:e,type:d,key:S,ref:x,props:I,_owner:a.current}}return la.Fragment=n,la.jsx=h,la.jsxs=h,la}var Yp;function E_(){return Yp||(Yp=1,oh.exports=__()),oh.exports}var Ct=E_(),G=Yh();const w_=Tg(G);var Wl={},lh={exports:{}},An={},uh={exports:{}},ch={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function T_(){return Xp||(Xp=1,function(i){function e(oe,Te){var ue=oe.length;oe.push(Te);e:for(;0<ue;){var M=ue-1>>>1,Y=oe[M];if(0<a(Y,Te))oe[M]=Te,oe[ue]=Y,ue=M;else break e}}function n(oe){return oe.length===0?null:oe[0]}function s(oe){if(oe.length===0)return null;var Te=oe[0],ue=oe.pop();if(ue!==Te){oe[0]=ue;e:for(var M=0,Y=oe.length,Ee=Y>>>1;M<Ee;){var Ne=2*(M+1)-1,De=oe[Ne],be=Ne+1,Ye=oe[be];if(0>a(De,ue))be<Y&&0>a(Ye,De)?(oe[M]=Ye,oe[be]=ue,M=be):(oe[M]=De,oe[Ne]=ue,M=Ne);else if(be<Y&&0>a(Ye,ue))oe[M]=Ye,oe[be]=ue,M=be;else break e}}return Te}function a(oe,Te){var ue=oe.sortIndex-Te.sortIndex;return ue!==0?ue:oe.id-Te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var g=[],v=[],E=1,I=null,S=3,x=!1,b=!1,q=!1,$=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function re(oe){for(var Te=n(v);Te!==null;){if(Te.callback===null)s(v);else if(Te.startTime<=oe)s(v),Te.sortIndex=Te.expirationTime,e(g,Te);else break;Te=n(v)}}function pe(oe){if(q=!1,re(oe),!b)if(n(g)!==null)b=!0,It(U);else{var Te=n(v);Te!==null&&$e(pe,Te.startTime-oe)}}function U(oe,Te){b=!1,q&&(q=!1,K(T),T=-1),x=!0;var ue=S;try{for(re(Te),I=n(g);I!==null&&(!(I.expirationTime>Te)||oe&&!V());){var M=I.callback;if(typeof M=="function"){I.callback=null,S=I.priorityLevel;var Y=M(I.expirationTime<=Te);Te=i.unstable_now(),typeof Y=="function"?I.callback=Y:I===n(g)&&s(g),re(Te)}else s(g);I=n(g)}if(I!==null)var Ee=!0;else{var Ne=n(v);Ne!==null&&$e(pe,Ne.startTime-Te),Ee=!1}return Ee}finally{I=null,S=ue,x=!1}}var ce=!1,P=null,T=-1,R=5,k=-1;function V(){return!(i.unstable_now()-k<R)}function F(){if(P!==null){var oe=i.unstable_now();k=oe;var Te=!0;try{Te=P(!0,oe)}finally{Te?A():(ce=!1,P=null)}}else ce=!1}var A;if(typeof se=="function")A=function(){se(F)};else if(typeof MessageChannel<"u"){var lt=new MessageChannel,je=lt.port2;lt.port1.onmessage=F,A=function(){je.postMessage(null)}}else A=function(){$(F,0)};function It(oe){P=oe,ce||(ce=!0,A())}function $e(oe,Te){T=$(function(){oe(i.unstable_now())},Te)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(oe){oe.callback=null},i.unstable_continueExecution=function(){b||x||(b=!0,It(U))},i.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<oe?Math.floor(1e3/oe):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_getFirstCallbackNode=function(){return n(g)},i.unstable_next=function(oe){switch(S){case 1:case 2:case 3:var Te=3;break;default:Te=S}var ue=S;S=Te;try{return oe()}finally{S=ue}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(oe,Te){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var ue=S;S=oe;try{return Te()}finally{S=ue}},i.unstable_scheduleCallback=function(oe,Te,ue){var M=i.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?M+ue:M):ue=M,oe){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ue+Y,oe={id:E++,callback:Te,priorityLevel:oe,startTime:ue,expirationTime:Y,sortIndex:-1},ue>M?(oe.sortIndex=ue,e(v,oe),n(g)===null&&oe===n(v)&&(q?(K(T),T=-1):q=!0,$e(pe,ue-M))):(oe.sortIndex=Y,e(g,oe),b||x||(b=!0,It(U))),oe},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(oe){var Te=S;return function(){var ue=S;S=Te;try{return oe.apply(this,arguments)}finally{S=ue}}}}(ch)),ch}var Jp;function S_(){return Jp||(Jp=1,uh.exports=T_()),uh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function I_(){if(Zp)return An;Zp=1;var i=Yh(),e=S_();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function u(t,r){h(t,r),h(t+"Capture",r)}function h(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},I={};function S(t){return g.call(I,t)?!0:g.call(E,t)?!1:v.test(t)?I[t]=!0:(E[t]=!0,!1)}function x(t,r,o,c){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function b(t,r,o,c){if(r===null||typeof r>"u"||x(t,r,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function q(t,r,o,c,f,m,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=m,this.removeEmptyString=_}var $={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$[t]=new q(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];$[r]=new q(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){$[t]=new q(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$[t]=new q(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$[t]=new q(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){$[t]=new q(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){$[t]=new q(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){$[t]=new q(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){$[t]=new q(t,5,!1,t.toLowerCase(),null,!1,!1)});var K=/[\-:]([a-z])/g;function se(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(K,se);$[r]=new q(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(K,se);$[r]=new q(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(K,se);$[r]=new q(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){$[t]=new q(t,1,!1,t.toLowerCase(),null,!1,!1)}),$.xlinkHref=new q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){$[t]=new q(t,1,!1,t.toLowerCase(),null,!0,!0)});function re(t,r,o,c){var f=$.hasOwnProperty(r)?$[r]:null;(f!==null?f.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(b(r,o,f,c)&&(o=null),c||f===null?S(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):f.mustUseProperty?t[f.propertyName]=o===null?f.type===3?!1:"":o:(r=f.attributeName,c=f.attributeNamespace,o===null?t.removeAttribute(r):(f=f.type,o=f===3||f===4&&o===!0?"":""+o,c?t.setAttributeNS(c,r,o):t.setAttribute(r,o))))}var pe=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),ce=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),V=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),lt=Symbol.for("react.suspense_list"),je=Symbol.for("react.memo"),It=Symbol.for("react.lazy"),$e=Symbol.for("react.offscreen"),oe=Symbol.iterator;function Te(t){return t===null||typeof t!="object"?null:(t=oe&&t[oe]||t["@@iterator"],typeof t=="function"?t:null)}var ue=Object.assign,M;function Y(t){if(M===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);M=r&&r[1]||""}return`
`+M+t}var Ee=!1;function Ne(t,r){if(!t||Ee)return"";Ee=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(H){var c=H}Reflect.construct(t,[],r)}else{try{r.call()}catch(H){c=H}t.call(r.prototype)}else{try{throw Error()}catch(H){c=H}t()}}catch(H){if(H&&c&&typeof H.stack=="string"){for(var f=H.stack.split(`
`),m=c.stack.split(`
`),_=f.length-1,C=m.length-1;1<=_&&0<=C&&f[_]!==m[C];)C--;for(;1<=_&&0<=C;_--,C--)if(f[_]!==m[C]){if(_!==1||C!==1)do if(_--,C--,0>C||f[_]!==m[C]){var D=`
`+f[_].replace(" at new "," at ");return t.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",t.displayName)),D}while(1<=_&&0<=C);break}}}finally{Ee=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?Y(t):""}function De(t){switch(t.tag){case 5:return Y(t.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return t=Ne(t.type,!1),t;case 11:return t=Ne(t.type.render,!1),t;case 1:return t=Ne(t.type,!0),t;default:return""}}function be(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case P:return"Fragment";case ce:return"Portal";case R:return"Profiler";case T:return"StrictMode";case A:return"Suspense";case lt:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case V:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case F:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case je:return r=t.displayName||null,r!==null?r:be(t.type)||"Memo";case It:r=t._payload,t=t._init;try{return be(t(r))}catch{}}return null}function Ye(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(r);case 8:return r===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Xe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Me(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ct(t){var r=Me(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),c=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){c=""+_,m.call(this,_)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Un(t){t._valueTracker||(t._valueTracker=ct(t))}function si(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return t&&(c=Me(t)?t.checked?"true":"false":t.value),t=c,t!==o?(r.setValue(t),!0):!1}function en(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Fr(t,r){var o=r.checked;return ue({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function oi(t,r){var o=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;o=Xe(r.value!=null?r.value:o),t._wrapperState={initialChecked:c,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function ai(t,r){r=r.checked,r!=null&&re(t,"checked",r,!1)}function Gi(t,r){ai(t,r);var o=Xe(r.value),c=r.type;if(o!=null)c==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?li(t,r.type,o):r.hasOwnProperty("defaultValue")&&li(t,r.type,Xe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Ps(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function li(t,r,o){(r!=="number"||en(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Gn=Array.isArray;function Ht(t,r,o,c){if(t=t.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<t.length;o++)f=r.hasOwnProperty("$"+t[o].value),t[o].selected!==f&&(t[o].selected=f),f&&c&&(t[o].defaultSelected=!0)}else{for(o=""+Xe(o),r=null,f=0;f<t.length;f++){if(t[f].value===o){t[f].selected=!0,c&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function Yn(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return ue({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function br(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Gn(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Xe(o)}}function yr(t,r){var o=Xe(r.value),c=Xe(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),c!=null&&(t.defaultValue=""+c)}function yn(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function st(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wt(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?st(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var kn,Yi=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,c,f){MSApp.execUnsafeLocalFunction(function(){return t(r,o,c,f)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(kn=kn||document.createElement("div"),kn.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=kn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function qt(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var vr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_r=["Webkit","ms","Moz","O"];Object.keys(vr).forEach(function(t){_r.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),vr[r]=vr[t]})});function ui(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||vr.hasOwnProperty(t)&&vr[t]?(""+r).trim():r+"px"}function Xi(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var c=o.indexOf("--")===0,f=ui(o,r[o],c);o==="float"&&(o="cssFloat"),c?t.setProperty(o,f):t[o]=f}}var ci=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Er(t,r){if(r){if(ci[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function hi(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xn=null;function fi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ur=null,vn=null,xn=null;function Jn(t){if(t=Ko(t)){if(typeof Ur!="function")throw Error(n(280));var r=t.stateNode;r&&(r=al(r),Ur(t.stateNode,t.type,r))}}function fn(t){vn?xn?xn.push(t):xn=[t]:vn=t}function Ji(){if(vn){var t=vn,r=xn;if(xn=vn=null,Jn(t),r)for(t=0;t<r.length;t++)Jn(r[t])}}function zr(t,r){return t(r)}function N(){}var O=!1;function W(t,r,o){if(O)return t(r,o);O=!0;try{return zr(t,r,o)}finally{O=!1,(vn!==null||xn!==null)&&(N(),Ji())}}function X(t,r){var o=t.stateNode;if(o===null)return null;var c=al(o);if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var he=!1;if(d)try{var ge={};Object.defineProperty(ge,"passive",{get:function(){he=!0}}),window.addEventListener("test",ge,ge),window.removeEventListener("test",ge,ge)}catch{he=!1}function Re(t,r,o,c,f,m,_,C,D){var H=Array.prototype.slice.call(arguments,3);try{r.apply(o,H)}catch(ee){this.onError(ee)}}var fe=!1,_e=null,ae=!1,ke=null,Oe={onError:function(t){fe=!0,_e=t}};function nt(t,r,o,c,f,m,_,C,D){fe=!1,_e=null,Re.apply(Oe,arguments)}function Tt(t,r,o,c,f,m,_,C,D){if(nt.apply(this,arguments),fe){if(fe){var H=_e;fe=!1,_e=null}else throw Error(n(198));ae||(ae=!0,ke=H)}}function Ue(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function Je(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function rt(t){if(Ue(t)!==t)throw Error(n(188))}function Zn(t){var r=t.alternate;if(!r){if(r=Ue(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,c=r;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return rt(f),t;if(m===c)return rt(f),r;m=m.sibling}throw Error(n(188))}if(o.return!==c.return)o=f,c=m;else{for(var _=!1,C=f.child;C;){if(C===o){_=!0,o=f,c=m;break}if(C===c){_=!0,c=f,o=m;break}C=C.sibling}if(!_){for(C=m.child;C;){if(C===o){_=!0,o=m,c=f;break}if(C===c){_=!0,c=m,o=f;break}C=C.sibling}if(!_)throw Error(n(189))}}if(o.alternate!==c)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function er(t){return t=Zn(t),t!==null?tn(t):null}function tn(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=tn(t);if(r!==null)return r;t=t.sibling}return null}var Wt=e.unstable_scheduleCallback,Br=e.unstable_cancelCallback,wr=e.unstable_shouldYield,tr=e.unstable_requestPaint,it=e.unstable_now,jr=e.unstable_getCurrentPriorityLevel,He=e.unstable_ImmediatePriority,ht=e.unstable_UserBlockingPriority,Kt=e.unstable_NormalPriority,nr=e.unstable_LowPriority,ft=e.unstable_IdlePriority,_n=null,nn=null;function ks(t){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(_n,t,void 0,(t.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:Ua,Do=Math.log,ba=Math.LN2;function Ua(t){return t>>>=0,t===0?32:31-(Do(t)/ba|0)|0}var xs=64,Ds=4194304;function di(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Zi(t,r){var o=t.pendingLanes;if(o===0)return 0;var c=0,f=t.suspendedLanes,m=t.pingedLanes,_=o&268435455;if(_!==0){var C=_&~f;C!==0?c=di(C):(m&=_,m!==0&&(c=di(m)))}else _=o&~f,_!==0?c=di(_):m!==0&&(c=di(m));if(c===0)return 0;if(r!==0&&r!==c&&!(r&f)&&(f=c&-c,m=r&-r,f>=m||f===16&&(m&4194240)!==0))return r;if(c&4&&(c|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=c;0<r;)o=31-dn(r),f=1<<o,c|=t[o],r&=~f;return c}function Ou(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $r(t,r){for(var o=t.suspendedLanes,c=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes;0<m;){var _=31-dn(m),C=1<<_,D=f[_];D===-1?(!(C&o)||C&c)&&(f[_]=Ou(C,r)):D<=r&&(t.expiredLanes|=C),m&=~C}}function Dn(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function es(){var t=xs;return xs<<=1,!(xs&4194240)&&(xs=64),t}function pi(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function mi(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-dn(r),t[r]=o}function at(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<o;){var f=31-dn(o),m=1<<f;r[f]=0,c[f]=-1,t[f]=-1,o&=~m}}function gi(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var c=31-dn(o),f=1<<c;f&r|t[c]&r&&(t[c]|=r),o&=~f}}var ze=0;function yi(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var za,Ns,Ba,ja,$a,No=!1,Tr=[],Qt=null,rr=null,ir=null,vi=new Map,zn=new Map,Sr=[],Fu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ha(t,r){switch(t){case"focusin":case"focusout":Qt=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":vi.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":zn.delete(r.pointerId)}}function En(t,r,o,c,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},r!==null&&(r=Ko(r),r!==null&&Ns(r)),t):(t.eventSystemFlags|=c,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function bu(t,r,o,c,f){switch(r){case"focusin":return Qt=En(Qt,t,r,o,c,f),!0;case"dragenter":return rr=En(rr,t,r,o,c,f),!0;case"mouseover":return ir=En(ir,t,r,o,c,f),!0;case"pointerover":var m=f.pointerId;return vi.set(m,En(vi.get(m)||null,t,r,o,c,f)),!0;case"gotpointercapture":return m=f.pointerId,zn.set(m,En(zn.get(m)||null,t,r,o,c,f)),!0}return!1}function qa(t){var r=ss(t.target);if(r!==null){var o=Ue(r);if(o!==null){if(r=o.tag,r===13){if(r=Je(o),r!==null){t.blockedOn=r,$a(t.priority,function(){Ba(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hr(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=Vs(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var c=new o.constructor(o.type,o);Xn=c,o.target.dispatchEvent(c),Xn=null}else return r=Ko(o),r!==null&&Ns(r),t.blockedOn=o,!1;r.shift()}return!0}function ts(t,r,o){Hr(t)&&o.delete(r)}function Wa(){No=!1,Qt!==null&&Hr(Qt)&&(Qt=null),rr!==null&&Hr(rr)&&(rr=null),ir!==null&&Hr(ir)&&(ir=null),vi.forEach(ts),zn.forEach(ts)}function sr(t,r){t.blockedOn===r&&(t.blockedOn=null,No||(No=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Wa)))}function or(t){function r(f){return sr(f,t)}if(0<Tr.length){sr(Tr[0],t);for(var o=1;o<Tr.length;o++){var c=Tr[o];c.blockedOn===t&&(c.blockedOn=null)}}for(Qt!==null&&sr(Qt,t),rr!==null&&sr(rr,t),ir!==null&&sr(ir,t),vi.forEach(r),zn.forEach(r),o=0;o<Sr.length;o++)c=Sr[o],c.blockedOn===t&&(c.blockedOn=null);for(;0<Sr.length&&(o=Sr[0],o.blockedOn===null);)qa(o),o.blockedOn===null&&Sr.shift()}var qr=pe.ReactCurrentBatchConfig,_i=!0;function gt(t,r,o,c){var f=ze,m=qr.transition;qr.transition=null;try{ze=1,Vo(t,r,o,c)}finally{ze=f,qr.transition=m}}function Uu(t,r,o,c){var f=ze,m=qr.transition;qr.transition=null;try{ze=4,Vo(t,r,o,c)}finally{ze=f,qr.transition=m}}function Vo(t,r,o,c){if(_i){var f=Vs(t,r,o,c);if(f===null)Yu(t,r,c,ns,o),Ha(t,c);else if(bu(f,t,r,o,c))c.stopPropagation();else if(Ha(t,c),r&4&&-1<Fu.indexOf(t)){for(;f!==null;){var m=Ko(f);if(m!==null&&za(m),m=Vs(t,r,o,c),m===null&&Yu(t,r,c,ns,o),m===f)break;f=m}f!==null&&c.stopPropagation()}else Yu(t,r,c,null,o)}}var ns=null;function Vs(t,r,o,c){if(ns=null,t=fi(c),t=ss(t),t!==null)if(r=Ue(t),r===null)t=null;else if(o=r.tag,o===13){if(t=Je(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return ns=t,null}function Lo(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jr()){case He:return 1;case ht:return 4;case Kt:case nr:return 16;case ft:return 536870912;default:return 16}default:return 16}}var Nn=null,Ls=null,wn=null;function Mo(){if(wn)return wn;var t,r=Ls,o=r.length,c,f="value"in Nn?Nn.value:Nn.textContent,m=f.length;for(t=0;t<o&&r[t]===f[t];t++);var _=o-t;for(c=1;c<=_&&r[o-c]===f[m-c];c++);return wn=f.slice(t,1<c?1-c:void 0)}function Ms(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Ir(){return!0}function Oo(){return!1}function Gt(t){function r(o,c,f,m,_){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(o=t[C],this[C]=o?o(m):m[C]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ir:Oo,this.isPropagationStopped=Oo,this}return ue(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ir)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ir)},persist:function(){},isPersistent:Ir}),r}var ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Os=Gt(ar),Rr=ue({},ar,{view:0,detail:0}),zu=Gt(Rr),Fs,Wr,Ei,rs=ue({},Rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ei&&(Ei&&t.type==="mousemove"?(Fs=t.screenX-Ei.screenX,Wr=t.screenY-Ei.screenY):Wr=Fs=0,Ei=t),Fs)},movementY:function(t){return"movementY"in t?t.movementY:Wr}}),bs=Gt(rs),Fo=ue({},rs,{dataTransfer:0}),Ka=Gt(Fo),Us=ue({},Rr,{relatedTarget:0}),zs=Gt(Us),Qa=ue({},ar,{animationName:0,elapsedTime:0,pseudoElement:0}),Kr=Gt(Qa),Ga=ue({},ar,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ya=Gt(Ga),Xa=ue({},ar,{data:0}),bo=Gt(Xa),Bs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ja={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Za(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Ja[t])?!!r[t]:!1}function Cr(){return Za}var l=ue({},Rr,{key:function(t){if(t.key){var r=Bs[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ms(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cr,charCode:function(t){return t.type==="keypress"?Ms(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ms(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),p=Gt(l),y=ue({},rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w=Gt(y),z=ue({},Rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cr}),Q=Gt(z),le=ue({},ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),ot=Gt(le),Vt=ue({},rs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qe=Gt(Vt),Ft=[9,13,27,32],kt=d&&"CompositionEvent"in window,Bn=null;d&&"documentMode"in document&&(Bn=document.documentMode);var Vn=d&&"TextEvent"in window&&!Bn,is=d&&(!kt||Bn&&8<Bn&&11>=Bn),js=" ",Bf=!1;function jf(t,r){switch(t){case"keyup":return Ft.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $f(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $s=!1;function gv(t,r){switch(t){case"compositionend":return $f(r);case"keypress":return r.which!==32?null:(Bf=!0,js);case"textInput":return t=r.data,t===js&&Bf?null:t;default:return null}}function yv(t,r){if($s)return t==="compositionend"||!kt&&jf(t,r)?(t=Mo(),wn=Ls=Nn=null,$s=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return is&&r.locale!=="ko"?null:r.data;default:return null}}var vv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!vv[t.type]:r==="textarea"}function qf(t,r,o,c){fn(c),r=il(r,"onChange"),0<r.length&&(o=new Os("onChange","change",null,o,c),t.push({event:o,listeners:r}))}var Uo=null,zo=null;function _v(t){ud(t,0)}function el(t){var r=Qs(t);if(si(r))return t}function Ev(t,r){if(t==="change")return r}var Wf=!1;if(d){var Bu;if(d){var ju="oninput"in document;if(!ju){var Kf=document.createElement("div");Kf.setAttribute("oninput","return;"),ju=typeof Kf.oninput=="function"}Bu=ju}else Bu=!1;Wf=Bu&&(!document.documentMode||9<document.documentMode)}function Qf(){Uo&&(Uo.detachEvent("onpropertychange",Gf),zo=Uo=null)}function Gf(t){if(t.propertyName==="value"&&el(zo)){var r=[];qf(r,zo,t,fi(t)),W(_v,r)}}function wv(t,r,o){t==="focusin"?(Qf(),Uo=r,zo=o,Uo.attachEvent("onpropertychange",Gf)):t==="focusout"&&Qf()}function Tv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return el(zo)}function Sv(t,r){if(t==="click")return el(r)}function Iv(t,r){if(t==="input"||t==="change")return el(r)}function Rv(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var lr=typeof Object.is=="function"?Object.is:Rv;function Bo(t,r){if(lr(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!g.call(r,f)||!lr(t[f],r[f]))return!1}return!0}function Yf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xf(t,r){var o=Yf(t);t=0;for(var c;o;){if(o.nodeType===3){if(c=t+o.textContent.length,t<=r&&c>=r)return{node:o,offset:r-t};t=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Yf(o)}}function Jf(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Jf(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Zf(){for(var t=window,r=en();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=en(t.document)}return r}function $u(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Cv(t){var r=Zf(),o=t.focusedElem,c=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&Jf(o.ownerDocument.documentElement,o)){if(c!==null&&$u(o)){if(r=c.start,t=c.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var f=o.textContent.length,m=Math.min(c.start,f);c=c.end===void 0?m:Math.min(c.end,f),!t.extend&&m>c&&(f=c,c=m,m=f),f=Xf(o,m);var _=Xf(o,c);f&&_&&(t.rangeCount!==1||t.anchorNode!==f.node||t.anchorOffset!==f.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(f.node,f.offset),t.removeAllRanges(),m>c?(t.addRange(r),t.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Av=d&&"documentMode"in document&&11>=document.documentMode,Hs=null,Hu=null,jo=null,qu=!1;function ed(t,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;qu||Hs==null||Hs!==en(c)||(c=Hs,"selectionStart"in c&&$u(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),jo&&Bo(jo,c)||(jo=c,c=il(Hu,"onSelect"),0<c.length&&(r=new Os("onSelect","select",null,r,o),t.push({event:r,listeners:c}),r.target=Hs)))}function tl(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var qs={animationend:tl("Animation","AnimationEnd"),animationiteration:tl("Animation","AnimationIteration"),animationstart:tl("Animation","AnimationStart"),transitionend:tl("Transition","TransitionEnd")},Wu={},td={};d&&(td=document.createElement("div").style,"AnimationEvent"in window||(delete qs.animationend.animation,delete qs.animationiteration.animation,delete qs.animationstart.animation),"TransitionEvent"in window||delete qs.transitionend.transition);function nl(t){if(Wu[t])return Wu[t];if(!qs[t])return t;var r=qs[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in td)return Wu[t]=r[o];return t}var nd=nl("animationend"),rd=nl("animationiteration"),id=nl("animationstart"),sd=nl("transitionend"),od=new Map,ad="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wi(t,r){od.set(t,r),u(r,[t])}for(var Ku=0;Ku<ad.length;Ku++){var Qu=ad[Ku],Pv=Qu.toLowerCase(),kv=Qu[0].toUpperCase()+Qu.slice(1);wi(Pv,"on"+kv)}wi(nd,"onAnimationEnd"),wi(rd,"onAnimationIteration"),wi(id,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(sd,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xv=new Set("cancel close invalid load scroll toggle".split(" ").concat($o));function ld(t,r,o){var c=t.type||"unknown-event";t.currentTarget=o,Tt(c,r,void 0,t),t.currentTarget=null}function ud(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var c=t[o],f=c.event;c=c.listeners;e:{var m=void 0;if(r)for(var _=c.length-1;0<=_;_--){var C=c[_],D=C.instance,H=C.currentTarget;if(C=C.listener,D!==m&&f.isPropagationStopped())break e;ld(f,C,H),m=D}else for(_=0;_<c.length;_++){if(C=c[_],D=C.instance,H=C.currentTarget,C=C.listener,D!==m&&f.isPropagationStopped())break e;ld(f,C,H),m=D}}}if(ae)throw t=ke,ae=!1,ke=null,t}function dt(t,r){var o=r[nc];o===void 0&&(o=r[nc]=new Set);var c=t+"__bubble";o.has(c)||(cd(r,t,2,!1),o.add(c))}function Gu(t,r,o){var c=0;r&&(c|=4),cd(o,t,c,r)}var rl="_reactListening"+Math.random().toString(36).slice(2);function Ho(t){if(!t[rl]){t[rl]=!0,s.forEach(function(o){o!=="selectionchange"&&(xv.has(o)||Gu(o,!1,t),Gu(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[rl]||(r[rl]=!0,Gu("selectionchange",!1,r))}}function cd(t,r,o,c){switch(Lo(r)){case 1:var f=gt;break;case 4:f=Uu;break;default:f=Vo}o=f.bind(null,r,o,t),f=void 0,!he||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),c?f!==void 0?t.addEventListener(r,o,{capture:!0,passive:f}):t.addEventListener(r,o,!0):f!==void 0?t.addEventListener(r,o,{passive:f}):t.addEventListener(r,o,!1)}function Yu(t,r,o,c,f){var m=c;if(!(r&1)&&!(r&2)&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var C=c.stateNode.containerInfo;if(C===f||C.nodeType===8&&C.parentNode===f)break;if(_===4)for(_=c.return;_!==null;){var D=_.tag;if((D===3||D===4)&&(D=_.stateNode.containerInfo,D===f||D.nodeType===8&&D.parentNode===f))return;_=_.return}for(;C!==null;){if(_=ss(C),_===null)return;if(D=_.tag,D===5||D===6){c=m=_;continue e}C=C.parentNode}}c=c.return}W(function(){var H=m,ee=fi(o),te=[];e:{var Z=od.get(t);if(Z!==void 0){var de=Os,we=t;switch(t){case"keypress":if(Ms(o)===0)break e;case"keydown":case"keyup":de=p;break;case"focusin":we="focus",de=zs;break;case"focusout":we="blur",de=zs;break;case"beforeblur":case"afterblur":de=zs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=bs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Ka;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Q;break;case nd:case rd:case id:de=Kr;break;case sd:de=ot;break;case"scroll":de=zu;break;case"wheel":de=qe;break;case"copy":case"cut":case"paste":de=Ya;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=w}var Se=(r&4)!==0,Rt=!Se&&t==="scroll",B=Se?Z!==null?Z+"Capture":null:Z;Se=[];for(var L=H,j;L!==null;){j=L;var ie=j.stateNode;if(j.tag===5&&ie!==null&&(j=ie,B!==null&&(ie=X(L,B),ie!=null&&Se.push(qo(L,ie,j)))),Rt)break;L=L.return}0<Se.length&&(Z=new de(Z,we,null,o,ee),te.push({event:Z,listeners:Se}))}}if(!(r&7)){e:{if(Z=t==="mouseover"||t==="pointerover",de=t==="mouseout"||t==="pointerout",Z&&o!==Xn&&(we=o.relatedTarget||o.fromElement)&&(ss(we)||we[Qr]))break e;if((de||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,de?(we=o.relatedTarget||o.toElement,de=H,we=we?ss(we):null,we!==null&&(Rt=Ue(we),we!==Rt||we.tag!==5&&we.tag!==6)&&(we=null)):(de=null,we=H),de!==we)){if(Se=bs,ie="onMouseLeave",B="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(Se=w,ie="onPointerLeave",B="onPointerEnter",L="pointer"),Rt=de==null?Z:Qs(de),j=we==null?Z:Qs(we),Z=new Se(ie,L+"leave",de,o,ee),Z.target=Rt,Z.relatedTarget=j,ie=null,ss(ee)===H&&(Se=new Se(B,L+"enter",we,o,ee),Se.target=j,Se.relatedTarget=Rt,ie=Se),Rt=ie,de&&we)t:{for(Se=de,B=we,L=0,j=Se;j;j=Ws(j))L++;for(j=0,ie=B;ie;ie=Ws(ie))j++;for(;0<L-j;)Se=Ws(Se),L--;for(;0<j-L;)B=Ws(B),j--;for(;L--;){if(Se===B||B!==null&&Se===B.alternate)break t;Se=Ws(Se),B=Ws(B)}Se=null}else Se=null;de!==null&&hd(te,Z,de,Se,!1),we!==null&&Rt!==null&&hd(te,Rt,we,Se,!0)}}e:{if(Z=H?Qs(H):window,de=Z.nodeName&&Z.nodeName.toLowerCase(),de==="select"||de==="input"&&Z.type==="file")var Ie=Ev;else if(Hf(Z))if(Wf)Ie=Iv;else{Ie=Tv;var Ae=wv}else(de=Z.nodeName)&&de.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(Ie=Sv);if(Ie&&(Ie=Ie(t,H))){qf(te,Ie,o,ee);break e}Ae&&Ae(t,Z,H),t==="focusout"&&(Ae=Z._wrapperState)&&Ae.controlled&&Z.type==="number"&&li(Z,"number",Z.value)}switch(Ae=H?Qs(H):window,t){case"focusin":(Hf(Ae)||Ae.contentEditable==="true")&&(Hs=Ae,Hu=H,jo=null);break;case"focusout":jo=Hu=Hs=null;break;case"mousedown":qu=!0;break;case"contextmenu":case"mouseup":case"dragend":qu=!1,ed(te,o,ee);break;case"selectionchange":if(Av)break;case"keydown":case"keyup":ed(te,o,ee)}var Pe;if(kt)e:{switch(t){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else $s?jf(t,o)&&(xe="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(xe="onCompositionStart");xe&&(is&&o.locale!=="ko"&&($s||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&$s&&(Pe=Mo()):(Nn=ee,Ls="value"in Nn?Nn.value:Nn.textContent,$s=!0)),Ae=il(H,xe),0<Ae.length&&(xe=new bo(xe,t,null,o,ee),te.push({event:xe,listeners:Ae}),Pe?xe.data=Pe:(Pe=$f(o),Pe!==null&&(xe.data=Pe)))),(Pe=Vn?gv(t,o):yv(t,o))&&(H=il(H,"onBeforeInput"),0<H.length&&(ee=new bo("onBeforeInput","beforeinput",null,o,ee),te.push({event:ee,listeners:H}),ee.data=Pe))}ud(te,r)})}function qo(t,r,o){return{instance:t,listener:r,currentTarget:o}}function il(t,r){for(var o=r+"Capture",c=[];t!==null;){var f=t,m=f.stateNode;f.tag===5&&m!==null&&(f=m,m=X(t,o),m!=null&&c.unshift(qo(t,m,f)),m=X(t,r),m!=null&&c.push(qo(t,m,f))),t=t.return}return c}function Ws(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function hd(t,r,o,c,f){for(var m=r._reactName,_=[];o!==null&&o!==c;){var C=o,D=C.alternate,H=C.stateNode;if(D!==null&&D===c)break;C.tag===5&&H!==null&&(C=H,f?(D=X(o,m),D!=null&&_.unshift(qo(o,D,C))):f||(D=X(o,m),D!=null&&_.push(qo(o,D,C)))),o=o.return}_.length!==0&&t.push({event:r,listeners:_})}var Dv=/\r\n?/g,Nv=/\u0000|\uFFFD/g;function fd(t){return(typeof t=="string"?t:""+t).replace(Dv,`
`).replace(Nv,"")}function sl(t,r,o){if(r=fd(r),fd(t)!==r&&o)throw Error(n(425))}function ol(){}var Xu=null,Ju=null;function Zu(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ec=typeof setTimeout=="function"?setTimeout:void 0,Vv=typeof clearTimeout=="function"?clearTimeout:void 0,dd=typeof Promise=="function"?Promise:void 0,Lv=typeof queueMicrotask=="function"?queueMicrotask:typeof dd<"u"?function(t){return dd.resolve(null).then(t).catch(Mv)}:ec;function Mv(t){setTimeout(function(){throw t})}function tc(t,r){var o=r,c=0;do{var f=o.nextSibling;if(t.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(c===0){t.removeChild(f),or(r);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=f}while(o);or(r)}function Ti(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function pd(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var Ks=Math.random().toString(36).slice(2),Ar="__reactFiber$"+Ks,Wo="__reactProps$"+Ks,Qr="__reactContainer$"+Ks,nc="__reactEvents$"+Ks,Ov="__reactListeners$"+Ks,Fv="__reactHandles$"+Ks;function ss(t){var r=t[Ar];if(r)return r;for(var o=t.parentNode;o;){if(r=o[Qr]||o[Ar]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=pd(t);t!==null;){if(o=t[Ar])return o;t=pd(t)}return r}t=o,o=t.parentNode}return null}function Ko(t){return t=t[Ar]||t[Qr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function al(t){return t[Wo]||null}var rc=[],Gs=-1;function Si(t){return{current:t}}function pt(t){0>Gs||(t.current=rc[Gs],rc[Gs]=null,Gs--)}function ut(t,r){Gs++,rc[Gs]=t.current,t.current=r}var Ii={},rn=Si(Ii),Tn=Si(!1),os=Ii;function Ys(t,r){var o=t.type.contextTypes;if(!o)return Ii;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var f={},m;for(m in o)f[m]=r[m];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=f),f}function Sn(t){return t=t.childContextTypes,t!=null}function ll(){pt(Tn),pt(rn)}function md(t,r,o){if(rn.current!==Ii)throw Error(n(168));ut(rn,r),ut(Tn,o)}function gd(t,r,o){var c=t.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var f in c)if(!(f in r))throw Error(n(108,Ye(t)||"Unknown",f));return ue({},o,c)}function ul(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ii,os=rn.current,ut(rn,t),ut(Tn,Tn.current),!0}function yd(t,r,o){var c=t.stateNode;if(!c)throw Error(n(169));o?(t=gd(t,r,os),c.__reactInternalMemoizedMergedChildContext=t,pt(Tn),pt(rn),ut(rn,t)):pt(Tn),ut(Tn,o)}var Gr=null,cl=!1,ic=!1;function vd(t){Gr===null?Gr=[t]:Gr.push(t)}function bv(t){cl=!0,vd(t)}function Ri(){if(!ic&&Gr!==null){ic=!0;var t=0,r=ze;try{var o=Gr;for(ze=1;t<o.length;t++){var c=o[t];do c=c(!0);while(c!==null)}Gr=null,cl=!1}catch(f){throw Gr!==null&&(Gr=Gr.slice(t+1)),Wt(He,Ri),f}finally{ze=r,ic=!1}}return null}var Xs=[],Js=0,hl=null,fl=0,jn=[],$n=0,as=null,Yr=1,Xr="";function ls(t,r){Xs[Js++]=fl,Xs[Js++]=hl,hl=t,fl=r}function _d(t,r,o){jn[$n++]=Yr,jn[$n++]=Xr,jn[$n++]=as,as=t;var c=Yr;t=Xr;var f=32-dn(c)-1;c&=~(1<<f),o+=1;var m=32-dn(r)+f;if(30<m){var _=f-f%5;m=(c&(1<<_)-1).toString(32),c>>=_,f-=_,Yr=1<<32-dn(r)+f|o<<f|c,Xr=m+t}else Yr=1<<m|o<<f|c,Xr=t}function sc(t){t.return!==null&&(ls(t,1),_d(t,1,0))}function oc(t){for(;t===hl;)hl=Xs[--Js],Xs[Js]=null,fl=Xs[--Js],Xs[Js]=null;for(;t===as;)as=jn[--$n],jn[$n]=null,Xr=jn[--$n],jn[$n]=null,Yr=jn[--$n],jn[$n]=null}var Ln=null,Mn=null,yt=!1,ur=null;function Ed(t,r){var o=Kn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function wd(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,Ln=t,Mn=Ti(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,Ln=t,Mn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=as!==null?{id:Yr,overflow:Xr}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=Kn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,Ln=t,Mn=null,!0):!1;default:return!1}}function ac(t){return(t.mode&1)!==0&&(t.flags&128)===0}function lc(t){if(yt){var r=Mn;if(r){var o=r;if(!wd(t,r)){if(ac(t))throw Error(n(418));r=Ti(o.nextSibling);var c=Ln;r&&wd(t,r)?Ed(c,o):(t.flags=t.flags&-4097|2,yt=!1,Ln=t)}}else{if(ac(t))throw Error(n(418));t.flags=t.flags&-4097|2,yt=!1,Ln=t}}}function Td(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ln=t}function dl(t){if(t!==Ln)return!1;if(!yt)return Td(t),yt=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Zu(t.type,t.memoizedProps)),r&&(r=Mn)){if(ac(t))throw Sd(),Error(n(418));for(;r;)Ed(t,r),r=Ti(r.nextSibling)}if(Td(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){Mn=Ti(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}Mn=null}}else Mn=Ln?Ti(t.stateNode.nextSibling):null;return!0}function Sd(){for(var t=Mn;t;)t=Ti(t.nextSibling)}function Zs(){Mn=Ln=null,yt=!1}function uc(t){ur===null?ur=[t]:ur.push(t)}var Uv=pe.ReactCurrentBatchConfig;function Qo(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var c=o.stateNode}if(!c)throw Error(n(147,t));var f=c,m=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===m?r.ref:(r=function(_){var C=f.refs;_===null?delete C[m]:C[m]=_},r._stringRef=m,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function pl(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function Id(t){var r=t._init;return r(t._payload)}function Rd(t){function r(B,L){if(t){var j=B.deletions;j===null?(B.deletions=[L],B.flags|=16):j.push(L)}}function o(B,L){if(!t)return null;for(;L!==null;)r(B,L),L=L.sibling;return null}function c(B,L){for(B=new Map;L!==null;)L.key!==null?B.set(L.key,L):B.set(L.index,L),L=L.sibling;return B}function f(B,L){return B=Vi(B,L),B.index=0,B.sibling=null,B}function m(B,L,j){return B.index=j,t?(j=B.alternate,j!==null?(j=j.index,j<L?(B.flags|=2,L):j):(B.flags|=2,L)):(B.flags|=1048576,L)}function _(B){return t&&B.alternate===null&&(B.flags|=2),B}function C(B,L,j,ie){return L===null||L.tag!==6?(L=eh(j,B.mode,ie),L.return=B,L):(L=f(L,j),L.return=B,L)}function D(B,L,j,ie){var Ie=j.type;return Ie===P?ee(B,L,j.props.children,ie,j.key):L!==null&&(L.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===It&&Id(Ie)===L.type)?(ie=f(L,j.props),ie.ref=Qo(B,L,j),ie.return=B,ie):(ie=bl(j.type,j.key,j.props,null,B.mode,ie),ie.ref=Qo(B,L,j),ie.return=B,ie)}function H(B,L,j,ie){return L===null||L.tag!==4||L.stateNode.containerInfo!==j.containerInfo||L.stateNode.implementation!==j.implementation?(L=th(j,B.mode,ie),L.return=B,L):(L=f(L,j.children||[]),L.return=B,L)}function ee(B,L,j,ie,Ie){return L===null||L.tag!==7?(L=gs(j,B.mode,ie,Ie),L.return=B,L):(L=f(L,j),L.return=B,L)}function te(B,L,j){if(typeof L=="string"&&L!==""||typeof L=="number")return L=eh(""+L,B.mode,j),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case U:return j=bl(L.type,L.key,L.props,null,B.mode,j),j.ref=Qo(B,null,L),j.return=B,j;case ce:return L=th(L,B.mode,j),L.return=B,L;case It:var ie=L._init;return te(B,ie(L._payload),j)}if(Gn(L)||Te(L))return L=gs(L,B.mode,j,null),L.return=B,L;pl(B,L)}return null}function Z(B,L,j,ie){var Ie=L!==null?L.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return Ie!==null?null:C(B,L,""+j,ie);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case U:return j.key===Ie?D(B,L,j,ie):null;case ce:return j.key===Ie?H(B,L,j,ie):null;case It:return Ie=j._init,Z(B,L,Ie(j._payload),ie)}if(Gn(j)||Te(j))return Ie!==null?null:ee(B,L,j,ie,null);pl(B,j)}return null}function de(B,L,j,ie,Ie){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return B=B.get(j)||null,C(L,B,""+ie,Ie);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case U:return B=B.get(ie.key===null?j:ie.key)||null,D(L,B,ie,Ie);case ce:return B=B.get(ie.key===null?j:ie.key)||null,H(L,B,ie,Ie);case It:var Ae=ie._init;return de(B,L,j,Ae(ie._payload),Ie)}if(Gn(ie)||Te(ie))return B=B.get(j)||null,ee(L,B,ie,Ie,null);pl(L,ie)}return null}function we(B,L,j,ie){for(var Ie=null,Ae=null,Pe=L,xe=L=0,zt=null;Pe!==null&&xe<j.length;xe++){Pe.index>xe?(zt=Pe,Pe=null):zt=Pe.sibling;var tt=Z(B,Pe,j[xe],ie);if(tt===null){Pe===null&&(Pe=zt);break}t&&Pe&&tt.alternate===null&&r(B,Pe),L=m(tt,L,xe),Ae===null?Ie=tt:Ae.sibling=tt,Ae=tt,Pe=zt}if(xe===j.length)return o(B,Pe),yt&&ls(B,xe),Ie;if(Pe===null){for(;xe<j.length;xe++)Pe=te(B,j[xe],ie),Pe!==null&&(L=m(Pe,L,xe),Ae===null?Ie=Pe:Ae.sibling=Pe,Ae=Pe);return yt&&ls(B,xe),Ie}for(Pe=c(B,Pe);xe<j.length;xe++)zt=de(Pe,B,xe,j[xe],ie),zt!==null&&(t&&zt.alternate!==null&&Pe.delete(zt.key===null?xe:zt.key),L=m(zt,L,xe),Ae===null?Ie=zt:Ae.sibling=zt,Ae=zt);return t&&Pe.forEach(function(Li){return r(B,Li)}),yt&&ls(B,xe),Ie}function Se(B,L,j,ie){var Ie=Te(j);if(typeof Ie!="function")throw Error(n(150));if(j=Ie.call(j),j==null)throw Error(n(151));for(var Ae=Ie=null,Pe=L,xe=L=0,zt=null,tt=j.next();Pe!==null&&!tt.done;xe++,tt=j.next()){Pe.index>xe?(zt=Pe,Pe=null):zt=Pe.sibling;var Li=Z(B,Pe,tt.value,ie);if(Li===null){Pe===null&&(Pe=zt);break}t&&Pe&&Li.alternate===null&&r(B,Pe),L=m(Li,L,xe),Ae===null?Ie=Li:Ae.sibling=Li,Ae=Li,Pe=zt}if(tt.done)return o(B,Pe),yt&&ls(B,xe),Ie;if(Pe===null){for(;!tt.done;xe++,tt=j.next())tt=te(B,tt.value,ie),tt!==null&&(L=m(tt,L,xe),Ae===null?Ie=tt:Ae.sibling=tt,Ae=tt);return yt&&ls(B,xe),Ie}for(Pe=c(B,Pe);!tt.done;xe++,tt=j.next())tt=de(Pe,B,xe,tt.value,ie),tt!==null&&(t&&tt.alternate!==null&&Pe.delete(tt.key===null?xe:tt.key),L=m(tt,L,xe),Ae===null?Ie=tt:Ae.sibling=tt,Ae=tt);return t&&Pe.forEach(function(y_){return r(B,y_)}),yt&&ls(B,xe),Ie}function Rt(B,L,j,ie){if(typeof j=="object"&&j!==null&&j.type===P&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case U:e:{for(var Ie=j.key,Ae=L;Ae!==null;){if(Ae.key===Ie){if(Ie=j.type,Ie===P){if(Ae.tag===7){o(B,Ae.sibling),L=f(Ae,j.props.children),L.return=B,B=L;break e}}else if(Ae.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===It&&Id(Ie)===Ae.type){o(B,Ae.sibling),L=f(Ae,j.props),L.ref=Qo(B,Ae,j),L.return=B,B=L;break e}o(B,Ae);break}else r(B,Ae);Ae=Ae.sibling}j.type===P?(L=gs(j.props.children,B.mode,ie,j.key),L.return=B,B=L):(ie=bl(j.type,j.key,j.props,null,B.mode,ie),ie.ref=Qo(B,L,j),ie.return=B,B=ie)}return _(B);case ce:e:{for(Ae=j.key;L!==null;){if(L.key===Ae)if(L.tag===4&&L.stateNode.containerInfo===j.containerInfo&&L.stateNode.implementation===j.implementation){o(B,L.sibling),L=f(L,j.children||[]),L.return=B,B=L;break e}else{o(B,L);break}else r(B,L);L=L.sibling}L=th(j,B.mode,ie),L.return=B,B=L}return _(B);case It:return Ae=j._init,Rt(B,L,Ae(j._payload),ie)}if(Gn(j))return we(B,L,j,ie);if(Te(j))return Se(B,L,j,ie);pl(B,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,L!==null&&L.tag===6?(o(B,L.sibling),L=f(L,j),L.return=B,B=L):(o(B,L),L=eh(j,B.mode,ie),L.return=B,B=L),_(B)):o(B,L)}return Rt}var eo=Rd(!0),Cd=Rd(!1),ml=Si(null),gl=null,to=null,cc=null;function hc(){cc=to=gl=null}function fc(t){var r=ml.current;pt(ml),t._currentValue=r}function dc(t,r,o){for(;t!==null;){var c=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),t===o)break;t=t.return}}function no(t,r){gl=t,cc=to=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(In=!0),t.firstContext=null)}function Hn(t){var r=t._currentValue;if(cc!==t)if(t={context:t,memoizedValue:r,next:null},to===null){if(gl===null)throw Error(n(308));to=t,gl.dependencies={lanes:0,firstContext:t}}else to=to.next=t;return r}var us=null;function pc(t){us===null?us=[t]:us.push(t)}function Ad(t,r,o,c){var f=r.interleaved;return f===null?(o.next=o,pc(r)):(o.next=f.next,f.next=o),r.interleaved=o,Jr(t,c)}function Jr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Ci=!1;function mc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Ai(t,r,o){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,Ze&2){var f=c.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),c.pending=r,Jr(t,o)}return f=c.interleaved,f===null?(r.next=r,pc(c)):(r.next=f.next,f.next=r),c.interleaved=r,Jr(t,o)}function yl(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var c=r.lanes;c&=t.pendingLanes,o|=c,r.lanes=o,gi(t,o)}}function kd(t,r){var o=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};m===null?f=m=_:m=m.next=_,o=o.next}while(o!==null);m===null?f=m=r:m=m.next=r}else f=m=r;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,effects:c.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function vl(t,r,o,c){var f=t.updateQueue;Ci=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var D=C,H=D.next;D.next=null,_===null?m=H:_.next=H,_=D;var ee=t.alternate;ee!==null&&(ee=ee.updateQueue,C=ee.lastBaseUpdate,C!==_&&(C===null?ee.firstBaseUpdate=H:C.next=H,ee.lastBaseUpdate=D))}if(m!==null){var te=f.baseState;_=0,ee=H=D=null,C=m;do{var Z=C.lane,de=C.eventTime;if((c&Z)===Z){ee!==null&&(ee=ee.next={eventTime:de,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var we=t,Se=C;switch(Z=r,de=o,Se.tag){case 1:if(we=Se.payload,typeof we=="function"){te=we.call(de,te,Z);break e}te=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Se.payload,Z=typeof we=="function"?we.call(de,te,Z):we,Z==null)break e;te=ue({},te,Z);break e;case 2:Ci=!0}}C.callback!==null&&C.lane!==0&&(t.flags|=64,Z=f.effects,Z===null?f.effects=[C]:Z.push(C))}else de={eventTime:de,lane:Z,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ee===null?(H=ee=de,D=te):ee=ee.next=de,_|=Z;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;Z=C,C=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);if(ee===null&&(D=te),f.baseState=D,f.firstBaseUpdate=H,f.lastBaseUpdate=ee,r=f.shared.interleaved,r!==null){f=r;do _|=f.lane,f=f.next;while(f!==r)}else m===null&&(f.shared.lanes=0);fs|=_,t.lanes=_,t.memoizedState=te}}function xd(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var c=t[r],f=c.callback;if(f!==null){if(c.callback=null,c=o,typeof f!="function")throw Error(n(191,f));f.call(c)}}}var Go={},Pr=Si(Go),Yo=Si(Go),Xo=Si(Go);function cs(t){if(t===Go)throw Error(n(174));return t}function gc(t,r){switch(ut(Xo,r),ut(Yo,t),ut(Pr,Go),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:wt(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=wt(r,t)}pt(Pr),ut(Pr,r)}function ro(){pt(Pr),pt(Yo),pt(Xo)}function Dd(t){cs(Xo.current);var r=cs(Pr.current),o=wt(r,t.type);r!==o&&(ut(Yo,t),ut(Pr,o))}function yc(t){Yo.current===t&&(pt(Pr),pt(Yo))}var vt=Si(0);function _l(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var vc=[];function _c(){for(var t=0;t<vc.length;t++)vc[t]._workInProgressVersionPrimary=null;vc.length=0}var El=pe.ReactCurrentDispatcher,Ec=pe.ReactCurrentBatchConfig,hs=0,_t=null,Lt=null,bt=null,wl=!1,Jo=!1,Zo=0,zv=0;function sn(){throw Error(n(321))}function wc(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!lr(t[o],r[o]))return!1;return!0}function Tc(t,r,o,c,f,m){if(hs=m,_t=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,El.current=t===null||t.memoizedState===null?Hv:qv,t=o(c,f),Jo){m=0;do{if(Jo=!1,Zo=0,25<=m)throw Error(n(301));m+=1,bt=Lt=null,r.updateQueue=null,El.current=Wv,t=o(c,f)}while(Jo)}if(El.current=Il,r=Lt!==null&&Lt.next!==null,hs=0,bt=Lt=_t=null,wl=!1,r)throw Error(n(300));return t}function Sc(){var t=Zo!==0;return Zo=0,t}function kr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?_t.memoizedState=bt=t:bt=bt.next=t,bt}function qn(){if(Lt===null){var t=_t.alternate;t=t!==null?t.memoizedState:null}else t=Lt.next;var r=bt===null?_t.memoizedState:bt.next;if(r!==null)bt=r,Lt=t;else{if(t===null)throw Error(n(310));Lt=t,t={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},bt===null?_t.memoizedState=bt=t:bt=bt.next=t}return bt}function ea(t,r){return typeof r=="function"?r(t):r}function Ic(t){var r=qn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var c=Lt,f=c.baseQueue,m=o.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}c.baseQueue=f=m,o.pending=null}if(f!==null){m=f.next,c=c.baseState;var C=_=null,D=null,H=m;do{var ee=H.lane;if((hs&ee)===ee)D!==null&&(D=D.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),c=H.hasEagerState?H.eagerState:t(c,H.action);else{var te={lane:ee,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};D===null?(C=D=te,_=c):D=D.next=te,_t.lanes|=ee,fs|=ee}H=H.next}while(H!==null&&H!==m);D===null?_=c:D.next=C,lr(c,r.memoizedState)||(In=!0),r.memoizedState=c,r.baseState=_,r.baseQueue=D,o.lastRenderedState=c}if(t=o.interleaved,t!==null){f=t;do m=f.lane,_t.lanes|=m,fs|=m,f=f.next;while(f!==t)}else f===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function Rc(t){var r=qn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var c=o.dispatch,f=o.pending,m=r.memoizedState;if(f!==null){o.pending=null;var _=f=f.next;do m=t(m,_.action),_=_.next;while(_!==f);lr(m,r.memoizedState)||(In=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),o.lastRenderedState=m}return[m,c]}function Nd(){}function Vd(t,r){var o=_t,c=qn(),f=r(),m=!lr(c.memoizedState,f);if(m&&(c.memoizedState=f,In=!0),c=c.queue,Cc(Od.bind(null,o,c,t),[t]),c.getSnapshot!==r||m||bt!==null&&bt.memoizedState.tag&1){if(o.flags|=2048,ta(9,Md.bind(null,o,c,f,r),void 0,null),Ut===null)throw Error(n(349));hs&30||Ld(o,r,f)}return f}function Ld(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=_t.updateQueue,r===null?(r={lastEffect:null,stores:null},_t.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function Md(t,r,o,c){r.value=o,r.getSnapshot=c,Fd(r)&&bd(t)}function Od(t,r,o){return o(function(){Fd(r)&&bd(t)})}function Fd(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!lr(t,o)}catch{return!0}}function bd(t){var r=Jr(t,1);r!==null&&dr(r,t,1,-1)}function Ud(t){var r=kr();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:t},r.queue=t,t=t.dispatch=$v.bind(null,_t,t),[r.memoizedState,t]}function ta(t,r,o,c){return t={tag:t,create:r,destroy:o,deps:c,next:null},r=_t.updateQueue,r===null?(r={lastEffect:null,stores:null},_t.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(c=o.next,o.next=t,t.next=c,r.lastEffect=t)),t}function zd(){return qn().memoizedState}function Tl(t,r,o,c){var f=kr();_t.flags|=t,f.memoizedState=ta(1|r,o,void 0,c===void 0?null:c)}function Sl(t,r,o,c){var f=qn();c=c===void 0?null:c;var m=void 0;if(Lt!==null){var _=Lt.memoizedState;if(m=_.destroy,c!==null&&wc(c,_.deps)){f.memoizedState=ta(r,o,m,c);return}}_t.flags|=t,f.memoizedState=ta(1|r,o,m,c)}function Bd(t,r){return Tl(8390656,8,t,r)}function Cc(t,r){return Sl(2048,8,t,r)}function jd(t,r){return Sl(4,2,t,r)}function $d(t,r){return Sl(4,4,t,r)}function Hd(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function qd(t,r,o){return o=o!=null?o.concat([t]):null,Sl(4,4,Hd.bind(null,r,t),o)}function Ac(){}function Wd(t,r){var o=qn();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&wc(r,c[1])?c[0]:(o.memoizedState=[t,r],t)}function Kd(t,r){var o=qn();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&wc(r,c[1])?c[0]:(t=t(),o.memoizedState=[t,r],t)}function Qd(t,r,o){return hs&21?(lr(o,r)||(o=es(),_t.lanes|=o,fs|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,In=!0),t.memoizedState=o)}function Bv(t,r){var o=ze;ze=o!==0&&4>o?o:4,t(!0);var c=Ec.transition;Ec.transition={};try{t(!1),r()}finally{ze=o,Ec.transition=c}}function Gd(){return qn().memoizedState}function jv(t,r,o){var c=Di(t);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},Yd(t))Xd(r,o);else if(o=Ad(t,r,o,c),o!==null){var f=gn();dr(o,t,c,f),Jd(o,r,c)}}function $v(t,r,o){var c=Di(t),f={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(Yd(t))Xd(r,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var _=r.lastRenderedState,C=m(_,o);if(f.hasEagerState=!0,f.eagerState=C,lr(C,_)){var D=r.interleaved;D===null?(f.next=f,pc(r)):(f.next=D.next,D.next=f),r.interleaved=f;return}}catch{}finally{}o=Ad(t,r,f,c),o!==null&&(f=gn(),dr(o,t,c,f),Jd(o,r,c))}}function Yd(t){var r=t.alternate;return t===_t||r!==null&&r===_t}function Xd(t,r){Jo=wl=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function Jd(t,r,o){if(o&4194240){var c=r.lanes;c&=t.pendingLanes,o|=c,r.lanes=o,gi(t,o)}}var Il={readContext:Hn,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},Hv={readContext:Hn,useCallback:function(t,r){return kr().memoizedState=[t,r===void 0?null:r],t},useContext:Hn,useEffect:Bd,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,Tl(4194308,4,Hd.bind(null,r,t),o)},useLayoutEffect:function(t,r){return Tl(4194308,4,t,r)},useInsertionEffect:function(t,r){return Tl(4,2,t,r)},useMemo:function(t,r){var o=kr();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var c=kr();return r=o!==void 0?o(r):r,c.memoizedState=c.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},c.queue=t,t=t.dispatch=jv.bind(null,_t,t),[c.memoizedState,t]},useRef:function(t){var r=kr();return t={current:t},r.memoizedState=t},useState:Ud,useDebugValue:Ac,useDeferredValue:function(t){return kr().memoizedState=t},useTransition:function(){var t=Ud(!1),r=t[0];return t=Bv.bind(null,t[1]),kr().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var c=_t,f=kr();if(yt){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),Ut===null)throw Error(n(349));hs&30||Ld(c,r,o)}f.memoizedState=o;var m={value:o,getSnapshot:r};return f.queue=m,Bd(Od.bind(null,c,m,t),[t]),c.flags|=2048,ta(9,Md.bind(null,c,m,o,r),void 0,null),o},useId:function(){var t=kr(),r=Ut.identifierPrefix;if(yt){var o=Xr,c=Yr;o=(c&~(1<<32-dn(c)-1)).toString(32)+o,r=":"+r+"R"+o,o=Zo++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=zv++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},qv={readContext:Hn,useCallback:Wd,useContext:Hn,useEffect:Cc,useImperativeHandle:qd,useInsertionEffect:jd,useLayoutEffect:$d,useMemo:Kd,useReducer:Ic,useRef:zd,useState:function(){return Ic(ea)},useDebugValue:Ac,useDeferredValue:function(t){var r=qn();return Qd(r,Lt.memoizedState,t)},useTransition:function(){var t=Ic(ea)[0],r=qn().memoizedState;return[t,r]},useMutableSource:Nd,useSyncExternalStore:Vd,useId:Gd,unstable_isNewReconciler:!1},Wv={readContext:Hn,useCallback:Wd,useContext:Hn,useEffect:Cc,useImperativeHandle:qd,useInsertionEffect:jd,useLayoutEffect:$d,useMemo:Kd,useReducer:Rc,useRef:zd,useState:function(){return Rc(ea)},useDebugValue:Ac,useDeferredValue:function(t){var r=qn();return Lt===null?r.memoizedState=t:Qd(r,Lt.memoizedState,t)},useTransition:function(){var t=Rc(ea)[0],r=qn().memoizedState;return[t,r]},useMutableSource:Nd,useSyncExternalStore:Vd,useId:Gd,unstable_isNewReconciler:!1};function cr(t,r){if(t&&t.defaultProps){r=ue({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function Pc(t,r,o,c){r=t.memoizedState,o=o(c,r),o=o==null?r:ue({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Rl={isMounted:function(t){return(t=t._reactInternals)?Ue(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var c=gn(),f=Di(t),m=Zr(c,f);m.payload=r,o!=null&&(m.callback=o),r=Ai(t,m,f),r!==null&&(dr(r,t,f,c),yl(r,t,f))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var c=gn(),f=Di(t),m=Zr(c,f);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=Ai(t,m,f),r!==null&&(dr(r,t,f,c),yl(r,t,f))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=gn(),c=Di(t),f=Zr(o,c);f.tag=2,r!=null&&(f.callback=r),r=Ai(t,f,c),r!==null&&(dr(r,t,c,o),yl(r,t,c))}};function Zd(t,r,o,c,f,m,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,m,_):r.prototype&&r.prototype.isPureReactComponent?!Bo(o,c)||!Bo(f,m):!0}function ep(t,r,o){var c=!1,f=Ii,m=r.contextType;return typeof m=="object"&&m!==null?m=Hn(m):(f=Sn(r)?os:rn.current,c=r.contextTypes,m=(c=c!=null)?Ys(t,f):Ii),r=new r(o,m),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Rl,t.stateNode=r,r._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=f,t.__reactInternalMemoizedMaskedChildContext=m),r}function tp(t,r,o,c){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==t&&Rl.enqueueReplaceState(r,r.state,null)}function kc(t,r,o,c){var f=t.stateNode;f.props=o,f.state=t.memoizedState,f.refs={},mc(t);var m=r.contextType;typeof m=="object"&&m!==null?f.context=Hn(m):(m=Sn(r)?os:rn.current,f.context=Ys(t,m)),f.state=t.memoizedState,m=r.getDerivedStateFromProps,typeof m=="function"&&(Pc(t,r,m,o),f.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(r=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),r!==f.state&&Rl.enqueueReplaceState(f,f.state,null),vl(t,o,f,c),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308)}function io(t,r){try{var o="",c=r;do o+=De(c),c=c.return;while(c);var f=o}catch(m){f=`
Error generating stack: `+m.message+`
`+m.stack}return{value:t,source:r,stack:f,digest:null}}function xc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function Dc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var Kv=typeof WeakMap=="function"?WeakMap:Map;function np(t,r,o){o=Zr(-1,o),o.tag=3,o.payload={element:null};var c=r.value;return o.callback=function(){Nl||(Nl=!0,Wc=c),Dc(t,r)},o}function rp(t,r,o){o=Zr(-1,o),o.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var f=r.value;o.payload=function(){return c(f)},o.callback=function(){Dc(t,r)}}var m=t.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(o.callback=function(){Dc(t,r),typeof c!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),o}function ip(t,r,o){var c=t.pingCache;if(c===null){c=t.pingCache=new Kv;var f=new Set;c.set(r,f)}else f=c.get(r),f===void 0&&(f=new Set,c.set(r,f));f.has(o)||(f.add(o),t=a_.bind(null,t,r,o),r.then(t,t))}function sp(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function op(t,r,o,c,f){return t.mode&1?(t.flags|=65536,t.lanes=f,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=Zr(-1,1),r.tag=2,Ai(o,r,1))),o.lanes|=1),t)}var Qv=pe.ReactCurrentOwner,In=!1;function mn(t,r,o,c){r.child=t===null?Cd(r,null,o,c):eo(r,t.child,o,c)}function ap(t,r,o,c,f){o=o.render;var m=r.ref;return no(r,f),c=Tc(t,r,o,c,m,f),o=Sc(),t!==null&&!In?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,ei(t,r,f)):(yt&&o&&sc(r),r.flags|=1,mn(t,r,c,f),r.child)}function lp(t,r,o,c,f){if(t===null){var m=o.type;return typeof m=="function"&&!Zc(m)&&m.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=m,up(t,r,m,c,f)):(t=bl(o.type,null,c,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,!(t.lanes&f)){var _=m.memoizedProps;if(o=o.compare,o=o!==null?o:Bo,o(_,c)&&t.ref===r.ref)return ei(t,r,f)}return r.flags|=1,t=Vi(m,c),t.ref=r.ref,t.return=r,r.child=t}function up(t,r,o,c,f){if(t!==null){var m=t.memoizedProps;if(Bo(m,c)&&t.ref===r.ref)if(In=!1,r.pendingProps=c=m,(t.lanes&f)!==0)t.flags&131072&&(In=!0);else return r.lanes=t.lanes,ei(t,r,f)}return Nc(t,r,o,c,f)}function cp(t,r,o){var c=r.pendingProps,f=c.children,m=t!==null?t.memoizedState:null;if(c.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},ut(oo,On),On|=o;else{if(!(o&1073741824))return t=m!==null?m.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,ut(oo,On),On|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:o,ut(oo,On),On|=c}else m!==null?(c=m.baseLanes|o,r.memoizedState=null):c=o,ut(oo,On),On|=c;return mn(t,r,f,o),r.child}function hp(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function Nc(t,r,o,c,f){var m=Sn(o)?os:rn.current;return m=Ys(r,m),no(r,f),o=Tc(t,r,o,c,m,f),c=Sc(),t!==null&&!In?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,ei(t,r,f)):(yt&&c&&sc(r),r.flags|=1,mn(t,r,o,f),r.child)}function fp(t,r,o,c,f){if(Sn(o)){var m=!0;ul(r)}else m=!1;if(no(r,f),r.stateNode===null)Al(t,r),ep(r,o,c),kc(r,o,c,f),c=!0;else if(t===null){var _=r.stateNode,C=r.memoizedProps;_.props=C;var D=_.context,H=o.contextType;typeof H=="object"&&H!==null?H=Hn(H):(H=Sn(o)?os:rn.current,H=Ys(r,H));var ee=o.getDerivedStateFromProps,te=typeof ee=="function"||typeof _.getSnapshotBeforeUpdate=="function";te||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==c||D!==H)&&tp(r,_,c,H),Ci=!1;var Z=r.memoizedState;_.state=Z,vl(r,c,_,f),D=r.memoizedState,C!==c||Z!==D||Tn.current||Ci?(typeof ee=="function"&&(Pc(r,o,ee,c),D=r.memoizedState),(C=Ci||Zd(r,o,C,c,Z,D,H))?(te||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=D),_.props=c,_.state=D,_.context=H,c=C):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{_=r.stateNode,Pd(t,r),C=r.memoizedProps,H=r.type===r.elementType?C:cr(r.type,C),_.props=H,te=r.pendingProps,Z=_.context,D=o.contextType,typeof D=="object"&&D!==null?D=Hn(D):(D=Sn(o)?os:rn.current,D=Ys(r,D));var de=o.getDerivedStateFromProps;(ee=typeof de=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==te||Z!==D)&&tp(r,_,c,D),Ci=!1,Z=r.memoizedState,_.state=Z,vl(r,c,_,f);var we=r.memoizedState;C!==te||Z!==we||Tn.current||Ci?(typeof de=="function"&&(Pc(r,o,de,c),we=r.memoizedState),(H=Ci||Zd(r,o,H,c,Z,we,D)||!1)?(ee||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,we,D),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,we,D)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||C===t.memoizedProps&&Z===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&Z===t.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=we),_.props=c,_.state=we,_.context=D,c=H):(typeof _.componentDidUpdate!="function"||C===t.memoizedProps&&Z===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&Z===t.memoizedState||(r.flags|=1024),c=!1)}return Vc(t,r,o,c,m,f)}function Vc(t,r,o,c,f,m){hp(t,r);var _=(r.flags&128)!==0;if(!c&&!_)return f&&yd(r,o,!1),ei(t,r,m);c=r.stateNode,Qv.current=r;var C=_&&typeof o.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,t!==null&&_?(r.child=eo(r,t.child,null,m),r.child=eo(r,null,C,m)):mn(t,r,C,m),r.memoizedState=c.state,f&&yd(r,o,!0),r.child}function dp(t){var r=t.stateNode;r.pendingContext?md(t,r.pendingContext,r.pendingContext!==r.context):r.context&&md(t,r.context,!1),gc(t,r.containerInfo)}function pp(t,r,o,c,f){return Zs(),uc(f),r.flags|=256,mn(t,r,o,c),r.child}var Lc={dehydrated:null,treeContext:null,retryLane:0};function Mc(t){return{baseLanes:t,cachePool:null,transitions:null}}function mp(t,r,o){var c=r.pendingProps,f=vt.current,m=!1,_=(r.flags&128)!==0,C;if((C=_)||(C=t!==null&&t.memoizedState===null?!1:(f&2)!==0),C?(m=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(f|=1),ut(vt,f&1),t===null)return lc(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(_=c.children,t=c.fallback,m?(c=r.mode,m=r.child,_={mode:"hidden",children:_},!(c&1)&&m!==null?(m.childLanes=0,m.pendingProps=_):m=Ul(_,c,0,null),t=gs(t,c,o,null),m.return=r,t.return=r,m.sibling=t,r.child=m,r.child.memoizedState=Mc(o),r.memoizedState=Lc,t):Oc(r,_));if(f=t.memoizedState,f!==null&&(C=f.dehydrated,C!==null))return Gv(t,r,_,c,C,f,o);if(m){m=c.fallback,_=r.mode,f=t.child,C=f.sibling;var D={mode:"hidden",children:c.children};return!(_&1)&&r.child!==f?(c=r.child,c.childLanes=0,c.pendingProps=D,r.deletions=null):(c=Vi(f,D),c.subtreeFlags=f.subtreeFlags&14680064),C!==null?m=Vi(C,m):(m=gs(m,_,o,null),m.flags|=2),m.return=r,c.return=r,c.sibling=m,r.child=c,c=m,m=r.child,_=t.child.memoizedState,_=_===null?Mc(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},m.memoizedState=_,m.childLanes=t.childLanes&~o,r.memoizedState=Lc,c}return m=t.child,t=m.sibling,c=Vi(m,{mode:"visible",children:c.children}),!(r.mode&1)&&(c.lanes=o),c.return=r,c.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=c,r.memoizedState=null,c}function Oc(t,r){return r=Ul({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function Cl(t,r,o,c){return c!==null&&uc(c),eo(r,t.child,null,o),t=Oc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Gv(t,r,o,c,f,m,_){if(o)return r.flags&256?(r.flags&=-257,c=xc(Error(n(422))),Cl(t,r,_,c)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(m=c.fallback,f=r.mode,c=Ul({mode:"visible",children:c.children},f,0,null),m=gs(m,f,_,null),m.flags|=2,c.return=r,m.return=r,c.sibling=m,r.child=c,r.mode&1&&eo(r,t.child,null,_),r.child.memoizedState=Mc(_),r.memoizedState=Lc,m);if(!(r.mode&1))return Cl(t,r,_,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var C=c.dgst;return c=C,m=Error(n(419)),c=xc(m,c,void 0),Cl(t,r,_,c)}if(C=(_&t.childLanes)!==0,In||C){if(c=Ut,c!==null){switch(_&-_){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(c.suspendedLanes|_)?0:f,f!==0&&f!==m.retryLane&&(m.retryLane=f,Jr(t,f),dr(c,t,f,-1))}return Jc(),c=xc(Error(n(421))),Cl(t,r,_,c)}return f.data==="$?"?(r.flags|=128,r.child=t.child,r=l_.bind(null,t),f._reactRetry=r,null):(t=m.treeContext,Mn=Ti(f.nextSibling),Ln=r,yt=!0,ur=null,t!==null&&(jn[$n++]=Yr,jn[$n++]=Xr,jn[$n++]=as,Yr=t.id,Xr=t.overflow,as=r),r=Oc(r,c.children),r.flags|=4096,r)}function gp(t,r,o){t.lanes|=r;var c=t.alternate;c!==null&&(c.lanes|=r),dc(t.return,r,o)}function Fc(t,r,o,c,f){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=o,m.tailMode=f)}function yp(t,r,o){var c=r.pendingProps,f=c.revealOrder,m=c.tail;if(mn(t,r,c.children,o),c=vt.current,c&2)c=c&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gp(t,o,r);else if(t.tag===19)gp(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(ut(vt,c),!(r.mode&1))r.memoizedState=null;else switch(f){case"forwards":for(o=r.child,f=null;o!==null;)t=o.alternate,t!==null&&_l(t)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Fc(r,!1,f,o,m);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&_l(t)===null){r.child=f;break}t=f.sibling,f.sibling=o,o=f,f=t}Fc(r,!0,o,null,m);break;case"together":Fc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Al(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function ei(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),fs|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Vi(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Vi(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function Yv(t,r,o){switch(r.tag){case 3:dp(r),Zs();break;case 5:Dd(r);break;case 1:Sn(r.type)&&ul(r);break;case 4:gc(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,f=r.memoizedProps.value;ut(ml,c._currentValue),c._currentValue=f;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(ut(vt,vt.current&1),r.flags|=128,null):o&r.child.childLanes?mp(t,r,o):(ut(vt,vt.current&1),t=ei(t,r,o),t!==null?t.sibling:null);ut(vt,vt.current&1);break;case 19:if(c=(o&r.childLanes)!==0,t.flags&128){if(c)return yp(t,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ut(vt,vt.current),c)break;return null;case 22:case 23:return r.lanes=0,cp(t,r,o)}return ei(t,r,o)}var vp,bc,_p,Ep;vp=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},bc=function(){},_p=function(t,r,o,c){var f=t.memoizedProps;if(f!==c){t=r.stateNode,cs(Pr.current);var m=null;switch(o){case"input":f=Fr(t,f),c=Fr(t,c),m=[];break;case"select":f=ue({},f,{value:void 0}),c=ue({},c,{value:void 0}),m=[];break;case"textarea":f=Yn(t,f),c=Yn(t,c),m=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=ol)}Er(o,c);var _;o=null;for(H in f)if(!c.hasOwnProperty(H)&&f.hasOwnProperty(H)&&f[H]!=null)if(H==="style"){var C=f[H];for(_ in C)C.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(a.hasOwnProperty(H)?m||(m=[]):(m=m||[]).push(H,null));for(H in c){var D=c[H];if(C=f!=null?f[H]:void 0,c.hasOwnProperty(H)&&D!==C&&(D!=null||C!=null))if(H==="style")if(C){for(_ in C)!C.hasOwnProperty(_)||D&&D.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in D)D.hasOwnProperty(_)&&C[_]!==D[_]&&(o||(o={}),o[_]=D[_])}else o||(m||(m=[]),m.push(H,o)),o=D;else H==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,C=C?C.__html:void 0,D!=null&&C!==D&&(m=m||[]).push(H,D)):H==="children"?typeof D!="string"&&typeof D!="number"||(m=m||[]).push(H,""+D):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(a.hasOwnProperty(H)?(D!=null&&H==="onScroll"&&dt("scroll",t),m||C===D||(m=[])):(m=m||[]).push(H,D))}o&&(m=m||[]).push("style",o);var H=m;(r.updateQueue=H)&&(r.flags|=4)}},Ep=function(t,r,o,c){o!==c&&(r.flags|=4)};function na(t,r){if(!yt)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function on(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,c=0;if(r)for(var f=t.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=c,t.childLanes=o,r}function Xv(t,r,o){var c=r.pendingProps;switch(oc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(r),null;case 1:return Sn(r.type)&&ll(),on(r),null;case 3:return c=r.stateNode,ro(),pt(Tn),pt(rn),_c(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(dl(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,ur!==null&&(Gc(ur),ur=null))),bc(t,r),on(r),null;case 5:yc(r);var f=cs(Xo.current);if(o=r.type,t!==null&&r.stateNode!=null)_p(t,r,o,c,f),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(n(166));return on(r),null}if(t=cs(Pr.current),dl(r)){c=r.stateNode,o=r.type;var m=r.memoizedProps;switch(c[Ar]=r,c[Wo]=m,t=(r.mode&1)!==0,o){case"dialog":dt("cancel",c),dt("close",c);break;case"iframe":case"object":case"embed":dt("load",c);break;case"video":case"audio":for(f=0;f<$o.length;f++)dt($o[f],c);break;case"source":dt("error",c);break;case"img":case"image":case"link":dt("error",c),dt("load",c);break;case"details":dt("toggle",c);break;case"input":oi(c,m),dt("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},dt("invalid",c);break;case"textarea":br(c,m),dt("invalid",c)}Er(o,m),f=null;for(var _ in m)if(m.hasOwnProperty(_)){var C=m[_];_==="children"?typeof C=="string"?c.textContent!==C&&(m.suppressHydrationWarning!==!0&&sl(c.textContent,C,t),f=["children",C]):typeof C=="number"&&c.textContent!==""+C&&(m.suppressHydrationWarning!==!0&&sl(c.textContent,C,t),f=["children",""+C]):a.hasOwnProperty(_)&&C!=null&&_==="onScroll"&&dt("scroll",c)}switch(o){case"input":Un(c),Ps(c,m,!0);break;case"textarea":Un(c),yn(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=ol)}c=f,r.updateQueue=c,c!==null&&(r.flags|=4)}else{_=f.nodeType===9?f:f.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=st(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=_.createElement(o,{is:c.is}):(t=_.createElement(o),o==="select"&&(_=t,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):t=_.createElementNS(t,o),t[Ar]=r,t[Wo]=c,vp(t,r,!1,!1),r.stateNode=t;e:{switch(_=hi(o,c),o){case"dialog":dt("cancel",t),dt("close",t),f=c;break;case"iframe":case"object":case"embed":dt("load",t),f=c;break;case"video":case"audio":for(f=0;f<$o.length;f++)dt($o[f],t);f=c;break;case"source":dt("error",t),f=c;break;case"img":case"image":case"link":dt("error",t),dt("load",t),f=c;break;case"details":dt("toggle",t),f=c;break;case"input":oi(t,c),f=Fr(t,c),dt("invalid",t);break;case"option":f=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},f=ue({},c,{value:void 0}),dt("invalid",t);break;case"textarea":br(t,c),f=Yn(t,c),dt("invalid",t);break;default:f=c}Er(o,f),C=f;for(m in C)if(C.hasOwnProperty(m)){var D=C[m];m==="style"?Xi(t,D):m==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&Yi(t,D)):m==="children"?typeof D=="string"?(o!=="textarea"||D!=="")&&qt(t,D):typeof D=="number"&&qt(t,""+D):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(a.hasOwnProperty(m)?D!=null&&m==="onScroll"&&dt("scroll",t):D!=null&&re(t,m,D,_))}switch(o){case"input":Un(t),Ps(t,c,!1);break;case"textarea":Un(t),yn(t);break;case"option":c.value!=null&&t.setAttribute("value",""+Xe(c.value));break;case"select":t.multiple=!!c.multiple,m=c.value,m!=null?Ht(t,!!c.multiple,m,!1):c.defaultValue!=null&&Ht(t,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(t.onclick=ol)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return on(r),null;case 6:if(t&&r.stateNode!=null)Ep(t,r,t.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(n(166));if(o=cs(Xo.current),cs(Pr.current),dl(r)){if(c=r.stateNode,o=r.memoizedProps,c[Ar]=r,(m=c.nodeValue!==o)&&(t=Ln,t!==null))switch(t.tag){case 3:sl(c.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&sl(c.nodeValue,o,(t.mode&1)!==0)}m&&(r.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[Ar]=r,r.stateNode=c}return on(r),null;case 13:if(pt(vt),c=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(yt&&Mn!==null&&r.mode&1&&!(r.flags&128))Sd(),Zs(),r.flags|=98560,m=!1;else if(m=dl(r),c!==null&&c.dehydrated!==null){if(t===null){if(!m)throw Error(n(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[Ar]=r}else Zs(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;on(r),m=!1}else ur!==null&&(Gc(ur),ur=null),m=!0;if(!m)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(r.child.flags|=8192,r.mode&1&&(t===null||vt.current&1?Mt===0&&(Mt=3):Jc())),r.updateQueue!==null&&(r.flags|=4),on(r),null);case 4:return ro(),bc(t,r),t===null&&Ho(r.stateNode.containerInfo),on(r),null;case 10:return fc(r.type._context),on(r),null;case 17:return Sn(r.type)&&ll(),on(r),null;case 19:if(pt(vt),m=r.memoizedState,m===null)return on(r),null;if(c=(r.flags&128)!==0,_=m.rendering,_===null)if(c)na(m,!1);else{if(Mt!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(_=_l(t),_!==null){for(r.flags|=128,na(m,!1),c=_.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=o,o=r.child;o!==null;)m=o,t=c,m.flags&=14680066,_=m.alternate,_===null?(m.childLanes=0,m.lanes=t,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=_.childLanes,m.lanes=_.lanes,m.child=_.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=_.memoizedProps,m.memoizedState=_.memoizedState,m.updateQueue=_.updateQueue,m.type=_.type,t=_.dependencies,m.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return ut(vt,vt.current&1|2),r.child}t=t.sibling}m.tail!==null&&it()>ao&&(r.flags|=128,c=!0,na(m,!1),r.lanes=4194304)}else{if(!c)if(t=_l(_),t!==null){if(r.flags|=128,c=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),na(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!yt)return on(r),null}else 2*it()-m.renderingStartTime>ao&&o!==1073741824&&(r.flags|=128,c=!0,na(m,!1),r.lanes=4194304);m.isBackwards?(_.sibling=r.child,r.child=_):(o=m.last,o!==null?o.sibling=_:r.child=_,m.last=_)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=it(),r.sibling=null,o=vt.current,ut(vt,c?o&1|2:o&1),r):(on(r),null);case 22:case 23:return Xc(),c=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(r.flags|=8192),c&&r.mode&1?On&1073741824&&(on(r),r.subtreeFlags&6&&(r.flags|=8192)):on(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function Jv(t,r){switch(oc(r),r.tag){case 1:return Sn(r.type)&&ll(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ro(),pt(Tn),pt(rn),_c(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return yc(r),null;case 13:if(pt(vt),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));Zs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return pt(vt),null;case 4:return ro(),null;case 10:return fc(r.type._context),null;case 22:case 23:return Xc(),null;case 24:return null;default:return null}}var Pl=!1,an=!1,Zv=typeof WeakSet=="function"?WeakSet:Set,ye=null;function so(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){St(t,r,c)}else o.current=null}function Uc(t,r,o){try{o()}catch(c){St(t,r,c)}}var wp=!1;function e_(t,r){if(Xu=_i,t=Zf(),$u(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var _=0,C=-1,D=-1,H=0,ee=0,te=t,Z=null;t:for(;;){for(var de;te!==o||f!==0&&te.nodeType!==3||(C=_+f),te!==m||c!==0&&te.nodeType!==3||(D=_+c),te.nodeType===3&&(_+=te.nodeValue.length),(de=te.firstChild)!==null;)Z=te,te=de;for(;;){if(te===t)break t;if(Z===o&&++H===f&&(C=_),Z===m&&++ee===c&&(D=_),(de=te.nextSibling)!==null)break;te=Z,Z=te.parentNode}te=de}o=C===-1||D===-1?null:{start:C,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ju={focusedElem:t,selectionRange:o},_i=!1,ye=r;ye!==null;)if(r=ye,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,ye=t;else for(;ye!==null;){r=ye;try{var we=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var Se=we.memoizedProps,Rt=we.memoizedState,B=r.stateNode,L=B.getSnapshotBeforeUpdate(r.elementType===r.type?Se:cr(r.type,Se),Rt);B.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var j=r.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ie){St(r,r.return,ie)}if(t=r.sibling,t!==null){t.return=r.return,ye=t;break}ye=r.return}return we=wp,wp=!1,we}function ra(t,r,o){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&t)===t){var m=f.destroy;f.destroy=void 0,m!==void 0&&Uc(r,o,m)}f=f.next}while(f!==c)}}function kl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var c=o.create;o.destroy=c()}o=o.next}while(o!==r)}}function zc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function Tp(t){var r=t.alternate;r!==null&&(t.alternate=null,Tp(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Ar],delete r[Wo],delete r[nc],delete r[Ov],delete r[Fv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Sp(t){return t.tag===5||t.tag===3||t.tag===4}function Ip(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Sp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bc(t,r,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ol));else if(c!==4&&(t=t.child,t!==null))for(Bc(t,r,o),t=t.sibling;t!==null;)Bc(t,r,o),t=t.sibling}function jc(t,r,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(jc(t,r,o),t=t.sibling;t!==null;)jc(t,r,o),t=t.sibling}var Yt=null,hr=!1;function Pi(t,r,o){for(o=o.child;o!==null;)Rp(t,r,o),o=o.sibling}function Rp(t,r,o){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(_n,o)}catch{}switch(o.tag){case 5:an||so(o,r);case 6:var c=Yt,f=hr;Yt=null,Pi(t,r,o),Yt=c,hr=f,Yt!==null&&(hr?(t=Yt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):Yt.removeChild(o.stateNode));break;case 18:Yt!==null&&(hr?(t=Yt,o=o.stateNode,t.nodeType===8?tc(t.parentNode,o):t.nodeType===1&&tc(t,o),or(t)):tc(Yt,o.stateNode));break;case 4:c=Yt,f=hr,Yt=o.stateNode.containerInfo,hr=!0,Pi(t,r,o),Yt=c,hr=f;break;case 0:case 11:case 14:case 15:if(!an&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var m=f,_=m.destroy;m=m.tag,_!==void 0&&(m&2||m&4)&&Uc(o,r,_),f=f.next}while(f!==c)}Pi(t,r,o);break;case 1:if(!an&&(so(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(C){St(o,r,C)}Pi(t,r,o);break;case 21:Pi(t,r,o);break;case 22:o.mode&1?(an=(c=an)||o.memoizedState!==null,Pi(t,r,o),an=c):Pi(t,r,o);break;default:Pi(t,r,o)}}function Cp(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new Zv),r.forEach(function(c){var f=u_.bind(null,t,c);o.has(c)||(o.add(c),c.then(f,f))})}}function fr(t,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];try{var m=t,_=r,C=_;e:for(;C!==null;){switch(C.tag){case 5:Yt=C.stateNode,hr=!1;break e;case 3:Yt=C.stateNode.containerInfo,hr=!0;break e;case 4:Yt=C.stateNode.containerInfo,hr=!0;break e}C=C.return}if(Yt===null)throw Error(n(160));Rp(m,_,f),Yt=null,hr=!1;var D=f.alternate;D!==null&&(D.return=null),f.return=null}catch(H){St(f,r,H)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Ap(r,t),r=r.sibling}function Ap(t,r){var o=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fr(r,t),xr(t),c&4){try{ra(3,t,t.return),kl(3,t)}catch(Se){St(t,t.return,Se)}try{ra(5,t,t.return)}catch(Se){St(t,t.return,Se)}}break;case 1:fr(r,t),xr(t),c&512&&o!==null&&so(o,o.return);break;case 5:if(fr(r,t),xr(t),c&512&&o!==null&&so(o,o.return),t.flags&32){var f=t.stateNode;try{qt(f,"")}catch(Se){St(t,t.return,Se)}}if(c&4&&(f=t.stateNode,f!=null)){var m=t.memoizedProps,_=o!==null?o.memoizedProps:m,C=t.type,D=t.updateQueue;if(t.updateQueue=null,D!==null)try{C==="input"&&m.type==="radio"&&m.name!=null&&ai(f,m),hi(C,_);var H=hi(C,m);for(_=0;_<D.length;_+=2){var ee=D[_],te=D[_+1];ee==="style"?Xi(f,te):ee==="dangerouslySetInnerHTML"?Yi(f,te):ee==="children"?qt(f,te):re(f,ee,te,H)}switch(C){case"input":Gi(f,m);break;case"textarea":yr(f,m);break;case"select":var Z=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!m.multiple;var de=m.value;de!=null?Ht(f,!!m.multiple,de,!1):Z!==!!m.multiple&&(m.defaultValue!=null?Ht(f,!!m.multiple,m.defaultValue,!0):Ht(f,!!m.multiple,m.multiple?[]:"",!1))}f[Wo]=m}catch(Se){St(t,t.return,Se)}}break;case 6:if(fr(r,t),xr(t),c&4){if(t.stateNode===null)throw Error(n(162));f=t.stateNode,m=t.memoizedProps;try{f.nodeValue=m}catch(Se){St(t,t.return,Se)}}break;case 3:if(fr(r,t),xr(t),c&4&&o!==null&&o.memoizedState.isDehydrated)try{or(r.containerInfo)}catch(Se){St(t,t.return,Se)}break;case 4:fr(r,t),xr(t);break;case 13:fr(r,t),xr(t),f=t.child,f.flags&8192&&(m=f.memoizedState!==null,f.stateNode.isHidden=m,!m||f.alternate!==null&&f.alternate.memoizedState!==null||(qc=it())),c&4&&Cp(t);break;case 22:if(ee=o!==null&&o.memoizedState!==null,t.mode&1?(an=(H=an)||ee,fr(r,t),an=H):fr(r,t),xr(t),c&8192){if(H=t.memoizedState!==null,(t.stateNode.isHidden=H)&&!ee&&t.mode&1)for(ye=t,ee=t.child;ee!==null;){for(te=ye=ee;ye!==null;){switch(Z=ye,de=Z.child,Z.tag){case 0:case 11:case 14:case 15:ra(4,Z,Z.return);break;case 1:so(Z,Z.return);var we=Z.stateNode;if(typeof we.componentWillUnmount=="function"){c=Z,o=Z.return;try{r=c,we.props=r.memoizedProps,we.state=r.memoizedState,we.componentWillUnmount()}catch(Se){St(c,o,Se)}}break;case 5:so(Z,Z.return);break;case 22:if(Z.memoizedState!==null){xp(te);continue}}de!==null?(de.return=Z,ye=de):xp(te)}ee=ee.sibling}e:for(ee=null,te=t;;){if(te.tag===5){if(ee===null){ee=te;try{f=te.stateNode,H?(m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(C=te.stateNode,D=te.memoizedProps.style,_=D!=null&&D.hasOwnProperty("display")?D.display:null,C.style.display=ui("display",_))}catch(Se){St(t,t.return,Se)}}}else if(te.tag===6){if(ee===null)try{te.stateNode.nodeValue=H?"":te.memoizedProps}catch(Se){St(t,t.return,Se)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===t)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===t)break e;for(;te.sibling===null;){if(te.return===null||te.return===t)break e;ee===te&&(ee=null),te=te.return}ee===te&&(ee=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:fr(r,t),xr(t),c&4&&Cp(t);break;case 21:break;default:fr(r,t),xr(t)}}function xr(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(Sp(o)){var c=o;break e}o=o.return}throw Error(n(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(qt(f,""),c.flags&=-33);var m=Ip(t);jc(t,m,f);break;case 3:case 4:var _=c.stateNode.containerInfo,C=Ip(t);Bc(t,C,_);break;default:throw Error(n(161))}}catch(D){St(t,t.return,D)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function t_(t,r,o){ye=t,Pp(t)}function Pp(t,r,o){for(var c=(t.mode&1)!==0;ye!==null;){var f=ye,m=f.child;if(f.tag===22&&c){var _=f.memoizedState!==null||Pl;if(!_){var C=f.alternate,D=C!==null&&C.memoizedState!==null||an;C=Pl;var H=an;if(Pl=_,(an=D)&&!H)for(ye=f;ye!==null;)_=ye,D=_.child,_.tag===22&&_.memoizedState!==null?Dp(f):D!==null?(D.return=_,ye=D):Dp(f);for(;m!==null;)ye=m,Pp(m),m=m.sibling;ye=f,Pl=C,an=H}kp(t)}else f.subtreeFlags&8772&&m!==null?(m.return=f,ye=m):kp(t)}}function kp(t){for(;ye!==null;){var r=ye;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:an||kl(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!an)if(o===null)c.componentDidMount();else{var f=r.elementType===r.type?o.memoizedProps:cr(r.type,o.memoizedProps);c.componentDidUpdate(f,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=r.updateQueue;m!==null&&xd(r,m,c);break;case 3:var _=r.updateQueue;if(_!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}xd(r,_,o)}break;case 5:var C=r.stateNode;if(o===null&&r.flags&4){o=C;var D=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&o.focus();break;case"img":D.src&&(o.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var H=r.alternate;if(H!==null){var ee=H.memoizedState;if(ee!==null){var te=ee.dehydrated;te!==null&&or(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}an||r.flags&512&&zc(r)}catch(Z){St(r,r.return,Z)}}if(r===t){ye=null;break}if(o=r.sibling,o!==null){o.return=r.return,ye=o;break}ye=r.return}}function xp(t){for(;ye!==null;){var r=ye;if(r===t){ye=null;break}var o=r.sibling;if(o!==null){o.return=r.return,ye=o;break}ye=r.return}}function Dp(t){for(;ye!==null;){var r=ye;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{kl(4,r)}catch(D){St(r,o,D)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var f=r.return;try{c.componentDidMount()}catch(D){St(r,f,D)}}var m=r.return;try{zc(r)}catch(D){St(r,m,D)}break;case 5:var _=r.return;try{zc(r)}catch(D){St(r,_,D)}}}catch(D){St(r,r.return,D)}if(r===t){ye=null;break}var C=r.sibling;if(C!==null){C.return=r.return,ye=C;break}ye=r.return}}var n_=Math.ceil,xl=pe.ReactCurrentDispatcher,$c=pe.ReactCurrentOwner,Wn=pe.ReactCurrentBatchConfig,Ze=0,Ut=null,xt=null,Xt=0,On=0,oo=Si(0),Mt=0,ia=null,fs=0,Dl=0,Hc=0,sa=null,Rn=null,qc=0,ao=1/0,ti=null,Nl=!1,Wc=null,ki=null,Vl=!1,xi=null,Ll=0,oa=0,Kc=null,Ml=-1,Ol=0;function gn(){return Ze&6?it():Ml!==-1?Ml:Ml=it()}function Di(t){return t.mode&1?Ze&2&&Xt!==0?Xt&-Xt:Uv.transition!==null?(Ol===0&&(Ol=es()),Ol):(t=ze,t!==0||(t=window.event,t=t===void 0?16:Lo(t.type)),t):1}function dr(t,r,o,c){if(50<oa)throw oa=0,Kc=null,Error(n(185));mi(t,o,c),(!(Ze&2)||t!==Ut)&&(t===Ut&&(!(Ze&2)&&(Dl|=o),Mt===4&&Ni(t,Xt)),Cn(t,c),o===1&&Ze===0&&!(r.mode&1)&&(ao=it()+500,cl&&Ri()))}function Cn(t,r){var o=t.callbackNode;$r(t,r);var c=Zi(t,t===Ut?Xt:0);if(c===0)o!==null&&Br(o),t.callbackNode=null,t.callbackPriority=0;else if(r=c&-c,t.callbackPriority!==r){if(o!=null&&Br(o),r===1)t.tag===0?bv(Vp.bind(null,t)):vd(Vp.bind(null,t)),Lv(function(){!(Ze&6)&&Ri()}),o=null;else{switch(yi(c)){case 1:o=He;break;case 4:o=ht;break;case 16:o=Kt;break;case 536870912:o=ft;break;default:o=Kt}o=Bp(o,Np.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function Np(t,r){if(Ml=-1,Ol=0,Ze&6)throw Error(n(327));var o=t.callbackNode;if(lo()&&t.callbackNode!==o)return null;var c=Zi(t,t===Ut?Xt:0);if(c===0)return null;if(c&30||c&t.expiredLanes||r)r=Fl(t,c);else{r=c;var f=Ze;Ze|=2;var m=Mp();(Ut!==t||Xt!==r)&&(ti=null,ao=it()+500,ps(t,r));do try{s_();break}catch(C){Lp(t,C)}while(!0);hc(),xl.current=m,Ze=f,xt!==null?r=0:(Ut=null,Xt=0,r=Mt)}if(r!==0){if(r===2&&(f=Dn(t),f!==0&&(c=f,r=Qc(t,f))),r===1)throw o=ia,ps(t,0),Ni(t,c),Cn(t,it()),o;if(r===6)Ni(t,c);else{if(f=t.current.alternate,!(c&30)&&!r_(f)&&(r=Fl(t,c),r===2&&(m=Dn(t),m!==0&&(c=m,r=Qc(t,m))),r===1))throw o=ia,ps(t,0),Ni(t,c),Cn(t,it()),o;switch(t.finishedWork=f,t.finishedLanes=c,r){case 0:case 1:throw Error(n(345));case 2:ms(t,Rn,ti);break;case 3:if(Ni(t,c),(c&130023424)===c&&(r=qc+500-it(),10<r)){if(Zi(t,0)!==0)break;if(f=t.suspendedLanes,(f&c)!==c){gn(),t.pingedLanes|=t.suspendedLanes&f;break}t.timeoutHandle=ec(ms.bind(null,t,Rn,ti),r);break}ms(t,Rn,ti);break;case 4:if(Ni(t,c),(c&4194240)===c)break;for(r=t.eventTimes,f=-1;0<c;){var _=31-dn(c);m=1<<_,_=r[_],_>f&&(f=_),c&=~m}if(c=f,c=it()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*n_(c/1960))-c,10<c){t.timeoutHandle=ec(ms.bind(null,t,Rn,ti),c);break}ms(t,Rn,ti);break;case 5:ms(t,Rn,ti);break;default:throw Error(n(329))}}}return Cn(t,it()),t.callbackNode===o?Np.bind(null,t):null}function Qc(t,r){var o=sa;return t.current.memoizedState.isDehydrated&&(ps(t,r).flags|=256),t=Fl(t,r),t!==2&&(r=Rn,Rn=o,r!==null&&Gc(r)),t}function Gc(t){Rn===null?Rn=t:Rn.push.apply(Rn,t)}function r_(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var f=o[c],m=f.getSnapshot;f=f.value;try{if(!lr(m(),f))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ni(t,r){for(r&=~Hc,r&=~Dl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-dn(r),c=1<<o;t[o]=-1,r&=~c}}function Vp(t){if(Ze&6)throw Error(n(327));lo();var r=Zi(t,0);if(!(r&1))return Cn(t,it()),null;var o=Fl(t,r);if(t.tag!==0&&o===2){var c=Dn(t);c!==0&&(r=c,o=Qc(t,c))}if(o===1)throw o=ia,ps(t,0),Ni(t,r),Cn(t,it()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,ms(t,Rn,ti),Cn(t,it()),null}function Yc(t,r){var o=Ze;Ze|=1;try{return t(r)}finally{Ze=o,Ze===0&&(ao=it()+500,cl&&Ri())}}function ds(t){xi!==null&&xi.tag===0&&!(Ze&6)&&lo();var r=Ze;Ze|=1;var o=Wn.transition,c=ze;try{if(Wn.transition=null,ze=1,t)return t()}finally{ze=c,Wn.transition=o,Ze=r,!(Ze&6)&&Ri()}}function Xc(){On=oo.current,pt(oo)}function ps(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Vv(o)),xt!==null)for(o=xt.return;o!==null;){var c=o;switch(oc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&ll();break;case 3:ro(),pt(Tn),pt(rn),_c();break;case 5:yc(c);break;case 4:ro();break;case 13:pt(vt);break;case 19:pt(vt);break;case 10:fc(c.type._context);break;case 22:case 23:Xc()}o=o.return}if(Ut=t,xt=t=Vi(t.current,null),Xt=On=r,Mt=0,ia=null,Hc=Dl=fs=0,Rn=sa=null,us!==null){for(r=0;r<us.length;r++)if(o=us[r],c=o.interleaved,c!==null){o.interleaved=null;var f=c.next,m=o.pending;if(m!==null){var _=m.next;m.next=f,c.next=_}o.pending=c}us=null}return t}function Lp(t,r){do{var o=xt;try{if(hc(),El.current=Il,wl){for(var c=_t.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}wl=!1}if(hs=0,bt=Lt=_t=null,Jo=!1,Zo=0,$c.current=null,o===null||o.return===null){Mt=1,ia=r,xt=null;break}e:{var m=t,_=o.return,C=o,D=r;if(r=Xt,C.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var H=D,ee=C,te=ee.tag;if(!(ee.mode&1)&&(te===0||te===11||te===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var de=sp(_);if(de!==null){de.flags&=-257,op(de,_,C,m,r),de.mode&1&&ip(m,H,r),r=de,D=H;var we=r.updateQueue;if(we===null){var Se=new Set;Se.add(D),r.updateQueue=Se}else we.add(D);break e}else{if(!(r&1)){ip(m,H,r),Jc();break e}D=Error(n(426))}}else if(yt&&C.mode&1){var Rt=sp(_);if(Rt!==null){!(Rt.flags&65536)&&(Rt.flags|=256),op(Rt,_,C,m,r),uc(io(D,C));break e}}m=D=io(D,C),Mt!==4&&(Mt=2),sa===null?sa=[m]:sa.push(m),m=_;do{switch(m.tag){case 3:m.flags|=65536,r&=-r,m.lanes|=r;var B=np(m,D,r);kd(m,B);break e;case 1:C=D;var L=m.type,j=m.stateNode;if(!(m.flags&128)&&(typeof L.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(ki===null||!ki.has(j)))){m.flags|=65536,r&=-r,m.lanes|=r;var ie=rp(m,C,r);kd(m,ie);break e}}m=m.return}while(m!==null)}Fp(o)}catch(Ie){r=Ie,xt===o&&o!==null&&(xt=o=o.return);continue}break}while(!0)}function Mp(){var t=xl.current;return xl.current=Il,t===null?Il:t}function Jc(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),Ut===null||!(fs&268435455)&&!(Dl&268435455)||Ni(Ut,Xt)}function Fl(t,r){var o=Ze;Ze|=2;var c=Mp();(Ut!==t||Xt!==r)&&(ti=null,ps(t,r));do try{i_();break}catch(f){Lp(t,f)}while(!0);if(hc(),Ze=o,xl.current=c,xt!==null)throw Error(n(261));return Ut=null,Xt=0,Mt}function i_(){for(;xt!==null;)Op(xt)}function s_(){for(;xt!==null&&!wr();)Op(xt)}function Op(t){var r=zp(t.alternate,t,On);t.memoizedProps=t.pendingProps,r===null?Fp(t):xt=r,$c.current=null}function Fp(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=Jv(o,r),o!==null){o.flags&=32767,xt=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Mt=6,xt=null;return}}else if(o=Xv(o,r,On),o!==null){xt=o;return}if(r=r.sibling,r!==null){xt=r;return}xt=r=t}while(r!==null);Mt===0&&(Mt=5)}function ms(t,r,o){var c=ze,f=Wn.transition;try{Wn.transition=null,ze=1,o_(t,r,o,c)}finally{Wn.transition=f,ze=c}return null}function o_(t,r,o,c){do lo();while(xi!==null);if(Ze&6)throw Error(n(327));o=t.finishedWork;var f=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var m=o.lanes|o.childLanes;if(at(t,m),t===Ut&&(xt=Ut=null,Xt=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||Vl||(Vl=!0,Bp(Kt,function(){return lo(),null})),m=(o.flags&15990)!==0,o.subtreeFlags&15990||m){m=Wn.transition,Wn.transition=null;var _=ze;ze=1;var C=Ze;Ze|=4,$c.current=null,e_(t,o),Ap(o,t),Cv(Ju),_i=!!Xu,Ju=Xu=null,t.current=o,t_(o),tr(),Ze=C,ze=_,Wn.transition=m}else t.current=o;if(Vl&&(Vl=!1,xi=t,Ll=f),m=t.pendingLanes,m===0&&(ki=null),ks(o.stateNode),Cn(t,it()),r!==null)for(c=t.onRecoverableError,o=0;o<r.length;o++)f=r[o],c(f.value,{componentStack:f.stack,digest:f.digest});if(Nl)throw Nl=!1,t=Wc,Wc=null,t;return Ll&1&&t.tag!==0&&lo(),m=t.pendingLanes,m&1?t===Kc?oa++:(oa=0,Kc=t):oa=0,Ri(),null}function lo(){if(xi!==null){var t=yi(Ll),r=Wn.transition,o=ze;try{if(Wn.transition=null,ze=16>t?16:t,xi===null)var c=!1;else{if(t=xi,xi=null,Ll=0,Ze&6)throw Error(n(331));var f=Ze;for(Ze|=4,ye=t.current;ye!==null;){var m=ye,_=m.child;if(ye.flags&16){var C=m.deletions;if(C!==null){for(var D=0;D<C.length;D++){var H=C[D];for(ye=H;ye!==null;){var ee=ye;switch(ee.tag){case 0:case 11:case 15:ra(8,ee,m)}var te=ee.child;if(te!==null)te.return=ee,ye=te;else for(;ye!==null;){ee=ye;var Z=ee.sibling,de=ee.return;if(Tp(ee),ee===H){ye=null;break}if(Z!==null){Z.return=de,ye=Z;break}ye=de}}}var we=m.alternate;if(we!==null){var Se=we.child;if(Se!==null){we.child=null;do{var Rt=Se.sibling;Se.sibling=null,Se=Rt}while(Se!==null)}}ye=m}}if(m.subtreeFlags&2064&&_!==null)_.return=m,ye=_;else e:for(;ye!==null;){if(m=ye,m.flags&2048)switch(m.tag){case 0:case 11:case 15:ra(9,m,m.return)}var B=m.sibling;if(B!==null){B.return=m.return,ye=B;break e}ye=m.return}}var L=t.current;for(ye=L;ye!==null;){_=ye;var j=_.child;if(_.subtreeFlags&2064&&j!==null)j.return=_,ye=j;else e:for(_=L;ye!==null;){if(C=ye,C.flags&2048)try{switch(C.tag){case 0:case 11:case 15:kl(9,C)}}catch(Ie){St(C,C.return,Ie)}if(C===_){ye=null;break e}var ie=C.sibling;if(ie!==null){ie.return=C.return,ye=ie;break e}ye=C.return}}if(Ze=f,Ri(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(_n,t)}catch{}c=!0}return c}finally{ze=o,Wn.transition=r}}return!1}function bp(t,r,o){r=io(o,r),r=np(t,r,1),t=Ai(t,r,1),r=gn(),t!==null&&(mi(t,1,r),Cn(t,r))}function St(t,r,o){if(t.tag===3)bp(t,t,o);else for(;r!==null;){if(r.tag===3){bp(r,t,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ki===null||!ki.has(c))){t=io(o,t),t=rp(r,t,1),r=Ai(r,t,1),t=gn(),r!==null&&(mi(r,1,t),Cn(r,t));break}}r=r.return}}function a_(t,r,o){var c=t.pingCache;c!==null&&c.delete(r),r=gn(),t.pingedLanes|=t.suspendedLanes&o,Ut===t&&(Xt&o)===o&&(Mt===4||Mt===3&&(Xt&130023424)===Xt&&500>it()-qc?ps(t,0):Hc|=o),Cn(t,r)}function Up(t,r){r===0&&(t.mode&1?(r=Ds,Ds<<=1,!(Ds&130023424)&&(Ds=4194304)):r=1);var o=gn();t=Jr(t,r),t!==null&&(mi(t,r,o),Cn(t,o))}function l_(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),Up(t,o)}function u_(t,r){var o=0;switch(t.tag){case 13:var c=t.stateNode,f=t.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(r),Up(t,o)}var zp;zp=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||Tn.current)In=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return In=!1,Yv(t,r,o);In=!!(t.flags&131072)}else In=!1,yt&&r.flags&1048576&&_d(r,fl,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;Al(t,r),t=r.pendingProps;var f=Ys(r,rn.current);no(r,o),f=Tc(null,r,c,t,f,o);var m=Sc();return r.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Sn(c)?(m=!0,ul(r)):m=!1,r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,mc(r),f.updater=Rl,r.stateNode=f,f._reactInternals=r,kc(r,c,t,o),r=Vc(null,r,c,!0,m,o)):(r.tag=0,yt&&m&&sc(r),mn(null,r,f,o),r=r.child),r;case 16:c=r.elementType;e:{switch(Al(t,r),t=r.pendingProps,f=c._init,c=f(c._payload),r.type=c,f=r.tag=h_(c),t=cr(c,t),f){case 0:r=Nc(null,r,c,t,o);break e;case 1:r=fp(null,r,c,t,o);break e;case 11:r=ap(null,r,c,t,o);break e;case 14:r=lp(null,r,c,cr(c.type,t),o);break e}throw Error(n(306,c,""))}return r;case 0:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:cr(c,f),Nc(t,r,c,f,o);case 1:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:cr(c,f),fp(t,r,c,f,o);case 3:e:{if(dp(r),t===null)throw Error(n(387));c=r.pendingProps,m=r.memoizedState,f=m.element,Pd(t,r),vl(r,c,null,o);var _=r.memoizedState;if(c=_.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){f=io(Error(n(423)),r),r=pp(t,r,c,o,f);break e}else if(c!==f){f=io(Error(n(424)),r),r=pp(t,r,c,o,f);break e}else for(Mn=Ti(r.stateNode.containerInfo.firstChild),Ln=r,yt=!0,ur=null,o=Cd(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Zs(),c===f){r=ei(t,r,o);break e}mn(t,r,c,o)}r=r.child}return r;case 5:return Dd(r),t===null&&lc(r),c=r.type,f=r.pendingProps,m=t!==null?t.memoizedProps:null,_=f.children,Zu(c,f)?_=null:m!==null&&Zu(c,m)&&(r.flags|=32),hp(t,r),mn(t,r,_,o),r.child;case 6:return t===null&&lc(r),null;case 13:return mp(t,r,o);case 4:return gc(r,r.stateNode.containerInfo),c=r.pendingProps,t===null?r.child=eo(r,null,c,o):mn(t,r,c,o),r.child;case 11:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:cr(c,f),ap(t,r,c,f,o);case 7:return mn(t,r,r.pendingProps,o),r.child;case 8:return mn(t,r,r.pendingProps.children,o),r.child;case 12:return mn(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(c=r.type._context,f=r.pendingProps,m=r.memoizedProps,_=f.value,ut(ml,c._currentValue),c._currentValue=_,m!==null)if(lr(m.value,_)){if(m.children===f.children&&!Tn.current){r=ei(t,r,o);break e}}else for(m=r.child,m!==null&&(m.return=r);m!==null;){var C=m.dependencies;if(C!==null){_=m.child;for(var D=C.firstContext;D!==null;){if(D.context===c){if(m.tag===1){D=Zr(-1,o&-o),D.tag=2;var H=m.updateQueue;if(H!==null){H=H.shared;var ee=H.pending;ee===null?D.next=D:(D.next=ee.next,ee.next=D),H.pending=D}}m.lanes|=o,D=m.alternate,D!==null&&(D.lanes|=o),dc(m.return,o,r),C.lanes|=o;break}D=D.next}}else if(m.tag===10)_=m.type===r.type?null:m.child;else if(m.tag===18){if(_=m.return,_===null)throw Error(n(341));_.lanes|=o,C=_.alternate,C!==null&&(C.lanes|=o),dc(_,o,r),_=m.sibling}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===r){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}mn(t,r,f.children,o),r=r.child}return r;case 9:return f=r.type,c=r.pendingProps.children,no(r,o),f=Hn(f),c=c(f),r.flags|=1,mn(t,r,c,o),r.child;case 14:return c=r.type,f=cr(c,r.pendingProps),f=cr(c.type,f),lp(t,r,c,f,o);case 15:return up(t,r,r.type,r.pendingProps,o);case 17:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:cr(c,f),Al(t,r),r.tag=1,Sn(c)?(t=!0,ul(r)):t=!1,no(r,o),ep(r,c,f),kc(r,c,f,o),Vc(null,r,c,!0,t,o);case 19:return yp(t,r,o);case 22:return cp(t,r,o)}throw Error(n(156,r.tag))};function Bp(t,r){return Wt(t,r)}function c_(t,r,o,c){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(t,r,o,c){return new c_(t,r,o,c)}function Zc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function h_(t){if(typeof t=="function")return Zc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===F)return 11;if(t===je)return 14}return 2}function Vi(t,r){var o=t.alternate;return o===null?(o=Kn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function bl(t,r,o,c,f,m){var _=2;if(c=t,typeof t=="function")Zc(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case P:return gs(o.children,f,m,r);case T:_=8,f|=8;break;case R:return t=Kn(12,o,r,f|2),t.elementType=R,t.lanes=m,t;case A:return t=Kn(13,o,r,f),t.elementType=A,t.lanes=m,t;case lt:return t=Kn(19,o,r,f),t.elementType=lt,t.lanes=m,t;case $e:return Ul(o,f,m,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:_=10;break e;case V:_=9;break e;case F:_=11;break e;case je:_=14;break e;case It:_=16,c=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=Kn(_,o,r,f),r.elementType=t,r.type=c,r.lanes=m,r}function gs(t,r,o,c){return t=Kn(7,t,c,r),t.lanes=o,t}function Ul(t,r,o,c){return t=Kn(22,t,c,r),t.elementType=$e,t.lanes=o,t.stateNode={isHidden:!1},t}function eh(t,r,o){return t=Kn(6,t,null,r),t.lanes=o,t}function th(t,r,o){return r=Kn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function f_(t,r,o,c,f){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pi(0),this.expirationTimes=pi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function nh(t,r,o,c,f,m,_,C,D){return t=new f_(t,r,o,C,D),r===1?(r=1,m===!0&&(r|=8)):r=0,m=Kn(3,null,null,r),t.current=m,m.stateNode=t,m.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},mc(m),t}function d_(t,r,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ce,key:c==null?null:""+c,children:t,containerInfo:r,implementation:o}}function jp(t){if(!t)return Ii;t=t._reactInternals;e:{if(Ue(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Sn(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(Sn(o))return gd(t,o,r)}return r}function $p(t,r,o,c,f,m,_,C,D){return t=nh(o,c,!0,t,f,m,_,C,D),t.context=jp(null),o=t.current,c=gn(),f=Di(o),m=Zr(c,f),m.callback=r??null,Ai(o,m,f),t.current.lanes=f,mi(t,f,c),Cn(t,c),t}function zl(t,r,o,c){var f=r.current,m=gn(),_=Di(f);return o=jp(o),r.context===null?r.context=o:r.pendingContext=o,r=Zr(m,_),r.payload={element:t},c=c===void 0?null:c,c!==null&&(r.callback=c),t=Ai(f,r,_),t!==null&&(dr(t,f,_,m),yl(t,f,_)),_}function Bl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Hp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function rh(t,r){Hp(t,r),(t=t.alternate)&&Hp(t,r)}var qp=typeof reportError=="function"?reportError:function(t){console.error(t)};function ih(t){this._internalRoot=t}jl.prototype.render=ih.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));zl(t,r,null,null)},jl.prototype.unmount=ih.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;ds(function(){zl(null,t,null,null)}),r[Qr]=null}};function jl(t){this._internalRoot=t}jl.prototype.unstable_scheduleHydration=function(t){if(t){var r=ja();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Sr.length&&r!==0&&r<Sr[o].priority;o++);Sr.splice(o,0,t),o===0&&qa(t)}};function sh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Wp(){}function p_(t,r,o,c,f){if(f){if(typeof c=="function"){var m=c;c=function(){var H=Bl(_);m.call(H)}}var _=$p(r,c,t,0,null,!1,!1,"",Wp);return t._reactRootContainer=_,t[Qr]=_.current,Ho(t.nodeType===8?t.parentNode:t),ds(),_}for(;f=t.lastChild;)t.removeChild(f);if(typeof c=="function"){var C=c;c=function(){var H=Bl(D);C.call(H)}}var D=nh(t,0,!1,null,null,!1,!1,"",Wp);return t._reactRootContainer=D,t[Qr]=D.current,Ho(t.nodeType===8?t.parentNode:t),ds(function(){zl(r,D,o,c)}),D}function Hl(t,r,o,c,f){var m=o._reactRootContainer;if(m){var _=m;if(typeof f=="function"){var C=f;f=function(){var D=Bl(_);C.call(D)}}zl(r,_,t,f)}else _=p_(o,r,t,f,c);return Bl(_)}za=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=di(r.pendingLanes);o!==0&&(gi(r,o|1),Cn(r,it()),!(Ze&6)&&(ao=it()+500,Ri()))}break;case 13:ds(function(){var c=Jr(t,1);if(c!==null){var f=gn();dr(c,t,1,f)}}),rh(t,1)}},Ns=function(t){if(t.tag===13){var r=Jr(t,134217728);if(r!==null){var o=gn();dr(r,t,134217728,o)}rh(t,134217728)}},Ba=function(t){if(t.tag===13){var r=Di(t),o=Jr(t,r);if(o!==null){var c=gn();dr(o,t,r,c)}rh(t,r)}},ja=function(){return ze},$a=function(t,r){var o=ze;try{return ze=t,r()}finally{ze=o}},Ur=function(t,r,o){switch(r){case"input":if(Gi(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==t&&c.form===t.form){var f=al(c);if(!f)throw Error(n(90));si(c),Gi(c,f)}}}break;case"textarea":yr(t,o);break;case"select":r=o.value,r!=null&&Ht(t,!!o.multiple,r,!1)}},zr=Yc,N=ds;var m_={usingClientEntryPoint:!1,Events:[Ko,Qs,al,fn,Ji,Yc]},aa={findFiberByHostInstance:ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},g_={bundleType:aa.bundleType,version:aa.version,rendererPackageName:aa.rendererPackageName,rendererConfig:aa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pe.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=er(t),t===null?null:t.stateNode},findFiberByHostInstance:aa.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ql.isDisabled&&ql.supportsFiber)try{_n=ql.inject(g_),nn=ql}catch{}}return An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m_,An.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sh(r))throw Error(n(200));return d_(t,r,null,o)},An.createRoot=function(t,r){if(!sh(t))throw Error(n(299));var o=!1,c="",f=qp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),r=nh(t,1,!1,null,null,o,!1,c,f),t[Qr]=r.current,Ho(t.nodeType===8?t.parentNode:t),new ih(r)},An.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=er(r),t=t===null?null:t.stateNode,t},An.flushSync=function(t){return ds(t)},An.hydrate=function(t,r,o){if(!$l(r))throw Error(n(200));return Hl(null,t,r,!0,o)},An.hydrateRoot=function(t,r,o){if(!sh(t))throw Error(n(405));var c=o!=null&&o.hydratedSources||null,f=!1,m="",_=qp;if(o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),r=$p(r,null,t,1,o??null,f,!1,m,_),t[Qr]=r.current,Ho(t),c)for(t=0;t<c.length;t++)o=c[t],f=o._getVersion,f=f(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,f]:r.mutableSourceEagerHydrationData.push(o,f);return new jl(r)},An.render=function(t,r,o){if(!$l(r))throw Error(n(200));return Hl(null,t,r,!1,o)},An.unmountComponentAtNode=function(t){if(!$l(t))throw Error(n(40));return t._reactRootContainer?(ds(function(){Hl(null,null,t,!1,function(){t._reactRootContainer=null,t[Qr]=null})}),!0):!1},An.unstable_batchedUpdates=Yc,An.unstable_renderSubtreeIntoContainer=function(t,r,o,c){if(!$l(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Hl(t,r,o,!1,c)},An.version="18.3.1-next-f1338f8080-20240426",An}var em;function Sg(){if(em)return lh.exports;em=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),lh.exports=I_(),lh.exports}var tm;function R_(){if(tm)return Wl;tm=1;var i=Sg();return Wl.createRoot=i.createRoot,Wl.hydrateRoot=i.hydrateRoot,Wl}var C_=R_();const A_=Tg(C_);var nm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},P_=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const u=i[n++];e[s++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=i[n++],h=i[n++],d=i[n++],g=((a&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(u&63)<<6|h&63)}}return e.join("")},Rg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const u=i[a],h=a+1<i.length,d=h?i[a+1]:0,g=a+2<i.length,v=g?i[a+2]:0,E=u>>2,I=(u&3)<<4|d>>4;let S=(d&15)<<2|v>>6,x=v&63;g||(x=64,h||(S=64)),s.push(n[E],n[I],n[S],n[x])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Ig(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):P_(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const u=n[i.charAt(a++)],d=a<i.length?n[i.charAt(a)]:0;++a;const v=a<i.length?n[i.charAt(a)]:64;++a;const I=a<i.length?n[i.charAt(a)]:64;if(++a,u==null||d==null||v==null||I==null)throw new k_;const S=u<<2|d>>4;if(s.push(S),v!==64){const x=d<<4&240|v>>2;if(s.push(x),I!==64){const b=v<<6&192|I;s.push(b)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class k_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const x_=function(i){const e=Ig(i);return Rg.encodeByteArray(e,!0)},lu=function(i){return x_(i).replace(/\./g,"")},D_=function(i){try{return Rg.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_=()=>N_().__FIREBASE_DEFAULTS__,L_=()=>{if(typeof process>"u"||typeof nm>"u")return;const i=nm.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},M_=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&D_(i[1]);return e&&JSON.parse(e)},Xh=()=>{try{return V_()||L_()||M_()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},O_=i=>{var e,n;return(n=(e=Xh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},F_=i=>{const e=O_(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Cg=()=>{var i;return(i=Xh())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b_=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[lu(JSON.stringify(n)),lu(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function B_(){var i;const e=(i=Xh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function j_(){return!B_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $_(){try{return typeof indexedDB=="object"}catch{return!1}}function H_(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var u;e(((u=a.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="FirebaseError";class Ro extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=q_,Object.setPrototypeOf(this,Ro.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ag.prototype.create)}}class Ag{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,u=this.errors[e],h=u?W_(u,s):"Error",d=`${this.serviceName}: ${h} (${a}).`;return new Ro(a,d,s)}}function W_(i,e){return i.replace(K_,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const K_=/\{\$([^}]+)}/g;function Ih(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const u=i[a],h=e[a];if(rm(u)&&rm(h)){if(!Ih(u,h))return!1}else if(u!==h)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function rm(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(i){return i&&i._delegate?i._delegate:i}class Sa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new b_;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(a)return null;throw u}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Y_(e))try{this.getOrInitializeService({instanceIdentifier:ys})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:a});s.resolve(u)}catch{}}}}clearInstance(e=ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ys){return this.instances.has(e)}getOptions(e=ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&h.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(a,u);const h=this.instances.get(a);return h&&e(h,a),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:G_(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ys){return this.component?this.component.multipleInstances?e:ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function G_(i){return i===ys?void 0:i}function Y_(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Q_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ke||(Ke={}));const J_={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},Z_=Ke.INFO,eE={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},tE=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=eE[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pg{constructor(e){this.name=e,this._logLevel=Z_,this._logHandler=tE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?J_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const nE=(i,e)=>e.some(n=>i instanceof n);let im,sm;function rE(){return im||(im=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iE(){return sm||(sm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kg=new WeakMap,Rh=new WeakMap,xg=new WeakMap,hh=new WeakMap,Jh=new WeakMap;function sE(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(Ui(i.result)),a()},h=()=>{s(i.error),a()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&kg.set(n,i)}).catch(()=>{}),Jh.set(e,i),e}function oE(i){if(Rh.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),a()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Rh.set(i,e)}let Ch={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Rh.get(i);if(e==="objectStoreNames")return i.objectStoreNames||xg.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ui(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function aE(i){Ch=i(Ch)}function lE(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(fh(this),e,...n);return xg.set(s,e.sort?e.sort():[e]),Ui(s)}:iE().includes(i)?function(...e){return i.apply(fh(this),e),Ui(kg.get(this))}:function(...e){return Ui(i.apply(fh(this),e))}}function uE(i){return typeof i=="function"?lE(i):(i instanceof IDBTransaction&&oE(i),nE(i,rE())?new Proxy(i,Ch):i)}function Ui(i){if(i instanceof IDBRequest)return sE(i);if(hh.has(i))return hh.get(i);const e=uE(i);return e!==i&&(hh.set(i,e),Jh.set(e,i)),e}const fh=i=>Jh.get(i);function cE(i,e,{blocked:n,upgrade:s,blocking:a,terminated:u}={}){const h=indexedDB.open(i,e),d=Ui(h);return s&&h.addEventListener("upgradeneeded",g=>{s(Ui(h.result),g.oldVersion,g.newVersion,Ui(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),d.then(g=>{u&&g.addEventListener("close",()=>u()),a&&g.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),d}const hE=["get","getKey","getAll","getAllKeys","count"],fE=["put","add","delete","clear"],dh=new Map;function om(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(dh.get(e))return dh.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=fE.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||hE.includes(n)))return;const u=async function(h,...d){const g=this.transaction(h,a?"readwrite":"readonly");let v=g.store;return s&&(v=v.index(d.shift())),(await Promise.all([v[n](...d),a&&g.done]))[0]};return dh.set(e,u),u}aE(i=>({...i,get:(e,n,s)=>om(e,n)||i.get(e,n,s),has:(e,n)=>!!om(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pE(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function pE(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ah="@firebase/app",am="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni=new Pg("@firebase/app"),mE="@firebase/app-compat",gE="@firebase/analytics-compat",yE="@firebase/analytics",vE="@firebase/app-check-compat",_E="@firebase/app-check",EE="@firebase/auth",wE="@firebase/auth-compat",TE="@firebase/database",SE="@firebase/data-connect",IE="@firebase/database-compat",RE="@firebase/functions",CE="@firebase/functions-compat",AE="@firebase/installations",PE="@firebase/installations-compat",kE="@firebase/messaging",xE="@firebase/messaging-compat",DE="@firebase/performance",NE="@firebase/performance-compat",VE="@firebase/remote-config",LE="@firebase/remote-config-compat",ME="@firebase/storage",OE="@firebase/storage-compat",FE="@firebase/firestore",bE="@firebase/vertexai",UE="@firebase/firestore-compat",zE="firebase",BE="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph="[DEFAULT]",jE={[Ah]:"fire-core",[mE]:"fire-core-compat",[yE]:"fire-analytics",[gE]:"fire-analytics-compat",[_E]:"fire-app-check",[vE]:"fire-app-check-compat",[EE]:"fire-auth",[wE]:"fire-auth-compat",[TE]:"fire-rtdb",[SE]:"fire-data-connect",[IE]:"fire-rtdb-compat",[RE]:"fire-fn",[CE]:"fire-fn-compat",[AE]:"fire-iid",[PE]:"fire-iid-compat",[kE]:"fire-fcm",[xE]:"fire-fcm-compat",[DE]:"fire-perf",[NE]:"fire-perf-compat",[VE]:"fire-rc",[LE]:"fire-rc-compat",[ME]:"fire-gcs",[OE]:"fire-gcs-compat",[FE]:"fire-fst",[UE]:"fire-fst-compat",[bE]:"fire-vertex","fire-js":"fire-js",[zE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu=new Map,$E=new Map,kh=new Map;function lm(i,e){try{i.container.addComponent(e)}catch(n){ni.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function cu(i){const e=i.name;if(kh.has(e))return ni.debug(`There were multiple attempts to register component ${e}.`),!1;kh.set(e,i);for(const n of uu.values())lm(n,i);for(const n of $E.values())lm(n,i);return!0}function HE(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zi=new Ag("app","Firebase",qE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=BE;function Dg(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Ph,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw zi.create("bad-app-name",{appName:String(a)});if(n||(n=Cg()),!n)throw zi.create("no-options");const u=uu.get(a);if(u){if(Ih(n,u.options)&&Ih(s,u.config))return u;throw zi.create("duplicate-app",{appName:a})}const h=new X_(a);for(const g of kh.values())h.addComponent(g);const d=new WE(n,s,h);return uu.set(a,d),d}function QE(i=Ph){const e=uu.get(i);if(!e&&i===Ph&&Cg())return Dg();if(!e)throw zi.create("no-app",{appName:i});return e}function mo(i,e,n){var s;let a=(s=jE[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const u=a.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${a}" with version "${e}":`];u&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ni.warn(d.join(" "));return}cu(new Sa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="firebase-heartbeat-database",YE=1,Ia="firebase-heartbeat-store";let ph=null;function Ng(){return ph||(ph=cE(GE,YE,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Ia)}catch(n){console.warn(n)}}}}).catch(i=>{throw zi.create("idb-open",{originalErrorMessage:i.message})})),ph}async function XE(i){try{const n=(await Ng()).transaction(Ia),s=await n.objectStore(Ia).get(Vg(i));return await n.done,s}catch(e){if(e instanceof Ro)ni.warn(e.message);else{const n=zi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ni.warn(n.message)}}}async function um(i,e){try{const s=(await Ng()).transaction(Ia,"readwrite");await s.objectStore(Ia).put(e,Vg(i)),await s.done}catch(n){if(n instanceof Ro)ni.warn(n.message);else{const s=zi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ni.warn(s.message)}}}function Vg(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE=1024,ZE=30*24*60*60*1e3;class ew{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=cm();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const d=new Date(h.date).valueOf();return Date.now()-d<=ZE}),this._storage.overwrite(this._heartbeatsCache))}catch(s){ni.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=cm(),{heartbeatsToSend:s,unsentEntries:a}=tw(this._heartbeatsCache.heartbeats),u=lu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ni.warn(n),""}}}function cm(){return new Date().toISOString().substring(0,10)}function tw(i,e=JE){const n=[];let s=i.slice();for(const a of i){const u=n.find(h=>h.agent===a.agent);if(u){if(u.dates.push(a.date),hm(n)>e){u.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),hm(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class nw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $_()?H_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await XE(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return um(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return um(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function hm(i){return lu(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(i){cu(new Sa("platform-logger",e=>new dE(e),"PRIVATE")),cu(new Sa("heartbeat",e=>new ew(e),"PRIVATE")),mo(Ah,am,i),mo(Ah,am,"esm2017"),mo("fire-js","")}rw("");var fm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ws,Lg;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,T){function R(){}R.prototype=T.prototype,P.D=T.prototype,P.prototype=new R,P.prototype.constructor=P,P.C=function(k,V,F){for(var A=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)A[lt-2]=arguments[lt];return T.prototype[V].apply(k,A)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(P,T,R){R||(R=0);var k=Array(16);if(typeof T=="string")for(var V=0;16>V;++V)k[V]=T.charCodeAt(R++)|T.charCodeAt(R++)<<8|T.charCodeAt(R++)<<16|T.charCodeAt(R++)<<24;else for(V=0;16>V;++V)k[V]=T[R++]|T[R++]<<8|T[R++]<<16|T[R++]<<24;T=P.g[0],R=P.g[1],V=P.g[2];var F=P.g[3],A=T+(F^R&(V^F))+k[0]+3614090360&4294967295;T=R+(A<<7&4294967295|A>>>25),A=F+(V^T&(R^V))+k[1]+3905402710&4294967295,F=T+(A<<12&4294967295|A>>>20),A=V+(R^F&(T^R))+k[2]+606105819&4294967295,V=F+(A<<17&4294967295|A>>>15),A=R+(T^V&(F^T))+k[3]+3250441966&4294967295,R=V+(A<<22&4294967295|A>>>10),A=T+(F^R&(V^F))+k[4]+4118548399&4294967295,T=R+(A<<7&4294967295|A>>>25),A=F+(V^T&(R^V))+k[5]+1200080426&4294967295,F=T+(A<<12&4294967295|A>>>20),A=V+(R^F&(T^R))+k[6]+2821735955&4294967295,V=F+(A<<17&4294967295|A>>>15),A=R+(T^V&(F^T))+k[7]+4249261313&4294967295,R=V+(A<<22&4294967295|A>>>10),A=T+(F^R&(V^F))+k[8]+1770035416&4294967295,T=R+(A<<7&4294967295|A>>>25),A=F+(V^T&(R^V))+k[9]+2336552879&4294967295,F=T+(A<<12&4294967295|A>>>20),A=V+(R^F&(T^R))+k[10]+4294925233&4294967295,V=F+(A<<17&4294967295|A>>>15),A=R+(T^V&(F^T))+k[11]+2304563134&4294967295,R=V+(A<<22&4294967295|A>>>10),A=T+(F^R&(V^F))+k[12]+1804603682&4294967295,T=R+(A<<7&4294967295|A>>>25),A=F+(V^T&(R^V))+k[13]+4254626195&4294967295,F=T+(A<<12&4294967295|A>>>20),A=V+(R^F&(T^R))+k[14]+2792965006&4294967295,V=F+(A<<17&4294967295|A>>>15),A=R+(T^V&(F^T))+k[15]+1236535329&4294967295,R=V+(A<<22&4294967295|A>>>10),A=T+(V^F&(R^V))+k[1]+4129170786&4294967295,T=R+(A<<5&4294967295|A>>>27),A=F+(R^V&(T^R))+k[6]+3225465664&4294967295,F=T+(A<<9&4294967295|A>>>23),A=V+(T^R&(F^T))+k[11]+643717713&4294967295,V=F+(A<<14&4294967295|A>>>18),A=R+(F^T&(V^F))+k[0]+3921069994&4294967295,R=V+(A<<20&4294967295|A>>>12),A=T+(V^F&(R^V))+k[5]+3593408605&4294967295,T=R+(A<<5&4294967295|A>>>27),A=F+(R^V&(T^R))+k[10]+38016083&4294967295,F=T+(A<<9&4294967295|A>>>23),A=V+(T^R&(F^T))+k[15]+3634488961&4294967295,V=F+(A<<14&4294967295|A>>>18),A=R+(F^T&(V^F))+k[4]+3889429448&4294967295,R=V+(A<<20&4294967295|A>>>12),A=T+(V^F&(R^V))+k[9]+568446438&4294967295,T=R+(A<<5&4294967295|A>>>27),A=F+(R^V&(T^R))+k[14]+3275163606&4294967295,F=T+(A<<9&4294967295|A>>>23),A=V+(T^R&(F^T))+k[3]+4107603335&4294967295,V=F+(A<<14&4294967295|A>>>18),A=R+(F^T&(V^F))+k[8]+1163531501&4294967295,R=V+(A<<20&4294967295|A>>>12),A=T+(V^F&(R^V))+k[13]+2850285829&4294967295,T=R+(A<<5&4294967295|A>>>27),A=F+(R^V&(T^R))+k[2]+4243563512&4294967295,F=T+(A<<9&4294967295|A>>>23),A=V+(T^R&(F^T))+k[7]+1735328473&4294967295,V=F+(A<<14&4294967295|A>>>18),A=R+(F^T&(V^F))+k[12]+2368359562&4294967295,R=V+(A<<20&4294967295|A>>>12),A=T+(R^V^F)+k[5]+4294588738&4294967295,T=R+(A<<4&4294967295|A>>>28),A=F+(T^R^V)+k[8]+2272392833&4294967295,F=T+(A<<11&4294967295|A>>>21),A=V+(F^T^R)+k[11]+1839030562&4294967295,V=F+(A<<16&4294967295|A>>>16),A=R+(V^F^T)+k[14]+4259657740&4294967295,R=V+(A<<23&4294967295|A>>>9),A=T+(R^V^F)+k[1]+2763975236&4294967295,T=R+(A<<4&4294967295|A>>>28),A=F+(T^R^V)+k[4]+1272893353&4294967295,F=T+(A<<11&4294967295|A>>>21),A=V+(F^T^R)+k[7]+4139469664&4294967295,V=F+(A<<16&4294967295|A>>>16),A=R+(V^F^T)+k[10]+3200236656&4294967295,R=V+(A<<23&4294967295|A>>>9),A=T+(R^V^F)+k[13]+681279174&4294967295,T=R+(A<<4&4294967295|A>>>28),A=F+(T^R^V)+k[0]+3936430074&4294967295,F=T+(A<<11&4294967295|A>>>21),A=V+(F^T^R)+k[3]+3572445317&4294967295,V=F+(A<<16&4294967295|A>>>16),A=R+(V^F^T)+k[6]+76029189&4294967295,R=V+(A<<23&4294967295|A>>>9),A=T+(R^V^F)+k[9]+3654602809&4294967295,T=R+(A<<4&4294967295|A>>>28),A=F+(T^R^V)+k[12]+3873151461&4294967295,F=T+(A<<11&4294967295|A>>>21),A=V+(F^T^R)+k[15]+530742520&4294967295,V=F+(A<<16&4294967295|A>>>16),A=R+(V^F^T)+k[2]+3299628645&4294967295,R=V+(A<<23&4294967295|A>>>9),A=T+(V^(R|~F))+k[0]+4096336452&4294967295,T=R+(A<<6&4294967295|A>>>26),A=F+(R^(T|~V))+k[7]+1126891415&4294967295,F=T+(A<<10&4294967295|A>>>22),A=V+(T^(F|~R))+k[14]+2878612391&4294967295,V=F+(A<<15&4294967295|A>>>17),A=R+(F^(V|~T))+k[5]+4237533241&4294967295,R=V+(A<<21&4294967295|A>>>11),A=T+(V^(R|~F))+k[12]+1700485571&4294967295,T=R+(A<<6&4294967295|A>>>26),A=F+(R^(T|~V))+k[3]+2399980690&4294967295,F=T+(A<<10&4294967295|A>>>22),A=V+(T^(F|~R))+k[10]+4293915773&4294967295,V=F+(A<<15&4294967295|A>>>17),A=R+(F^(V|~T))+k[1]+2240044497&4294967295,R=V+(A<<21&4294967295|A>>>11),A=T+(V^(R|~F))+k[8]+1873313359&4294967295,T=R+(A<<6&4294967295|A>>>26),A=F+(R^(T|~V))+k[15]+4264355552&4294967295,F=T+(A<<10&4294967295|A>>>22),A=V+(T^(F|~R))+k[6]+2734768916&4294967295,V=F+(A<<15&4294967295|A>>>17),A=R+(F^(V|~T))+k[13]+1309151649&4294967295,R=V+(A<<21&4294967295|A>>>11),A=T+(V^(R|~F))+k[4]+4149444226&4294967295,T=R+(A<<6&4294967295|A>>>26),A=F+(R^(T|~V))+k[11]+3174756917&4294967295,F=T+(A<<10&4294967295|A>>>22),A=V+(T^(F|~R))+k[2]+718787259&4294967295,V=F+(A<<15&4294967295|A>>>17),A=R+(F^(V|~T))+k[9]+3951481745&4294967295,P.g[0]=P.g[0]+T&4294967295,P.g[1]=P.g[1]+(V+(A<<21&4294967295|A>>>11))&4294967295,P.g[2]=P.g[2]+V&4294967295,P.g[3]=P.g[3]+F&4294967295}s.prototype.u=function(P,T){T===void 0&&(T=P.length);for(var R=T-this.blockSize,k=this.B,V=this.h,F=0;F<T;){if(V==0)for(;F<=R;)a(this,P,F),F+=this.blockSize;if(typeof P=="string"){for(;F<T;)if(k[V++]=P.charCodeAt(F++),V==this.blockSize){a(this,k),V=0;break}}else for(;F<T;)if(k[V++]=P[F++],V==this.blockSize){a(this,k),V=0;break}}this.h=V,this.o+=T},s.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var T=1;T<P.length-8;++T)P[T]=0;var R=8*this.o;for(T=P.length-8;T<P.length;++T)P[T]=R&255,R/=256;for(this.u(P),P=Array(16),T=R=0;4>T;++T)for(var k=0;32>k;k+=8)P[R++]=this.g[T]>>>k&255;return P};function u(P,T){var R=d;return Object.prototype.hasOwnProperty.call(R,P)?R[P]:R[P]=T(P)}function h(P,T){this.h=T;for(var R=[],k=!0,V=P.length-1;0<=V;V--){var F=P[V]|0;k&&F==T||(R[V]=F,k=!1)}this.g=R}var d={};function g(P){return-128<=P&&128>P?u(P,function(T){return new h([T|0],0>T?-1:0)}):new h([P|0],0>P?-1:0)}function v(P){if(isNaN(P)||!isFinite(P))return I;if(0>P)return $(v(-P));for(var T=[],R=1,k=0;P>=R;k++)T[k]=P/R|0,R*=4294967296;return new h(T,0)}function E(P,T){if(P.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(P.charAt(0)=="-")return $(E(P.substring(1),T));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=v(Math.pow(T,8)),k=I,V=0;V<P.length;V+=8){var F=Math.min(8,P.length-V),A=parseInt(P.substring(V,V+F),T);8>F?(F=v(Math.pow(T,F)),k=k.j(F).add(v(A))):(k=k.j(R),k=k.add(v(A)))}return k}var I=g(0),S=g(1),x=g(16777216);i=h.prototype,i.m=function(){if(q(this))return-$(this).m();for(var P=0,T=1,R=0;R<this.g.length;R++){var k=this.i(R);P+=(0<=k?k:4294967296+k)*T,T*=4294967296}return P},i.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(b(this))return"0";if(q(this))return"-"+$(this).toString(P);for(var T=v(Math.pow(P,6)),R=this,k="";;){var V=pe(R,T).g;R=K(R,V.j(T));var F=((0<R.g.length?R.g[0]:R.h)>>>0).toString(P);if(R=V,b(R))return F+k;for(;6>F.length;)F="0"+F;k=F+k}},i.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function b(P){if(P.h!=0)return!1;for(var T=0;T<P.g.length;T++)if(P.g[T]!=0)return!1;return!0}function q(P){return P.h==-1}i.l=function(P){return P=K(this,P),q(P)?-1:b(P)?0:1};function $(P){for(var T=P.g.length,R=[],k=0;k<T;k++)R[k]=~P.g[k];return new h(R,~P.h).add(S)}i.abs=function(){return q(this)?$(this):this},i.add=function(P){for(var T=Math.max(this.g.length,P.g.length),R=[],k=0,V=0;V<=T;V++){var F=k+(this.i(V)&65535)+(P.i(V)&65535),A=(F>>>16)+(this.i(V)>>>16)+(P.i(V)>>>16);k=A>>>16,F&=65535,A&=65535,R[V]=A<<16|F}return new h(R,R[R.length-1]&-2147483648?-1:0)};function K(P,T){return P.add($(T))}i.j=function(P){if(b(this)||b(P))return I;if(q(this))return q(P)?$(this).j($(P)):$($(this).j(P));if(q(P))return $(this.j($(P)));if(0>this.l(x)&&0>P.l(x))return v(this.m()*P.m());for(var T=this.g.length+P.g.length,R=[],k=0;k<2*T;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(var V=0;V<P.g.length;V++){var F=this.i(k)>>>16,A=this.i(k)&65535,lt=P.i(V)>>>16,je=P.i(V)&65535;R[2*k+2*V]+=A*je,se(R,2*k+2*V),R[2*k+2*V+1]+=F*je,se(R,2*k+2*V+1),R[2*k+2*V+1]+=A*lt,se(R,2*k+2*V+1),R[2*k+2*V+2]+=F*lt,se(R,2*k+2*V+2)}for(k=0;k<T;k++)R[k]=R[2*k+1]<<16|R[2*k];for(k=T;k<2*T;k++)R[k]=0;return new h(R,0)};function se(P,T){for(;(P[T]&65535)!=P[T];)P[T+1]+=P[T]>>>16,P[T]&=65535,T++}function re(P,T){this.g=P,this.h=T}function pe(P,T){if(b(T))throw Error("division by zero");if(b(P))return new re(I,I);if(q(P))return T=pe($(P),T),new re($(T.g),$(T.h));if(q(T))return T=pe(P,$(T)),new re($(T.g),T.h);if(30<P.g.length){if(q(P)||q(T))throw Error("slowDivide_ only works with positive integers.");for(var R=S,k=T;0>=k.l(P);)R=U(R),k=U(k);var V=ce(R,1),F=ce(k,1);for(k=ce(k,2),R=ce(R,2);!b(k);){var A=F.add(k);0>=A.l(P)&&(V=V.add(R),F=A),k=ce(k,1),R=ce(R,1)}return T=K(P,V.j(T)),new re(V,T)}for(V=I;0<=P.l(T);){for(R=Math.max(1,Math.floor(P.m()/T.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),F=v(R),A=F.j(T);q(A)||0<A.l(P);)R-=k,F=v(R),A=F.j(T);b(F)&&(F=S),V=V.add(F),P=K(P,A)}return new re(V,P)}i.A=function(P){return pe(this,P).h},i.and=function(P){for(var T=Math.max(this.g.length,P.g.length),R=[],k=0;k<T;k++)R[k]=this.i(k)&P.i(k);return new h(R,this.h&P.h)},i.or=function(P){for(var T=Math.max(this.g.length,P.g.length),R=[],k=0;k<T;k++)R[k]=this.i(k)|P.i(k);return new h(R,this.h|P.h)},i.xor=function(P){for(var T=Math.max(this.g.length,P.g.length),R=[],k=0;k<T;k++)R[k]=this.i(k)^P.i(k);return new h(R,this.h^P.h)};function U(P){for(var T=P.g.length+1,R=[],k=0;k<T;k++)R[k]=P.i(k)<<1|P.i(k-1)>>>31;return new h(R,P.h)}function ce(P,T){var R=T>>5;T%=32;for(var k=P.g.length-R,V=[],F=0;F<k;F++)V[F]=0<T?P.i(F+R)>>>T|P.i(F+R+1)<<32-T:P.i(F+R);return new h(V,P.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Lg=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=E,ws=h}).apply(typeof fm<"u"?fm:typeof self<"u"?self:typeof window<"u"?window:{});var Kl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mg,da,Og,eu,xh,Fg,bg,Ug;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,p,y){return l==Array.prototype||l==Object.prototype||(l[p]=y.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kl=="object"&&Kl];for(var p=0;p<l.length;++p){var y=l[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function a(l,p){if(p)e:{var y=s;l=l.split(".");for(var w=0;w<l.length-1;w++){var z=l[w];if(!(z in y))break e;y=y[z]}l=l[l.length-1],w=y[l],p=p(w),p!=w&&p!=null&&e(y,l,{configurable:!0,writable:!0,value:p})}}function u(l,p){l instanceof String&&(l+="");var y=0,w=!1,z={next:function(){if(!w&&y<l.length){var Q=y++;return{value:p(Q,l[Q]),done:!1}}return w=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}a("Array.prototype.values",function(l){return l||function(){return u(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function g(l){var p=typeof l;return p=p!="object"?p:l?Array.isArray(l)?"array":p:"null",p=="array"||p=="object"&&typeof l.length=="number"}function v(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function E(l,p,y){return l.call.apply(l.bind,arguments)}function I(l,p,y){if(!l)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,w),l.apply(p,z)}}return function(){return l.apply(p,arguments)}}function S(l,p,y){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:I,S.apply(null,arguments)}function x(l,p){var y=Array.prototype.slice.call(arguments,1);return function(){var w=y.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function b(l,p){function y(){}y.prototype=p.prototype,l.aa=p.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(w,z,Q){for(var le=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)le[ot-2]=arguments[ot];return p.prototype[z].apply(w,le)}}function q(l){const p=l.length;if(0<p){const y=Array(p);for(let w=0;w<p;w++)y[w]=l[w];return y}return[]}function $(l,p){for(let y=1;y<arguments.length;y++){const w=arguments[y];if(g(w)){const z=l.length||0,Q=w.length||0;l.length=z+Q;for(let le=0;le<Q;le++)l[z+le]=w[le]}else l.push(w)}}class K{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function se(l){return/^[\s\xa0]*$/.test(l)}function re(){var l=d.navigator;return l&&(l=l.userAgent)?l:""}function pe(l){return pe[" "](l),l}pe[" "]=function(){};var U=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function ce(l,p,y){for(const w in l)p.call(y,l[w],w,l)}function P(l,p){for(const y in l)p.call(void 0,l[y],y,l)}function T(l){const p={};for(const y in l)p[y]=l[y];return p}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,p){let y,w;for(let z=1;z<arguments.length;z++){w=arguments[z];for(y in w)l[y]=w[y];for(let Q=0;Q<R.length;Q++)y=R[Q],Object.prototype.hasOwnProperty.call(w,y)&&(l[y]=w[y])}}function V(l){var p=1;l=l.split(":");const y=[];for(;0<p&&l.length;)y.push(l.shift()),p--;return l.length&&y.push(l.join(":")),y}function F(l){d.setTimeout(()=>{throw l},0)}function A(){var l=Te;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class lt{constructor(){this.h=this.g=null}add(p,y){const w=je.get();w.set(p,y),this.h?this.h.next=w:this.g=w,this.h=w}}var je=new K(()=>new It,l=>l.reset());class It{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let $e,oe=!1,Te=new lt,ue=()=>{const l=d.Promise.resolve(void 0);$e=()=>{l.then(M)}};var M=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(y){F(y)}var p=je;p.j(l),100>p.h&&(p.h++,l.next=p.g,p.g=l)}oe=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ee(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}Ee.prototype.h=function(){this.defaultPrevented=!0};var Ne=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};d.addEventListener("test",y,p),d.removeEventListener("test",y,p)}catch{}return l}();function De(l,p){if(Ee.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget){if(U){e:{try{pe(p.nodeName);var z=!0;break e}catch{}z=!1}z||(p=null)}}else y=="mouseover"?p=l.fromElement:y=="mouseout"&&(p=l.toElement);this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:be[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&De.aa.h.call(this)}}b(De,Ee);var be={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Ye="closure_listenable_"+(1e6*Math.random()|0),Xe=0;function Me(l,p,y,w,z){this.listener=l,this.proxy=null,this.src=p,this.type=y,this.capture=!!w,this.ha=z,this.key=++Xe,this.da=this.fa=!1}function ct(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Un(l){this.src=l,this.g={},this.h=0}Un.prototype.add=function(l,p,y,w,z){var Q=l.toString();l=this.g[Q],l||(l=this.g[Q]=[],this.h++);var le=en(l,p,w,z);return-1<le?(p=l[le],y||(p.fa=!1)):(p=new Me(p,this.src,Q,!!w,z),p.fa=y,l.push(p)),p};function si(l,p){var y=p.type;if(y in l.g){var w=l.g[y],z=Array.prototype.indexOf.call(w,p,void 0),Q;(Q=0<=z)&&Array.prototype.splice.call(w,z,1),Q&&(ct(p),l.g[y].length==0&&(delete l.g[y],l.h--))}}function en(l,p,y,w){for(var z=0;z<l.length;++z){var Q=l[z];if(!Q.da&&Q.listener==p&&Q.capture==!!y&&Q.ha==w)return z}return-1}var Fr="closure_lm_"+(1e6*Math.random()|0),oi={};function ai(l,p,y,w,z){if(Array.isArray(p)){for(var Q=0;Q<p.length;Q++)ai(l,p[Q],y,w,z);return null}return y=yn(y),l&&l[Ye]?l.K(p,y,v(w)?!!w.capture:!1,z):Gi(l,p,y,!1,w,z)}function Gi(l,p,y,w,z,Q){if(!p)throw Error("Invalid event type");var le=v(z)?!!z.capture:!!z,ot=br(l);if(ot||(l[Fr]=ot=new Un(l)),y=ot.add(p,y,w,le,Q),y.proxy)return y;if(w=Ps(),y.proxy=w,w.src=l,w.listener=y,l.addEventListener)Ne||(z=le),z===void 0&&(z=!1),l.addEventListener(p.toString(),w,z);else if(l.attachEvent)l.attachEvent(Ht(p.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ps(){function l(y){return p.call(l.src,l.listener,y)}const p=Yn;return l}function li(l,p,y,w,z){if(Array.isArray(p))for(var Q=0;Q<p.length;Q++)li(l,p[Q],y,w,z);else w=v(w)?!!w.capture:!!w,y=yn(y),l&&l[Ye]?(l=l.i,p=String(p).toString(),p in l.g&&(Q=l.g[p],y=en(Q,y,w,z),-1<y&&(ct(Q[y]),Array.prototype.splice.call(Q,y,1),Q.length==0&&(delete l.g[p],l.h--)))):l&&(l=br(l))&&(p=l.g[p.toString()],l=-1,p&&(l=en(p,y,w,z)),(y=-1<l?p[l]:null)&&Gn(y))}function Gn(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[Ye])si(p.i,l);else{var y=l.type,w=l.proxy;p.removeEventListener?p.removeEventListener(y,w,l.capture):p.detachEvent?p.detachEvent(Ht(y),w):p.addListener&&p.removeListener&&p.removeListener(w),(y=br(p))?(si(y,l),y.h==0&&(y.src=null,p[Fr]=null)):ct(l)}}}function Ht(l){return l in oi?oi[l]:oi[l]="on"+l}function Yn(l,p){if(l.da)l=!0;else{p=new De(p,this);var y=l.listener,w=l.ha||l.src;l.fa&&Gn(l),l=y.call(w,p)}return l}function br(l){return l=l[Fr],l instanceof Un?l:null}var yr="__closure_events_fn_"+(1e9*Math.random()>>>0);function yn(l){return typeof l=="function"?l:(l[yr]||(l[yr]=function(p){return l.handleEvent(p)}),l[yr])}function st(){Y.call(this),this.i=new Un(this),this.M=this,this.F=null}b(st,Y),st.prototype[Ye]=!0,st.prototype.removeEventListener=function(l,p,y,w){li(this,l,p,y,w)};function wt(l,p){var y,w=l.F;if(w)for(y=[];w;w=w.F)y.push(w);if(l=l.M,w=p.type||p,typeof p=="string")p=new Ee(p,l);else if(p instanceof Ee)p.target=p.target||l;else{var z=p;p=new Ee(w,l),k(p,z)}if(z=!0,y)for(var Q=y.length-1;0<=Q;Q--){var le=p.g=y[Q];z=kn(le,w,!0,p)&&z}if(le=p.g=l,z=kn(le,w,!0,p)&&z,z=kn(le,w,!1,p)&&z,y)for(Q=0;Q<y.length;Q++)le=p.g=y[Q],z=kn(le,w,!1,p)&&z}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var l=this.i,p;for(p in l.g){for(var y=l.g[p],w=0;w<y.length;w++)ct(y[w]);delete l.g[p],l.h--}}this.F=null},st.prototype.K=function(l,p,y,w){return this.i.add(String(l),p,!1,y,w)},st.prototype.L=function(l,p,y,w){return this.i.add(String(l),p,!0,y,w)};function kn(l,p,y,w){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();for(var z=!0,Q=0;Q<p.length;++Q){var le=p[Q];if(le&&!le.da&&le.capture==y){var ot=le.listener,Vt=le.ha||le.src;le.fa&&si(l.i,le),z=ot.call(Vt,w)!==!1&&z}}return z&&!w.defaultPrevented}function Yi(l,p,y){if(typeof l=="function")y&&(l=S(l,y));else if(l&&typeof l.handleEvent=="function")l=S(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:d.setTimeout(l,p||0)}function qt(l){l.g=Yi(()=>{l.g=null,l.i&&(l.i=!1,qt(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class vr extends Y{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:qt(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _r(l){Y.call(this),this.h=l,this.g={}}b(_r,Y);var ui=[];function Xi(l){ce(l.g,function(p,y){this.g.hasOwnProperty(y)&&Gn(p)},l),l.g={}}_r.prototype.N=function(){_r.aa.N.call(this),Xi(this)},_r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ci=d.JSON.stringify,Er=d.JSON.parse,hi=class{stringify(l){return d.JSON.stringify(l,void 0)}parse(l){return d.JSON.parse(l,void 0)}};function Xn(){}Xn.prototype.h=null;function fi(l){return l.h||(l.h=l.i())}function Ur(){}var vn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xn(){Ee.call(this,"d")}b(xn,Ee);function Jn(){Ee.call(this,"c")}b(Jn,Ee);var fn={},Ji=null;function zr(){return Ji=Ji||new st}fn.La="serverreachability";function N(l){Ee.call(this,fn.La,l)}b(N,Ee);function O(l){const p=zr();wt(p,new N(p))}fn.STAT_EVENT="statevent";function W(l,p){Ee.call(this,fn.STAT_EVENT,l),this.stat=p}b(W,Ee);function X(l){const p=zr();wt(p,new W(p,l))}fn.Ma="timingevent";function he(l,p){Ee.call(this,fn.Ma,l),this.size=p}b(he,Ee);function ge(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){l()},p)}function Re(){this.g=!0}Re.prototype.xa=function(){this.g=!1};function fe(l,p,y,w,z,Q){l.info(function(){if(l.g)if(Q)for(var le="",ot=Q.split("&"),Vt=0;Vt<ot.length;Vt++){var qe=ot[Vt].split("=");if(1<qe.length){var Ft=qe[0];qe=qe[1];var kt=Ft.split("_");le=2<=kt.length&&kt[1]=="type"?le+(Ft+"="+qe+"&"):le+(Ft+"=redacted&")}}else le=null;else le=Q;return"XMLHTTP REQ ("+w+") [attempt "+z+"]: "+p+`
`+y+`
`+le})}function _e(l,p,y,w,z,Q,le){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+z+"]: "+p+`
`+y+`
`+Q+" "+le})}function ae(l,p,y,w){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+Oe(l,y)+(w?" "+w:"")})}function ke(l,p){l.info(function(){return"TIMEOUT: "+p})}Re.prototype.info=function(){};function Oe(l,p){if(!l.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var w=y[l];if(!(2>w.length)){var z=w[1];if(Array.isArray(z)&&!(1>z.length)){var Q=z[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var le=1;le<z.length;le++)z[le]=""}}}}return ci(y)}catch{return p}}var nt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Tt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ue;function Je(){}b(Je,Xn),Je.prototype.g=function(){return new XMLHttpRequest},Je.prototype.i=function(){return{}},Ue=new Je;function rt(l,p,y,w){this.j=l,this.i=p,this.l=y,this.R=w||1,this.U=new _r(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Zn}function Zn(){this.i=null,this.g="",this.h=!1}var er={},tn={};function Wt(l,p,y){l.L=1,l.v=gi(Dn(p)),l.m=y,l.P=!0,Br(l,null)}function Br(l,p){l.F=Date.now(),it(l),l.A=Dn(l.v);var y=l.A,w=l.R;Array.isArray(w)||(w=[String(w)]),vi(y.i,"t",w),l.C=0,y=l.j.J,l.h=new Zn,l.g=Xa(l.j,y?p:null,!l.m),0<l.O&&(l.M=new vr(S(l.Y,l,l.g),l.O)),p=l.U,y=l.g,w=l.ca;var z="readystatechange";Array.isArray(z)||(z&&(ui[0]=z.toString()),z=ui);for(var Q=0;Q<z.length;Q++){var le=ai(y,z[Q],w||p.handleEvent,!1,p.h||p);if(!le)break;p.g[le.key]=le}p=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,p)):(l.u="GET",l.g.ea(l.A,l.u,null,p)),O(),fe(l.i,l.u,l.A,l.l,l.R,l.m)}rt.prototype.ca=function(l){l=l.target;const p=this.M;p&&wn(l)==3?p.j():this.Y(l)},rt.prototype.Y=function(l){try{if(l==this.g)e:{const kt=wn(this.g);var p=this.g.Ba();const Bn=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||Mo(this.g)))){this.J||kt!=4||p==7||(p==8||0>=Bn?O(3):O(2)),He(this);var y=this.g.Z();this.X=y;t:if(wr(this)){var w=Mo(this.g);l="";var z=w.length,Q=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kt(this),ht(this);var le="";break t}this.h.i=new d.TextDecoder}for(p=0;p<z;p++)this.h.h=!0,l+=this.h.i.decode(w[p],{stream:!(Q&&p==z-1)});w.length=0,this.h.g+=l,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=y==200,_e(this.i,this.u,this.A,this.l,this.R,kt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var ot,Vt=this.g;if((ot=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!se(ot)){var qe=ot;break t}}qe=null}if(y=qe)ae(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nr(this,y);else{this.o=!1,this.s=3,X(12),Kt(this),ht(this);break e}}if(this.P){y=!0;let Vn;for(;!this.J&&this.C<le.length;)if(Vn=tr(this,le),Vn==tn){kt==4&&(this.s=4,X(14),y=!1),ae(this.i,this.l,null,"[Incomplete Response]");break}else if(Vn==er){this.s=4,X(15),ae(this.i,this.l,le,"[Invalid Chunk]"),y=!1;break}else ae(this.i,this.l,Vn,null),nr(this,Vn);if(wr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||le.length!=0||this.h.h||(this.s=1,X(16),y=!1),this.o=this.o&&y,!y)ae(this.i,this.l,le,"[Invalid Chunked Response]"),Kt(this),ht(this);else if(0<le.length&&!this.W){this.W=!0;var Ft=this.j;Ft.g==this&&Ft.ba&&!Ft.M&&(Ft.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Fo(Ft),Ft.M=!0,X(11))}}else ae(this.i,this.l,le,null),nr(this,le);kt==4&&Kt(this),this.o&&!this.J&&(kt==4?zs(this.j,this):(this.o=!1,it(this)))}else Ms(this.g),y==400&&0<le.indexOf("Unknown SID")?(this.s=3,X(12)):(this.s=0,X(13)),Kt(this),ht(this)}}}catch{}finally{}};function wr(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function tr(l,p){var y=l.C,w=p.indexOf(`
`,y);return w==-1?tn:(y=Number(p.substring(y,w)),isNaN(y)?er:(w+=1,w+y>p.length?tn:(p=p.slice(w,w+y),l.C=w+y,p)))}rt.prototype.cancel=function(){this.J=!0,Kt(this)};function it(l){l.S=Date.now()+l.I,jr(l,l.I)}function jr(l,p){if(l.B!=null)throw Error("WatchDog timer not null");l.B=ge(S(l.ba,l),p)}function He(l){l.B&&(d.clearTimeout(l.B),l.B=null)}rt.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(ke(this.i,this.A),this.L!=2&&(O(),X(17)),Kt(this),this.s=2,ht(this)):jr(this,this.S-l)};function ht(l){l.j.G==0||l.J||zs(l.j,l)}function Kt(l){He(l);var p=l.M;p&&typeof p.ma=="function"&&p.ma(),l.M=null,Xi(l.U),l.g&&(p=l.g,l.g=null,p.abort(),p.ma())}function nr(l,p){try{var y=l.j;if(y.G!=0&&(y.g==l||dn(y.h,l))){if(!l.K&&dn(y.h,l)&&y.G==3){try{var w=y.Da.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var z=w;if(z[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)Us(y),ar(y);else break e;bs(y),X(18)}}else y.za=z[1],0<y.za-y.T&&37500>z[2]&&y.F&&y.v==0&&!y.C&&(y.C=ge(S(y.Za,y),6e3));if(1>=ks(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Kr(y,11)}else if((l.K||y.g==l)&&Us(y),!se(p))for(z=y.Da.g.parse(p),p=0;p<z.length;p++){let qe=z[p];if(y.T=qe[0],qe=qe[1],y.G==2)if(qe[0]=="c"){y.K=qe[1],y.ia=qe[2];const Ft=qe[3];Ft!=null&&(y.la=Ft,y.j.info("VER="+y.la));const kt=qe[4];kt!=null&&(y.Aa=kt,y.j.info("SVER="+y.Aa));const Bn=qe[5];Bn!=null&&typeof Bn=="number"&&0<Bn&&(w=1.5*Bn,y.L=w,y.j.info("backChannelRequestTimeoutMs_="+w)),w=y;const Vn=l.g;if(Vn){const is=Vn.g?Vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(is){var Q=w.h;Q.g||is.indexOf("spdy")==-1&&is.indexOf("quic")==-1&&is.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Do(Q,Q.h),Q.h=null))}if(w.D){const js=Vn.g?Vn.g.getResponseHeader("X-HTTP-Session-Id"):null;js&&(w.ya=js,at(w.I,w.D,js))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),w=y;var le=l;if(w.qa=Ya(w,w.J?w.ia:null,w.W),le.K){ba(w.h,le);var ot=le,Vt=w.L;Vt&&(ot.I=Vt),ot.B&&(He(ot),it(ot)),w.g=le}else rs(w);0<y.i.length&&Rr(y)}else qe[0]!="stop"&&qe[0]!="close"||Kr(y,7);else y.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Kr(y,7):Gt(y):qe[0]!="noop"&&y.l&&y.l.ta(qe),y.v=0)}}O(4)}catch{}}var ft=class{constructor(l,p){this.g=l,this.map=p}};function _n(l){this.l=l||10,d.PerformanceNavigationTiming?(l=d.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nn(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function ks(l){return l.h?1:l.g?l.g.size:0}function dn(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function Do(l,p){l.g?l.g.add(p):l.h=p}function ba(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}_n.prototype.cancel=function(){if(this.i=Ua(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Ua(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const y of l.g.values())p=p.concat(y.D);return p}return q(l.i)}function xs(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var p=[],y=l.length,w=0;w<y;w++)p.push(l[w]);return p}p=[],y=0;for(w in l)p[y++]=l[w];return p}function Ds(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var p=[];l=l.length;for(var y=0;y<l;y++)p.push(y);return p}p=[],y=0;for(const w in l)p[y++]=w;return p}}}function di(l,p){if(l.forEach&&typeof l.forEach=="function")l.forEach(p,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,p,void 0);else for(var y=Ds(l),w=xs(l),z=w.length,Q=0;Q<z;Q++)p.call(void 0,w[Q],y&&y[Q],l)}var Zi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ou(l,p){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var w=l[y].indexOf("="),z=null;if(0<=w){var Q=l[y].substring(0,w);z=l[y].substring(w+1)}else Q=l[y];p(Q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function $r(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof $r){this.h=l.h,es(this,l.j),this.o=l.o,this.g=l.g,pi(this,l.s),this.l=l.l;var p=l.i,y=new Tr;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),mi(this,y),this.m=l.m}else l&&(p=String(l).match(Zi))?(this.h=!1,es(this,p[1]||"",!0),this.o=ze(p[2]||""),this.g=ze(p[3]||"",!0),pi(this,p[4]),this.l=ze(p[5]||"",!0),mi(this,p[6]||"",!0),this.m=ze(p[7]||"")):(this.h=!1,this.i=new Tr(null,this.h))}$r.prototype.toString=function(){var l=[],p=this.j;p&&l.push(yi(p,Ns,!0),":");var y=this.g;return(y||p=="file")&&(l.push("//"),(p=this.o)&&l.push(yi(p,Ns,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(yi(y,y.charAt(0)=="/"?ja:Ba,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",yi(y,No)),l.join("")};function Dn(l){return new $r(l)}function es(l,p,y){l.j=y?ze(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function pi(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.s=p}else l.s=null}function mi(l,p,y){p instanceof Tr?(l.i=p,Sr(l.i,l.h)):(y||(p=yi(p,$a)),l.i=new Tr(p,l.h))}function at(l,p,y){l.i.set(p,y)}function gi(l){return at(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function ze(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function yi(l,p,y){return typeof l=="string"?(l=encodeURI(l).replace(p,za),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function za(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Ns=/[#\/\?@]/g,Ba=/[#\?:]/g,ja=/[#\?]/g,$a=/[#\?@]/g,No=/#/g;function Tr(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function Qt(l){l.g||(l.g=new Map,l.h=0,l.i&&Ou(l.i,function(p,y){l.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}i=Tr.prototype,i.add=function(l,p){Qt(this),this.i=null,l=zn(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(p),this.h+=1,this};function rr(l,p){Qt(l),p=zn(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function ir(l,p){return Qt(l),p=zn(l,p),l.g.has(p)}i.forEach=function(l,p){Qt(this),this.g.forEach(function(y,w){y.forEach(function(z){l.call(p,z,w,this)},this)},this)},i.na=function(){Qt(this);const l=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let w=0;w<p.length;w++){const z=l[w];for(let Q=0;Q<z.length;Q++)y.push(p[w])}return y},i.V=function(l){Qt(this);let p=[];if(typeof l=="string")ir(this,l)&&(p=p.concat(this.g.get(zn(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)p=p.concat(l[y])}return p},i.set=function(l,p){return Qt(this),this.i=null,l=zn(this,l),ir(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},i.get=function(l,p){return l?(l=this.V(l),0<l.length?String(l[0]):p):p};function vi(l,p,y){rr(l,p),0<y.length&&(l.i=null,l.g.set(zn(l,p),q(y)),l.h+=y.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var w=p[y];const Q=encodeURIComponent(String(w)),le=this.V(w);for(w=0;w<le.length;w++){var z=Q;le[w]!==""&&(z+="="+encodeURIComponent(String(le[w]))),l.push(z)}}return this.i=l.join("&")};function zn(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function Sr(l,p){p&&!l.j&&(Qt(l),l.i=null,l.g.forEach(function(y,w){var z=w.toLowerCase();w!=z&&(rr(this,w),vi(this,z,y))},l)),l.j=p}function Fu(l,p){const y=new Re;if(d.Image){const w=new Image;w.onload=x(En,y,"TestLoadImage: loaded",!0,p,w),w.onerror=x(En,y,"TestLoadImage: error",!1,p,w),w.onabort=x(En,y,"TestLoadImage: abort",!1,p,w),w.ontimeout=x(En,y,"TestLoadImage: timeout",!1,p,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else p(!1)}function Ha(l,p){const y=new Re,w=new AbortController,z=setTimeout(()=>{w.abort(),En(y,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:w.signal}).then(Q=>{clearTimeout(z),Q.ok?En(y,"TestPingServer: ok",!0,p):En(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(z),En(y,"TestPingServer: error",!1,p)})}function En(l,p,y,w,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),w(y)}catch{}}function bu(){this.g=new hi}function qa(l,p,y){const w=y||"";try{di(l,function(z,Q){let le=z;v(z)&&(le=ci(z)),p.push(w+Q+"="+encodeURIComponent(le))})}catch(z){throw p.push(w+"type="+encodeURIComponent("_badmap")),z}}function Hr(l){this.l=l.Ub||null,this.j=l.eb||!1}b(Hr,Xn),Hr.prototype.g=function(){return new ts(this.l,this.j)},Hr.prototype.i=function(l){return function(){return l}}({});function ts(l,p){st.call(this),this.D=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(ts,st),i=ts.prototype,i.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=p,this.readyState=1,or(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(p.body=l),(this.D||d).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sr(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,or(this)),this.g&&(this.readyState=3,or(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wa(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wa(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?sr(this):or(this),this.readyState==3&&Wa(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,sr(this))},i.Qa=function(l){this.g&&(this.response=l,sr(this))},i.ga=function(){this.g&&sr(this)};function sr(l){l.readyState=4,l.l=null,l.j=null,l.v=null,or(l)}i.setRequestHeader=function(l,p){this.u.append(l,p)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=p.next();return l.join(`\r
`)};function or(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ts.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function qr(l){let p="";return ce(l,function(y,w){p+=w,p+=":",p+=y,p+=`\r
`}),p}function _i(l,p,y){e:{for(w in y){var w=!1;break e}w=!0}w||(y=qr(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):at(l,p,y))}function gt(l){st.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(gt,st);var Uu=/^https?$/i,Vo=["POST","PUT"];i=gt.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,p,y,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ue.g(),this.v=this.o?fi(this.o):fi(Ue),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(Q){ns(this,Q);return}if(l=y||"",y=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var z in w)y.set(z,w[z]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Q of w.keys())y.set(Q,w.get(Q));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(y.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=d.FormData&&l instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Vo,p,void 0))||w||z||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,le]of y)this.g.setRequestHeader(Q,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ls(this),this.u=!0,this.g.send(l),this.u=!1}catch(Q){ns(this,Q)}};function ns(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.m=5,Vs(l),Nn(l)}function Vs(l){l.A||(l.A=!0,wt(l,"complete"),wt(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,wt(this,"complete"),wt(this,"abort"),Nn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nn(this,!0)),gt.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Lo(this):this.bb())},i.bb=function(){Lo(this)};function Lo(l){if(l.h&&typeof h<"u"&&(!l.v[1]||wn(l)!=4||l.Z()!=2)){if(l.u&&wn(l)==4)Yi(l.Ea,0,l);else if(wt(l,"readystatechange"),wn(l)==4){l.h=!1;try{const le=l.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var w;if(w=le===0){var z=String(l.D).match(Zi)[1]||null;!z&&d.self&&d.self.location&&(z=d.self.location.protocol.slice(0,-1)),w=!Uu.test(z?z.toLowerCase():"")}y=w}if(y)wt(l,"complete"),wt(l,"success");else{l.m=6;try{var Q=2<wn(l)?l.g.statusText:""}catch{Q=""}l.l=Q+" ["+l.Z()+"]",Vs(l)}}finally{Nn(l)}}}}function Nn(l,p){if(l.g){Ls(l);const y=l.g,w=l.v[0]?()=>{}:null;l.g=null,l.v=null,p||wt(l,"ready");try{y.onreadystatechange=w}catch{}}}function Ls(l){l.I&&(d.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function wn(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),Er(p)}};function Mo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Ms(l){const p={};l=(l.g&&2<=wn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(se(l[w]))continue;var y=V(l[w]);const z=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const Q=p[z]||[];p[z]=Q,Q.push(y)}P(p,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ir(l,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||p}function Oo(l){this.Aa=0,this.i=[],this.j=new Re,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ir("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ir("baseRetryDelayMs",5e3,l),this.cb=Ir("retryDelaySeedMs",1e4,l),this.Wa=Ir("forwardChannelMaxRetries",2,l),this.wa=Ir("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new _n(l&&l.concurrentRequestLimit),this.Da=new bu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Oo.prototype,i.la=8,i.G=1,i.connect=function(l,p,y,w){X(0),this.W=l,this.H=p||{},y&&w!==void 0&&(this.H.OSID=y,this.H.OAID=w),this.F=this.X,this.I=Ya(this,null,this.W),Rr(this)};function Gt(l){if(Os(l),l.G==3){var p=l.U++,y=Dn(l.I);if(at(y,"SID",l.K),at(y,"RID",p),at(y,"TYPE","terminate"),Wr(l,y),p=new rt(l,l.j,p),p.L=2,p.v=gi(Dn(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&d.Image&&(new Image().src=p.v,y=!0),y||(p.g=Xa(p.j,null),p.g.ea(p.v)),p.F=Date.now(),it(p)}Ga(l)}function ar(l){l.g&&(Fo(l),l.g.cancel(),l.g=null)}function Os(l){ar(l),l.u&&(d.clearTimeout(l.u),l.u=null),Us(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&d.clearTimeout(l.s),l.s=null)}function Rr(l){if(!nn(l.h)&&!l.s){l.s=!0;var p=l.Ga;$e||ue(),oe||($e(),oe=!0),Te.add(p,l),l.B=0}}function zu(l,p){return ks(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=p.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=ge(S(l.Ga,l,p),Qa(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const z=new rt(this,this.j,l);let Q=this.o;if(this.S&&(Q?(Q=T(Q),k(Q,this.S)):Q=this.S),this.m!==null||this.O||(z.H=Q,Q=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var w=this.i[y];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=Ei(this,z,p),y=Dn(this.I),at(y,"RID",l),at(y,"CVER",22),this.D&&at(y,"X-HTTP-Session-Id",this.D),Wr(this,y),Q&&(this.O?p="headers="+encodeURIComponent(String(qr(Q)))+"&"+p:this.m&&_i(y,this.m,Q)),Do(this.h,z),this.Ua&&at(y,"TYPE","init"),this.P?(at(y,"$req",p),at(y,"SID","null"),z.T=!0,Wt(z,y,null)):Wt(z,y,p),this.G=2}}else this.G==3&&(l?Fs(this,l):this.i.length==0||nn(this.h)||Fs(this))};function Fs(l,p){var y;p?y=p.l:y=l.U++;const w=Dn(l.I);at(w,"SID",l.K),at(w,"RID",y),at(w,"AID",l.T),Wr(l,w),l.m&&l.o&&_i(w,l.m,l.o),y=new rt(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),p&&(l.i=p.D.concat(l.i)),p=Ei(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Do(l.h,y),Wt(y,w,p)}function Wr(l,p){l.H&&ce(l.H,function(y,w){at(p,w,y)}),l.l&&di({},function(y,w){at(p,w,y)})}function Ei(l,p,y){y=Math.min(l.i.length,y);var w=l.l?S(l.l.Na,l.l,l):null;e:{var z=l.i;let Q=-1;for(;;){const le=["count="+y];Q==-1?0<y?(Q=z[0].g,le.push("ofs="+Q)):Q=0:le.push("ofs="+Q);let ot=!0;for(let Vt=0;Vt<y;Vt++){let qe=z[Vt].g;const Ft=z[Vt].map;if(qe-=Q,0>qe)Q=Math.max(0,z[Vt].g-100),ot=!1;else try{qa(Ft,le,"req"+qe+"_")}catch{w&&w(Ft)}}if(ot){w=le.join("&");break e}}}return l=l.i.splice(0,y),p.D=l,w}function rs(l){if(!l.g&&!l.u){l.Y=1;var p=l.Fa;$e||ue(),oe||($e(),oe=!0),Te.add(p,l),l.v=0}}function bs(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=ge(S(l.Fa,l),Qa(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Ka(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=ge(S(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,X(10),ar(this),Ka(this))};function Fo(l){l.A!=null&&(d.clearTimeout(l.A),l.A=null)}function Ka(l){l.g=new rt(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var p=Dn(l.qa);at(p,"RID","rpc"),at(p,"SID",l.K),at(p,"AID",l.T),at(p,"CI",l.F?"0":"1"),!l.F&&l.ja&&at(p,"TO",l.ja),at(p,"TYPE","xmlhttp"),Wr(l,p),l.m&&l.o&&_i(p,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=gi(Dn(p)),y.m=null,y.P=!0,Br(y,l)}i.Za=function(){this.C!=null&&(this.C=null,ar(this),bs(this),X(19))};function Us(l){l.C!=null&&(d.clearTimeout(l.C),l.C=null)}function zs(l,p){var y=null;if(l.g==p){Us(l),Fo(l),l.g=null;var w=2}else if(dn(l.h,p))y=p.D,ba(l.h,p),w=1;else return;if(l.G!=0){if(p.o)if(w==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var z=l.B;w=zr(),wt(w,new he(w,y)),Rr(l)}else rs(l);else if(z=p.s,z==3||z==0&&0<p.X||!(w==1&&zu(l,p)||w==2&&bs(l)))switch(y&&0<y.length&&(p=l.h,p.i=p.i.concat(y)),z){case 1:Kr(l,5);break;case 4:Kr(l,10);break;case 3:Kr(l,6);break;default:Kr(l,2)}}}function Qa(l,p){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*p}function Kr(l,p){if(l.j.info("Error code "+p),p==2){var y=S(l.fb,l),w=l.Xa;const z=!w;w=new $r(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||es(w,"https"),gi(w),z?Fu(w.toString(),y):Ha(w.toString(),y)}else X(2);l.G=0,l.l&&l.l.sa(p),Ga(l),Os(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),X(2)):(this.j.info("Failed to ping google.com"),X(1))};function Ga(l){if(l.G=0,l.ka=[],l.l){const p=Ua(l.h);(p.length!=0||l.i.length!=0)&&($(l.ka,p),$(l.ka,l.i),l.h.i.length=0,q(l.i),l.i.length=0),l.l.ra()}}function Ya(l,p,y){var w=y instanceof $r?Dn(y):new $r(y);if(w.g!="")p&&(w.g=p+"."+w.g),pi(w,w.s);else{var z=d.location;w=z.protocol,p=p?p+"."+z.hostname:z.hostname,z=+z.port;var Q=new $r(null);w&&es(Q,w),p&&(Q.g=p),z&&pi(Q,z),y&&(Q.l=y),w=Q}return y=l.D,p=l.ya,y&&p&&at(w,y,p),at(w,"VER",l.la),Wr(l,w),w}function Xa(l,p,y){if(p&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Ca&&!l.pa?new gt(new Hr({eb:y})):new gt(l.pa),p.Ha(l.J),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function bo(){}i=bo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Bs(){}Bs.prototype.g=function(l,p){return new pn(l,p)};function pn(l,p){st.call(this),this.g=new Oo(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(l?l["X-WebChannel-Client-Profile"]=p.va:l={"X-WebChannel-Client-Profile":p.va}),this.g.S=l,(l=p&&p.Sb)&&!se(l)&&(this.g.m=l),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!se(p)&&(this.g.D=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new Cr(this)}b(pn,st),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Gt(this.g)},pn.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=ci(l),l=y);p.i.push(new ft(p.Ya++,l)),p.G==3&&Rr(p)},pn.prototype.N=function(){this.g.l=null,delete this.j,Gt(this.g),delete this.g,pn.aa.N.call(this)};function Ja(l){xn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const y in p){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}b(Ja,xn);function Za(){Jn.call(this),this.status=1}b(Za,Jn);function Cr(l){this.g=l}b(Cr,bo),Cr.prototype.ua=function(){wt(this.g,"a")},Cr.prototype.ta=function(l){wt(this.g,new Ja(l))},Cr.prototype.sa=function(l){wt(this.g,new Za)},Cr.prototype.ra=function(){wt(this.g,"b")},Bs.prototype.createWebChannel=Bs.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,Ug=function(){return new Bs},bg=function(){return zr()},Fg=fn,xh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},nt.NO_ERROR=0,nt.TIMEOUT=8,nt.HTTP_ERROR=6,eu=nt,Tt.COMPLETE="complete",Og=Tt,Ur.EventType=vn,vn.OPEN="a",vn.CLOSE="b",vn.ERROR="c",vn.MESSAGE="d",st.prototype.listen=st.prototype.K,da=Ur,gt.prototype.listenOnce=gt.prototype.L,gt.prototype.getLastError=gt.prototype.Ka,gt.prototype.getLastErrorCode=gt.prototype.Ba,gt.prototype.getStatus=gt.prototype.Z,gt.prototype.getResponseJson=gt.prototype.Oa,gt.prototype.getResponseText=gt.prototype.oa,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Ha,Mg=gt}).apply(typeof Kl<"u"?Kl:typeof self<"u"?self:typeof window<"u"?window:{});const dm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Co="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=new Pg("@firebase/firestore");function co(){return Ss.logLevel}function me(i,...e){if(Ss.logLevel<=Ke.DEBUG){const n=e.map(Zh);Ss.debug(`Firestore (${Co}): ${i}`,...n)}}function ri(i,...e){if(Ss.logLevel<=Ke.ERROR){const n=e.map(Zh);Ss.error(`Firestore (${Co}): ${i}`,...n)}}function vo(i,...e){if(Ss.logLevel<=Ke.WARN){const n=e.map(Zh);Ss.warn(`Firestore (${Co}): ${i}`,...n)}}function Zh(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(i="Unexpected state"){const e=`FIRESTORE (${Co}) INTERNAL ASSERTION FAILED: `+i;throw ri(e),new Error(e)}function Et(i,e){i||Le()}function Ge(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Ro{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(un.UNAUTHENTICATED))}shutdown(){}}class sw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ow{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Et(this.o===void 0);let s=this.i;const a=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Bi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Bi,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await a(this.currentUser)})},d=g=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>d(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?d(g):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Bi)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Et(typeof s.accessToken=="string"),new zg(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Et(e===null||typeof e=="string"),new un(e)}}class aw{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=un.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class lw{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new aw(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cw{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Et(this.o===void 0);const s=u=>{u.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,me("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const a=u=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>a(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?a(u):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Et(typeof n.token=="string"),this.R=n.token,new uw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=hw(40);for(let u=0;u<a.length;++u)s.length<20&&a[u]<n&&(s+=e.charAt(a[u]%e.length))}return s}}function Qe(i,e){return i<e?-1:i>e?1:0}function _o(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new jt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ve(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new jt(0,0))}static max(){return new Ve(new jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n,s){n===void 0?n=0:n>e.length&&Le(),s===void 0?s=e.length-n:s>e.length-n&&Le(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ra.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ra?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const u=e.get(a),h=n.get(a);if(u<h)return-1;if(u>h)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class mt extends Ra{construct(e,n,s){return new mt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ve(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new mt(n)}static emptyPath(){return new mt([])}}const fw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends Ra{construct(e,n,s){return new hn(e,n,s)}static isValidIdentifier(e){return fw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new hn(["__name__"])}static fromServerFormat(e){const n=[];let s="",a=0;const u=()=>{if(s.length===0)throw new ve(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new ve(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ve(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,a+=2}else d==="`"?(h=!h,a++):d!=="."||h?(s+=d,a++):(u(),a++)}if(u(),h)throw new ve(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(n)}static emptyPath(){return new hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(mt.fromString(e))}static fromName(e){return new Ce(mt.fromString(e).popFirst(5))}static empty(){return new Ce(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return mt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new mt(e.slice()))}}function dw(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=Ve.fromTimestamp(s===1e9?new jt(n+1,0):new jt(n,s));return new $i(a,Ce.empty(),e)}function pw(i){return new $i(i.readTime,i.key,-1)}class $i{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new $i(Ve.min(),Ce.empty(),-1)}static max(){return new $i(Ve.max(),Ce.empty(),-1)}}function mw(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Ce.comparator(i.documentKey,e.documentKey),n!==0?n:Qe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eu(i){if(i.code!==ne.FAILED_PRECONDITION||i.message!==gw)throw i;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((s,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,a)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,s)=>{n(e)})}static reject(e){return new J((n,s)=>{s(e)})}static waitFor(e){return new J((n,s)=>{let a=0,u=0,h=!1;e.forEach(d=>{++a,d.next(()=>{++u,h&&u===a&&n()},g=>s(g))}),h=!0,u===a&&n()})}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next(a=>a?J.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,u)=>{s.push(n.call(this,a,u))}),this.waitFor(s)}static mapArray(e,n){return new J((s,a)=>{const u=e.length,h=new Array(u);let d=0;for(let g=0;g<u;g++){const v=g;n(e[v]).next(E=>{h[v]=E,++d,d===u&&s(h)},E=>a(E))}})}static doWhile(e,n){return new J((s,a)=>{const u=()=>{e()===!0?n().next(()=>{u()},a):s()};u()})}}function vw(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ao(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}wu.oe=-1;function Tu(i){return i==null}function hu(i){return i===0&&1/i==-1/0}function _w(i){return typeof i=="number"&&Number.isInteger(i)&&!hu(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=pm(e)),e=ww(i.get(n),e);return pm(e)}function ww(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const u=i.charAt(a);switch(u){case"\0":n+="";break;case"":n+="";break;default:n+=u}}return n}function pm(i){return i+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Po(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function jg(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new Pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new Pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ql(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ql(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ql(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ql(this.root,e,this.comparator,!0)}}class Ql{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,s,a,u){this.key=e,this.value=n,this.color=s??Jt.RED,this.left=a??Jt.EMPTY,this.right=u??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,u){return new Jt(e??this.key,n??this.value,s??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const u=s(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,n,s),null):u===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Jt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Le();const e=this.left.check();if(e!==this.right.check())throw Le();return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Le()}get value(){throw Le()}get color(){throw Le()}get left(){throw Le()}get right(){throw Le()}copy(e,n,s,a,u){return this}insert(e,n,s){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new gm(this.data.getIterator())}getIteratorFrom(e){return new gm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,u=s.getNext().key;if(this.comparator(a,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class gm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new Fi([])}unionWith(e){let n=new Ot(hn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Fi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _o(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new $g("Invalid base64 string: "+u):u}}(e);return new Zt(n)}static fromUint8Array(e){const n=function(a){let u="";for(let h=0;h<a.length;++h)u+=String.fromCharCode(a[h]);return u}(e);return new Zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const Tw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hi(i){if(Et(!!i),typeof i=="string"){let e=0;const n=Tw.exec(i);if(Et(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:At(i.seconds),nanos:At(i.nanos)}}function At(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function qi(i){return typeof i=="string"?Zt.fromBase64String(i):Zt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Su(i){const e=i.mapValue.fields.__previous_value__;return ef(e)?Su(e):e}function Ca(i){const e=Hi(i.mapValue.fields.__local_write_time__.timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,n,s,a,u,h,d,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=g,this.useFetchStreams=v}}class Aa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Aa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Aa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Wi(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ef(i)?4:Rw(i)?9007199254740991:Iw(i)?10:11:Le()}function Lr(i,e){if(i===e)return!0;const n=Wi(i);if(n!==Wi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Ca(i).isEqual(Ca(e));case 3:return function(a,u){if(typeof a.timestampValue=="string"&&typeof u.timestampValue=="string"&&a.timestampValue.length===u.timestampValue.length)return a.timestampValue===u.timestampValue;const h=Hi(a.timestampValue),d=Hi(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,u){return qi(a.bytesValue).isEqual(qi(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,u){return At(a.geoPointValue.latitude)===At(u.geoPointValue.latitude)&&At(a.geoPointValue.longitude)===At(u.geoPointValue.longitude)}(i,e);case 2:return function(a,u){if("integerValue"in a&&"integerValue"in u)return At(a.integerValue)===At(u.integerValue);if("doubleValue"in a&&"doubleValue"in u){const h=At(a.doubleValue),d=At(u.doubleValue);return h===d?hu(h)===hu(d):isNaN(h)&&isNaN(d)}return!1}(i,e);case 9:return _o(i.arrayValue.values||[],e.arrayValue.values||[],Lr);case 10:case 11:return function(a,u){const h=a.mapValue.fields||{},d=u.mapValue.fields||{};if(mm(h)!==mm(d))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(d[g]===void 0||!Lr(h[g],d[g])))return!1;return!0}(i,e);default:return Le()}}function Pa(i,e){return(i.values||[]).find(n=>Lr(n,e))!==void 0}function Eo(i,e){if(i===e)return 0;const n=Wi(i),s=Wi(e);if(n!==s)return Qe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(i.booleanValue,e.booleanValue);case 2:return function(u,h){const d=At(u.integerValue||u.doubleValue),g=At(h.integerValue||h.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(i,e);case 3:return ym(i.timestampValue,e.timestampValue);case 4:return ym(Ca(i),Ca(e));case 5:return Qe(i.stringValue,e.stringValue);case 6:return function(u,h){const d=qi(u),g=qi(h);return d.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const d=u.split("/"),g=h.split("/");for(let v=0;v<d.length&&v<g.length;v++){const E=Qe(d[v],g[v]);if(E!==0)return E}return Qe(d.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const d=Qe(At(u.latitude),At(h.latitude));return d!==0?d:Qe(At(u.longitude),At(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return vm(i.arrayValue,e.arrayValue);case 10:return function(u,h){var d,g,v,E;const I=u.fields||{},S=h.fields||{},x=(d=I.value)===null||d===void 0?void 0:d.arrayValue,b=(g=S.value)===null||g===void 0?void 0:g.arrayValue,q=Qe(((v=x==null?void 0:x.values)===null||v===void 0?void 0:v.length)||0,((E=b==null?void 0:b.values)===null||E===void 0?void 0:E.length)||0);return q!==0?q:vm(x,b)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===Gl.mapValue&&h===Gl.mapValue)return 0;if(u===Gl.mapValue)return 1;if(h===Gl.mapValue)return-1;const d=u.fields||{},g=Object.keys(d),v=h.fields||{},E=Object.keys(v);g.sort(),E.sort();for(let I=0;I<g.length&&I<E.length;++I){const S=Qe(g[I],E[I]);if(S!==0)return S;const x=Eo(d[g[I]],v[E[I]]);if(x!==0)return x}return Qe(g.length,E.length)}(i.mapValue,e.mapValue);default:throw Le()}}function ym(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Qe(i,e);const n=Hi(i),s=Hi(e),a=Qe(n.seconds,s.seconds);return a!==0?a:Qe(n.nanos,s.nanos)}function vm(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const u=Eo(n[a],s[a]);if(u)return u}return Qe(n.length,s.length)}function wo(i){return Dh(i)}function Dh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Hi(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return qi(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return Ce.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const u of n.values||[])a?a=!1:s+=",",s+=Dh(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",u=!0;for(const h of s)u?u=!1:a+=",",a+=`${h}:${Dh(n.fields[h])}`;return a+"}"}(i.mapValue):Le()}function tu(i){switch(Wi(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Su(i);return e?16+tu(e):16;case 5:return 2*i.stringValue.length;case 6:return qi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,u)=>a+tu(u),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return Po(s.fields,(u,h)=>{a+=u.length+tu(h)}),a}(i.mapValue);default:throw Le()}}function _m(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Nh(i){return!!i&&"integerValue"in i}function tf(i){return!!i&&"arrayValue"in i}function Em(i){return!!i&&"nullValue"in i}function wm(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function mh(i){return!!i&&"mapValue"in i}function Iw(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function va(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Po(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=va(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=va(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Rw(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this.value=e}static empty(){return new Dr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!mh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=va(n)}setAll(e){let n=hn.emptyPath(),s={},a=[];e.forEach((h,d)=>{if(!n.isImmediateParentOf(d)){const g=this.getFieldsMap(n);this.applyChanges(g,s,a),s={},a=[],n=d.popLast()}h?s[d.lastSegment()]=va(h):a.push(d.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,a)}delete(e){const n=this.field(e.popLast());mh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Lr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];mh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Po(n,(a,u)=>e[a]=u);for(const a of s)delete e[a]}clone(){return new Dr(va(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,n,s,a,u,h,d){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new cn(e,0,Ve.min(),Ve.min(),Ve.min(),Dr.empty(),0)}static newFoundDocument(e,n,s,a){return new cn(e,1,n,Ve.min(),s,a,0)}static newNoDocument(e,n){return new cn(e,2,n,Ve.min(),Ve.min(),Dr.empty(),0)}static newUnknownDocument(e,n){return new cn(e,3,n,Ve.min(),Ve.min(),Dr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this.position=e,this.inclusive=n}}function Tm(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const u=e[a],h=i.position[a];if(u.field.isKeyField()?s=Ce.comparator(Ce.fromName(h.referenceValue),n.key):s=Eo(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Sm(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Lr(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n="asc"){this.field=e,this.dir=n}}function Cw(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{}class Nt extends Hg{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Pw(e,n,s):n==="array-contains"?new Dw(e,s):n==="in"?new Nw(e,s):n==="not-in"?new Vw(e,s):n==="array-contains-any"?new Lw(e,s):new Nt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new kw(e,s):new xw(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Eo(n,this.value)):n!==null&&Wi(this.value)===Wi(n)&&this.matchesComparison(Eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mr extends Hg{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new mr(e,n)}matches(e){return qg(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function qg(i){return i.op==="and"}function Wg(i){return Aw(i)&&qg(i)}function Aw(i){for(const e of i.filters)if(e instanceof mr)return!1;return!0}function Vh(i){if(i instanceof Nt)return i.field.canonicalString()+i.op.toString()+wo(i.value);if(Wg(i))return i.filters.map(e=>Vh(e)).join(",");{const e=i.filters.map(n=>Vh(n)).join(",");return`${i.op}(${e})`}}function Kg(i,e){return i instanceof Nt?function(s,a){return a instanceof Nt&&s.op===a.op&&s.field.isEqual(a.field)&&Lr(s.value,a.value)}(i,e):i instanceof mr?function(s,a){return a instanceof mr&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((u,h,d)=>u&&Kg(h,a.filters[d]),!0):!1}(i,e):void Le()}function Qg(i){return i instanceof Nt?function(n){return`${n.field.canonicalString()} ${n.op} ${wo(n.value)}`}(i):i instanceof mr?function(n){return n.op.toString()+" {"+n.getFilters().map(Qg).join(" ,")+"}"}(i):"Filter"}class Pw extends Nt{constructor(e,n,s){super(e,n,s),this.key=Ce.fromName(s.referenceValue)}matches(e){const n=Ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class kw extends Nt{constructor(e,n){super(e,"in",n),this.keys=Gg("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class xw extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=Gg("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Gg(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Ce.fromName(s.referenceValue))}class Dw extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tf(n)&&Pa(n.arrayValue,this.value)}}class Nw extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Pa(this.value.arrayValue,n)}}class Vw extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Pa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Pa(this.value.arrayValue,n)}}class Lw extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Pa(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e,n=null,s=[],a=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=u,this.startAt=h,this.endAt=d,this.ue=null}}function Im(i,e=null,n=[],s=[],a=null,u=null,h=null){return new Mw(i,e,n,s,a,u,h)}function nf(i){const e=Ge(i);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Vh(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Tu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>wo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>wo(s)).join(",")),e.ue=n}return e.ue}function rf(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!Cw(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Kg(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Sm(i.startAt,e.startAt)&&Sm(i.endAt,e.endAt)}function Lh(i){return Ce.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,n=null,s=[],a=[],u=null,h="F",d=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Ow(i,e,n,s,a,u,h,d){return new ko(i,e,n,s,a,u,h,d)}function sf(i){return new ko(i)}function Rm(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Yg(i){return i.collectionGroup!==null}function _a(i){const e=Ge(i);if(e.ce===null){e.ce=[];const n=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Ot(hn.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(v=>{v.isInequality()&&(d=d.add(v.field))})}),d})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.ce.push(new ka(u,s))}),n.has(hn.keyField().canonicalString())||e.ce.push(new ka(hn.keyField(),s))}return e.ce}function Nr(i){const e=Ge(i);return e.le||(e.le=Fw(e,_a(i))),e.le}function Fw(i,e){if(i.limitType==="F")return Im(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const u=a.dir==="desc"?"asc":"desc";return new ka(a.field,u)});const n=i.endAt?new fu(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new fu(i.startAt.position,i.startAt.inclusive):null;return Im(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Mh(i,e){const n=i.filters.concat([e]);return new ko(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Oh(i,e,n){return new ko(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Iu(i,e){return rf(Nr(i),Nr(e))&&i.limitType===e.limitType}function Xg(i){return`${nf(Nr(i))}|lt:${i.limitType}`}function ho(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>Qg(a)).join(", ")}]`),Tu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>wo(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>wo(a)).join(",")),`Target(${s})`}(Nr(i))}; limitType=${i.limitType})`}function Ru(i,e){return e.isFoundDocument()&&function(s,a){const u=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ce.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,a){for(const u of _a(s))if(!u.field.isKeyField()&&a.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const u of s.filters)if(!u.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(h,d,g){const v=Tm(h,d,g);return h.inclusive?v<=0:v<0}(s.startAt,_a(s),a)||s.endAt&&!function(h,d,g){const v=Tm(h,d,g);return h.inclusive?v>=0:v>0}(s.endAt,_a(s),a))}(i,e)}function bw(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Jg(i){return(e,n)=>{let s=!1;for(const a of _a(i)){const u=Uw(a,e,n);if(u!==0)return u;s=s||a.field.isKeyField()}return 0}}function Uw(i,e,n){const s=i.field.isKeyField()?Ce.comparator(e.key,n.key):function(u,h,d){const g=h.data.field(u),v=d.data.field(u);return g!==null&&v!==null?Eo(g,v):Le()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,u]of s)if(this.equalsFn(a,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Po(this.inner,(n,s)=>{for(const[a,u]of s)e(a,u)})}isEmpty(){return jg(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=new Pt(Ce.comparator);function Ki(){return zw}const Zg=new Pt(Ce.comparator);function pa(...i){let e=Zg;for(const n of i)e=e.insert(n.key,n);return e}function Bw(i){let e=Zg;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function _s(){return Ea()}function ey(){return Ea()}function Ea(){return new Is(i=>i.toString(),(i,e)=>i.isEqual(e))}const jw=new Ot(Ce.comparator);function et(...i){let e=jw;for(const n of i)e=e.add(n);return e}const $w=new Ot(Qe);function Hw(){return $w}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hu(e)?"-0":e}}function ty(i){return{integerValue:""+i}}function qw(i,e){return _w(e)?ty(e):of(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(){this._=void 0}}function Ww(i,e,n){return i instanceof Fh?function(a,u){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return u&&ef(u)&&(u=Su(u)),u&&(h.fields.__previous_value__=u),{mapValue:h}}(n,e):i instanceof du?ny(i,e):i instanceof pu?ry(i,e):function(a,u){const h=Qw(a,u),d=Cm(h)+Cm(a.Pe);return Nh(h)&&Nh(a.Pe)?ty(d):of(a.serializer,d)}(i,e)}function Kw(i,e,n){return i instanceof du?ny(i,e):i instanceof pu?ry(i,e):n}function Qw(i,e){return i instanceof bh?function(s){return Nh(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Fh extends Cu{}class du extends Cu{constructor(e){super(),this.elements=e}}function ny(i,e){const n=iy(e);for(const s of i.elements)n.some(a=>Lr(a,s))||n.push(s);return{arrayValue:{values:n}}}class pu extends Cu{constructor(e){super(),this.elements=e}}function ry(i,e){let n=iy(e);for(const s of i.elements)n=n.filter(a=>!Lr(a,s));return{arrayValue:{values:n}}}class bh extends Cu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Cm(i){return At(i.integerValue||i.doubleValue)}function iy(i){return tf(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function Gw(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof du&&a instanceof du||s instanceof pu&&a instanceof pu?_o(s.elements,a.elements,Lr):s instanceof bh&&a instanceof bh?Lr(s.Pe,a.Pe):s instanceof Fh&&a instanceof Fh}(i.transform,e.transform)}class Ts{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ts}static exists(e){return new Ts(void 0,e)}static updateTime(e){return new Ts(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nu(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class af{}function sy(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Xw(i.key,Ts.none()):new lf(i.key,i.data,Ts.none());{const n=i.data,s=Dr.empty();let a=new Ot(hn.comparator);for(let u of e.fields)if(!a.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),a=a.add(u)}return new Au(i.key,s,new Fi(a.toArray()),Ts.none())}}function Yw(i,e,n){i instanceof lf?function(a,u,h){const d=a.value.clone(),g=Pm(a.fieldTransforms,u,h.transformResults);d.setAll(g),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(i,e,n):i instanceof Au?function(a,u,h){if(!nu(a.precondition,u))return void u.convertToUnknownDocument(h.version);const d=Pm(a.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(oy(a)),g.setAll(d),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(i,e,n):function(a,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function wa(i,e,n,s){return i instanceof lf?function(u,h,d,g){if(!nu(u.precondition,h))return d;const v=u.value.clone(),E=km(u.fieldTransforms,g,h);return v.setAll(E),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null}(i,e,n,s):i instanceof Au?function(u,h,d,g){if(!nu(u.precondition,h))return d;const v=km(u.fieldTransforms,g,h),E=h.data;return E.setAll(oy(u)),E.setAll(v),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(I=>I.field))}(i,e,n,s):function(u,h,d){return nu(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(i,e,n)}function Am(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&_o(s,a,(u,h)=>Gw(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class lf extends af{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Au extends af{constructor(e,n,s,a,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function oy(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function Pm(i,e,n){const s=new Map;Et(i.length===n.length);for(let a=0;a<n.length;a++){const u=i[a],h=u.transform,d=e.data.field(u.field);s.set(u.field,Kw(h,d,n[a]))}return s}function km(i,e,n){const s=new Map;for(const a of i){const u=a.transform,h=n.data.field(a.field);s.set(a.field,Ww(u,h,e))}return s}class Xw extends af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&Yw(u,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=wa(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=wa(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=ey();return this.mutations.forEach(a=>{const u=e.get(a.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=n.has(a.key)?null:d;const g=sy(h,d);g!==null&&s.set(a.key,g),h.isValidDocument()||h.convertToNoDocument(Ve.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),et())}isEqual(e){return this.batchId===e.batchId&&_o(this.mutations,e.mutations,(n,s)=>Am(n,s))&&_o(this.baseMutations,e.baseMutations,(n,s)=>Am(n,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,We;function ay(i){if(i===void 0)return ri("GRPC error has no .code"),ne.UNKNOWN;switch(i){case Dt.OK:return ne.OK;case Dt.CANCELLED:return ne.CANCELLED;case Dt.UNKNOWN:return ne.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return ne.INTERNAL;case Dt.UNAVAILABLE:return ne.UNAVAILABLE;case Dt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Dt.NOT_FOUND:return ne.NOT_FOUND;case Dt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Dt.ABORTED:return ne.ABORTED;case Dt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Dt.DATA_LOSS:return ne.DATA_LOSS;default:return Le()}}(We=Dt||(Dt={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT=new ws([4294967295,4294967295],0);function xm(i){const e=tT().encode(i),n=new Lg;return n.update(e),new Uint8Array(n.digest())}function Dm(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ws([n,s],0),new ws([a,u],0)]}class uf{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ma(`Invalid padding: ${n}`);if(s<0)throw new ma(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ma(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ma(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=ws.fromNumber(this.Te)}Ee(e,n,s){let a=e.add(n.multiply(ws.fromNumber(s)));return a.compare(nT)===1&&(a=new ws([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=xm(e),[s,a]=Dm(n);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,a,u);if(!this.de(h))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new uf(u,a,n);return s.forEach(d=>h.insert(d)),h}insert(e){if(this.Te===0)return;const n=xm(e),[s,a]=Dm(n);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,a,u);this.Ae(h)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ma extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n,s,a,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Na.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Pu(Ve.min(),a,new Pt(Qe),Ki(),et())}}class Na{constructor(e,n,s,a,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Na(s,n,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n,s,a){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=a}}class ly{constructor(e,n){this.targetId=e,this.me=n}}class uy{constructor(e,n,s=Zt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Nm{constructor(){this.fe=0,this.ge=Vm(),this.pe=Zt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=et(),n=et(),s=et();return this.ge.forEach((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Le()}}),new Na(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=Vm()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Et(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class rT{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ki(),this.qe=Yl(),this.Qe=Yl(),this.Ke=new Pt(Qe)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.je(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.De(e.resumeToken));break;default:Le()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((s,a)=>{this.je(a)&&n(a)})}Je(e){const n=e.targetId,s=e.me.count,a=this.Ye(n);if(a){const u=a.target;if(Lh(u))if(s===0){const h=new Ce(u.path);this.We(n,h,cn.newNoDocument(h,Ve.min()))}else Et(s===1);else{const h=this.Ze(n);if(h!==s){const d=this.Xe(e),g=d?this.et(d,e,h):1;if(g!==0){this.He(n);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,v)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:u=0}=n;let h,d;try{h=qi(s).toUint8Array()}catch(g){if(g instanceof $g)return vo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{d=new uf(h,a,u)}catch(g){return vo(g instanceof ma?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return d.Te===0?null:d}et(e,n,s){return n.me.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let a=0;return s.forEach(u=>{const h=this.Le.nt(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.We(n,u,null),a++)}),a}it(e){const n=new Map;this.Be.forEach((u,h)=>{const d=this.Ye(h);if(d){if(u.current&&Lh(d.target)){const g=new Ce(d.target.path);this.st(g).has(h)||this.ot(h,g)||this.We(h,g,cn.newNoDocument(g,e))}u.be&&(n.set(h,u.ve()),u.Ce())}});let s=et();this.Qe.forEach((u,h)=>{let d=!0;h.forEachWhile(g=>{const v=this.Ye(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(u))}),this.ke.forEach((u,h)=>h.setReadTime(e));const a=new Pu(e,n,this.Ke,this.ke,s);return this.ke=Ki(),this.qe=Yl(),this.Qe=Yl(),this.Ke=new Pt(Qe),a}Ue(e,n){if(!this.je(e))return;const s=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const a=this.ze(e);this.ot(e,n)?a.Fe(n,1):a.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new Nm,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new Ot(Qe),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ot(Qe),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Nm),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Yl(){return new Pt(Ce.comparator)}function Vm(){return new Pt(Ce.comparator)}const iT={asc:"ASCENDING",desc:"DESCENDING"},sT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oT={and:"AND",or:"OR"};class aT{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Uh(i,e){return i.useProto3Json||Tu(e)?e:{value:e}}function zh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cy(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function go(i){return Et(!!i),Ve.fromTimestamp(function(n){const s=Hi(n);return new jt(s.seconds,s.nanos)}(i))}function hy(i,e){return Bh(i,e).canonicalString()}function Bh(i,e){const n=function(a){return new mt(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function fy(i){const e=mt.fromString(i);return Et(yy(e)),e}function gh(i,e){const n=fy(e);if(n.get(1)!==i.databaseId.projectId)throw new ve(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ve(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Ce(py(n))}function dy(i,e){return hy(i.databaseId,e)}function lT(i){const e=fy(i);return e.length===4?mt.emptyPath():py(e)}function Lm(i){return new mt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function py(i){return Et(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function uT(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Le()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],u=function(v,E){return v.useProto3Json?(Et(E===void 0||typeof E=="string"),Zt.fromBase64String(E||"")):(Et(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Zt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(v){const E=v.code===void 0?ne.UNKNOWN:ay(v.code);return new ve(E,v.message||"")}(h);n=new uy(s,a,u,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=gh(i,s.document.name),u=go(s.document.updateTime),h=s.document.createTime?go(s.document.createTime):Ve.min(),d=new Dr({mapValue:{fields:s.document.fields}}),g=cn.newFoundDocument(a,u,h,d),v=s.targetIds||[],E=s.removedTargetIds||[];n=new ru(v,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=gh(i,s.document),u=s.readTime?go(s.readTime):Ve.min(),h=cn.newNoDocument(a,u),d=s.removedTargetIds||[];n=new ru([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=gh(i,s.document),u=s.removedTargetIds||[];n=new ru([],u,a,null)}else{if(!("filter"in e))return Le();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:u}=s,h=new eT(a,u),d=s.targetId;n=new ly(d,h)}}return n}function cT(i,e){return{documents:[dy(i,e.path)]}}function hT(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=dy(i,a);const u=function(v){if(v.length!==0)return gy(mr.create(v,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(v){if(v.length!==0)return v.map(E=>function(S){return{field:fo(S.field),direction:pT(S.dir)}}(E))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const d=Uh(i,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ct:n,parent:a}}function fT(i){let e=lT(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Et(s===1);const E=n.from[0];E.allDescendants?a=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(I){const S=my(I);return S instanceof mr&&Wg(S)?S.getFilters():[S]}(n.where));let h=[];n.orderBy&&(h=function(I){return I.map(S=>function(b){return new ka(po(b.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(S))}(n.orderBy));let d=null;n.limit&&(d=function(I){let S;return S=typeof I=="object"?I.value:I,Tu(S)?null:S}(n.limit));let g=null;n.startAt&&(g=function(I){const S=!!I.before,x=I.values||[];return new fu(x,S)}(n.startAt));let v=null;return n.endAt&&(v=function(I){const S=!I.before,x=I.values||[];return new fu(x,S)}(n.endAt)),Ow(e,a,h,u,d,"F",g,v)}function dT(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function my(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=po(n.unaryFilter.field);return Nt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=po(n.unaryFilter.field);return Nt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=po(n.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=po(n.unaryFilter.field);return Nt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Le()}}(i):i.fieldFilter!==void 0?function(n){return Nt.create(po(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Le()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return mr.create(n.compositeFilter.filters.map(s=>my(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Le()}}(n.compositeFilter.op))}(i):Le()}function pT(i){return iT[i]}function mT(i){return sT[i]}function gT(i){return oT[i]}function fo(i){return{fieldPath:i.canonicalString()}}function po(i){return hn.fromServerFormat(i.fieldPath)}function gy(i){return i instanceof Nt?function(n){if(n.op==="=="){if(wm(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NAN"}};if(Em(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(wm(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NAN"}};if(Em(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fo(n.field),op:mT(n.op),value:n.value}}}(i):i instanceof mr?function(n){const s=n.getFilters().map(a=>gy(a));return s.length===1?s[0]:{compositeFilter:{op:gT(n.op),filters:s}}}(i):Le()}function yy(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,n,s,a,u=Ve.min(),h=Ve.min(),d=Zt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=g}withSequenceNumber(e){return new bi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e){this.ht=e}}function vT(i){const e=fT({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Oh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(){this.ln=new ET}addToCollectionParentIndex(e,n){return this.ln.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve($i.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve($i.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class ET{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Ot(mt.comparator),u=!a.has(s);return this.index[n]=a.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Ot(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Pn{static withCacheSize(e){return new Pn(e,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(41943040,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new To(0)}static Qn(){return new To(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om([i,e],[n,s]){const a=Qe(i,n);return a===0?Qe(e,s):a}class wT{constructor(e){this.Gn=e,this.buffer=new Ot(Om),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Om(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class TT{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){me("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ao(n)?me("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Eu(n)}await this.Yn(3e5)})}}class ST{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return J.resolve(wu.oe);const s=new wT(n);return this.Zn.forEachTarget(e,a=>s.Hn(a.sequenceNumber)).next(()=>this.Zn.er(e,a=>s.Hn(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Mm)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Mm):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let s,a,u,h,d,g,v;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),a=this.params.maximumSequenceNumbersToCollect):a=I,h=Date.now(),this.nthSequenceNumber(e,a))).next(I=>(s=I,d=Date.now(),this.removeTargets(e,s,n))).next(I=>(u=I,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(I=>(v=Date.now(),co()<=Ke.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${a} in `+(d-h)+`ms
	Removed ${u} targets in `+(g-d)+`ms
	Removed ${I} documents in `+(v-g)+`ms
Total Duration: ${v-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:I})))}}function IT(i,e){return new ST(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(){this.changes=new Is(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&wa(s.mutation,a,Fi.empty(),jt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,et()).next(()=>s))}getLocalViewOfDocuments(e,n,s=et()){const a=_s();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(u=>{let h=pa();return u.forEach((d,g)=>{h=h.insert(d,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const s=_s();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,et()))}populateOverlays(e,n,s){const a=[];return s.forEach(u=>{n.has(u)||a.push(u)}),this.documentOverlayCache.getOverlays(e,a).next(u=>{u.forEach((h,d)=>{n.set(h,d)})})}computeViews(e,n,s,a){let u=Ki();const h=Ea(),d=function(){return Ea()}();return n.forEach((g,v)=>{const E=s.get(v.key);a.has(v.key)&&(E===void 0||E.mutation instanceof Au)?u=u.insert(v.key,v):E!==void 0?(h.set(v.key,E.mutation.getFieldMask()),wa(E.mutation,v,E.mutation.getFieldMask(),jt.now())):h.set(v.key,Fi.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((v,E)=>h.set(v,E)),n.forEach((v,E)=>{var I;return d.set(v,new CT(E,(I=h.get(v))!==null&&I!==void 0?I:null))}),d))}recalculateAndSaveOverlays(e,n){const s=Ea();let a=new Pt((h,d)=>h-d),u=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const d of h)d.keys().forEach(g=>{const v=n.get(g);if(v===null)return;let E=s.get(g)||Fi.empty();E=d.applyToLocalView(v,E),s.set(g,E);const I=(a.get(d.batchId)||et()).add(g);a=a.insert(d.batchId,I)})}).next(()=>{const h=[],d=a.getReverseIterator();for(;d.hasNext();){const g=d.getNext(),v=g.key,E=g.value,I=ey();E.forEach(S=>{if(!u.has(S)){const x=sy(n.get(S),s.get(S));x!==null&&I.set(S,x),u=u.add(S)}}),h.push(this.documentOverlayCache.saveOverlays(e,v,I))}return J.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(h){return Ce.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Yg(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(u=>{const h=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-u.size):J.resolve(_s());let d=-1,g=u;return h.next(v=>J.forEach(v,(E,I)=>(d<I.largestBatchId&&(d=I.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next(S=>{g=g.insert(E,S)}))).next(()=>this.populateOverlays(e,v,u)).next(()=>this.computeViews(e,g,v,et())).next(E=>({batchId:d,changes:Bw(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ce(n)).next(s=>{let a=pa();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const u=n.collectionGroup;let h=pa();return this.indexManager.getCollectionParents(e,u).next(d=>J.forEach(d,g=>{const v=function(I,S){return new ko(S,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,s,a).next(E=>{E.forEach((I,S)=>{h=h.insert(I,S)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,s,a){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,a))).next(h=>{u.forEach((g,v)=>{const E=v.getKey();h.get(E)===null&&(h=h.insert(E,cn.newInvalidDocument(E)))});let d=pa();return h.forEach((g,v)=>{const E=u.get(g);E!==void 0&&wa(E.mutation,v,Fi.empty(),jt.now()),Ru(n,v)&&(d=d.insert(g,v))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return J.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:go(a.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(a){return{name:a.name,query:vT(a.bundledQuery),readTime:go(a.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(){this.overlays=new Pt(Ce.comparator),this.Er=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=_s();return J.forEach(n,a=>this.getOverlay(e,a).next(u=>{u!==null&&s.set(a,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,u)=>{this.Tt(e,n,u)}),J.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Er.get(s);return a!==void 0&&(a.forEach(u=>this.overlays=this.overlays.remove(u)),this.Er.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const a=_s(),u=n.length+1,h=new Ce(n.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const g=d.getNext().value,v=g.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===u&&g.largestBatchId>s&&a.set(g.getKey(),g)}return J.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let u=new Pt((v,E)=>v-E);const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>s){let E=u.get(v.largestBatchId);E===null&&(E=_s(),u=u.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const d=_s(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,E)=>d.set(v,E)),!(d.size()>=a)););return J.resolve(d)}Tt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const h=this.Er.get(a.largestBatchId).delete(s.key);this.Er.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new Zw(n,s));let u=this.Er.get(n);u===void 0&&(u=et(),this.Er.set(n,u)),this.Er.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(){this.dr=new Ot(Bt.Ar),this.Rr=new Ot(Bt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const s=new Bt(e,n);this.dr=this.dr.add(s),this.Rr=this.Rr.add(s)}mr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.gr(new Bt(e,n))}pr(e,n){e.forEach(s=>this.removeReference(s,n))}yr(e){const n=new Ce(new mt([])),s=new Bt(n,e),a=new Bt(n,e+1),u=[];return this.Rr.forEachInRange([s,a],h=>{this.gr(h),u.push(h.key)}),u}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new Ce(new mt([])),s=new Bt(n,e),a=new Bt(n,e+1);let u=et();return this.Rr.forEachInRange([s,a],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new Bt(e,0),s=this.dr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return Ce.comparator(e.key,n.key)||Qe(e.br,n.br)}static Vr(e,n){return Qe(e.br,n.br)||Ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new Ot(Bt.Ar)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const u=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new Jw(u,n,s,a);this.mutationQueue.push(h);for(const d of a)this.vr=this.vr.add(new Bt(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return J.resolve(h)}lookupMutationBatch(e,n){return J.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Fr(s),u=a<0?0:a;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Bt(n,0),a=new Bt(n,Number.POSITIVE_INFINITY),u=[];return this.vr.forEachInRange([s,a],h=>{const d=this.Cr(h.br);u.push(d)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ot(Qe);return n.forEach(a=>{const u=new Bt(a,0),h=new Bt(a,Number.POSITIVE_INFINITY);this.vr.forEachInRange([u,h],d=>{s=s.add(d.br)})}),J.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let u=s;Ce.isDocumentKey(u)||(u=u.child(""));const h=new Bt(new Ce(u),0);let d=new Ot(Qe);return this.vr.forEachWhile(g=>{const v=g.key.path;return!!s.isPrefixOf(v)&&(v.length===a&&(d=d.add(g.br)),!0)},h),J.resolve(this.Mr(d))}Mr(e){const n=[];return e.forEach(s=>{const a=this.Cr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Et(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return J.forEach(n.mutations,a=>{const u=new Bt(a.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.vr=s})}Ln(e){}containsKey(e,n){const s=new Bt(n,0),a=this.vr.firstAfterOrEqual(s);return J.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e){this.Nr=e,this.docs=function(){return new Pt(Ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),u=a?a.size:0,h=this.Nr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():cn.newInvalidDocument(n))}getEntries(e,n){let s=Ki();return n.forEach(a=>{const u=this.docs.get(a);s=s.insert(a,u?u.document.mutableCopy():cn.newInvalidDocument(a))}),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let u=Ki();const h=n.path,d=new Ce(h.child("")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:v,value:{document:E}}=g.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||mw(pw(E),s)<=0||(a.has(E.key)||Ru(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,s,a){Le()}Lr(e,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new VT(this)}getSize(e){return J.resolve(this.size)}}class VT extends RT{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.hr.addEntry(e,a)):this.hr.removeEntry(s)}),J.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e){this.persistence=e,this.Br=new Is(n=>nf(n),rf),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.kr=0,this.qr=new cf,this.targetCount=0,this.Qr=To.qn()}forEachTarget(e,n){return this.Br.forEach((s,a)=>n(a)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.kr&&(this.kr=n),J.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new To(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Un(n),J.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let a=0;const u=[];return this.Br.forEach((h,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.Br.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),J.waitFor(u).next(()=>a)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.Br.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this.qr.mr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this.qr.pr(n,s);const a=this.persistence.referenceDelegate,u=[];return a&&n.forEach(h=>{u.push(a.markPotentiallyOrphaned(e,h))}),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this.qr.Sr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,n){this.Kr={},this.overlays={},this.$r=new wu(0),this.Ur=!1,this.Ur=!0,this.Wr=new xT,this.referenceDelegate=e(this),this.Gr=new LT(this),this.indexManager=new _T,this.remoteDocumentCache=function(a){return new NT(a)}(s=>this.referenceDelegate.zr(s)),this.serializer=new yT(n),this.jr=new PT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new kT,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Kr[e.toKey()];return s||(s=new DT(n,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,s){me("MemoryPersistence","Starting transaction:",e);const a=new MT(this.$r.next());return this.referenceDelegate.Hr(),s(a).next(u=>this.referenceDelegate.Jr(a).next(()=>u)).toPromise().then(u=>(a.raiseOnCommittedEvent(),u))}Yr(e,n){return J.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,n)))}}class MT extends yw{constructor(e){super(),this.currentSequenceNumber=e}}class hf{constructor(e){this.persistence=e,this.Zr=new cf,this.Xr=null}static ei(e){return new hf(e)}get ti(){if(this.Xr)return this.Xr;throw Le()}addReference(e,n,s){return this.Zr.addReference(s,n),this.ti.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.Zr.removeReference(s,n),this.ti.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),J.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(a=>this.ti.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(u=>this.ti.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ti,s=>{const a=Ce.fromPath(s);return this.ni(e,a).next(u=>{u||n.removeEntry(a,Ve.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(s=>{s?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return J.or([()=>J.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class mu{constructor(e,n){this.persistence=e,this.ri=new Is(s=>Ew(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=IT(this,n)}static ei(e,n){return new mu(e,n)}Hr(){}Jr(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}nr(e){let n=0;return this.er(e,s=>{n++}).next(()=>n)}er(e,n){return J.forEach(this.ri,(s,a)=>this.ir(e,s,a).next(u=>u?J.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),u=a.newChangeBuffer();return a.Lr(e,h=>this.ir(e,h,n).next(d=>{d||(s++,u.removeEntry(h,Ve.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),J.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=tu(e.data.value)),n}ir(e,n,s){return J.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.ri.get(n);return J.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Wi=s,this.Gi=a}static zi(e,n){let s=et(),a=et();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new ff(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return j_()?8:vw(z_())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,s,a){const u={result:null};return this.Xi(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.es(e,n,a,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new OT;return this.ts(e,n,h).next(d=>{if(u.result=d,this.Hi)return this.ns(e,n,h,d.size)})}).next(()=>u.result)}ns(e,n,s,a){return s.documentReadCount<this.Ji?(co()<=Ke.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",ho(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),J.resolve()):(co()<=Ke.DEBUG&&me("QueryEngine","Query:",ho(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.Yi*a?(co()<=Ke.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",ho(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nr(n))):J.resolve())}Xi(e,n){if(Rm(n))return J.resolve(null);let s=Nr(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Oh(n,null,"F"),s=Nr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=et(...u);return this.Zi.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,s).next(g=>{const v=this.rs(n,d);return this.ss(n,v,h,g.readTime)?this.Xi(e,Oh(n,null,"F")):this.os(e,v,n,g)}))})))}es(e,n,s,a){return Rm(n)||a.isEqual(Ve.min())?J.resolve(null):this.Zi.getDocuments(e,s).next(u=>{const h=this.rs(n,u);return this.ss(n,h,s,a)?J.resolve(null):(co()<=Ke.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ho(n)),this.os(e,h,n,dw(a,-1)).next(d=>d))})}rs(e,n){let s=new Ot(Jg(e));return n.forEach((a,u)=>{Ru(e,u)&&(s=s.add(u))}),s}ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}ts(e,n,s){return co()<=Ke.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",ho(n)),this.Zi.getDocumentsMatchingQuery(e,n,$i.min(),s)}os(e,n,s,a){return this.Zi.getDocumentsMatchingQuery(e,s,a).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,n,s,a){this.persistence=e,this._s=n,this.serializer=a,this.us=new Pt(Qe),this.cs=new Is(u=>nf(u),rf),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AT(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function UT(i,e,n,s){return new bT(i,e,n,s)}async function _y(i,e){const n=Ge(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(u=>(a=u,n.Ps(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],d=[];let g=et();for(const v of a){h.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}for(const v of u){d.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next(v=>({Ts:v,removedBatchIds:h,addedBatchIds:d}))})})}function Ey(i){const e=Ge(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function zT(i,e){const n=Ge(i),s=e.snapshotVersion;let a=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.hs.newChangeBuffer({trackRemovals:!0});a=n.us;const d=[];e.targetChanges.forEach((E,I)=>{const S=a.get(I);if(!S)return;d.push(n.Gr.removeMatchingKeys(u,E.removedDocuments,I).next(()=>n.Gr.addMatchingKeys(u,E.addedDocuments,I)));let x=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(I)!==null?x=x.withResumeToken(Zt.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):E.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(E.resumeToken,s)),a=a.insert(I,x),function(q,$,K){return q.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=3e8?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(S,x,E)&&d.push(n.Gr.updateTargetData(u,x))});let g=Ki(),v=et();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),d.push(BT(u,h,e.documentUpdates).next(E=>{g=E.Is,v=E.Es})),!s.isEqual(Ve.min())){const E=n.Gr.getLastRemoteSnapshotVersion(u).next(I=>n.Gr.setTargetsMetadata(u,u.currentSequenceNumber,s));d.push(E)}return J.waitFor(d).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,v)).next(()=>g)}).then(u=>(n.us=a,u))}function BT(i,e,n){let s=et(),a=et();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=Ki();return n.forEach((d,g)=>{const v=u.get(d);g.isFoundDocument()!==v.isFoundDocument()&&(a=a.add(d)),g.isNoDocument()&&g.version.isEqual(Ve.min())?(e.removeEntry(d,g.readTime),h=h.insert(d,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),h=h.insert(d,g)):me("LocalStore","Ignoring outdated watch update for ",d,". Current version:",v.version," Watch version:",g.version)}),{Is:h,Es:a}})}function jT(i,e){const n=Ge(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Gr.getTargetData(s,e).next(u=>u?(a=u,J.resolve(a)):n.Gr.allocateTargetId(s).next(h=>(a=new bi(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Gr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.us.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.us=n.us.insert(s.targetId,s),n.cs.set(e,s.targetId)),s})}async function jh(i,e,n){const s=Ge(i),a=s.us.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,a))}catch(h){if(!Ao(h))throw h;me("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.us=s.us.remove(e),s.cs.delete(a.target)}function Fm(i,e,n){const s=Ge(i);let a=Ve.min(),u=et();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,v,E){const I=Ge(g),S=I.cs.get(E);return S!==void 0?J.resolve(I.us.get(S)):I.Gr.getTargetData(v,E)}(s,h,Nr(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(h,d.targetId).next(g=>{u=g})}).next(()=>s._s.getDocumentsMatchingQuery(h,e,n?a:Ve.min(),n?u:et())).next(d=>($T(s,bw(e),d),{documents:d,ds:u})))}function $T(i,e,n){let s=i.ls.get(e)||Ve.min();n.forEach((a,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.ls.set(e,s)}class bm{constructor(){this.activeTargetIds=Hw()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HT{constructor(){this._o=new bm,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,s){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new bm,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xl=null;function yh(){return Xl===null?Xl=function(){return 268435456+Math.round(2147483648*Math.random())}():Xl++,"0x"+Xl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class QT extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+n.host,this.Mo=`projects/${a}/databases/${u}`,this.xo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${u}`}Oo(n,s,a,u,h){const d=yh(),g=this.No(n,s.toUriEncodedString());me("RestConnection",`Sending RPC '${n}' ${d}:`,g,a);const v={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(v,u,h),this.Bo(n,g,v,a).then(E=>(me("RestConnection",`Received RPC '${n}' ${d}: `,E),E),E=>{throw vo("RestConnection",`RPC '${n}' ${d} failed with error: `,E,"url: ",g,"request:",a),E})}ko(n,s,a,u,h,d){return this.Oo(n,s,a,u,h)}Lo(n,s,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Co}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((u,h)=>n[h]=u),a&&a.headers.forEach((u,h)=>n[h]=u)}No(n,s){const a=WT[n];return`${this.Fo}/v1/${s}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,s,a){const u=yh();return new Promise((h,d)=>{const g=new Mg;g.setWithCredentials(!0),g.listenOnce(Og.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case eu.NO_ERROR:const E=g.getResponseJson();me(ln,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case eu.TIMEOUT:me(ln,`RPC '${e}' ${u} timed out`),d(new ve(ne.DEADLINE_EXCEEDED,"Request time out"));break;case eu.HTTP_ERROR:const I=g.getStatus();if(me(ln,`RPC '${e}' ${u} failed with status:`,I,"response text:",g.getResponseText()),I>0){let S=g.getResponseJson();Array.isArray(S)&&(S=S[0]);const x=S==null?void 0:S.error;if(x&&x.status&&x.message){const b=function($){const K=$.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(K)>=0?K:ne.UNKNOWN}(x.status);d(new ve(b,x.message))}else d(new ve(ne.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new ve(ne.UNAVAILABLE,"Connection failed."));break;default:Le()}}finally{me(ln,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(a);me(ln,`RPC '${e}' ${u} sending request:`,a),g.send(n,"POST",v,s,15)})}qo(e,n,s){const a=yh(),u=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Ug(),d=bg(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Lo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");me(ln,`Creating RPC '${e}' stream ${a}: ${E}`,g);const I=h.createWebChannel(E,g);let S=!1,x=!1;const b=new KT({Eo:$=>{x?me(ln,`Not sending because RPC '${e}' stream ${a} is closed:`,$):(S||(me(ln,`Opening RPC '${e}' stream ${a} transport.`),I.open(),S=!0),me(ln,`RPC '${e}' stream ${a} sending:`,$),I.send($))},Ao:()=>I.close()}),q=($,K,se)=>{$.listen(K,re=>{try{se(re)}catch(pe){setTimeout(()=>{throw pe},0)}})};return q(I,da.EventType.OPEN,()=>{x||(me(ln,`RPC '${e}' stream ${a} transport opened.`),b.So())}),q(I,da.EventType.CLOSE,()=>{x||(x=!0,me(ln,`RPC '${e}' stream ${a} transport closed`),b.Do())}),q(I,da.EventType.ERROR,$=>{x||(x=!0,vo(ln,`RPC '${e}' stream ${a} transport errored:`,$),b.Do(new ve(ne.UNAVAILABLE,"The operation could not be completed")))}),q(I,da.EventType.MESSAGE,$=>{var K;if(!x){const se=$.data[0];Et(!!se);const re=se,pe=(re==null?void 0:re.error)||((K=re[0])===null||K===void 0?void 0:K.error);if(pe){me(ln,`RPC '${e}' stream ${a} received error:`,pe);const U=pe.status;let ce=function(R){const k=Dt[R];if(k!==void 0)return ay(k)}(U),P=pe.message;ce===void 0&&(ce=ne.INTERNAL,P="Unknown error status: "+U+" with message "+pe.message),x=!0,b.Do(new ve(ce,P)),I.close()}else me(ln,`RPC '${e}' stream ${a} received:`,se),b.vo(se)}}),q(d,Fg.STAT_EVENT,$=>{$.stat===xh.PROXY?me(ln,`RPC '${e}' stream ${a} detected buffering proxy`):$.stat===xh.NOPROXY&&me(ln,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{b.bo()},0),b}}function vh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(i){return new aT(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,n,s=1e3,a=1.5,u=6e4){this.li=e,this.timerId=n,this.Qo=s,this.Ko=a,this.$o=u,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),a=Math.max(0,n-s);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,a,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,n,s,a,u,h,d,g){this.li=e,this.Yo=s,this.Zo=a,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=g,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new wy(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(ri(n.toString()),ri("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Xo===n&&this.I_(s,a)},s=>{e(()=>{const a=new ve(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.E_(a)})})}I_(e,n){const s=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(a=>{s(()=>this.E_(a))}),this.stream.onMessage(a=>{s(()=>++this.n_==1?this.A_(a):this.onNext(a))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return me("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YT extends GT{constructor(e,n,s,a,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,h),this.serializer=u}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=uT(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ve.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ve.min():h.readTime?go(h.readTime):Ve.min()}(e);return this.listener.R_(n,s)}V_(e){const n={};n.database=Lm(this.serializer),n.addTarget=function(u,h){let d;const g=h.target;if(d=Lh(g)?{documents:cT(u,g)}:{query:hT(u,g).ct},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=cy(u,h.resumeToken);const v=Uh(u,h.expectedCount);v!==null&&(d.expectedCount=v)}else if(h.snapshotVersion.compareTo(Ve.min())>0){d.readTime=zh(u,h.snapshotVersion.toTimestamp());const v=Uh(u,h.expectedCount);v!==null&&(d.expectedCount=v)}return d}(this.serializer,e);const s=dT(this.serializer,e);s&&(n.labels=s),this.c_(n)}m_(e){const n={};n.database=Lm(this.serializer),n.removeTarget=e,this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT extends class{}{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.S_=!1}b_(){if(this.S_)throw new ve(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Oo(e,Bh(n,s),a,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ve(ne.UNKNOWN,u.toString())})}ko(e,n,s,a,u){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.ko(e,Bh(n,s),a,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ve(ne.UNKNOWN,h.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class JT{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(ri(n),this.C_=!1):me("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n,s,a,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=u,this.Q_.uo(h=>{s.enqueueAndForget(async()=>{La(this)&&(me("RemoteStore","Restarting streams for network reachability change."),await async function(g){const v=Ge(g);v.k_.add(4),await Va(v),v.K_.set("Unknown"),v.k_.delete(4),await xu(v)}(this))})}),this.K_=new JT(s,a)}}async function xu(i){if(La(i))for(const e of i.q_)await e(!0)}async function Va(i){for(const e of i.q_)await e(!1)}function Ty(i,e){const n=Ge(i);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),gf(n)?mf(n):xo(n).s_()&&pf(n,e))}function df(i,e){const n=Ge(i),s=xo(n);n.B_.delete(e),s.s_()&&Sy(n,e),n.B_.size===0&&(s.s_()?s.a_():La(n)&&n.K_.set("Unknown"))}function pf(i,e){if(i.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xo(i).V_(e)}function Sy(i,e){i.U_.xe(e),xo(i).m_(e)}function mf(i){i.U_=new rT({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>i.B_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),xo(i).start(),i.K_.F_()}function gf(i){return La(i)&&!xo(i).i_()&&i.B_.size>0}function La(i){return Ge(i).k_.size===0}function Iy(i){i.U_=void 0}async function e0(i){i.K_.set("Online")}async function t0(i){i.B_.forEach((e,n)=>{pf(i,e)})}async function n0(i,e){Iy(i),gf(i)?(i.K_.O_(e),mf(i)):i.K_.set("Unknown")}async function r0(i,e,n){if(i.K_.set("Online"),e instanceof uy&&e.state===2&&e.cause)try{await async function(a,u){const h=u.cause;for(const d of u.targetIds)a.B_.has(d)&&(await a.remoteSyncer.rejectListen(d,h),a.B_.delete(d),a.U_.removeTarget(d))}(i,e)}catch(s){me("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await zm(i,s)}else if(e instanceof ru?i.U_.$e(e):e instanceof ly?i.U_.Je(e):i.U_.Ge(e),!n.isEqual(Ve.min()))try{const s=await Ey(i.localStore);n.compareTo(s)>=0&&await function(u,h){const d=u.U_.it(h);return d.targetChanges.forEach((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.B_.get(v);E&&u.B_.set(v,E.withResumeToken(g.resumeToken,h))}}),d.targetMismatches.forEach((g,v)=>{const E=u.B_.get(g);if(!E)return;u.B_.set(g,E.withResumeToken(Zt.EMPTY_BYTE_STRING,E.snapshotVersion)),Sy(u,g);const I=new bi(E.target,g,v,E.sequenceNumber);pf(u,I)}),u.remoteSyncer.applyRemoteEvent(d)}(i,n)}catch(s){me("RemoteStore","Failed to raise snapshot:",s),await zm(i,s)}}async function zm(i,e,n){if(!Ao(e))throw e;i.k_.add(1),await Va(i),i.K_.set("Offline"),n||(n=()=>Ey(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{me("RemoteStore","Retrying IndexedDB access"),await n(),i.k_.delete(1),await xu(i)})}async function Bm(i,e){const n=Ge(i);n.asyncQueue.verifyOperationInProgress(),me("RemoteStore","RemoteStore received new credentials");const s=La(n);n.k_.add(3),await Va(n),s&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await xu(n)}async function i0(i,e){const n=Ge(i);e?(n.k_.delete(2),await xu(n)):e||(n.k_.add(2),await Va(n),n.K_.set("Unknown"))}function xo(i){return i.W_||(i.W_=function(n,s,a){const u=Ge(n);return u.b_(),new YT(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)}(i.datastore,i.asyncQueue,{Ro:e0.bind(null,i),mo:t0.bind(null,i),po:n0.bind(null,i),R_:r0.bind(null,i)}),i.q_.push(async e=>{e?(i.W_.__(),gf(i)?mf(i):i.K_.set("Unknown")):(await i.W_.stop(),Iy(i))})),i.W_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,n,s,a,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=u,this.deferred=new Bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,u){const h=Date.now()+s,d=new yf(e,n,h,a,u);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ry(i,e){if(ri("AsyncQueue",`${e}: ${i}`),Ao(i))return new ve(ne.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{static emptySet(e){return new yo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ce.comparator(n.key,s.key):(n,s)=>Ce.comparator(n.key,s.key),this.keyedMap=pa(),this.sortedSet=new Pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,u=s.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new yo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(){this.z_=new Pt(Ce.comparator)}track(e){const n=e.doc.key,s=this.z_.get(n);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(n,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(n):e.type===1&&s.type===2?this.z_=this.z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):Le():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class So{constructor(e,n,s,a,u,h,d,g,v){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,n,s,a,u){const h=[];return n.forEach(d=>{h.push({type:0,doc:d})}),new So(e,n,yo.emptySet(n),h,s,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Iu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class o0{constructor(){this.queries=$m(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,s){const a=Ge(n),u=a.queries;a.queries=$m(),u.forEach((h,d)=>{for(const g of d.J_)g.onError(s)})})(this,new ve(ne.ABORTED,"Firestore shutting down"))}}function $m(){return new Is(i=>Xg(i),Iu)}async function Cy(i,e){const n=Ge(i);let s=3;const a=e.query;let u=n.queries.get(a);u?!u.Y_()&&e.Z_()&&(s=2):(u=new s0,s=e.Z_()?0:1);try{switch(s){case 0:u.H_=await n.onListen(a,!0);break;case 1:u.H_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(h){const d=Ry(h,`Initialization of query '${ho(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,u),u.J_.push(e),e.ea(n.onlineState),u.H_&&e.ta(u.H_)&&vf(n)}async function Ay(i,e){const n=Ge(i),s=e.query;let a=3;const u=n.queries.get(s);if(u){const h=u.J_.indexOf(e);h>=0&&(u.J_.splice(h,1),u.J_.length===0?a=e.Z_()?0:1:!u.Y_()&&e.Z_()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function a0(i,e){const n=Ge(i);let s=!1;for(const a of e){const u=a.query,h=n.queries.get(u);if(h){for(const d of h.J_)d.ta(a)&&(s=!0);h.H_=a}}s&&vf(n)}function l0(i,e,n){const s=Ge(i),a=s.queries.get(e);if(a)for(const u of a.J_)u.onError(n);s.queries.delete(e)}function vf(i){i.X_.forEach(e=>{e.next()})}var $h,Hm;(Hm=$h||($h={})).na="default",Hm.Cache="cache";class Py{constructor(e,n,s){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new So(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const s=n!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=So.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==$h.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e){this.key=e}}class xy{constructor(e){this.key=e}}class u0{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=et(),this.mutatedKeys=et(),this.Va=Jg(e),this.ma=new yo(this.Va)}get fa(){return this.da}ga(e,n){const s=n?n.pa:new jm,a=n?n.ma:this.ma;let u=n?n.mutatedKeys:this.mutatedKeys,h=a,d=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,v=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((E,I)=>{const S=a.get(E),x=Ru(this.query,I)?I:null,b=!!S&&this.mutatedKeys.has(S.key),q=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let $=!1;S&&x?S.data.isEqual(x.data)?b!==q&&(s.track({type:3,doc:x}),$=!0):this.ya(S,x)||(s.track({type:2,doc:x}),$=!0,(g&&this.Va(x,g)>0||v&&this.Va(x,v)<0)&&(d=!0)):!S&&x?(s.track({type:0,doc:x}),$=!0):S&&!x&&(s.track({type:1,doc:S}),$=!0,(g||v)&&(d=!0)),$&&(x?(h=h.add(x),u=q?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{ma:h,pa:s,ss:d,mutatedKeys:u}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const u=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const h=e.pa.j_();h.sort((E,I)=>function(x,b){const q=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le()}};return q(x)-q(b)}(E.type,I.type)||this.Va(E.doc,I.doc)),this.wa(s),a=a!=null&&a;const d=n&&!a?this.Sa():[],g=this.Ra.size===0&&this.current&&!a?1:0,v=g!==this.Aa;return this.Aa=g,h.length!==0||v?{snapshot:new So(this.query,e.ma,u,h,e.mutatedKeys,g===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new jm,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=et(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const n=[];return e.forEach(s=>{this.Ra.has(s)||n.push(new xy(s))}),this.Ra.forEach(s=>{e.has(s)||n.push(new ky(s))}),n}va(e){this.da=e.ds,this.Ra=et();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return So.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class c0{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class h0{constructor(e){this.key=e,this.Fa=!1}}class f0{constructor(e,n,s,a,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Ma={},this.xa=new Is(d=>Xg(d),Iu),this.Oa=new Map,this.Na=new Set,this.La=new Pt(Ce.comparator),this.Ba=new Map,this.ka=new cf,this.qa={},this.Qa=new Map,this.Ka=To.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function d0(i,e,n=!0){const s=My(i);let a;const u=s.xa.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),a=u.view.Ca()):a=await Dy(s,e,n,!0),a}async function p0(i,e){const n=My(i);await Dy(n,e,!0,!1)}async function Dy(i,e,n,s){const a=await jT(i.localStore,Nr(e)),u=a.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let d;return s&&(d=await m0(i,e,u,h==="current",a.resumeToken)),i.isPrimaryClient&&n&&Ty(i.remoteStore,a),d}async function m0(i,e,n,s,a){i.Ua=(I,S,x)=>async function(q,$,K,se){let re=$.view.ga(K);re.ss&&(re=await Fm(q.localStore,$.query,!1).then(({documents:P})=>$.view.ga(P,re)));const pe=se&&se.targetChanges.get($.targetId),U=se&&se.targetMismatches.get($.targetId)!=null,ce=$.view.applyChanges(re,q.isPrimaryClient,pe,U);return Wm(q,$.targetId,ce.ba),ce.snapshot}(i,I,S,x);const u=await Fm(i.localStore,e,!0),h=new u0(e,u.ds),d=h.ga(u.documents),g=Na.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),v=h.applyChanges(d,i.isPrimaryClient,g);Wm(i,n,v.ba);const E=new c0(e,n,h);return i.xa.set(e,E),i.Oa.has(n)?i.Oa.get(n).push(e):i.Oa.set(n,[e]),v.snapshot}async function g0(i,e,n){const s=Ge(i),a=s.xa.get(e),u=s.Oa.get(a.targetId);if(u.length>1)return s.Oa.set(a.targetId,u.filter(h=>!Iu(h,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await jh(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&df(s.remoteStore,a.targetId),Hh(s,a.targetId)}).catch(Eu)):(Hh(s,a.targetId),await jh(s.localStore,a.targetId,!0))}async function y0(i,e){const n=Ge(i),s=n.xa.get(e),a=n.Oa.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),df(n.remoteStore,s.targetId))}async function Ny(i,e){const n=Ge(i);try{const s=await zT(n.localStore,e);e.targetChanges.forEach((a,u)=>{const h=n.Ba.get(u);h&&(Et(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.Fa=!0:a.modifiedDocuments.size>0?Et(h.Fa):a.removedDocuments.size>0&&(Et(h.Fa),h.Fa=!1))}),await Ly(n,s,e)}catch(s){await Eu(s)}}function qm(i,e,n){const s=Ge(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.xa.forEach((u,h)=>{const d=h.view.ea(e);d.snapshot&&a.push(d.snapshot)}),function(h,d){const g=Ge(h);g.onlineState=d;let v=!1;g.queries.forEach((E,I)=>{for(const S of I.J_)S.ea(d)&&(v=!0)}),v&&vf(g)}(s.eventManager,e),a.length&&s.Ma.R_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function v0(i,e,n){const s=Ge(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Ba.get(e),u=a&&a.key;if(u){let h=new Pt(Ce.comparator);h=h.insert(u,cn.newNoDocument(u,Ve.min()));const d=et().add(u),g=new Pu(Ve.min(),new Map,new Pt(Qe),h,d);await Ny(s,g),s.La=s.La.remove(u),s.Ba.delete(e),_f(s)}else await jh(s.localStore,e,!1).then(()=>Hh(s,e,n)).catch(Eu)}function Hh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Oa.get(e))i.xa.delete(s),n&&i.Ma.Wa(s,n);i.Oa.delete(e),i.isPrimaryClient&&i.ka.yr(e).forEach(s=>{i.ka.containsKey(s)||Vy(i,s)})}function Vy(i,e){i.Na.delete(e.path.canonicalString());const n=i.La.get(e);n!==null&&(df(i.remoteStore,n),i.La=i.La.remove(e),i.Ba.delete(n),_f(i))}function Wm(i,e,n){for(const s of n)s instanceof ky?(i.ka.addReference(s.key,e),_0(i,s)):s instanceof xy?(me("SyncEngine","Document no longer in limbo: "+s.key),i.ka.removeReference(s.key,e),i.ka.containsKey(s.key)||Vy(i,s.key)):Le()}function _0(i,e){const n=e.key,s=n.path.canonicalString();i.La.get(n)||i.Na.has(s)||(me("SyncEngine","New document in limbo: "+n),i.Na.add(s),_f(i))}function _f(i){for(;i.Na.size>0&&i.La.size<i.maxConcurrentLimboResolutions;){const e=i.Na.values().next().value;i.Na.delete(e);const n=new Ce(mt.fromString(e)),s=i.Ka.next();i.Ba.set(s,new h0(n)),i.La=i.La.insert(n,s),Ty(i.remoteStore,new bi(Nr(sf(n.path)),s,"TargetPurposeLimboResolution",wu.oe))}}async function Ly(i,e,n){const s=Ge(i),a=[],u=[],h=[];s.xa.isEmpty()||(s.xa.forEach((d,g)=>{h.push(s.Ua(g,e,n).then(v=>{var E;if((v||n)&&s.isPrimaryClient){const I=v?!v.fromCache:(E=n==null?void 0:n.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,I?"current":"not-current")}if(v){a.push(v);const I=ff.zi(g.targetId,v);u.push(I)}}))}),await Promise.all(h),s.Ma.R_(a),await async function(g,v){const E=Ge(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>J.forEach(v,S=>J.forEach(S.Wi,x=>E.persistence.referenceDelegate.addReference(I,S.targetId,x)).next(()=>J.forEach(S.Gi,x=>E.persistence.referenceDelegate.removeReference(I,S.targetId,x)))))}catch(I){if(!Ao(I))throw I;me("LocalStore","Failed to update sequence numbers: "+I)}for(const I of v){const S=I.targetId;if(!I.fromCache){const x=E.us.get(S),b=x.snapshotVersion,q=x.withLastLimboFreeSnapshotVersion(b);E.us=E.us.insert(S,q)}}}(s.localStore,u))}async function E0(i,e){const n=Ge(i);if(!n.currentUser.isEqual(e)){me("SyncEngine","User change. New user:",e.toKey());const s=await _y(n.localStore,e);n.currentUser=e,function(u,h){u.Qa.forEach(d=>{d.forEach(g=>{g.reject(new ve(ne.CANCELLED,h))})}),u.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ly(n,s.Ts)}}function w0(i,e){const n=Ge(i),s=n.Ba.get(e);if(s&&s.Fa)return et().add(s.key);{let a=et();const u=n.Oa.get(e);if(!u)return a;for(const h of u){const d=n.xa.get(h);a=a.unionWith(d.view.fa)}return a}}function My(i){const e=Ge(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ny.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=w0.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=v0.bind(null,e),e.Ma.R_=a0.bind(null,e.eventManager),e.Ma.Wa=l0.bind(null,e.eventManager),e}class gu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ku(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return UT(this.persistence,new FT,e.initialUser,this.serializer)}ja(e){return new vy(hf.ei,this.serializer)}za(e){return new HT}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gu.provider={build:()=>new gu};class T0 extends gu{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Et(this.persistence.referenceDelegate instanceof mu);const s=this.persistence.referenceDelegate.garbageCollector;return new TT(s,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new vy(s=>mu.ei(s,n),this.serializer)}}class qh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>qm(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=E0.bind(null,this.syncEngine),await i0(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new o0}()}createDatastore(e){const n=ku(e.databaseInfo.databaseId),s=function(u){return new QT(u)}(e.databaseInfo);return function(u,h,d,g){return new XT(u,h,d,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,u,h,d){return new ZT(s,a,u,h,d)}(this.localStore,this.datastore,e.asyncQueue,n=>qm(this.syncEngine,n,0),function(){return Um.p()?new Um:new qT}())}createSyncEngine(e,n){return function(a,u,h,d,g,v,E){const I=new f0(a,u,h,d,g,v);return E&&(I.$a=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const u=Ge(a);me("RemoteStore","RemoteStore shutting down."),u.k_.add(5),await Va(u),u.Q_.shutdown(),u.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}qh.provider={build:()=>new qh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):ri("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,n,s,a,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=un.UNAUTHENTICATED,this.clientId=Bg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{me("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(me("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Ry(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function _h(i,e){i.asyncQueue.verifyOperationInProgress(),me("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await _y(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function Km(i,e){i.asyncQueue.verifyOperationInProgress();const n=await I0(i);me("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>Bm(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>Bm(e.remoteStore,a)),i._onlineComponents=e}async function I0(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){me("FirestoreClient","Using user provided OfflineComponentProvider");try{await _h(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===ne.FAILED_PRECONDITION||a.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;vo("Error using user provided cache. Falling back to memory cache: "+n),await _h(i,new gu)}}else me("FirestoreClient","Using default OfflineComponentProvider"),await _h(i,new T0(void 0));return i._offlineComponents}async function R0(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(me("FirestoreClient","Using user provided OnlineComponentProvider"),await Km(i,i._uninitializedComponentsProvider._online)):(me("FirestoreClient","Using default OnlineComponentProvider"),await Km(i,new qh))),i._onlineComponents}async function Fy(i){const e=await R0(i),n=e.eventManager;return n.onListen=d0.bind(null,e.syncEngine),n.onUnlisten=g0.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=p0.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=y0.bind(null,e.syncEngine),n}function C0(i,e,n={}){const s=new Bi;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,d,g,v){const E=new Oy({next:S=>{E.eu(),h.enqueueAndForget(()=>Ay(u,I));const x=S.docs.has(d);!x&&S.fromCache?v.reject(new ve(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&S.fromCache&&g&&g.source==="server"?v.reject(new ve(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(S)},error:S=>v.reject(S)}),I=new Py(sf(d.path),E,{includeMetadataChanges:!0,ua:!0});return Cy(u,I)}(await Fy(i),i.asyncQueue,e,n,s)),s.promise}function A0(i,e,n={}){const s=new Bi;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,d,g,v){const E=new Oy({next:S=>{E.eu(),h.enqueueAndForget(()=>Ay(u,I)),S.fromCache&&g.source==="server"?v.reject(new ve(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(S)},error:S=>v.reject(S)}),I=new Py(d,E,{includeMetadataChanges:!0,ua:!0});return Cy(u,I)}(await Fy(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(i,e,n){if(!n)throw new ve(ne.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function P0(i,e,n,s){if(e===!0&&s===!0)throw new ve(ne.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Gm(i){if(!Ce.isDocumentKey(i))throw new ve(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Ym(i){if(Ce.isDocumentKey(i))throw new ve(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Du(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Le()}function xa(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ve(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Du(i);throw new ve(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ve(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}P0("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=by((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ve(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ve(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ve(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nu{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xm(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new iw;switch(s.type){case"firstParty":return new lw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ve(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Qm.get(n);s&&(me("ComponentProvider","Removing Datastore"),Qm.delete(n),s.terminate())}(this),Promise.resolve()}}function k0(i,e,n,s={}){var a;const u=(i=xa(i,Nu))._getSettings(),h=`${e}:${n}`;if(u.host!=="firestore.googleapis.com"&&u.host!==h&&vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),s.mockUserToken){let d,g;if(typeof s.mockUserToken=="string")d=s.mockUserToken,g=un.MOCK_USER;else{d=U_(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new ve(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new un(v)}i._authCredentials=new sw(new zg(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Rs(this.firestore,e,this._query)}}class bn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bn(this.firestore,e,this._key)}}class ji extends Rs{constructor(e,n,s){super(e,n,sf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bn(this.firestore,null,new Ce(e))}withConverter(e){return new ji(this.firestore,e,this._path)}}function x0(i,e,...n){if(i=Ta(i),Uy("collection","path",e),i instanceof Nu){const s=mt.fromString(e,...n);return Ym(s),new ji(i,null,s)}{if(!(i instanceof bn||i instanceof ji))throw new ve(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(mt.fromString(e,...n));return Ym(s),new ji(i.firestore,null,s)}}function D0(i,e,...n){if(i=Ta(i),arguments.length===1&&(e=Bg.newId()),Uy("doc","path",e),i instanceof Nu){const s=mt.fromString(e,...n);return Gm(s),new bn(i,null,new Ce(s))}{if(!(i instanceof bn||i instanceof ji))throw new ve(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(mt.fromString(e,...n));return Gm(s),new bn(i.firestore,i instanceof ji?i.converter:null,new Ce(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new wy(this,"async_queue_retry"),this.fu=()=>{const s=vh();s&&me("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const n=vh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=vh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new Bi;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Ao(e))throw e;me("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const a=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(s);throw ri("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.Ru=!1,s))));return this.gu=n,n}enqueueAfterDelay(e,n,s){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const a=yf.createAndSchedule(this,e,n,s,u=>this.Su(u));return this.du.push(a),a}pu(){this.Au&&Le()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class Ef extends Nu{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new Jm,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Jm(e),this._firestoreClient=void 0,await e}}}function N0(i,e){const n=typeof i=="object"?i:QE(),s=typeof i=="string"?i:"(default)",a=HE(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const u=F_("firestore");u&&k0(a,...u)}return a}function zy(i){if(i._terminated)throw new ve(ne.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||V0(i),i._firestoreClient}function V0(i){var e,n,s;const a=i._freezeSettings(),u=function(d,g,v,E){return new Sw(d,g,v,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,by(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new S0(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(d){const g=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Io(Zt.fromBase64String(e))}catch(n){throw new ve(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Io(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==a[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0=/^__.*__$/;function $y(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le()}}class Sf{constructor(e,n,s,a,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,u===void 0&&this.Fu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Sf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Lu(e),a}Bu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Fu(),a}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Wh(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if($y(this.Mu)&&L0.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class M0{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||ku(e)}$u(e,n,s,a=!1){return new Sf({Mu:e,methodName:n,Ku:s,path:hn.emptyPath(),Nu:!1,Qu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function O0(i){const e=i._freezeSettings(),n=ku(i._databaseId);return new M0(i._databaseId,!!e.ignoreUndefinedProperties,n)}function F0(i,e,n,s=!1){return If(n,i.$u(s?4:3,e))}function If(i,e){if(Hy(i=Ta(i)))return U0("Unsupported field value:",e,i),b0(i,e);if(i instanceof jy)return function(s,a){if(!$y(a.Mu))throw a.qu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.qu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(a);u&&a.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,a){const u=[];let h=0;for(const d of s){let g=If(d,a.ku(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,a){if((s=Ta(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return qw(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=jt.fromDate(s);return{timestampValue:zh(a.serializer,u)}}if(s instanceof jt){const u=new jt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:zh(a.serializer,u)}}if(s instanceof wf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Io)return{bytesValue:cy(a.serializer,s._byteString)};if(s instanceof bn){const u=a.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw a.qu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:hy(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Tf)return function(h,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.qu("VectorValues must only contain numeric values.");return of(d.serializer,g)})}}}}}}(s,a);throw a.qu(`Unsupported field value: ${Du(s)}`)}(i,e)}function b0(i,e){const n={};return jg(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Po(i,(s,a)=>{const u=If(a,e.Ou(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function Hy(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof jt||i instanceof wf||i instanceof Io||i instanceof bn||i instanceof jy||i instanceof Tf)}function U0(i,e,n){if(!Hy(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=Du(n);throw s==="an object"?e.qu(i+" a custom object"):e.qu(i+" "+s)}}const z0=new RegExp("[~\\*/\\[\\]]");function B0(i,e,n){if(e.search(z0)>=0)throw Wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new By(...e.split("."))._internalPath}catch{throw Wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Wh(i,e,n,s,a){const u=s&&!s.isEmpty(),h=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${a}`),g+=")"),new ve(ne.INVALID_ARGUMENT,d+i+g)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,n,s,a,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new j0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Rf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class j0 extends qy{data(){return super.data()}}function Rf(i,e){return typeof e=="string"?B0(i,e):e instanceof By?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ve(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cf{}class Wy extends Cf{}function H0(i,e,...n){let s=[];e instanceof Cf&&s.push(e),s=s.concat(n),function(u){const h=u.filter(g=>g instanceof Pf).length,d=u.filter(g=>g instanceof Af).length;if(h>1||h>0&&d>0)throw new ve(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)i=a._apply(i);return i}class Af extends Wy{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Af(e,n,s)}_apply(e){const n=this._parse(e);return Ky(e._query,n),new Rs(e.firestore,e.converter,Mh(e._query,n))}_parse(e){const n=O0(e.firestore);return function(u,h,d,g,v,E,I){let S;if(v.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ve(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){eg(I,E);const x=[];for(const b of I)x.push(Zm(g,u,b));S={arrayValue:{values:x}}}else S=Zm(g,u,I)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||eg(I,E),S=F0(d,h,I,E==="in"||E==="not-in");return Nt.create(v,E,S)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Pf extends Cf{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Pf(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:mr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,u){let h=a;const d=u.getFlattenedFilters();for(const g of d)Ky(h,g),h=Mh(h,g)}(e._query,n),new Rs(e.firestore,e.converter,Mh(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class kf extends Wy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new kf(e,n)}_apply(e){const n=function(a,u,h){if(a.startAt!==null)throw new ve(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ve(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ka(u,h)}(e._query,this._field,this._direction);return new Rs(e.firestore,e.converter,function(a,u){const h=a.explicitOrderBy.concat([u]);return new ko(a.path,a.collectionGroup,h,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,n))}}function q0(i,e="asc"){const n=e,s=Rf("orderBy",i);return kf._create(s,n)}function Zm(i,e,n){if(typeof(n=Ta(n))=="string"){if(n==="")throw new ve(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yg(e)&&n.indexOf("/")!==-1)throw new ve(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(mt.fromString(n));if(!Ce.isDocumentKey(s))throw new ve(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return _m(i,new Ce(s))}if(n instanceof bn)return _m(i,n._key);throw new ve(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Du(n)}.`)}function eg(i,e){if(!Array.isArray(i)||i.length===0)throw new ve(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ky(i,e){const n=function(a,u){for(const h of a)for(const d of h.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null}(i.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ve(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class W0{convertValue(e,n="none"){switch(Wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Le()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Po(e,(a,u)=>{s[a]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,a;const u=(a=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(h=>At(h.doubleValue));return new Tf(u)}convertGeoPoint(e){return new wf(At(e.latitude),At(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Su(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ca(e));default:return null}}convertTimestamp(e){const n=Hi(e);return new jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=mt.fromString(e);Et(yy(s));const a=new Aa(s.get(1),s.get(3)),u=new Ce(s.popFirst(5));return a.isEqual(n)||ri(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qy extends qy{constructor(e,n,s,a,u,h){super(e,n,s,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new iu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Rf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class iu extends Qy{data(e={}){return super.data(e)}}class K0{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new ga(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new iu(this._firestore,this._userDataWriter,s.key,s,new ga(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,u){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map(d=>{const g=new iu(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ga(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const g=new iu(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ga(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let v=-1,E=-1;return d.type!==0&&(v=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),E=h.indexOf(d.doc.key)),{type:Q0(d.type),doc:g,oldIndex:v,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Q0(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(i){i=xa(i,bn);const e=xa(i.firestore,Ef);return C0(zy(e),i._key).then(n=>X0(e,i,n))}class Gy extends W0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Io(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bn(this.firestore,null,n)}}function Y0(i){i=xa(i,Rs);const e=xa(i.firestore,Ef),n=zy(e),s=new Gy(e);return $0(i._query),A0(n,i._query).then(a=>new K0(e,s,i,a))}function X0(i,e,n){const s=n.docs.get(e._key),a=new Gy(i);return new Qy(i,a,e._key,s,new ga(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Co=a})(KE),cu(new Sa("firestore",(s,{instanceIdentifier:a,options:u})=>{const h=s.getProvider("app").getImmediate(),d=new Ef(new ow(s.getProvider("auth-internal")),new cw(s.getProvider("app-check-internal")),function(v,E){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ve(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Aa(v.options.projectId,E)}(h,a),h);return u=Object.assign({useFetchStreams:n},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),mo(dm,"4.7.5",e),mo(dm,"4.7.5","esm2017")})();var J0="firebase",Z0="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mo(J0,Z0,"app");const eS={apiKey:"AIzaSyCuCV84v-eIJT0LTMPC_-EvMAnmue3uxbI",authDomain:"fir-summer-2024-ce6f0.firebaseapp.com",projectId:"fir-summer-2024-ce6f0",storageBucket:"fir-summer-2024-ce6f0.firebasestorage.app",messagingSenderId:"380846268982",appId:"1:380846268982:web:67f2671be55eeefd306e97"},tS=Dg(eS),Yy=N0(tS),Xy="contacts";var ua={},tg;function nS(){if(tg)return ua;tg=1,Object.defineProperty(ua,"__esModule",{value:!0}),ua.parse=h,ua.serialize=v;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function h(S,x){const b=new u,q=S.length;if(q<2)return b;const $=(x==null?void 0:x.decode)||E;let K=0;do{const se=S.indexOf("=",K);if(se===-1)break;const re=S.indexOf(";",K),pe=re===-1?q:re;if(se>pe){K=S.lastIndexOf(";",se-1)+1;continue}const U=d(S,K,se),ce=g(S,se,U),P=S.slice(U,ce);if(b[P]===void 0){let T=d(S,se+1,pe),R=g(S,pe,T);const k=$(S.slice(T,R));b[P]=k}K=pe+1}while(K<q);return b}function d(S,x,b){do{const q=S.charCodeAt(x);if(q!==32&&q!==9)return x}while(++x<b);return b}function g(S,x,b){for(;x>b;){const q=S.charCodeAt(--x);if(q!==32&&q!==9)return x+1}return b}function v(S,x,b){const q=(b==null?void 0:b.encode)||encodeURIComponent;if(!i.test(S))throw new TypeError(`argument name is invalid: ${S}`);const $=q(x);if(!e.test($))throw new TypeError(`argument val is invalid: ${x}`);let K=S+"="+$;if(!b)return K;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);K+="; Max-Age="+b.maxAge}if(b.domain){if(!n.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);K+="; Domain="+b.domain}if(b.path){if(!s.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);K+="; Path="+b.path}if(b.expires){if(!I(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);K+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(K+="; HttpOnly"),b.secure&&(K+="; Secure"),b.partitioned&&(K+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return K}function E(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function I(S){return a.call(S)==="[object Date]"}return ua}nS();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ng="popstate";function rS(i={}){function e(a,u){let{pathname:h="/",search:d="",hash:g=""}=ii(a.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Da("",{pathname:h,search:d,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(a,u){let h=a.document.querySelector("base"),d="";if(h&&h.getAttribute("href")){let g=a.location.href,v=g.indexOf("#");d=v===-1?g:g.slice(0,v)}return d+"#"+(typeof u=="string"?u:Qi(u))}function s(a,u){$t(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return sS(e,n,s,i)}function Be(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function $t(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iS(){return Math.random().toString(36).substring(2,10)}function rg(i,e){return{usr:i.state,key:i.key,idx:e}}function Da(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ii(e):e,state:n,key:e&&e.key||s||iS()}}function Qi({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function ii(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function sS(i,e,n,s={}){let{window:a=document.defaultView,v5Compat:u=!1}=s,h=a.history,d="POP",g=null,v=E();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function E(){return(h.state||{idx:null}).idx}function I(){d="POP";let $=E(),K=$==null?null:$-v;v=$,g&&g({action:d,location:q.location,delta:K})}function S($,K){d="PUSH";let se=Da(q.location,$,K);n(se,$),v=E()+1;let re=rg(se,v),pe=q.createHref(se);try{h.pushState(re,"",pe)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;a.location.assign(pe)}u&&g&&g({action:d,location:q.location,delta:1})}function x($,K){d="REPLACE";let se=Da(q.location,$,K);n(se,$),v=E();let re=rg(se,v),pe=q.createHref(se);h.replaceState(re,"",pe),u&&g&&g({action:d,location:q.location,delta:0})}function b($){let K=a.location.origin!=="null"?a.location.origin:a.location.href,se=typeof $=="string"?$:Qi($);return se=se.replace(/ $/,"%20"),Be(K,`No window.location.(origin|href) available to create URL for href: ${se}`),new URL(se,K)}let q={get action(){return d},get location(){return i(a,h)},listen($){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(ng,I),g=$,()=>{a.removeEventListener(ng,I),g=null}},createHref($){return e(a,$)},createURL:b,encodeLocation($){let K=b($);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:S,replace:x,go($){return h.go($)}};return q}var oS=new Set(["lazy","caseSensitive","path","id","index","children"]);function aS(i){return i.index===!0}function yu(i,e,n=[],s={}){return i.map((a,u)=>{let h=[...n,String(u)],d=typeof a.id=="string"?a.id:h.join("-");if(Be(a.index!==!0||!a.children,"Cannot specify children on an index route"),Be(!s[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),aS(a)){let g={...a,...e(a),id:d};return s[d]=g,g}else{let g={...a,...e(a),id:d,children:void 0};return s[d]=g,a.children&&(g.children=yu(a.children,e,h,s)),g}})}function Oi(i,e,n="/"){return su(i,e,n,!1)}function su(i,e,n,s){let a=typeof e=="string"?ii(e):e,u=gr(a.pathname||"/",n);if(u==null)return null;let h=Jy(i);uS(h);let d=null;for(let g=0;d==null&&g<h.length;++g){let v=ES(u);d=vS(h[g],v,s)}return d}function lS(i,e){let{route:n,pathname:s,params:a}=i;return{id:n.id,pathname:s,params:a,data:e[n.id],handle:n.handle}}function Jy(i,e=[],n=[],s=""){let a=(u,h,d)=>{let g={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(Be(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let v=Vr([s,g.relativePath]),E=n.concat(g);u.children&&u.children.length>0&&(Be(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Jy(u.children,e,E,v)),!(u.path==null&&!u.index)&&e.push({path:v,score:gS(v,u.index),routesMeta:E})};return i.forEach((u,h)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))a(u,h);else for(let g of Zy(u.path))a(u,h,g)}),e}function Zy(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return a?[u,""]:[u];let h=Zy(s.join("/")),d=[];return d.push(...h.map(g=>g===""?u:[u,g].join("/"))),a&&d.push(...h),d.map(g=>i.startsWith("/")&&g===""?"/":g)}function uS(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:yS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var cS=/^:[\w-]+$/,hS=3,fS=2,dS=1,pS=10,mS=-2,ig=i=>i==="*";function gS(i,e){let n=i.split("/"),s=n.length;return n.some(ig)&&(s+=mS),e&&(s+=fS),n.filter(a=>!ig(a)).reduce((a,u)=>a+(cS.test(u)?hS:u===""?dS:pS),s)}function yS(i,e){return i.length===e.length&&i.slice(0,-1).every((s,a)=>s===e[a])?i[i.length-1]-e[e.length-1]:0}function vS(i,e,n=!1){let{routesMeta:s}=i,a={},u="/",h=[];for(let d=0;d<s.length;++d){let g=s[d],v=d===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",I=vu({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},E),S=g.route;if(!I&&v&&n&&!s[s.length-1].route.index&&(I=vu({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!I)return null;Object.assign(a,I.params),h.push({params:a,pathname:Vr([u,I.pathname]),pathnameBase:SS(Vr([u,I.pathnameBase])),route:S}),I.pathnameBase!=="/"&&(u=Vr([u,I.pathnameBase]))}return h}function vu(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=_S(i.path,i.caseSensitive,i.end),a=e.match(n);if(!a)return null;let u=a[0],h=u.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((v,{paramName:E,isOptional:I},S)=>{if(E==="*"){let b=d[S]||"";h=u.slice(0,u.length-b.length).replace(/(.)\/+$/,"$1")}const x=d[S];return I&&!x?v[E]=void 0:v[E]=(x||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:h,pattern:i}}function _S(i,e=!1,n=!0){$t(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,g)=>(s.push({paramName:d,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function ES(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $t(!1,`The URL path "${i}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function gr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function wS(i,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof i=="string"?ii(i):i;return{pathname:n?n.startsWith("/")?n:TS(n,e):e,search:IS(s),hash:RS(a)}}function TS(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Eh(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ev(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function xf(i){let e=ev(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Df(i,e,n,s=!1){let a;typeof i=="string"?a=ii(i):(a={...i},Be(!a.pathname||!a.pathname.includes("?"),Eh("?","pathname","search",a)),Be(!a.pathname||!a.pathname.includes("#"),Eh("#","pathname","hash",a)),Be(!a.search||!a.search.includes("#"),Eh("#","search","hash",a)));let u=i===""||a.pathname==="",h=u?"/":a.pathname,d;if(h==null)d=n;else{let I=e.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),I-=1;a.pathname=S.join("/")}d=I>=0?e[I]:"/"}let g=wS(a,d),v=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(v||E)&&(g.pathname+="/"),g}var Vr=i=>i.join("/").replace(/\/\/+/g,"/"),SS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),IS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,RS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,_u=class{constructor(i,e,n,s=!1){this.status=i,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Vu(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var tv=["POST","PUT","PATCH","DELETE"],CS=new Set(tv),AS=["GET",...tv],PS=new Set(AS),kS=new Set([301,302,303,307,308]),xS=new Set([307,308]),wh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},DS={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ca={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Nf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,NS=i=>({hasErrorBoundary:!!i.hasErrorBoundary}),nv="remix-router-transitions",rv=Symbol("ResetLoaderData");function VS(i){const e=i.window?i.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Be(i.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=i.mapRouteProperties||NS,a={},u=yu(i.routes,s,void 0,a),h,d=i.basename||"/",g=i.dataStrategy||bS,v=i.patchRoutesOnNavigation,E={...i.future},I=null,S=new Set,x=null,b=null,q=null,$=i.hydrationData!=null,K=Oi(u,i.history.location,d),se=null;if(K==null&&!v){let N=Qn(404,{pathname:i.history.location.pathname}),{matches:O,route:W}=mg(u);K=O,se={[W.id]:N}}K&&!i.hydrationData&&Jn(K,u,i.history.location.pathname).active&&(K=null);let re;if(K)if(K.some(N=>N.route.lazy))re=!1;else if(!K.some(N=>N.route.loader))re=!0;else{let N=i.hydrationData?i.hydrationData.loaderData:null,O=i.hydrationData?i.hydrationData.errors:null;if(O){let W=K.findIndex(X=>O[X.route.id]!==void 0);re=K.slice(0,W+1).every(X=>!Qh(X.route,N,O))}else re=K.every(W=>!Qh(W.route,N,O))}else{re=!1,K=[];let N=Jn(null,u,i.history.location.pathname);N.active&&N.matches&&(K=N.matches)}let pe,U={historyAction:i.history.action,location:i.history.location,matches:K,initialized:re,navigation:wh,restoreScrollPosition:i.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:i.hydrationData&&i.hydrationData.loaderData||{},actionData:i.hydrationData&&i.hydrationData.actionData||null,errors:i.hydrationData&&i.hydrationData.errors||se,fetchers:new Map,blockers:new Map},ce="POP",P=!1,T,R=!1,k=new Map,V=null,F=!1,A=!1,lt=new Set,je=new Map,It=0,$e=-1,oe=new Map,Te=new Set,ue=new Map,M=new Map,Y=new Set,Ee=new Map,Ne,De=null;function be(){if(I=i.history.listen(({action:N,location:O,delta:W})=>{if(Ne){Ne(),Ne=void 0;return}$t(Ee.size===0||W!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let X=hi({currentLocation:U.location,nextLocation:O,historyAction:N});if(X&&W!=null){let he=new Promise(ge=>{Ne=ge});i.history.go(W*-1),Er(X,{state:"blocked",location:O,proceed(){Er(X,{state:"proceeding",proceed:void 0,reset:void 0,location:O}),he.then(()=>i.history.go(W))},reset(){let ge=new Map(U.blockers);ge.set(X,ca),Me({blockers:ge})}});return}return en(N,O)}),n){GS(e,k);let N=()=>YS(e,k);e.addEventListener("pagehide",N),V=()=>e.removeEventListener("pagehide",N)}return U.initialized||en("POP",U.location,{initialHydration:!0}),pe}function Ye(){I&&I(),V&&V(),S.clear(),T&&T.abort(),U.fetchers.forEach((N,O)=>kn(O)),U.blockers.forEach((N,O)=>ci(O))}function Xe(N){return S.add(N),()=>S.delete(N)}function Me(N,O={}){U={...U,...N};let W=[],X=[];U.fetchers.forEach((he,ge)=>{he.state==="idle"&&(Y.has(ge)?W.push(ge):X.push(ge))}),[...S].forEach(he=>he(U,{deletedFetchers:W,viewTransitionOpts:O.viewTransitionOpts,flushSync:O.flushSync===!0})),W.forEach(he=>kn(he)),X.forEach(he=>U.fetchers.delete(he))}function ct(N,O,{flushSync:W}={}){var ae,ke;let X=U.actionData!=null&&U.navigation.formMethod!=null&&pr(U.navigation.formMethod)&&U.navigation.state==="loading"&&((ae=N.state)==null?void 0:ae._isRedirect)!==!0,he;O.actionData?Object.keys(O.actionData).length>0?he=O.actionData:he=null:X?he=U.actionData:he=null;let ge=O.loaderData?dg(U.loaderData,O.loaderData,O.matches||[],O.errors):U.loaderData,Re=U.blockers;Re.size>0&&(Re=new Map(Re),Re.forEach((Oe,nt)=>Re.set(nt,ca)));let fe=P===!0||U.navigation.formMethod!=null&&pr(U.navigation.formMethod)&&((ke=N.state)==null?void 0:ke._isRedirect)!==!0;h&&(u=h,h=void 0),F||ce==="POP"||(ce==="PUSH"?i.history.push(N,N.state):ce==="REPLACE"&&i.history.replace(N,N.state));let _e;if(ce==="POP"){let Oe=k.get(U.location.pathname);Oe&&Oe.has(N.pathname)?_e={currentLocation:U.location,nextLocation:N}:k.has(N.pathname)&&(_e={currentLocation:N,nextLocation:U.location})}else if(R){let Oe=k.get(U.location.pathname);Oe?Oe.add(N.pathname):(Oe=new Set([N.pathname]),k.set(U.location.pathname,Oe)),_e={currentLocation:U.location,nextLocation:N}}Me({...O,actionData:he,loaderData:ge,historyAction:ce,location:N,initialized:!0,navigation:wh,revalidation:"idle",restoreScrollPosition:xn(N,O.matches||U.matches),preventScrollReset:fe,blockers:Re},{viewTransitionOpts:_e,flushSync:W===!0}),ce="POP",P=!1,R=!1,F=!1,A=!1,De==null||De.resolve(),De=null}async function Un(N,O){if(typeof N=="number"){i.history.go(N);return}let W=Kh(U.location,U.matches,d,N,O==null?void 0:O.fromRouteId,O==null?void 0:O.relative),{path:X,submission:he,error:ge}=sg(!1,W,O),Re=U.location,fe=Da(U.location,X,O&&O.state);fe={...fe,...i.history.encodeLocation(fe)};let _e=O&&O.replace!=null?O.replace:void 0,ae="PUSH";_e===!0?ae="REPLACE":_e===!1||he!=null&&pr(he.formMethod)&&he.formAction===U.location.pathname+U.location.search&&(ae="REPLACE");let ke=O&&"preventScrollReset"in O?O.preventScrollReset===!0:void 0,Oe=(O&&O.flushSync)===!0,nt=hi({currentLocation:Re,nextLocation:fe,historyAction:ae});if(nt){Er(nt,{state:"blocked",location:fe,proceed(){Er(nt,{state:"proceeding",proceed:void 0,reset:void 0,location:fe}),Un(N,O)},reset(){let Tt=new Map(U.blockers);Tt.set(nt,ca),Me({blockers:Tt})}});return}await en(ae,fe,{submission:he,pendingError:ge,preventScrollReset:ke,replace:O&&O.replace,enableViewTransition:O&&O.viewTransition,flushSync:Oe})}function si(){De||(De=XS()),yr(),Me({revalidation:"loading"});let N=De.promise;return U.navigation.state==="submitting"?N:U.navigation.state==="idle"?(en(U.historyAction,U.location,{startUninterruptedRevalidation:!0}),N):(en(ce||U.historyAction,U.navigation.location,{overrideNavigation:U.navigation,enableViewTransition:R===!0}),N)}async function en(N,O,W){T&&T.abort(),T=null,ce=N,F=(W&&W.startUninterruptedRevalidation)===!0,vn(U.location,U.matches),P=(W&&W.preventScrollReset)===!0,R=(W&&W.enableViewTransition)===!0;let X=h||u,he=W&&W.overrideNavigation,ge=Oi(X,O,d),Re=(W&&W.flushSync)===!0,fe=Jn(ge,X,O.pathname);if(fe.active&&fe.matches&&(ge=fe.matches),!ge){let{error:Ue,notFoundMatches:Je,route:rt}=Xn(O.pathname);ct(O,{matches:Je,loaderData:{},errors:{[rt.id]:Ue}},{flushSync:Re});return}if(U.initialized&&!A&&HS(U.location,O)&&!(W&&W.submission&&pr(W.submission.formMethod))){ct(O,{matches:ge},{flushSync:Re});return}T=new AbortController;let _e=uo(i.history,O,T.signal,W&&W.submission),ae;if(W&&W.pendingError)ae=[vs(ge).route.id,{type:"error",error:W.pendingError}];else if(W&&W.submission&&pr(W.submission.formMethod)){let Ue=await Fr(_e,O,W.submission,ge,fe.active,{replace:W.replace,flushSync:Re});if(Ue.shortCircuited)return;if(Ue.pendingActionResult){let[Je,rt]=Ue.pendingActionResult;if(Fn(rt)&&Vu(rt.error)&&rt.error.status===404){T=null,ct(O,{matches:Ue.matches,loaderData:{},errors:{[Je]:rt.error}});return}}ge=Ue.matches||ge,ae=Ue.pendingActionResult,he=Th(O,W.submission),Re=!1,fe.active=!1,_e=uo(i.history,_e.url,_e.signal)}let{shortCircuited:ke,matches:Oe,loaderData:nt,errors:Tt}=await oi(_e,O,ge,fe.active,he,W&&W.submission,W&&W.fetcherSubmission,W&&W.replace,W&&W.initialHydration===!0,Re,ae);ke||(T=null,ct(O,{matches:Oe||ge,...pg(ae),loaderData:nt,errors:Tt}))}async function Fr(N,O,W,X,he,ge={}){yr();let Re=KS(O,W);if(Me({navigation:Re},{flushSync:ge.flushSync===!0}),he){let ae=await fn(X,O.pathname,N.signal);if(ae.type==="aborted")return{shortCircuited:!0};if(ae.type==="error"){let ke=vs(ae.partialMatches).route.id;return{matches:ae.partialMatches,pendingActionResult:[ke,{type:"error",error:ae.error}]}}else if(ae.matches)X=ae.matches;else{let{notFoundMatches:ke,error:Oe,route:nt}=Xn(O.pathname);return{matches:ke,pendingActionResult:[nt.id,{type:"error",error:Oe}]}}}let fe,_e=ya(X,O);if(!_e.route.action&&!_e.route.lazy)fe={type:"error",error:Qn(405,{method:N.method,pathname:O.pathname,routeId:_e.route.id})};else if(fe=(await Yn("action",U,N,[_e],X,null))[_e.route.id],N.signal.aborted)return{shortCircuited:!0};if(Es(fe)){let ae;return ge&&ge.replace!=null?ae=ge.replace:ae=cg(fe.response.headers.get("Location"),new URL(N.url),d)===U.location.pathname+U.location.search,await Ht(N,fe,!0,{submission:W,replace:ae}),{shortCircuited:!0}}if(Fn(fe)){let ae=vs(X,_e.route.id);return(ge&&ge.replace)!==!0&&(ce="PUSH"),{matches:X,pendingActionResult:[ae.route.id,fe]}}return{matches:X,pendingActionResult:[_e.route.id,fe]}}async function oi(N,O,W,X,he,ge,Re,fe,_e,ae,ke){let Oe=he||Th(O,ge),nt=ge||Re||yg(Oe),Tt=!F&&!_e;if(X){if(Tt){let ht=ai(ke);Me({navigation:Oe,...ht!==void 0?{actionData:ht}:{}},{flushSync:ae})}let He=await fn(W,O.pathname,N.signal);if(He.type==="aborted")return{shortCircuited:!0};if(He.type==="error"){let ht=vs(He.partialMatches).route.id;return{matches:He.partialMatches,loaderData:{},errors:{[ht]:He.error}}}else if(He.matches)W=He.matches;else{let{error:ht,notFoundMatches:Kt,route:nr}=Xn(O.pathname);return{matches:Kt,loaderData:{},errors:{[nr.id]:ht}}}}let Ue=h||u,[Je,rt]=ag(i.history,U,W,nt,O,_e===!0,A,lt,Y,ue,Te,Ue,d,ke);if($e=++It,Je.length===0&&rt.length===0){let He=_r();return ct(O,{matches:W,loaderData:{},errors:ke&&Fn(ke[1])?{[ke[0]]:ke[1].error}:null,...pg(ke),...He?{fetchers:new Map(U.fetchers)}:{}},{flushSync:ae}),{shortCircuited:!0}}if(Tt){let He={};if(!X){He.navigation=Oe;let ht=ai(ke);ht!==void 0&&(He.actionData=ht)}rt.length>0&&(He.fetchers=Gi(rt)),Me(He,{flushSync:ae})}rt.forEach(He=>{qt(He.key),He.controller&&je.set(He.key,He.controller)});let Zn=()=>rt.forEach(He=>qt(He.key));T&&T.signal.addEventListener("abort",Zn);let{loaderResults:er,fetcherResults:tn}=await br(U,W,Je,rt,N);if(N.signal.aborted)return{shortCircuited:!0};T&&T.signal.removeEventListener("abort",Zn),rt.forEach(He=>je.delete(He.key));let Wt=Jl(er);if(Wt)return await Ht(N,Wt.result,!0,{replace:fe}),{shortCircuited:!0};if(Wt=Jl(tn),Wt)return Te.add(Wt.key),await Ht(N,Wt.result,!0,{replace:fe}),{shortCircuited:!0};let{loaderData:Br,errors:wr}=fg(U,W,er,ke,rt,tn);_e&&U.errors&&(wr={...U.errors,...wr});let tr=_r(),it=ui($e),jr=tr||it||rt.length>0;return{matches:W,loaderData:Br,errors:wr,...jr?{fetchers:new Map(U.fetchers)}:{}}}function ai(N){if(N&&!Fn(N[1]))return{[N[0]]:N[1].data};if(U.actionData)return Object.keys(U.actionData).length===0?null:U.actionData}function Gi(N){return N.forEach(O=>{let W=U.fetchers.get(O.key),X=ha(void 0,W?W.data:void 0);U.fetchers.set(O.key,X)}),new Map(U.fetchers)}async function Ps(N,O,W,X){qt(N);let he=(X&&X.flushSync)===!0,ge=h||u,Re=Kh(U.location,U.matches,d,W,O,X==null?void 0:X.relative),fe=Oi(ge,Re,d),_e=Jn(fe,ge,Re);if(_e.active&&_e.matches&&(fe=_e.matches),!fe){st(N,O,Qn(404,{pathname:Re}),{flushSync:he});return}let{path:ae,submission:ke,error:Oe}=sg(!0,Re,X);if(Oe){st(N,O,Oe,{flushSync:he});return}let nt=ya(fe,ae),Tt=(X&&X.preventScrollReset)===!0;if(ke&&pr(ke.formMethod)){await li(N,O,ae,nt,fe,_e.active,he,Tt,ke);return}ue.set(N,{routeId:O,path:ae}),await Gn(N,O,ae,nt,fe,_e.active,he,Tt,ke)}async function li(N,O,W,X,he,ge,Re,fe,_e){yr(),ue.delete(N);function ae(ft){if(!ft.route.action&&!ft.route.lazy){let _n=Qn(405,{method:_e.formMethod,pathname:W,routeId:O});return st(N,O,_n,{flushSync:Re}),!0}return!1}if(!ge&&ae(X))return;let ke=U.fetchers.get(N);yn(N,QS(_e,ke),{flushSync:Re});let Oe=new AbortController,nt=uo(i.history,W,Oe.signal,_e);if(ge){let ft=await fn(he,W,nt.signal);if(ft.type==="aborted")return;if(ft.type==="error"){st(N,O,ft.error,{flushSync:Re});return}else if(ft.matches){if(he=ft.matches,X=ya(he,W),ae(X))return}else{st(N,O,Qn(404,{pathname:W}),{flushSync:Re});return}}je.set(N,Oe);let Tt=It,Je=(await Yn("action",U,nt,[X],he,N))[X.route.id];if(nt.signal.aborted){je.get(N)===Oe&&je.delete(N);return}if(Y.has(N)){if(Es(Je)||Fn(Je)){yn(N,Mi(void 0));return}}else{if(Es(Je))if(je.delete(N),$e>Tt){yn(N,Mi(void 0));return}else return Te.add(N),yn(N,ha(_e)),Ht(nt,Je,!1,{fetcherSubmission:_e,preventScrollReset:fe});if(Fn(Je)){st(N,O,Je.error);return}}let rt=U.navigation.location||U.location,Zn=uo(i.history,rt,Oe.signal),er=h||u,tn=U.navigation.state!=="idle"?Oi(er,U.navigation.location,d):U.matches;Be(tn,"Didn't find any matches after fetcher action");let Wt=++It;oe.set(N,Wt);let Br=ha(_e,Je.data);U.fetchers.set(N,Br);let[wr,tr]=ag(i.history,U,tn,_e,rt,!1,A,lt,Y,ue,Te,er,d,[X.route.id,Je]);tr.filter(ft=>ft.key!==N).forEach(ft=>{let _n=ft.key,nn=U.fetchers.get(_n),ks=ha(void 0,nn?nn.data:void 0);U.fetchers.set(_n,ks),qt(_n),ft.controller&&je.set(_n,ft.controller)}),Me({fetchers:new Map(U.fetchers)});let it=()=>tr.forEach(ft=>qt(ft.key));Oe.signal.addEventListener("abort",it);let{loaderResults:jr,fetcherResults:He}=await br(U,tn,wr,tr,Zn);if(Oe.signal.aborted)return;Oe.signal.removeEventListener("abort",it),oe.delete(N),je.delete(N),tr.forEach(ft=>je.delete(ft.key));let ht=Jl(jr);if(ht)return Ht(Zn,ht.result,!1,{preventScrollReset:fe});if(ht=Jl(He),ht)return Te.add(ht.key),Ht(Zn,ht.result,!1,{preventScrollReset:fe});let{loaderData:Kt,errors:nr}=fg(U,tn,jr,void 0,tr,He);if(U.fetchers.has(N)){let ft=Mi(Je.data);U.fetchers.set(N,ft)}ui(Wt),U.navigation.state==="loading"&&Wt>$e?(Be(ce,"Expected pending action"),T&&T.abort(),ct(U.navigation.location,{matches:tn,loaderData:Kt,errors:nr,fetchers:new Map(U.fetchers)})):(Me({errors:nr,loaderData:dg(U.loaderData,Kt,tn,nr),fetchers:new Map(U.fetchers)}),A=!1)}async function Gn(N,O,W,X,he,ge,Re,fe,_e){let ae=U.fetchers.get(N);yn(N,ha(_e,ae?ae.data:void 0),{flushSync:Re});let ke=new AbortController,Oe=uo(i.history,W,ke.signal);if(ge){let Je=await fn(he,W,Oe.signal);if(Je.type==="aborted")return;if(Je.type==="error"){st(N,O,Je.error,{flushSync:Re});return}else if(Je.matches)he=Je.matches,X=ya(he,W);else{st(N,O,Qn(404,{pathname:W}),{flushSync:Re});return}}je.set(N,ke);let nt=It,Ue=(await Yn("loader",U,Oe,[X],he,N))[X.route.id];if(je.get(N)===ke&&je.delete(N),!Oe.signal.aborted){if(Y.has(N)){yn(N,Mi(void 0));return}if(Es(Ue))if($e>nt){yn(N,Mi(void 0));return}else{Te.add(N),await Ht(Oe,Ue,!1,{preventScrollReset:fe});return}if(Fn(Ue)){st(N,O,Ue.error);return}yn(N,Mi(Ue.data))}}async function Ht(N,O,W,{submission:X,fetcherSubmission:he,preventScrollReset:ge,replace:Re}={}){O.response.headers.has("X-Remix-Revalidate")&&(A=!0);let fe=O.response.headers.get("Location");Be(fe,"Expected a Location header on the redirect Response"),fe=cg(fe,new URL(N.url),d);let _e=Da(U.location,fe,{_isRedirect:!0});if(n){let Ue=!1;if(O.response.headers.has("X-Remix-Reload-Document"))Ue=!0;else if(Nf.test(fe)){const Je=i.history.createURL(fe);Ue=Je.origin!==e.location.origin||gr(Je.pathname,d)==null}if(Ue){Re?e.location.replace(fe):e.location.assign(fe);return}}T=null;let ae=Re===!0||O.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ke,formAction:Oe,formEncType:nt}=U.navigation;!X&&!he&&ke&&Oe&&nt&&(X=yg(U.navigation));let Tt=X||he;if(xS.has(O.response.status)&&Tt&&pr(Tt.formMethod))await en(ae,_e,{submission:{...Tt,formAction:fe},preventScrollReset:ge||P,enableViewTransition:W?R:void 0});else{let Ue=Th(_e,X);await en(ae,_e,{overrideNavigation:Ue,fetcherSubmission:he,preventScrollReset:ge||P,enableViewTransition:W?R:void 0})}}async function Yn(N,O,W,X,he,ge){let Re,fe={};try{Re=await US(g,N,O,W,X,he,ge,a,s)}catch(_e){return X.forEach(ae=>{fe[ae.route.id]={type:"error",error:_e}}),fe}for(let[_e,ae]of Object.entries(Re))if(qS(ae)){let ke=ae.result;fe[_e]={type:"redirect",response:jS(ke,W,_e,he,d)}}else fe[_e]=await BS(ae);return fe}async function br(N,O,W,X,he){let ge=Yn("loader",N,he,W,O,null),Re=Promise.all(X.map(async ae=>{if(ae.matches&&ae.match&&ae.controller){let Oe=(await Yn("loader",N,uo(i.history,ae.path,ae.controller.signal),[ae.match],ae.matches,ae.key))[ae.match.route.id];return{[ae.key]:Oe}}else return Promise.resolve({[ae.key]:{type:"error",error:Qn(404,{pathname:ae.path})}})})),fe=await ge,_e=(await Re).reduce((ae,ke)=>Object.assign(ae,ke),{});return{loaderResults:fe,fetcherResults:_e}}function yr(){A=!0,ue.forEach((N,O)=>{je.has(O)&&lt.add(O),qt(O)})}function yn(N,O,W={}){U.fetchers.set(N,O),Me({fetchers:new Map(U.fetchers)},{flushSync:(W&&W.flushSync)===!0})}function st(N,O,W,X={}){let he=vs(U.matches,O);kn(N),Me({errors:{[he.route.id]:W},fetchers:new Map(U.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function wt(N){return M.set(N,(M.get(N)||0)+1),Y.has(N)&&Y.delete(N),U.fetchers.get(N)||DS}function kn(N){let O=U.fetchers.get(N);je.has(N)&&!(O&&O.state==="loading"&&oe.has(N))&&qt(N),ue.delete(N),oe.delete(N),Te.delete(N),Y.delete(N),lt.delete(N),U.fetchers.delete(N)}function Yi(N){let O=(M.get(N)||0)-1;O<=0?(M.delete(N),Y.add(N)):M.set(N,O),Me({fetchers:new Map(U.fetchers)})}function qt(N){let O=je.get(N);O&&(O.abort(),je.delete(N))}function vr(N){for(let O of N){let W=wt(O),X=Mi(W.data);U.fetchers.set(O,X)}}function _r(){let N=[],O=!1;for(let W of Te){let X=U.fetchers.get(W);Be(X,`Expected fetcher: ${W}`),X.state==="loading"&&(Te.delete(W),N.push(W),O=!0)}return vr(N),O}function ui(N){let O=[];for(let[W,X]of oe)if(X<N){let he=U.fetchers.get(W);Be(he,`Expected fetcher: ${W}`),he.state==="loading"&&(qt(W),oe.delete(W),O.push(W))}return vr(O),O.length>0}function Xi(N,O){let W=U.blockers.get(N)||ca;return Ee.get(N)!==O&&Ee.set(N,O),W}function ci(N){U.blockers.delete(N),Ee.delete(N)}function Er(N,O){let W=U.blockers.get(N)||ca;Be(W.state==="unblocked"&&O.state==="blocked"||W.state==="blocked"&&O.state==="blocked"||W.state==="blocked"&&O.state==="proceeding"||W.state==="blocked"&&O.state==="unblocked"||W.state==="proceeding"&&O.state==="unblocked",`Invalid blocker state transition: ${W.state} -> ${O.state}`);let X=new Map(U.blockers);X.set(N,O),Me({blockers:X})}function hi({currentLocation:N,nextLocation:O,historyAction:W}){if(Ee.size===0)return;Ee.size>1&&$t(!1,"A router only supports one blocker at a time");let X=Array.from(Ee.entries()),[he,ge]=X[X.length-1],Re=U.blockers.get(he);if(!(Re&&Re.state==="proceeding")&&ge({currentLocation:N,nextLocation:O,historyAction:W}))return he}function Xn(N){let O=Qn(404,{pathname:N}),W=h||u,{matches:X,route:he}=mg(W);return{notFoundMatches:X,route:he,error:O}}function fi(N,O,W){if(x=N,q=O,b=W||null,!$&&U.navigation===wh){$=!0;let X=xn(U.location,U.matches);X!=null&&Me({restoreScrollPosition:X})}return()=>{x=null,q=null,b=null}}function Ur(N,O){return b&&b(N,O.map(X=>lS(X,U.loaderData)))||N.key}function vn(N,O){if(x&&q){let W=Ur(N,O);x[W]=q()}}function xn(N,O){if(x){let W=Ur(N,O),X=x[W];if(typeof X=="number")return X}return null}function Jn(N,O,W){if(v)if(N){if(Object.keys(N[0].params).length>0)return{active:!0,matches:su(O,W,d,!0)}}else return{active:!0,matches:su(O,W,d,!0)||[]};return{active:!1,matches:null}}async function fn(N,O,W){if(!v)return{type:"success",matches:N};let X=N;for(;;){let he=h==null,ge=h||u,Re=a;try{await v({path:O,matches:X,patch:(ae,ke)=>{W.aborted||ug(ae,ke,ge,Re,s)}})}catch(ae){return{type:"error",error:ae,partialMatches:X}}finally{he&&!W.aborted&&(u=[...u])}if(W.aborted)return{type:"aborted"};let fe=Oi(ge,O,d);if(fe)return{type:"success",matches:fe};let _e=su(ge,O,d,!0);if(!_e||X.length===_e.length&&X.every((ae,ke)=>ae.route.id===_e[ke].route.id))return{type:"success",matches:null};X=_e}}function Ji(N){a={},h=yu(N,s,void 0,a)}function zr(N,O){let W=h==null;ug(N,O,h||u,a,s),W&&(u=[...u],Me({}))}return pe={get basename(){return d},get future(){return E},get state(){return U},get routes(){return u},get window(){return e},initialize:be,subscribe:Xe,enableScrollRestoration:fi,navigate:Un,fetch:Ps,revalidate:si,createHref:N=>i.history.createHref(N),encodeLocation:N=>i.history.encodeLocation(N),getFetcher:wt,deleteFetcher:Yi,dispose:Ye,getBlocker:Xi,deleteBlocker:ci,patchRoutes:zr,_internalFetchControllers:je,_internalSetRoutes:Ji},pe}function LS(i){return i!=null&&("formData"in i&&i.formData!=null||"body"in i&&i.body!==void 0)}function Kh(i,e,n,s,a,u){let h,d;if(a){h=[];for(let v of e)if(h.push(v),v.route.id===a){d=v;break}}else h=e,d=e[e.length-1];let g=Df(s||".",xf(h),gr(i.pathname,n)||i.pathname,u==="path");if(s==null&&(g.search=i.search,g.hash=i.hash),(s==null||s===""||s===".")&&d){let v=Vf(g.search);if(d.route.index&&!v)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&v){let E=new URLSearchParams(g.search),I=E.getAll("index");E.delete("index"),I.filter(x=>x).forEach(x=>E.append("index",x));let S=E.toString();g.search=S?`?${S}`:""}}return n!=="/"&&(g.pathname=g.pathname==="/"?n:Vr([n,g.pathname])),Qi(g)}function sg(i,e,n){if(!n||!LS(n))return{path:e};if(n.formMethod&&!WS(n.formMethod))return{path:e,error:Qn(405,{method:n.formMethod})};let s=()=>({path:e,error:Qn(400,{type:"invalid-body"})}),u=(n.formMethod||"get").toUpperCase(),h=sv(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!pr(u))return s();let I=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((S,[x,b])=>`${S}${x}=${b}
`,""):String(n.body);return{path:e,submission:{formMethod:u,formAction:h,formEncType:n.formEncType,formData:void 0,json:void 0,text:I}}}else if(n.formEncType==="application/json"){if(!pr(u))return s();try{let I=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:u,formAction:h,formEncType:n.formEncType,formData:void 0,json:I,text:void 0}}}catch{return s()}}}Be(typeof FormData=="function","FormData is not available in this environment");let d,g;if(n.formData)d=Gh(n.formData),g=n.formData;else if(n.body instanceof FormData)d=Gh(n.body),g=n.body;else if(n.body instanceof URLSearchParams)d=n.body,g=hg(d);else if(n.body==null)d=new URLSearchParams,g=new FormData;else try{d=new URLSearchParams(n.body),g=hg(d)}catch{return s()}let v={formMethod:u,formAction:h,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(pr(v.formMethod))return{path:e,submission:v};let E=ii(e);return i&&E.search&&Vf(E.search)&&d.append("index",""),E.search=`?${d}`,{path:Qi(E),submission:v}}function og(i,e,n=!1){let s=i.findIndex(a=>a.route.id===e);return s>=0?i.slice(0,n?s+1:s):i}function ag(i,e,n,s,a,u,h,d,g,v,E,I,S,x){let b=x?Fn(x[1])?x[1].error:x[1].data:void 0,q=i.createURL(e.location),$=i.createURL(a),K=n;u&&e.errors?K=og(n,Object.keys(e.errors)[0],!0):x&&Fn(x[1])&&(K=og(n,x[0]));let se=x?x[1].statusCode:void 0,re=se&&se>=400,pe=K.filter((ce,P)=>{let{route:T}=ce;if(T.lazy)return!0;if(T.loader==null)return!1;if(u)return Qh(T,e.loaderData,e.errors);if(MS(e.loaderData,e.matches[P],ce))return!0;let R=e.matches[P],k=ce;return lg(ce,{currentUrl:q,currentParams:R.params,nextUrl:$,nextParams:k.params,...s,actionResult:b,actionStatus:se,defaultShouldRevalidate:re?!1:h||q.pathname+q.search===$.pathname+$.search||q.search!==$.search||OS(R,k)})}),U=[];return v.forEach((ce,P)=>{if(u||!n.some(F=>F.route.id===ce.routeId)||g.has(P))return;let T=Oi(I,ce.path,S);if(!T){U.push({key:P,routeId:ce.routeId,path:ce.path,matches:null,match:null,controller:null});return}let R=e.fetchers.get(P),k=ya(T,ce.path),V=!1;E.has(P)?V=!1:d.has(P)?(d.delete(P),V=!0):R&&R.state!=="idle"&&R.data===void 0?V=h:V=lg(k,{currentUrl:q,currentParams:e.matches[e.matches.length-1].params,nextUrl:$,nextParams:n[n.length-1].params,...s,actionResult:b,actionStatus:se,defaultShouldRevalidate:re?!1:h}),V&&U.push({key:P,routeId:ce.routeId,path:ce.path,matches:T,match:k,controller:new AbortController})}),[pe,U]}function Qh(i,e,n){if(i.lazy)return!0;if(!i.loader)return!1;let s=e!=null&&e[i.id]!==void 0,a=n!=null&&n[i.id]!==void 0;return!s&&a?!1:typeof i.loader=="function"&&i.loader.hydrate===!0?!0:!s&&!a}function MS(i,e,n){let s=!e||n.route.id!==e.route.id,a=!i.hasOwnProperty(n.route.id);return s||a}function OS(i,e){let n=i.route.path;return i.pathname!==e.pathname||n!=null&&n.endsWith("*")&&i.params["*"]!==e.params["*"]}function lg(i,e){if(i.route.shouldRevalidate){let n=i.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function ug(i,e,n,s,a){let u;if(i){let g=s[i];Be(g,`No route found to patch children into: routeId = ${i}`),g.children||(g.children=[]),u=g.children}else u=n;let h=e.filter(g=>!u.some(v=>iv(g,v))),d=yu(h,a,[i||"_","patch",String((u==null?void 0:u.length)||"0")],s);u.push(...d)}function iv(i,e){return"id"in i&&"id"in e&&i.id===e.id?!0:i.index===e.index&&i.path===e.path&&i.caseSensitive===e.caseSensitive?(!i.children||i.children.length===0)&&(!e.children||e.children.length===0)?!0:i.children.every((n,s)=>{var a;return(a=e.children)==null?void 0:a.some(u=>iv(n,u))}):!1}async function FS(i,e,n){if(!i.lazy)return;let s=await i.lazy();if(!i.lazy)return;let a=n[i.id];Be(a,"No route found in manifest");let u={};for(let h in s){let g=a[h]!==void 0&&h!=="hasErrorBoundary";$t(!g,`Route "${a.id}" has a static property "${h}" defined but its lazy function is also returning a value for this property. The lazy route property "${h}" will be ignored.`),!g&&!oS.has(h)&&(u[h]=s[h])}Object.assign(a,u),Object.assign(a,{...e(a),lazy:void 0})}async function bS({matches:i}){let e=i.filter(s=>s.shouldLoad);return(await Promise.all(e.map(s=>s.resolve()))).reduce((s,a,u)=>Object.assign(s,{[e[u].route.id]:a}),{})}async function US(i,e,n,s,a,u,h,d,g,v){let E=u.map(x=>x.route.lazy?FS(x.route,g,d):void 0),I=u.map((x,b)=>{let q=E[b],$=a.some(se=>se.route.id===x.route.id);return{...x,shouldLoad:$,resolve:async se=>(se&&s.method==="GET"&&(x.route.lazy||x.route.loader)&&($=!0),$?zS(e,s,x,q,se,v):Promise.resolve({type:"data",result:void 0}))}}),S=await i({matches:I,request:s,params:u[0].params,fetcherKey:h,context:v});try{await Promise.all(E)}catch{}return S}async function zS(i,e,n,s,a,u){let h,d,g=v=>{let E,I=new Promise((b,q)=>E=q);d=()=>E(),e.signal.addEventListener("abort",d);let S=b=>typeof v!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${i}" [routeId: ${n.route.id}]`)):v({request:e,params:n.params,context:u},...b!==void 0?[b]:[]),x=(async()=>{try{return{type:"data",result:await(a?a(q=>S(q)):S())}}catch(b){return{type:"error",result:b}}})();return Promise.race([x,I])};try{let v=n.route[i];if(s)if(v){let E,[I]=await Promise.all([g(v).catch(S=>{E=S}),s]);if(E!==void 0)throw E;h=I}else if(await s,v=n.route[i],v)h=await g(v);else if(i==="action"){let E=new URL(e.url),I=E.pathname+E.search;throw Qn(405,{method:e.method,pathname:I,routeId:n.route.id})}else return{type:"data",result:void 0};else if(v)h=await g(v);else{let E=new URL(e.url),I=E.pathname+E.search;throw Qn(404,{pathname:I})}}catch(v){return{type:"error",result:v}}finally{d&&e.signal.removeEventListener("abort",d)}return h}async function BS(i){var s,a,u,h;let{result:e,type:n}=i;if(ov(e)){let d;try{let g=e.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?e.body==null?d=null:d=await e.json():d=await e.text()}catch(g){return{type:"error",error:g}}return n==="error"?{type:"error",error:new _u(e.status,e.statusText,d),statusCode:e.status,headers:e.headers}:{type:"data",data:d,statusCode:e.status,headers:e.headers}}if(n==="error"){if(gg(e)){if(e.data instanceof Error)return{type:"error",error:e.data,statusCode:(s=e.init)==null?void 0:s.status};e=new _u(((a=e.init)==null?void 0:a.status)||500,void 0,e.data)}return{type:"error",error:e,statusCode:Vu(e)?e.status:void 0}}return gg(e)?{type:"data",data:e.data,statusCode:(u=e.init)==null?void 0:u.status,headers:(h=e.init)!=null&&h.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function jS(i,e,n,s,a){let u=i.headers.get("Location");if(Be(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!Nf.test(u)){let h=s.slice(0,s.findIndex(d=>d.route.id===n)+1);u=Kh(new URL(e.url),h,a,u),i.headers.set("Location",u)}return i}function cg(i,e,n){if(Nf.test(i)){let s=i,a=s.startsWith("//")?new URL(e.protocol+s):new URL(s),u=gr(a.pathname,n)!=null;if(a.origin===e.origin&&u)return a.pathname+a.search+a.hash}return i}function uo(i,e,n,s){let a=i.createURL(sv(e)).toString(),u={signal:n};if(s&&pr(s.formMethod)){let{formMethod:h,formEncType:d}=s;u.method=h.toUpperCase(),d==="application/json"?(u.headers=new Headers({"Content-Type":d}),u.body=JSON.stringify(s.json)):d==="text/plain"?u.body=s.text:d==="application/x-www-form-urlencoded"&&s.formData?u.body=Gh(s.formData):u.body=s.formData}return new Request(a,u)}function Gh(i){let e=new URLSearchParams;for(let[n,s]of i.entries())e.append(n,typeof s=="string"?s:s.name);return e}function hg(i){let e=new FormData;for(let[n,s]of i.entries())e.append(n,s);return e}function $S(i,e,n,s=!1,a=!1){let u={},h=null,d,g=!1,v={},E=n&&Fn(n[1])?n[1].error:void 0;return i.forEach(I=>{if(!(I.route.id in e))return;let S=I.route.id,x=e[S];if(Be(!Es(x),"Cannot handle redirect results in processLoaderData"),Fn(x)){let b=x.error;if(E!==void 0&&(b=E,E=void 0),h=h||{},a)h[S]=b;else{let q=vs(i,S);h[q.route.id]==null&&(h[q.route.id]=b)}s||(u[S]=rv),g||(g=!0,d=Vu(x.error)?x.error.status:500),x.headers&&(v[S]=x.headers)}else u[S]=x.data,x.statusCode&&x.statusCode!==200&&!g&&(d=x.statusCode),x.headers&&(v[S]=x.headers)}),E!==void 0&&n&&(h={[n[0]]:E},u[n[0]]=void 0),{loaderData:u,errors:h,statusCode:d||200,loaderHeaders:v}}function fg(i,e,n,s,a,u){let{loaderData:h,errors:d}=$S(e,n,s);return a.forEach(g=>{let{key:v,match:E,controller:I}=g,S=u[v];if(Be(S,"Did not find corresponding fetcher result"),!(I&&I.signal.aborted))if(Fn(S)){let x=vs(i.matches,E==null?void 0:E.route.id);d&&d[x.route.id]||(d={...d,[x.route.id]:S.error}),i.fetchers.delete(v)}else if(Es(S))Be(!1,"Unhandled fetcher revalidation redirect");else{let x=Mi(S.data);i.fetchers.set(v,x)}}),{loaderData:h,errors:d}}function dg(i,e,n,s){let a=Object.entries(e).filter(([,u])=>u!==rv).reduce((u,[h,d])=>(u[h]=d,u),{});for(let u of n){let h=u.route.id;if(!e.hasOwnProperty(h)&&i.hasOwnProperty(h)&&u.route.loader&&(a[h]=i[h]),s&&s.hasOwnProperty(h))break}return a}function pg(i){return i?Fn(i[1])?{actionData:{}}:{actionData:{[i[0]]:i[1].data}}:{}}function vs(i,e){return(e?i.slice(0,i.findIndex(s=>s.route.id===e)+1):[...i]).reverse().find(s=>s.route.hasErrorBoundary===!0)||i[0]}function mg(i){let e=i.length===1?i[0]:i.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Qn(i,{pathname:e,routeId:n,method:s,type:a,message:u}={}){let h="Unknown Server Error",d="Unknown @remix-run/router error";return i===400?(h="Bad Request",s&&e&&n?d=`You made a ${s} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:a==="invalid-body"&&(d="Unable to encode submission body")):i===403?(h="Forbidden",d=`Route "${n}" does not match URL "${e}"`):i===404?(h="Not Found",d=`No route matches URL "${e}"`):i===405&&(h="Method Not Allowed",s&&e&&n?d=`You made a ${s.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:s&&(d=`Invalid request method "${s.toUpperCase()}"`)),new _u(i||500,h,new Error(d),!0)}function Jl(i){let e=Object.entries(i);for(let n=e.length-1;n>=0;n--){let[s,a]=e[n];if(Es(a))return{key:s,result:a}}}function sv(i){let e=typeof i=="string"?ii(i):i;return Qi({...e,hash:""})}function HS(i,e){return i.pathname!==e.pathname||i.search!==e.search?!1:i.hash===""?e.hash!=="":i.hash===e.hash?!0:e.hash!==""}function qS(i){return ov(i.result)&&kS.has(i.result.status)}function Fn(i){return i.type==="error"}function Es(i){return(i&&i.type)==="redirect"}function gg(i){return typeof i=="object"&&i!=null&&"type"in i&&"data"in i&&"init"in i&&i.type==="DataWithResponseInit"}function ov(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.headers=="object"&&typeof i.body<"u"}function WS(i){return PS.has(i.toUpperCase())}function pr(i){return CS.has(i.toUpperCase())}function Vf(i){return new URLSearchParams(i).getAll("index").some(e=>e==="")}function ya(i,e){let n=typeof e=="string"?ii(e).search:e.search;if(i[i.length-1].route.index&&Vf(n||""))return i[i.length-1];let s=ev(i);return s[s.length-1]}function yg(i){let{formMethod:e,formAction:n,formEncType:s,text:a,formData:u,json:h}=i;if(!(!e||!n||!s)){if(a!=null)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:void 0,text:a};if(u!=null)return{formMethod:e,formAction:n,formEncType:s,formData:u,json:void 0,text:void 0};if(h!==void 0)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:h,text:void 0}}}function Th(i,e){return e?{state:"loading",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:i,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function KS(i,e){return{state:"submitting",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ha(i,e){return i?{state:"loading",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function QS(i,e){return{state:"submitting",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e?e.data:void 0}}function Mi(i){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:i}}function GS(i,e){try{let n=i.sessionStorage.getItem(nv);if(n){let s=JSON.parse(n);for(let[a,u]of Object.entries(s||{}))u&&Array.isArray(u)&&e.set(a,new Set(u||[]))}}catch{}}function YS(i,e){if(e.size>0){let n={};for(let[s,a]of e)n[s]=[...a];try{i.sessionStorage.setItem(nv,JSON.stringify(n))}catch(s){$t(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function XS(){let i,e,n=new Promise((s,a)=>{i=async u=>{s(u);try{await n}catch{}},e=async u=>{a(u);try{await n}catch{}}});return{promise:n,resolve:i,reject:e}}var Cs=G.createContext(null);Cs.displayName="DataRouter";var Ma=G.createContext(null);Ma.displayName="DataRouterState";var Lf=G.createContext({isTransitioning:!1});Lf.displayName="ViewTransition";var av=G.createContext(new Map);av.displayName="Fetchers";var JS=G.createContext(null);JS.displayName="Await";var Mr=G.createContext(null);Mr.displayName="Navigation";var Lu=G.createContext(null);Lu.displayName="Location";var Or=G.createContext({outlet:null,matches:[],isDataRoute:!1});Or.displayName="Route";var Mf=G.createContext(null);Mf.displayName="RouteError";function ZS(i,{relative:e}={}){Be(Oa(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=G.useContext(Mr),{hash:a,pathname:u,search:h}=Fa(i,{relative:e}),d=u;return n!=="/"&&(d=u==="/"?n:Vr([n,u])),s.createHref({pathname:d,search:h,hash:a})}function Oa(){return G.useContext(Lu)!=null}function As(){return Be(Oa(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(Lu).location}var lv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uv(i){G.useContext(Mr).static||G.useLayoutEffect(i)}function eI(){let{isDataRoute:i}=G.useContext(Or);return i?pI():tI()}function tI(){Be(Oa(),"useNavigate() may be used only in the context of a <Router> component.");let i=G.useContext(Cs),{basename:e,navigator:n}=G.useContext(Mr),{matches:s}=G.useContext(Or),{pathname:a}=As(),u=JSON.stringify(xf(s)),h=G.useRef(!1);return uv(()=>{h.current=!0}),G.useCallback((g,v={})=>{if($t(h.current,lv),!h.current)return;if(typeof g=="number"){n.go(g);return}let E=Df(g,JSON.parse(u),a,v.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Vr([e,E.pathname])),(v.replace?n.replace:n.push)(E,v.state,v)},[e,n,u,a,i])}G.createContext(null);function nI(){let{matches:i}=G.useContext(Or),e=i[i.length-1];return e?e.params:{}}function Fa(i,{relative:e}={}){let{matches:n}=G.useContext(Or),{pathname:s}=As(),a=JSON.stringify(xf(n));return G.useMemo(()=>Df(i,JSON.parse(a),s,e==="path"),[i,a,s,e])}function rI(i,e,n,s){Be(Oa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=G.useContext(Mr),{matches:u}=G.useContext(Or),h=u[u.length-1],d=h?h.params:{},g=h?h.pathname:"/",v=h?h.pathnameBase:"/",E=h&&h.route;{let K=E&&E.path||"";cv(g,!E||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let I=As(),S;S=I;let x=S.pathname||"/",b=x;if(v!=="/"){let K=v.replace(/^\//,"").split("/");b="/"+x.replace(/^\//,"").split("/").slice(K.length).join("/")}let q=Oi(i,{pathname:b});return $t(E||q!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),$t(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),lI(q&&q.map(K=>Object.assign({},K,{params:Object.assign({},d,K.params),pathname:Vr([v,a.encodeLocation?a.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?v:Vr([v,a.encodeLocation?a.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),u,n,s)}function iI(){let i=dI(),e=Vu(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),n?G.createElement("pre",{style:a},n):null,h)}var sI=G.createElement(iI,null),oI=class extends G.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?G.createElement(Or.Provider,{value:this.props.routeContext},G.createElement(Mf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aI({routeContext:i,match:e,children:n}){let s=G.useContext(Cs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(Or.Provider,{value:i},n)}function lI(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let a=i,u=n==null?void 0:n.errors;if(u!=null){let g=a.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);Be(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let h=!1,d=-1;if(n)for(let g=0;g<a.length;g++){let v=a[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=g),v.route.id){let{loaderData:E,errors:I}=n,S=v.route.loader&&!E.hasOwnProperty(v.route.id)&&(!I||I[v.route.id]===void 0);if(v.route.lazy||S){h=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((g,v,E)=>{let I,S=!1,x=null,b=null;n&&(I=u&&v.route.id?u[v.route.id]:void 0,x=v.route.errorElement||sI,h&&(d<0&&E===0?(cv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,b=null):d===E&&(S=!0,b=v.route.hydrateFallbackElement||null)));let q=e.concat(a.slice(0,E+1)),$=()=>{let K;return I?K=x:S?K=b:v.route.Component?K=G.createElement(v.route.Component,null):v.route.element?K=v.route.element:K=g,G.createElement(aI,{match:v,routeContext:{outlet:g,matches:q,isDataRoute:n!=null},children:K})};return n&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?G.createElement(oI,{location:n.location,revalidation:n.revalidation,component:x,error:I,children:$(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):$()},null)}function Of(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uI(i){let e=G.useContext(Cs);return Be(e,Of(i)),e}function cI(i){let e=G.useContext(Ma);return Be(e,Of(i)),e}function hI(i){let e=G.useContext(Or);return Be(e,Of(i)),e}function Ff(i){let e=hI(i),n=e.matches[e.matches.length-1];return Be(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function fI(){return Ff("useRouteId")}function dI(){var s;let i=G.useContext(Mf),e=cI("useRouteError"),n=Ff("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function pI(){let{router:i}=uI("useNavigate"),e=Ff("useNavigate"),n=G.useRef(!1);return uv(()=>{n.current=!0}),G.useCallback(async(a,u={})=>{$t(n.current,lv),n.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:e,...u}))},[i,e])}var vg={};function cv(i,e,n){!e&&!vg[i]&&(vg[i]=!0,$t(!1,n))}var _g={};function Eg(i,e){!i&&!_g[e]&&(_g[e]=!0,console.warn(e))}function mI(i){let e={hasErrorBoundary:i.hasErrorBoundary||i.ErrorBoundary!=null||i.errorElement!=null};return i.Component&&(i.element&&$t(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:G.createElement(i.Component),Component:void 0})),i.HydrateFallback&&(i.hydrateFallbackElement&&$t(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:G.createElement(i.HydrateFallback),HydrateFallback:void 0})),i.ErrorBoundary&&(i.errorElement&&$t(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:G.createElement(i.ErrorBoundary),ErrorBoundary:void 0})),e}var gI=class{constructor(){this.status="pending",this.promise=new Promise((i,e)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",i(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",e(n))}})}};function yI({router:i,flushSync:e}){let[n,s]=G.useState(i.state),[a,u]=G.useState(),[h,d]=G.useState({isTransitioning:!1}),[g,v]=G.useState(),[E,I]=G.useState(),[S,x]=G.useState(),b=G.useRef(new Map),q=G.useCallback((re,{deletedFetchers:pe,flushSync:U,viewTransitionOpts:ce})=>{pe.forEach(T=>b.current.delete(T)),re.fetchers.forEach((T,R)=>{T.data!==void 0&&b.current.set(R,T.data)}),Eg(U===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let P=i.window!=null&&i.window.document!=null&&typeof i.window.document.startViewTransition=="function";if(Eg(ce==null||P,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!ce||!P){e&&U?e(()=>s(re)):G.startTransition(()=>s(re));return}if(e&&U){e(()=>{E&&(g&&g.resolve(),E.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation})});let T=i.window.document.startViewTransition(()=>{e(()=>s(re))});T.finished.finally(()=>{e(()=>{v(void 0),I(void 0),u(void 0),d({isTransitioning:!1})})}),e(()=>I(T));return}E?(g&&g.resolve(),E.skipTransition(),x({state:re,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation})):(u(re),d({isTransitioning:!0,flushSync:!1,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation}))},[i.window,e,E,g]);G.useLayoutEffect(()=>i.subscribe(q),[i,q]),G.useEffect(()=>{h.isTransitioning&&!h.flushSync&&v(new gI)},[h]),G.useEffect(()=>{if(g&&a&&i.window){let re=a,pe=g.promise,U=i.window.document.startViewTransition(async()=>{G.startTransition(()=>s(re)),await pe});U.finished.finally(()=>{v(void 0),I(void 0),u(void 0),d({isTransitioning:!1})}),I(U)}},[a,g,i.window]),G.useEffect(()=>{g&&a&&n.location.key===a.location.key&&g.resolve()},[g,E,n.location,a]),G.useEffect(()=>{!h.isTransitioning&&S&&(u(S.state),d({isTransitioning:!0,flushSync:!1,currentLocation:S.currentLocation,nextLocation:S.nextLocation}),x(void 0))},[h.isTransitioning,S]);let $=G.useMemo(()=>({createHref:i.createHref,encodeLocation:i.encodeLocation,go:re=>i.navigate(re),push:(re,pe,U)=>i.navigate(re,{state:pe,preventScrollReset:U==null?void 0:U.preventScrollReset}),replace:(re,pe,U)=>i.navigate(re,{replace:!0,state:pe,preventScrollReset:U==null?void 0:U.preventScrollReset})}),[i]),K=i.basename||"/",se=G.useMemo(()=>({router:i,navigator:$,static:!1,basename:K}),[i,$,K]);return G.createElement(G.Fragment,null,G.createElement(Cs.Provider,{value:se},G.createElement(Ma.Provider,{value:n},G.createElement(av.Provider,{value:b.current},G.createElement(Lf.Provider,{value:h},G.createElement(EI,{basename:K,location:n.location,navigationType:n.historyAction,navigator:$},G.createElement(vI,{routes:i.routes,future:i.future,state:n})))))),null)}var vI=G.memo(_I);function _I({routes:i,future:e,state:n}){return rI(i,void 0,n,e)}function EI({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:u=!1}){Be(!Oa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),d=G.useMemo(()=>({basename:h,navigator:a,static:u,future:{}}),[h,a,u]);typeof n=="string"&&(n=ii(n));let{pathname:g="/",search:v="",hash:E="",state:I=null,key:S="default"}=n,x=G.useMemo(()=>{let b=gr(g,h);return b==null?null:{location:{pathname:b,search:v,hash:E,state:I,key:S},navigationType:s}},[h,g,v,E,I,S,s]);return $t(x!=null,`<Router basename="${h}"> is not able to match the URL "${g}${v}${E}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:G.createElement(Mr.Provider,{value:d},G.createElement(Lu.Provider,{children:e,value:x}))}var ou="get",au="application/x-www-form-urlencoded";function Mu(i){return i!=null&&typeof i.tagName=="string"}function wI(i){return Mu(i)&&i.tagName.toLowerCase()==="button"}function TI(i){return Mu(i)&&i.tagName.toLowerCase()==="form"}function SI(i){return Mu(i)&&i.tagName.toLowerCase()==="input"}function II(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function RI(i,e){return i.button===0&&(!e||e==="_self")&&!II(i)}var Zl=null;function CI(){if(Zl===null)try{new FormData(document.createElement("form"),0),Zl=!1}catch{Zl=!0}return Zl}var AI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sh(i){return i!=null&&!AI.has(i)?($t(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${au}"`),null):i}function PI(i,e){let n,s,a,u,h;if(TI(i)){let d=i.getAttribute("action");s=d?gr(d,e):null,n=i.getAttribute("method")||ou,a=Sh(i.getAttribute("enctype"))||au,u=new FormData(i)}else if(wI(i)||SI(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||d.getAttribute("action");if(s=g?gr(g,e):null,n=i.getAttribute("formmethod")||d.getAttribute("method")||ou,a=Sh(i.getAttribute("formenctype"))||Sh(d.getAttribute("enctype"))||au,u=new FormData(d,i),!CI()){let{name:v,type:E,value:I}=i;if(E==="image"){let S=v?`${v}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else v&&u.append(v,I)}}else{if(Mu(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ou,s=null,a=au,h=i}return u&&a==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:u,body:h}}function bf(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function kI(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xI(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function DI(i,e,n){let s=await Promise.all(i.map(async a=>{let u=e.routes[a.route.id];if(u){let h=await kI(u,n);return h.links?h.links():[]}return[]}));return MI(s.flat(1).filter(xI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function wg(i,e,n,s,a,u){let h=(g,v)=>n[v]?g.route.id!==n[v].route.id:!0,d=(g,v)=>{var E;return n[v].pathname!==g.pathname||((E=n[v].route.path)==null?void 0:E.endsWith("*"))&&n[v].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,v)=>h(g,v)||d(g,v)):u==="data"?e.filter((g,v)=>{var I;let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(h(g,v)||d(g,v))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((I=n[0])==null?void 0:I.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function NI(i,e){return VI(i.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let a=[s.module];return s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function VI(i){return[...new Set(i)]}function LI(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function MI(i,e){let n=new Set;return new Set(e),i.reduce((s,a)=>{let u=JSON.stringify(LI(a));return n.has(u)||(n.add(u),s.push({key:u,link:a})),s},[])}function OI(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function FI(){let i=G.useContext(Cs);return bf(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function bI(){let i=G.useContext(Ma);return bf(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Uf=G.createContext(void 0);Uf.displayName="FrameworkContext";function hv(){let i=G.useContext(Uf);return bf(i,"You must render this element inside a <HydratedRouter> element"),i}function UI(i,e){let n=G.useContext(Uf),[s,a]=G.useState(!1),[u,h]=G.useState(!1),{onFocus:d,onBlur:g,onMouseEnter:v,onMouseLeave:E,onTouchStart:I}=e,S=G.useRef(null);G.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let q=K=>{K.forEach(se=>{h(se.isIntersecting)})},$=new IntersectionObserver(q,{threshold:.5});return S.current&&$.observe(S.current),()=>{$.disconnect()}}},[i]),G.useEffect(()=>{if(s){let q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(q)}}},[s]);let x=()=>{a(!0)},b=()=>{a(!1),h(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:fa(d,x),onBlur:fa(g,b),onMouseEnter:fa(v,x),onMouseLeave:fa(E,b),onTouchStart:fa(I,x)}]:[!1,S,{}]}function fa(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function zI({page:i,...e}){let{router:n}=FI(),s=G.useMemo(()=>Oi(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?G.createElement(jI,{page:i,matches:s,...e}):null}function BI(i){let{manifest:e,routeModules:n}=hv(),[s,a]=G.useState([]);return G.useEffect(()=>{let u=!1;return DI(i,e,n).then(h=>{u||a(h)}),()=>{u=!0}},[i,e,n]),s}function jI({page:i,matches:e,...n}){let s=As(),{manifest:a,routeModules:u}=hv(),{loaderData:h,matches:d}=bI(),g=G.useMemo(()=>wg(i,e,d,a,s,"data"),[i,e,d,a,s]),v=G.useMemo(()=>wg(i,e,d,a,s,"assets"),[i,e,d,a,s]),E=G.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let x=new Set,b=!1;if(e.forEach($=>{var se;let K=a.routes[$.route.id];!K||!K.hasLoader||(!g.some(re=>re.route.id===$.route.id)&&$.route.id in h&&((se=u[$.route.id])!=null&&se.shouldRevalidate)||K.hasClientLoader?b=!0:x.add($.route.id))}),x.size===0)return[];let q=OI(i);return b&&x.size>0&&q.searchParams.set("_routes",e.filter($=>x.has($.route.id)).map($=>$.route.id).join(",")),[q.pathname+q.search]},[h,s,a,g,e,i,u]),I=G.useMemo(()=>NI(v,a),[v,a]),S=BI(v);return G.createElement(G.Fragment,null,E.map(x=>G.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),I.map(x=>G.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),S.map(({key:x,link:b})=>G.createElement("link",{key:x,...b})))}function $I(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var fv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fv&&(window.__reactRouterVersion="7.1.1")}catch{}function HI(i,e){return VS({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:rS({window:e==null?void 0:e.window}),hydrationData:qI(),routes:i,mapRouteProperties:mI,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function qI(){let i=window==null?void 0:window.__staticRouterHydrationData;return i&&i.errors&&(i={...i,errors:WI(i.errors)}),i}function WI(i){if(!i)return null;let e=Object.entries(i),n={};for(let[s,a]of e)if(a&&a.__type==="RouteErrorResponse")n[s]=new _u(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let u=window[a.__subType];if(typeof u=="function")try{let h=new u(a.message);h.stack="",n[s]=h}catch{}}if(n[s]==null){let u=new Error(a.message);u.stack="",n[s]=u}}else n[s]=a;return n}var dv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zf=G.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:u,replace:h,state:d,target:g,to:v,preventScrollReset:E,viewTransition:I,...S},x){let{basename:b}=G.useContext(Mr),q=typeof v=="string"&&dv.test(v),$,K=!1;if(typeof v=="string"&&q&&($=v,fv))try{let R=new URL(window.location.href),k=v.startsWith("//")?new URL(R.protocol+v):new URL(v),V=gr(k.pathname,b);k.origin===R.origin&&V!=null?v=V+k.search+k.hash:K=!0}catch{$t(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let se=ZS(v,{relative:a}),[re,pe,U]=UI(s,S),ce=YI(v,{replace:h,state:d,target:g,preventScrollReset:E,relative:a,viewTransition:I});function P(R){e&&e(R),R.defaultPrevented||ce(R)}let T=G.createElement("a",{...S,...U,href:$||se,onClick:K||u?e:P,ref:$I(x,pe),target:g,"data-discover":!q&&n==="render"?"true":void 0});return re&&!q?G.createElement(G.Fragment,null,T,G.createElement(zI,{page:se})):T});zf.displayName="Link";var KI=G.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:u,to:h,viewTransition:d,children:g,...v},E){let I=Fa(h,{relative:v.relative}),S=As(),x=G.useContext(Ma),{navigator:b,basename:q}=G.useContext(Mr),$=x!=null&&tR(I)&&d===!0,K=b.encodeLocation?b.encodeLocation(I).pathname:I.pathname,se=S.pathname,re=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(se=se.toLowerCase(),re=re?re.toLowerCase():null,K=K.toLowerCase()),re&&q&&(re=gr(re,q)||re);const pe=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let U=se===K||!a&&se.startsWith(K)&&se.charAt(pe)==="/",ce=re!=null&&(re===K||!a&&re.startsWith(K)&&re.charAt(K.length)==="/"),P={isActive:U,isPending:ce,isTransitioning:$},T=U?e:void 0,R;typeof s=="function"?R=s(P):R=[s,U?"active":null,ce?"pending":null,$?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(P):u;return G.createElement(zf,{...v,"aria-current":T,className:R,ref:E,style:k,to:h,viewTransition:d},typeof g=="function"?g(P):g)});KI.displayName="NavLink";var QI=G.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:u,method:h=ou,action:d,onSubmit:g,relative:v,preventScrollReset:E,viewTransition:I,...S},x)=>{let b=ZI(),q=eR(d,{relative:v}),$=h.toLowerCase()==="get"?"get":"post",K=typeof d=="string"&&dv.test(d),se=re=>{if(g&&g(re),re.defaultPrevented)return;re.preventDefault();let pe=re.nativeEvent.submitter,U=(pe==null?void 0:pe.getAttribute("formmethod"))||h;b(pe||re.currentTarget,{fetcherKey:e,method:U,navigate:n,replace:a,state:u,relative:v,preventScrollReset:E,viewTransition:I})};return G.createElement("form",{ref:x,method:$,action:q,onSubmit:s?g:se,...S,"data-discover":!K&&i==="render"?"true":void 0})});QI.displayName="Form";function GI(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pv(i){let e=G.useContext(Cs);return Be(e,GI(i)),e}function YI(i,{target:e,replace:n,state:s,preventScrollReset:a,relative:u,viewTransition:h}={}){let d=eI(),g=As(),v=Fa(i,{relative:u});return G.useCallback(E=>{if(RI(E,e)){E.preventDefault();let I=n!==void 0?n:Qi(g)===Qi(v);d(i,{replace:I,state:s,preventScrollReset:a,relative:u,viewTransition:h})}},[g,d,v,n,s,e,i,a,u,h])}var XI=0,JI=()=>`__${String(++XI)}__`;function ZI(){let{router:i}=pv("useSubmit"),{basename:e}=G.useContext(Mr),n=fI();return G.useCallback(async(s,a={})=>{let{action:u,method:h,encType:d,formData:g,body:v}=PI(s,e);if(a.navigate===!1){let E=a.fetcherKey||JI();await i.fetch(E,n,a.action||u,{preventScrollReset:a.preventScrollReset,formData:g,body:v,formMethod:a.method||h,formEncType:a.encType||d,flushSync:a.flushSync})}else await i.navigate(a.action||u,{preventScrollReset:a.preventScrollReset,formData:g,body:v,formMethod:a.method||h,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,e,n])}function eR(i,{relative:e}={}){let{basename:n}=G.useContext(Mr),s=G.useContext(Or);Be(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),u={...Fa(i||".",{relative:e})},h=As();if(i==null){u.search=h.search;let d=new URLSearchParams(u.search),g=d.getAll("index");if(g.some(E=>E==="")){d.delete("index"),g.filter(I=>I).forEach(I=>d.append("index",I));let E=d.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&a.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Vr([n,u.pathname])),Qi(u)}function tR(i,e={}){let n=G.useContext(Lf);Be(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=pv("useViewTransitionState"),a=Fa(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=gr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=gr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return vu(a.pathname,h)!=null||vu(a.pathname,u)!=null}new TextEncoder;var nR=Sg();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rR(i){return G.createElement(yI,{flushSync:nR.flushSync,...i})}const iR=({children:i,onClick:e})=>Ct.jsx("button",{onClick:e,children:i});function mv(){const[i,e]=G.useState(),n=async()=>{const a=[],u=x0(Yy,Xy),h=H0(u,q0("lastName","asc"));(await Y0(h)).forEach(g=>{const v=g.data();a.push({id:g.id,...v})}),e(a)},s=()=>{};return G.useEffect(()=>{n()},[]),console.log(i),Ct.jsxs(Ct.Fragment,{children:[Ct.jsx(iR,{onClick:s,children:"New Contact"}),Ct.jsx("ul",{className:"list",children:i?i.map(a=>Ct.jsx("li",{children:Ct.jsx(zf,{to:`/details/${a.id}`,children:a.lastName})},a.id)):Ct.jsx("p",{children:"Loading..."})})]})}const sR=()=>{const[i,e]=G.useState(),{id:n}=nI(),s=async()=>{const a=D0(Yy,Xy,n),u=await G0(a);u.exists()?(console.log("Contact",u.data()),e(u.data())):console.log("No document with id",n,"found")};return G.useEffect(()=>{s()},[]),Ct.jsxs("div",{children:[Ct.jsx("h5",{children:"Contact Details:"}),i&&Ct.jsxs("div",{children:[Ct.jsxs("p",{children:["Name: ",i.firstName]}),Ct.jsxs("p",{children:["Last name: ",i.lastName]}),Ct.jsxs("p",{children:["Email: ",i.email]}),Ct.jsxs("p",{children:["Phone: ",i.phone]}),Ct.jsxs("p",{children:["Age: ",i.age]})]})]})},oR=HI([{path:"/",element:Ct.jsx(mv,{})},{path:"/details/:id",element:Ct.jsx(sR,{})}]);A_.createRoot(document.getElementById("root")).render(Ct.jsx(w_.StrictMode,{children:Ct.jsx(rR,{router:oR,children:Ct.jsx(mv,{})})}));
